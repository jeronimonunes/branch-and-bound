(self.webpackChunkbranch_and_bound=self.webpackChunkbranch_and_bound||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},5737:function(t,e,i){t=i.nmd(t),function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var e=function(t,i,n){"string"==typeof t?(2==arguments.length&&(n=i),e.modules[t]||(e.payloads[t]=n,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};e.modules={},e.payloads={};var i,n=function(t,e,i){if("string"==typeof e){var n=o(t,e);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(e)){for(var s=[],a=0,l=e.length;a<l;++a){var h=o(t,e[a]);if(null==h&&r.original)return;s.push(h)}return i&&i.apply(null,s)||!0}},r=function(t,e){var i=n("",t,e);return null==i&&r.original?r.original.apply(this,arguments):i},s=function(t,e){if(-1!==e.indexOf("!")){var i=e.split("!");return s(t,i[0])+"!"+s(t,i[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&n!=e;){var n=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},o=function(t,i){i=s(t,i);var r=e.modules[i];if(!r){if("function"==typeof(r=e.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0},l=r(function(t,e){return n(i,t,e)},o,a);e.modules[i]=o=l||a.exports,delete e.payloads[i]}r=e.modules[i]=o||r}return r};i=t,t.ace||(t.ace={}),(i=t.ace).define&&i.define.packaged||(e.original=i.define,i.define=e,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],function(t,e,i){"use strict";"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,e,i){"use strict";e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),s=n.userAgent||"",o=n.appName||"";e.isWin="win"==r,e.isMac="mac"==r,e.isLinux="linux"==r,e.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=s.match(/ Gecko\/\d+/),e.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,e.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,e.isAIR=s.indexOf("AdobeAIR")>=0,e.isAndroid=s.indexOf("Android")>=0,e.isChromeOS=s.indexOf(" CrOS ")>=0,e.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,e.isIOS&&(e.isMac=!0),e.isMobile=e.isIOS||e.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("./useragent");if(e.buildDom=function t(e,i,n){if("string"==typeof e&&e){var r=document.createTextNode(e);return i&&i.appendChild(r),r}if(!Array.isArray(e))return e&&e.appendChild&&i&&i.appendChild(e),e;if("string"!=typeof e[0]||!e[0]){for(var s=[],o=0;o<e.length;o++){var a=t(e[o],i,n);a&&s.push(a)}return s}var l=document.createElement(e[0]),h=e[1],c=1;for(h&&"object"==typeof h&&!Array.isArray(h)&&(c=2),o=c;o<e.length;o++)t(e[o],l,n);return 2==c&&Object.keys(h).forEach(function(t){var e=h[t];"class"===t?l.className=Array.isArray(e)?e.join(" "):e:"function"==typeof e||"value"==t||"$"==t[0]?l[t]=e:"ref"===t?n&&(n[e]=l):null!=e&&l.setAttribute(t,e)}),i&&i.appendChild(l),l},e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},e.removeChildren=function(t){t.innerHTML=""},e.createTextNode=function(t,e){return(e?e.ownerDocument:document).createTextNode(t)},e.createFragment=function(t){return(t?t.ownerDocument:document).createDocumentFragment()},e.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},e.addCssClass=function(t,i){e.hasCssClass(t,i)||(t.className+=" "+i)},e.removeCssClass=function(t,e){for(var i=t.className.split(/\s+/g);;){var n=i.indexOf(e);if(-1==n)break;i.splice(n,1)}t.className=i.join(" ")},e.toggleCssClass=function(t,e){for(var i=t.className.split(/\s+/g),n=!0;;){var r=i.indexOf(e);if(-1==r)break;n=!1,i.splice(r,1)}return n&&i.push(e),t.className=i.join(" "),n},e.setCssClass=function(t,i,n){n?e.addCssClass(t,i):e.removeCssClass(t,i)},e.hasCssString=function(t,e){var i,n=0;if(i=(e=e||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===t)return!0},e.importCssString=function(t,i,n){var r=n;n&&n.getRootNode&&(r=n.getRootNode())&&r!=n||(r=document);var s=r.ownerDocument||r;if(i&&e.hasCssString(i,r))return null;i&&(t+="\n/*# sourceURL=ace/css/"+i+" */");var o=e.createElement("style");o.appendChild(s.createTextNode(t)),i&&(o.id=i),r==s&&(r=e.getDocumentHead(s)),r.insertBefore(o,r.firstChild)},e.importCssStylsheet=function(t,i){e.buildDom(["link",{rel:"stylesheet",href:t}],e.getDocumentHead(i))},e.scrollbarWidth=function(t){var i=e.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=e.createElement("ace_outer"),r=n.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",n.appendChild(i);var s=t.documentElement;s.appendChild(n);var o=i.offsetWidth;r.overflow="scroll";var a=i.offsetWidth;return o==a&&(a=n.clientWidth),s.removeChild(n),o-a},"undefined"==typeof document&&(e.importCssString=function(){}),e.computedStyle=function(t,e){return window.getComputedStyle(t,"")||{}},e.setStyle=function(t,e,i){t[e]!==i&&(t[e]=i)},e.HAS_CSS_ANIMATION=!1,e.HAS_CSS_TRANSFORMS=!1,e.HI_DPI=!n.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var r=document.createElement("div");e.HI_DPI&&void 0!==r.style.transform&&(e.HAS_CSS_TRANSFORMS=!0),n.isEdge||void 0===r.style.animationName||(e.HAS_CSS_ANIMATION=!0),r=null}e.translate=e.HAS_CSS_TRANSFORMS?function(t,e,i){t.style.transform="translate("+Math.round(e)+"px, "+Math.round(i)+"px)"}:function(t,e,i){t.style.top=Math.round(i)+"px",t.style.left=Math.round(e)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,e,i){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var i in e)t[i]=e[i];return t},e.implement=function(t,i){e.mixin(t,i)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,e,i){"use strict";var n=t("./oop"),r=function(){var t,e,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in i.FUNCTION_KEYS)t=i.FUNCTION_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);for(e in i.PRINTABLE_KEYS)t=i.PRINTABLE_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)i.KEY_MODS[e]=t.filter(function(t){return e&i.KEY_MODS[t]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,i){"use strict";var n,r=t("./keys"),s=t("./useragent"),o=null,a=0;function l(){return null==n&&function(){n=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){n={passive:!1}}})}catch(t){}}(),n}function h(t,e,i){this.elem=t,this.type=e,this.callback=i}h.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=e.addListener=function(t,e,i,n){t.addEventListener(e,i,l()),n&&n.$toDestroy.push(new h(t,e,i))},u=e.removeListener=function(t,e,i){t.removeEventListener(e,i,l())};e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},e.preventDefault=function(t){t.preventDefault&&t.preventDefault()},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||s.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.button},e.capture=function(t,e,i){var n=t&&t.ownerDocument||document;function r(t){e&&e(t),i&&i(t),u(n,"mousemove",e),u(n,"mouseup",r),u(n,"dragstart",r)}return c(n,"mousemove",e),c(n,"mouseup",r),c(n,"dragstart",r),r},e.addMouseWheelListener=function(t,e,i){"onmousewheel"in t?c(t,"mousewheel",function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),e(t)},i):"onwheel"in t?c(t,"wheel",function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}e(t)},i):c(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),e(t)},i)},e.addMultiMouseDownListener=function(t,i,n,r,o){var a,l,h,u=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(t){if(0!==e.getButton(t)?u=0:t.detail>1?++u>4&&(u=1):u=1,s.isIE){var o=Math.abs(t.clientX-a)>5||Math.abs(t.clientY-l)>5;h&&!o||(u=1),h&&clearTimeout(h),h=setTimeout(function(){h=null},i[u-1]||600),1==u&&(a=t.clientX,l=t.clientY)}if(t._clicks=u,n[r]("mousedown",t),u>4)u=0;else if(u>1)return n[r](d[u],t)}Array.isArray(t)||(t=[t]),t.forEach(function(t){c(t,"mousedown",f,o)})};var d=function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};function f(t,e,i){var n=d(e);if(!s.isMac&&o){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(n|=8),o.altGr){if(3==(3&n))return;o.altGr=0}if(18===i||17===i){var l="location"in e?e.location:e.keyLocation;17===i&&1===l?1==o[i]&&(a=e.timeStamp):18===i&&3===n&&2===l&&e.timeStamp-a<50&&(o.altGr=!0)}}if(i in r.MODIFIER_KEYS&&(i=-1),n||13!==i||3!==(l="location"in e?e.location:e.keyLocation)||(t(e,n,-i),!e.defaultPrevented)){if(s.isChromeOS&&8&n){if(t(e,n,i),e.defaultPrevented)return;n&=-9}return!!(n||i in r.FUNCTION_KEYS||i in r.PRINTABLE_KEYS)&&t(e,n,i)}}function p(){o=Object.create(null)}if(e.getModifierString=function(t){return r.KEY_MODS[d(t)]},e.addCommandKeyListener=function(t,i,n){if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var r=null;c(t,"keydown",function(t){r=t.keyCode},n),c(t,"keypress",function(t){return f(i,t,r)},n)}else{var a=null;c(t,"keydown",function(t){o[t.keyCode]=(o[t.keyCode]||0)+1;var e=f(i,t,t.keyCode);return a=t.defaultPrevented,e},n),c(t,"keypress",function(t){a&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),a=null)},n),c(t,"keyup",function(t){o[t.keyCode]=null},n),o||(p(),c(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var g=1;e.nextTick=function(t,i){i=i||window;var n="zero-timeout-message-"+g++,r=function(s){s.data==n&&(e.stopPropagation(s),u(i,"message",r),t())};c(i,"message",r),i.postMessage(n,"*")}}e.$idleBlocked=!1,e.onIdle=function(t,i){return setTimeout(function i(){e.$idleBlocked?setTimeout(i,100):t()},i)},e.$idleBlockId=null,e.blockIdle=function(t){e.$idleBlockId&&clearTimeout(e.$idleBlockId),e.$idleBlocked=!0,e.$idleBlockId=setTimeout(function(){e.$idleBlocked=!1},t||100)},e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame=e.nextFrame?e.nextFrame.bind(window):function(t){setTimeout(t,17)}}),ace.define("ace/range",["require","exports","module"],function(t,e,i){"use strict";var n=function(t,e,i,n){this.start={row:t,column:e},this.end={row:i,column:n}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,i=t.end,n=t.start;return 1==(e=this.compare(i.row,i.column))?1==(e=this.compare(n.row,n.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(n.row,n.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)&&!this.isStart(t,e)},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var i={row:e+1,column:0};else this.end.row<t&&(i={row:t,column:0});if(this.start.row>e)var r={row:e+1,column:0};else this.start.row<t&&(r={row:t,column:0});return n.fromPoints(r||this.start,i||this.end)},this.extend=function(t,e){var i=this.compare(t,e);if(0==i)return this;if(-1==i)var r={row:t,column:e};else var s={row:t,column:e};return n.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return new n(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),i=t.documentToScreenPosition(this.end);return new n(e.row,e.column,i.row,i.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(n.prototype),n.fromPoints=function(t,e){return new n(t.row,t.column,e.row,e.column)},n.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},n.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=n}),ace.define("ace/lib/lang",["require","exports","module"],function(t,e,i){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var i="";e>0;)1&e&&(i+=t),(e>>=1)&&(t+=t);return i};var n=/^\s\s*/,r=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(r,"")},e.copyObject=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.copyArray=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e[i]=t[i]&&"object"==typeof t[i]?this.copyObject(t[i]):t[i];return e},e.deepCopy=function t(e){if("object"!=typeof e||!e)return e;var i;if(Array.isArray(e)){i=[];for(var n=0;n<e.length;n++)i[n]=t(e[n]);return i}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var n in i={},e)i[n]=t(e[n]);return i},e.arrayToMap=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var i in t)e[i]=t[i];return e},e.arrayRemove=function(t,e){for(var i=0;i<=t.length;i++)e===t[i]&&t.splice(i,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return(""+t).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var i=[];return t.replace(e,function(t){i.push({offset:arguments[arguments.length-2],length:t.length})}),i},e.deferredCall=function(t){var e=null,i=function(){e=null,t()},n=function(t){return n.cancel(),e=setTimeout(i,t||0),n};return n.schedule=n,n.call=function(){return this.cancel(),t(),n},n.cancel=function(){return clearTimeout(e),e=null,n},n.isPending=function(){return e},n},e.delayedCall=function(t,e){var i=null,n=function(){i=null,t()},r=function(t){null==i&&(i=setTimeout(n,t||e))};return r.delay=function(t){i&&clearTimeout(i),i=setTimeout(n,t||e)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){i&&clearTimeout(i),i=null},r.isPending=function(){return i},r}}),ace.define("ace/clipboard",["require","exports","module"],function(t,e,i){"use strict";var n;i.exports={lineMode:!1,pasteCancelled:function(){return!!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,e,i){"use strict";var n=t("../lib/event"),r=t("../lib/useragent"),s=t("../lib/dom"),o=t("../lib/lang"),a=t("../clipboard"),l=r.isChrome<18,h=r.isIE,c=r.isChrome>63,u=t("../lib/keys"),d=u.KEY_MODS,f=r.isIOS,p=f?/\s/:/\n/,g=r.isMobile;e.TextInput=function(t,e){var i=s.createElement("textarea");i.className="ace_text-input",i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.style.opacity="0",t.insertBefore(i,t.firstChild);var m=!1,v=!1,y=!1,b=!1,_="";g||(i.style.fontSize="1px");var w=!1,S=!1,k="",x=0,C=0,E=0;try{var T=document.activeElement===i}catch(U){}n.addListener(i,"blur",function(t){S||(e.onBlur(t),T=!1)},e),n.addListener(i,"focus",function(t){if(!S){if(T=!0,r.isEdge)try{if(!document.hasFocus())return}catch(t){}e.onFocus(t),r.isEdge?setTimeout(A):A()}},e),this.$focusScroll=!1,this.focus=function(){if(_||c||"browser"==this.$focusScroll)return i.focus({preventScroll:!0});var t=i.style.top;i.style.position="fixed",i.style.top="0px";try{var e=0!=i.getBoundingClientRect().top}catch(U){return}var n=[];if(e)for(var r=i.parentElement;r&&1==r.nodeType;)n.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;i.focus({preventScroll:!0}),e&&n.forEach(function(t){t.removeAttribute("ace_nocontext")}),setTimeout(function(){i.style.position="","0px"==i.style.top&&(i.style.top=t)},0)},this.blur=function(){i.blur()},this.isFocused=function(){return T},e.on("beforeEndOperation",function(){var t=e.curOp,n=t&&t.command&&t.command.name;"insertstring"!=n&&(y&&n&&(t.docChanged||t.selectionChanged)&&(k=i.value="",B()),A())});var A=f?function(t){if(T&&(!m||t)&&!b){t||(t="");var n="\n ab"+t+"cde fg\n";n!=i.value&&(i.value=k=n);var r=4+(t.length||(e.selection.isEmpty()?0:1));4==x&&C==r||i.setSelectionRange(4,r),x=4,C=r}}:function(){if(!y&&!b&&(T||M)){y=!0;var t=0,n=0,r="";if(e.session){var s=e.selection,o=s.getRange(),a=s.cursor.row;if(t=o.start.column,n=o.end.column,r=e.session.getLine(a),o.start.row!=a){var l=e.session.getLine(a-1);t=o.start.row<a-1?0:t,n+=l.length+1,r=l+"\n"+r}else if(o.end.row!=a){var h=e.session.getLine(a+1);n=o.end.row>a+1?h.length:n,n+=r.length+1,r=r+"\n"+h}else g&&a>0&&(r="\n"+r,n+=1,t+=1);r.length>400&&(t<400&&n<400?r=r.slice(0,400):(r="\n",t==n?t=n=0:(t=0,n=1)))}var c=r+"\n\n";if(c!=k&&(i.value=k=c,x=C=c.length),M&&(x=i.selectionStart,C=i.selectionEnd),C!=n||x!=t||i.selectionEnd!=C)try{i.setSelectionRange(t,n),x=t,C=n}catch(U){}y=!1}};this.resetSelection=A,T&&e.onFocus();var O=null;this.setInputHandler=function(t){O=t},this.getInputHandler=function(){return O};var M=!1,R=function(t,n){if(M&&(M=!1),v)return A(),t&&e.onPaste(t),v=!1,"";for(var s=i.selectionStart,o=i.selectionEnd,a=x,l=k.length-C,h=t,c=t.length-s,u=t.length-o,d=0;a>0&&k[d]==t[d];)d++,a--;for(h=h.slice(d),d=1;l>0&&k.length-d>x-1&&k[k.length-d]==t[t.length-d];)d++,l--;c-=d-1,u-=d-1;var f=h.length-d+1;if(f<0&&(a=-f,f=0),h=h.slice(0,f),!(n||h||c||a||l||u))return"";b=!0;var p=!1;return r.isAndroid&&". "==h&&(h="  ",p=!0),h&&!a&&!l&&!c&&!u||w?e.onTextInput(h):e.onTextInput(h,{extendLeft:a,extendRight:l,restoreStart:c,restoreEnd:u}),b=!1,k=t,x=s,C=o,E=u,p?"\n":h},D=function(t){if(y)return N();if(t&&t.inputType){if("historyUndo"==t.inputType)return e.execCommand("undo");if("historyRedo"==t.inputType)return e.execCommand("redo")}var n=i.value,r=R(n,!0);(n.length>500||p.test(r)||g&&x<1&&x==C)&&A()},L=function(t,e,i){var n=t.clipboardData||window.clipboardData;if(n&&!l){var r=h||i?"Text":"text/plain";try{return e?!1!==n.setData(r,e):n.getData(r)}catch(t){if(!i)return L(t,e,!0)}}},I=function(t,r){var s=e.getCopyText();if(!s)return n.preventDefault(t);L(t,s)?(f&&(A(s),m=s,setTimeout(function(){m=!1},10)),r?e.onCut():e.onCopy(),n.preventDefault(t)):(m=!0,i.value=s,i.select(),setTimeout(function(){m=!1,A(),r?e.onCut():e.onCopy()}))},P=function(t){I(t,!0)},$=function(t){I(t,!1)},F=function(t){var s=L(t);a.pasteCancelled()||("string"==typeof s?(s&&e.onPaste(s,t),r.isIE&&setTimeout(A),n.preventDefault(t)):(i.value="",v=!0))};n.addCommandKeyListener(i,e.onCommandKey.bind(e),e),n.addListener(i,"select",function(t){y||(m?m=!1:function(t){return 0===t.selectionStart&&t.selectionEnd>=k.length&&t.value===k&&k&&t.selectionEnd!==C}(i)?(e.selectAll(),A()):g&&i.selectionStart!=x&&A())},e),n.addListener(i,"input",D,e),n.addListener(i,"cut",P,e),n.addListener(i,"copy",$,e),n.addListener(i,"paste",F,e),"oncut"in i&&"oncopy"in i&&"onpaste"in i||n.addListener(t,"keydown",function(t){if((!r.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:$(t);break;case 86:F(t);break;case 88:P(t)}},e);var N=function(){if(y&&e.onCompositionUpdate&&!e.$readOnly){if(w)return j();y.useTextareaForIME?e.onCompositionUpdate(i.value):(R(i.value),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+C-y.selectionStart+E))}},B=function(t){e.onCompositionEnd&&!e.$readOnly&&(y=!1,e.onCompositionEnd(),e.off("mousedown",j),t&&D())};function j(){S=!0,i.blur(),i.focus(),S=!1}var H,z=o.delayedCall(N,50).schedule.bind(null,null);function W(){clearTimeout(H),H=setTimeout(function(){_&&(i.style.cssText=_,_=""),e.renderer.$isMousePressed=!1,e.renderer.$keepTextAreaAtCursor&&e.renderer.$moveTextAreaToCursor()},0)}n.addListener(i,"compositionstart",function(t){if(!y&&e.onCompositionStart&&!e.$readOnly&&(y={},!w)){t.data&&(y.useTextareaForIME=!1),setTimeout(N,0),e._signal("compositionStart"),e.on("mousedown",j);var n=e.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,y.markerRange=n,y.selectionStart=x,e.onCompositionStart(y),y.useTextareaForIME?(k=i.value="",x=0,C=0):(i.msGetInputContext&&(y.context=i.msGetInputContext()),i.getInputContext&&(y.context=i.getInputContext()))}},e),n.addListener(i,"compositionupdate",N,e),n.addListener(i,"keyup",function(t){27==t.keyCode&&i.value.length<i.selectionStart&&(y||(k=i.value),x=C=-1,A()),z()},e),n.addListener(i,"keydown",z,e),n.addListener(i,"compositionend",B,e),this.getElement=function(){return i},this.setCommandMode=function(t){w=t,i.readOnly=!1},this.setReadOnly=function(t){w||(i.readOnly=t)},this.setCopyWithEmptySelection=function(t){},this.onContextMenu=function(t){M=!0,A(),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,o){_||(_=i.style.cssText),i.style.cssText=(o?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(x+C)*e.renderer.characterWidth*.5+"px;";var a=e.container.getBoundingClientRect(),l=s.computedStyle(e.container),h=a.top+(parseInt(l.borderTopWidth)||0),c=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-h-i.clientHeight-2,d=function(t){s.translate(i,t.clientX-c-2,Math.min(t.clientY-h-2,u))};d(t),"mousedown"==t.type&&(e.renderer.$isMousePressed=!0,clearTimeout(H),r.isWin&&n.capture(e.container,d,W))},this.onContextMenuClose=W;var V=function(t){e.textInput.onContextMenu(t),W()};n.addListener(i,"mouseup",V,e),n.addListener(i,"mousedown",function(t){t.preventDefault(),W()},e),n.addListener(e.renderer.scroller,"contextmenu",V,e),n.addListener(i,"contextmenu",V,e),f&&function(t,e,i){var n=null,r=!1;i.addEventListener("keydown",function(t){n&&clearTimeout(n),r=!0},!0),i.addEventListener("keyup",function(t){n=setTimeout(function(){r=!1},100)},!0);var s=function(t){if(document.activeElement===i&&!(r||y||e.$mouseHandler.isMousePressed||m)){var n=i.selectionStart,s=i.selectionEnd,o=null,a=0;if(0==n?o=u.up:1==n?o=u.home:s>C&&"\n"==k[s]?o=u.end:n<x&&" "==k[n-1]?(o=u.left,a=d.option):n<x||n==x&&C!=x&&n==s?o=u.left:s>C&&k.slice(0,s).split("\n").length>2?o=u.down:s>C&&" "==k[s-1]?(o=u.right,a=d.option):(s>C||s==C&&C!=x&&n==s)&&(o=u.right),n!==s&&(a|=d.shift),o){if(!e.onCommandKey({},a,o)&&e.commands){o=u.keyCodeToString(o);var l=e.commands.findKeyCommand(a,o);l&&e.execCommand(l)}x=n,C=s,A("")}}};document.addEventListener("selectionchange",s),e.on("destroy",function(){document.removeEventListener("selectionchange",s)})}(0,e,i)},e.$setUserAgentForTests=function(t,e){g=t,f=e}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("../lib/useragent");function r(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function s(t,e){if(t.start.row==t.end.row)var i=2*e.column-t.start.column-t.end.column;else i=t.start.row!=t.end.row-1||t.start.column||t.end.column?2*e.row-t.start.row-t.end.row:e.column-4;return i<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}(function(){this.onMouseDown=function(t){var e=t.inSelection(),i=t.getDocumentPosition();this.mousedownEvent=t;var r=this.editor,s=t.getButton();return 0!==s?((r.getSelectionRange().isEmpty()||1==s)&&r.selection.moveToPosition(i),void(2==s&&(r.textInput.onContextMenu(t.domEvent),n.isMozilla||t.preventDefault()))):(this.mousedownEvent.time=Date.now(),!e||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(i,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t)))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(t):e||i.selection.moveToPosition(t),e||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var t,e=this.editor,i=e.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)t=this.$clickSelection.end;else if(1==n)t=this.$clickSelection.start;else{var r=s(this.$clickSelection,i);i=r.cursor,t=r.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(i),e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),r=i.selection[t](n.row,n.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==o&&a<=0)e=this.$clickSelection.end,r.end.row==n.row&&r.end.column==n.column||(n=r.start);else if(1==a&&o>=0)e=this.$clickSelection.start,r.start.row==n.row&&r.start.column==n.column||(n=r.end);else if(-1==o&&1==a)n=r.end,e=r.start;else{var l=s(this.$clickSelection,n);n=l.cursor,e=l.anchor}i.selection.setSelectionAnchor(e.row,e.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,e,i=(t=this.mousedownEvent.y,e=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(e-t,2))),n=Date.now();(i>0||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(e);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(e.row,e.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=t.domEvent.timeStamp,r=n-i.t,s=r?t.wheelX/r:i.vx,o=r?t.wheelY/r:i.vy;r<550&&(s=(s+i.vx)/2,o=(o+i.vy)/2);var a=Math.abs(s/o),l=!1;return a>=1&&e.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(l=!0),a<=1&&e.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(l=!0),l?i.allowed=n:n-i.allowed<550&&(Math.abs(s)<=1.5*Math.abs(i.vx)&&Math.abs(o)<=1.5*Math.abs(i.vy)?(l=!0,i.allowed=n):i.allowed=0),i.t=n,i.vx=s,i.vy=o,l?(e.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}}).call(r.prototype),e.DefaultHandlers=r}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e,i){"use strict";t("./lib/oop");var n=t("./lib/dom");function r(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){this.getElement().textContent=t},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){n.addCssClass(this.getElement(),t)},this.show=function(t,e,i){null!=t&&this.setText(t),null!=e&&null!=i&&this.setPosition(e,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),e.Tooltip=r}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e,i){"use strict";var n=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/event"),o=t("../tooltip").Tooltip;function a(t){o.call(this,t)}r.inherits(a,o),(function(){this.setPosition=function(t,e){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(t+=15)+r>i&&(t-=t+r-i),(e+=15)+s>n&&(e-=20+s),o.prototype.setPosition.call(this,t,e)}}).call(a.prototype),e.GutterHandler=function(t){var e,i,r,o=t.editor,l=o.renderer.$gutterLayer,h=new a(o.container);function c(){e&&(e=clearTimeout(e)),r&&(h.hide(),r=null,o._signal("hideGutterTooltip",h),o.off("mousewheel",c))}function u(t){h.setPosition(t.x,t.y)}t.editor.setDefaultHandler("guttermousedown",function(e){if(o.isFocused()&&0==e.getButton()&&"foldWidgets"!=l.getRegion(e)){var i=e.getDocumentPosition().row,n=o.session.selection;if(e.getShiftKey())n.selectTo(i,0);else{if(2==e.domEvent.detail)return o.selectAll(),e.preventDefault();t.$clickSelection=o.selection.getLineRange(i)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}}),t.editor.setDefaultHandler("guttermousemove",function(s){if(n.hasCssClass(s.domEvent.target||s.domEvent.srcElement,"ace_fold-widget"))return c();r&&t.$tooltipFollowsMouse&&u(s),i=s,e||(e=setTimeout(function(){e=null,i&&!t.isMousePressed?function(){var e=i.getDocumentPosition().row,n=l.$annotations[e];if(!n)return c();if(e==o.session.getLength()){var s=o.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(s>o.session.documentToScreenRow(a.row,a.column))return c()}if(r!=n)if(r=n.text.join("<br/>"),h.setHtml(r),h.show(),o._signal("showGutterTooltip",h),o.on("mousewheel",c),t.$tooltipFollowsMouse)u(i);else{var d=i.domEvent.target.getBoundingClientRect(),f=h.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():c()},50))}),s.addListener(o.renderer.$gutter,"mouseout",function(t){i=null,r&&!e&&(e=setTimeout(function(){e=null,c()},50))},o),o.on("changeSession",c)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("../lib/event"),r=t("../lib/useragent"),s=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("../lib/dom"),r=t("../lib/event"),s=t("../lib/useragent");function o(t){var e=t.editor,i=n.createElement("img");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(i.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(e){t[e]=this[e]},this),e.on("mousedown",this.onMouseDown.bind(t));var o,l,h,c,u,d,f,p,g,m,v,y=e.container,b=0;function _(){var t=d;(function(t,i){var n=Date.now();m&&i&&t.row==i.row&&i&&t.column==i.column?a(v.x,v.y,l,h)>5?m=null:n-m>=200&&(e.renderer.scrollCursorIntoView(),m=null):(e.moveCursorToPosition(t),m=n,v={x:l,y:h})})(d=e.renderer.screenToTextCoordinates(l,h),t),function(t,i){var n=Date.now(),r=e.renderer.layerConfig.lineHeight,s=e.renderer.layerConfig.characterWidth,o=e.renderer.scroller.getBoundingClientRect(),a={x:{left:l-o.left,right:o.right-l},y:{top:h-o.top,bottom:o.bottom-h}},c=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),d={row:t.row,column:t.column};c/s<=2&&(d.column+=a.x.left<a.x.right?-3:2),u/r<=1&&(d.row+=a.y.top<a.y.bottom?-1:1),t.row!=d.row||t.column!=d.column&&i&&t.row==i.row?g?n-g>=200&&e.renderer.scrollCursorIntoView(d):g=n:g=null}(d,t)}function w(){u=e.selection.toOrientedRange(),o=e.session.addMarker(u,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),_(),c=setInterval(_,20),b=0,r.addListener(document,"mousemove",x)}function S(){clearInterval(c),e.session.removeMarker(o),o=null,e.selection.fromOrientedRange(u),e.isFocused()&&!p&&e.$resetCursorStyle(),u=null,d=null,b=0,g=null,m=null,r.removeListener(document,"mousemove",x)}this.onDragStart=function(t){if(this.cancelDrag||!y.draggable){var n=this;return setTimeout(function(){n.startSelect(),n.captureMouse(t)},0),t.preventDefault()}u=e.getSelectionRange();var r=t.dataTransfer;r.effectAllowed=e.getReadOnly()?"copy":"copyMove",s.isOpera&&(e.container.appendChild(i),i.scrollTop=0),r.setDragImage&&r.setDragImage(i,0,0),s.isOpera&&e.container.removeChild(i),r.clearData(),r.setData("Text",e.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(t){y.draggable=!1,p=!1,this.setState(null),e.getReadOnly()||(f||"move"!=t.dataTransfer.dropEffect||e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!e.getReadOnly()&&C(t.dataTransfer))return l=t.clientX,h=t.clientY,o||w(),b++,t.dataTransfer.dropEffect=f=E(t),r.preventDefault(t)},this.onDragOver=function(t){if(!e.getReadOnly()&&C(t.dataTransfer))return l=t.clientX,h=t.clientY,o||(w(),b++),null!==k&&(k=null),t.dataTransfer.dropEffect=f=E(t),r.preventDefault(t)},this.onDragLeave=function(t){if(--b<=0&&o)return S(),f=null,r.preventDefault(t)},this.onDrop=function(t){if(d){var i=t.dataTransfer;if(p)switch(f){case"move":u=u.contains(d.row,d.column)?{start:d,end:d}:e.moveText(u,d);break;case"copy":u=e.moveText(u,d,!0)}else{var n=i.getData("Text");u={start:d,end:e.session.insert(d,n)},e.focus(),f=null}return S(),r.preventDefault(t)}},r.addListener(y,"dragstart",this.onDragStart.bind(t),e),r.addListener(y,"dragend",this.onDragEnd.bind(t),e),r.addListener(y,"dragenter",this.onDragEnter.bind(t),e),r.addListener(y,"dragover",this.onDragOver.bind(t),e),r.addListener(y,"dragleave",this.onDragLeave.bind(t),e),r.addListener(y,"drop",this.onDrop.bind(t),e);var k=null;function x(){null==k&&(k=setTimeout(function(){null!=k&&o&&S()},20))}function C(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function E(t){var e=["copy","copymove","all","uninitialized"],i=s.isMac?t.altKey:t.ctrlKey,n="uninitialized";try{n=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return i&&e.indexOf(n)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(n)>=0?r="move":e.indexOf(n)>=0&&(r="copy"),r}}function a(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging"),t.renderer.setCursorStyle(s.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;s.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&e.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,i=t.inSelection(),n=t.getButton();if(1===(t.domEvent.detail||1)&&0===n&&i){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),e.getDragDelay()?(s.isWebKit&&(this.cancelDrag=!0,e.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(o.prototype),e.DragdropHandler=o}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,e,i){"use strict";var n=t("./mouse_event").MouseEvent,r=t("../lib/event"),s=t("../lib/dom");e.addTouchListeners=function(t,e){var i,o,a,l,h,c,u,d,f,p="scroll",g=0,m=0,v=0,y=0;function b(){var t,i,n;f||(t=window.navigator&&window.navigator.clipboard,i=!1,n=function(n){var r,o,a=n.target.getAttribute("action");if("more"==a||!i)return i=!i,r=e.getCopyText(),o=e.session.getUndoManager().hasUndo(),void f.replaceChild(s.buildDom(i?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],t&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],o&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),f.firstChild);"paste"==a?t.readText().then(function(t){e.execCommand(a,t)}):a&&("cut"!=a&&"copy"!=a||(t?t.writeText(e.getCopyText()):document.execCommand("copy")),e.execCommand(a)),f.firstChild.style.display="none",i=!1,"openCommandPallete"!=a&&e.focus()},f=s.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(t){p="menu",t.stopPropagation(),t.preventDefault(),e.textInput.focus()},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),n(t)},onclick:n},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],e.container));var r=e.selection.cursor,o=e.renderer.textToScreenCoordinates(r.row,r.column),a=e.renderer.textToScreenCoordinates(0,0).pageX,l=e.renderer.scrollLeft,h=e.container.getBoundingClientRect();f.style.top=o.pageY-h.top-3+"px",o.pageX-h.left<h.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=a+l-h.left+"px"),f.style.display="",f.firstChild.style.display="none",e.on("input",_)}function _(t){f&&(f.style.display="none"),e.off("input",_)}function w(){h=null,clearTimeout(h);var t=e.selection.getRange(),i=t.contains(u.row,u.column);!t.isEmpty()&&i||(e.selection.moveToPosition(u),e.selection.selectWord()),p="wait",b()}r.addListener(t,"contextmenu",function(t){d&&e.textInput.getElement().focus()},e),r.addListener(t,"touchstart",function(t){var r=t.touches;if(h||r.length>1)return clearTimeout(h),h=null,a=-1,void(p="zoom");d=e.$mouseHandler.isMousePressed=!0;var s=e.renderer.layerConfig.lineHeight,c=e.renderer.layerConfig.lineHeight,f=t.timeStamp;l=f;var b=r[0],_=b.clientX,S=b.clientY;Math.abs(i-_)+Math.abs(o-S)>s&&(a=-1),i=t.clientX=_,o=t.clientY=S,v=y=0;var k=new n(t,e);if(u=k.getDocumentPosition(),f-a<500&&1==r.length&&!g)m++,t.preventDefault(),t.button=0,function(){h=null,clearTimeout(h),e.selection.moveToPosition(u);var t=m>=2?e.selection.getLineRange(u.row):e.session.getBracketRange(u);t&&!t.isEmpty()?e.selection.setRange(t):e.selection.selectWord(),p="wait"}();else{m=0;var x=e.selection.cursor,C=e.selection.isEmpty()?x:e.selection.anchor,E=e.renderer.$cursorLayer.getPixelPosition(x,!0),T=e.renderer.$cursorLayer.getPixelPosition(C,!0),A=e.renderer.scroller.getBoundingClientRect(),O=e.renderer.layerConfig.offset,M=e.renderer.scrollLeft,R=function(t,e){return(t/=c)*t+(e=e/s-.75)*e};if(t.clientX<A.left)return void(p="zoom");var D=R(t.clientX-A.left-E.left+M,t.clientY-A.top-E.top+O),L=R(t.clientX-A.left-T.left+M,t.clientY-A.top-T.top+O);D<3.5&&L<3.5&&(p=D>L?"cursor":"anchor"),p=L<3.5?"anchor":D<3.5?"cursor":"scroll",h=setTimeout(w,450)}a=f},e),r.addListener(t,"touchend",function(t){d=e.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),"zoom"==p?(p="",g=0):h?(e.selection.moveToPosition(u),g=0,b()):"scroll"==p?(g+=60,c=setInterval(function(){g--<=0&&(clearInterval(c),c=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var t=e.session.getScrollTop();e.renderer.scrollBy(10*v,10*y),t==e.session.getScrollTop()&&(g=0)},10),_()):b(),clearTimeout(h),h=null},e),r.addListener(t,"touchmove",function(t){h&&(clearTimeout(h),h=null);var r=t.touches;if(!(r.length>1||"zoom"==p)){var s=r[0],a=i-s.clientX,c=o-s.clientY;if("wait"==p){if(!(a*a+c*c>4))return t.preventDefault();p="cursor"}i=s.clientX,o=s.clientY,t.clientX=s.clientX,t.clientY=s.clientY;var u=t.timeStamp,d=u-l;if(l=u,"scroll"==p){var f=new n(t,e);f.speed=1,f.wheelX=a,f.wheelY=c,10*Math.abs(a)<Math.abs(c)&&(a=0),10*Math.abs(c)<Math.abs(a)&&(c=0),0!=d&&(v=a/d,y=c/d),e._emit("mousewheel",f),f.propagationStopped||(v=y=0)}else{var g=new n(t,e).getDocumentPosition();"cursor"==p?e.selection.moveCursorToPosition(g):"anchor"==p&&e.selection.setSelectionAnchor(g.row,g.column),e.renderer.scrollCursorIntoView(g),t.preventDefault()}}},e)}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n=t("./dom");e.get=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&e(i.responseText)},i.send(null)},e.loadScript=function(t,e){var i=n.getDocumentHead(),r=document.createElement("script");r.src=t,i.appendChild(r),r.onload=r.onreadystatechange=function(t,i){!i&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,i||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,e,i){"use strict";var n={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[t]||[],n=this._defaultHandlers[t];if(i.length||n){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=r),e.preventDefault||(e.preventDefault=s),i=i.slice();for(var o=0;o<i.length&&(i[o](e,this),!e.propagationStopped);o++);return n&&!e.defaultPrevented?n(e,this):void 0}},n._signal=function(t,e){var i=(this._eventRegistry||{})[t];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](e,this)}},n.once=function(t,e){var i=this;if(this.on(t,function n(){i.off(t,n),e.apply(null,arguments)}),!e)return new Promise(function(t){e=t})},n.setDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[t]){var n=i[t],r=i._disabled_[t];r||(i._disabled_[t]=r=[]),r.push(n);var s=r.indexOf(e);-1!=s&&r.splice(s,1)}i[t]=e},n.removeDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i){var n=i._disabled_[t];if(i[t]==e)n&&this.setDefaultHandler(t,n.pop());else if(n){var r=n.indexOf(e);-1!=r&&n.splice(r,1)}}},n.on=n.addEventListener=function(t,e,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];return n||(n=this._eventRegistry[t]=[]),-1==n.indexOf(e)&&n[i?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];if(i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(t){t||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[t]=void 0),this._defaultHandlers&&(this._defaultHandlers[t]=void 0)},e.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){var n=t("./oop"),r=t("./event_emitter").EventEmitter,s={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(t){var e={};if(t)Array.isArray(t)||(e=t,t=Object.keys(e));else{var i=this.$options;t=Object.keys(i).filter(function(t){return!i[t].hidden})}return t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var i=this.$options[t];if(!i)return o('misspelled option "'+t+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(t,e);i.handlesSet||(this["$"+t]=e),i&&i.set&&i.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:o('misspelled option "'+t+'"')}};function o(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(t,e){var i=new Error(t);i.data=e,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,r),this.defineOptions=function(t,e,i){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(i).forEach(function(e){var n=i[e];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=e),t.$options[n.name]=n,"initialValue"in n&&(t["$"+n.name]=n.initialValue)}),n.implement(t,s),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(e){var i=t.$options[e];"value"in i&&t.setOption(e,i.value)})},this.setDefaultValue=function(t,e,i){if(!t){for(t in this.$defaultOptions)if(this.$defaultOptions[t][e])break;if(!this.$defaultOptions[t][e])return!1}var n=this.$defaultOptions[t]||(this.$defaultOptions[t]={});n[e]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,e,i):n[e].value=i)},this.setDefaultValues=function(t,e){Object.keys(e).forEach(function(i){this.setDefaultValue(t,i,e[i])},this)},this.warn=o,this.reportError=a}).call(l.prototype),e.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(t,e,n){var r=t("./lib/lang"),s=(t("./lib/oop"),t("./lib/net")),o=t("./lib/app_config").AppConfig;n.exports=e=new o;var a=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};e.get=function(t){if(!l.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return l[t]},e.set=function(t,e){if(l.hasOwnProperty(t))l[t]=e;else if(0==this.setDefaultValue("",t,e))throw new Error("Unknown config key: "+t)},e.all=function(){return r.copyObject(l)},e.$modes={},e.moduleUrl=function(t,e){if(l.$moduleUrls[t])return l.$moduleUrls[t];var i=t.split("/"),n="snippets"==(e=e||i[i.length-2]||"")?"/":"-",r=i[i.length-1];if("worker"==e&&"-"==n){var s=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(s,"")}(!r||r==e)&&i.length>1&&(r=i[i.length-2]);var o=l[e+"Path"];return null==o?o=l.basePath:"/"==n&&(e=n=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+e+n+r+this.get("suffix")},e.setModuleUrl=function(t,e){return l.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(i,n){var r,o;Array.isArray(i)&&(o=i[0],i=i[1]);try{r=t(i)}catch(l){}if(r&&!e.$loading[i])return n&&n(r);if(e.$loading[i]||(e.$loading[i]=[]),e.$loading[i].push(n),!(e.$loading[i].length>1)){var a=function(){t([i],function(t){e._emit("load.module",{name:i,module:t});var n=e.$loading[i];e.$loading[i]=null,n.forEach(function(e){e&&e(t)})})};if(!e.get("packaged"))return a();s.loadScript(e.moduleUrl(i,o),a),h()}};var h=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};function c(r){if(a&&a.document){l.packaged=r||t.packaged||n.packaged||a.define&&i.amdD.packaged;for(var s,o={},h="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),d=0;d<u.length;d++){var f=u[d],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,m=0,v=g.length;m<v;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[(s=y.name.replace(/^data-ace-/,""),s.replace(/-(.)/g,function(t,e){return e.toUpperCase()}))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(h=b[1])}}for(var _ in h&&(o.base=o.base||h,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[_]&&e.set(_,o[_])}}c(!0),e.init=c,e.version="1.4.12"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,e,i){"use strict";var n=t("../lib/event"),r=t("../lib/useragent"),s=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,a=t("./mouse_event").MouseEvent,l=t("./dragdrop_handler").DragdropHandler,h=t("./touch_handler").addTouchListeners,c=t("../config"),u=function(t){var e=this;this.editor=t,new s(this),new o(this),new l(this);var i=function(e){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},a=t.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click"),t),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),t),n.addMultiMouseDownListener([a,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",t),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel"),t),h(t.container,t);var c=t.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),t),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick"),t),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),t),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),t),n.addListener(a,"mousedown",i,t),n.addListener(c,"mousedown",i,t),r.isIE&&t.renderer.scrollBarV&&(n.addListener(t.renderer.scrollBarV.element,"mousedown",i,t),n.addListener(t.renderer.scrollBarH.element,"mousedown",i,t)),t.on("mousemove",function(i){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var n=t.renderer.screenToTextCoordinates(i.x,i.y),r=t.session.selection.getRange(),s=t.renderer;!r.isEmpty()&&r.insideStart(n.row,n.column)?s.setCursorStyle("default"):s.setCursorStyle("")}},t)};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new a(e,this.editor))},this.onMouseMove=function(t,e){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(t,new a(e,this.editor))},this.onMouseWheel=function(t,e){var i=new a(e,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=e.wheelX,i.wheelY=e.wheelY,this.editor._emit(t,i)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var i=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,l=function(t){if(t){if(r.isWebKit&&!t.which&&o.releaseMouse)return o.releaseMouse();o.x=t.clientX,o.y=t.clientY,e&&e(t),o.mouseEvent=new a(t,o.editor),o.$mouseMoved=!0}},h=function(t){i.off("beforeEndOperation",u),clearInterval(d),c(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t),i.endOperation()},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){h(t)});var u=function(t){o.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};i.on("beforeEndOperation",u),i.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=l,o.releaseMouse=n.capture(this.editor.container,l,h);var d=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=(function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&n.stopEvent(e.domEvent))}).bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n=t("../lib/dom");e.FoldHandler=function(t){t.on("click",function(e){var i=e.getDocumentPosition(),r=t.session,s=r.getFoldAt(i.row,i.column,1);s&&(e.getAccelKey()?r.removeFold(s):r.expandFold(s),e.stop());var o=e.domEvent&&e.domEvent.target;o&&n.hasCssClass(o,"ace_inline_button")&&n.hasCssClass(o,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),t.renderer.scrollCursorIntoView())}),t.on("gutterclick",function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var i=e.getDocumentPosition().row,n=t.session;n.foldWidgets&&n.foldWidgets[i]&&t.session.onFoldWidgetClick(i,e),t.isFocused()||t.focus(),e.stop()}}),t.on("gutterdblclick",function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var i=e.getDocumentPosition().row,n=t.session,r=n.getParentFoldRangeData(i,!0),s=r.range||r.firstRange;if(s){var o=n.getFoldAt(i=s.start.row,n.getLine(i).length,1);o?n.removeFold(o):(n.addFold("...",s),t.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e,i){"use strict";var n=t("../lib/keys"),r=t("../lib/event"),s=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var i=this.$handlers.indexOf(t);-1!=i&&this.$handlers.splice(i,1),null==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==i&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(e,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,i,n){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((s=this.$handlers[l].handleKeyboard(this.$data,t,e,i,n))&&s.command&&((o="null"==s.command||a.exec(s.command,this.$editor,s.args,n))&&n&&-1!=t&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(n),o)););return o||-1!=t||(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,e)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(t,e,i){var r=n.keyCodeToString(i);return this.$callKeyboardHandlers(e,r,i,t)},this.onTextInput=function(t){return this.$callKeyboardHandlers(-1,t)}}).call(s.prototype),e.KeyBinding=s}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,e,i){"use strict";var n=0,r=0,s=!1,o=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],u=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function d(t,e,i){if(!(r<t))if(1!=t||1!=n||o)for(var s,a,l,h,c=i.length,u=0;u<c;){if(e[u]>=t){for(s=u+1;s<c&&e[s]>=t;)s++;for(a=u,l=s-1;a<l;a++,l--)h=i[a],i[a]=i[l],i[l]=h;u=s}u++}else i.reverse()}function f(t,e,i,r){var l,h,c,u,d=e[r];switch(d){case 0:case 1:s=!1;case 4:case 3:return d;case 2:return s?3:2;case 7:return s=!0,1;case 8:return 4;case 9:return r<1||r+1>=e.length||2!=(l=i[r-1])&&3!=l||2!=(h=e[r+1])&&3!=h?4:(s&&(h=3),h==l?h:4);case 10:return 2==(l=r>0?i[r-1]:5)&&r+1<e.length&&2==e[r+1]?2:4;case 11:if(r>0&&2==i[r-1])return 2;if(s)return 4;for(u=r+1,c=e.length;u<c&&11==e[u];)u++;return u<c&&2==e[u]?2:4;case 12:for(c=e.length,u=r+1;u<c&&12==e[u];)u++;if(u<c){var f=t[r];if(l=e[u],(f>=1425&&f<=2303||64286==f)&&(1==l||7==l))return 1}return r<1||5==(l=e[r-1])?4:i[r-1];case 5:return s=!1,o=!0,n;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:s=!1;case 18:return 4}}function p(t){var e=t.charCodeAt(0),i=e>>8;return 0==i?e>191?0:c[e]:5==i?/[\u0591-\u05f4]/.test(t)?1:0:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?12:/[\u0660-\u0669\u066b-\u066c]/.test(t)?3:1642==e?11:/[\u06f0-\u06f9]/.test(t)?2:7:32==i&&e<=8287?u[255&e]:254==i&&e>=65136?7:4}e.L=0,e.R=1,e.EN=2,e.ON_R=3,e.AN=4,e.R_H=5,e.B=6,e.RLE=7,e.DOT="\xb7",e.doBidiReorder=function(t,i,c){if(t.length<2)return{};var u=t.split(""),g=new Array(u.length),m=new Array(u.length),v=[];n=c?1:0,function(t,e,i,c){var u=n?h:l,d=null,g=null,m=null,v=0,y=null,b=-1,_=null,w=null,S=[];if(!c)for(_=0,c=[];_<i;_++)c[_]=p(t[_]);for(r=n,s=!1,o=!1,a=!1,w=0;w<i;w++){if(d=v,S[w]=g=f(t,c,S,w),y=240&(v=u[d][g]),e[w]=m=u[v&=15][5],y>0)if(16==y){for(_=b;_<w;_++)e[_]=1;b=-1}else b=-1;if(u[v][6])-1==b&&(b=w);else if(b>-1){for(_=b;_<w;_++)e[_]=m;b=-1}5==c[w]&&(e[w]=0),r|=m}if(a)for(_=0;_<i;_++)if(6==c[_]){e[_]=n;for(var k=_-1;k>=0&&8==c[k];k--)e[k]=n}}(u,v,u.length,i);for(var y=0;y<g.length;g[y]=y,y++);for(d(2,v,g),d(1,v,g),y=0;y<g.length-1;y++)3===i[y]?v[y]=e.AN:1===v[y]&&(i[y]>7&&i[y]<13||4===i[y]||18===i[y])?v[y]=e.ON_R:y>0&&"\u0644"===u[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(u[y])&&(v[y-1]=v[y]=e.R_H,y++);for(u[u.length-1]===e.DOT&&(v[u.length-1]=e.B),"\u202b"===u[0]&&(v[0]=e.RLE),y=0;y<g.length;y++)m[y]=v[g[y]];return{logicalFromVisual:g,bidiLevels:m}},e.hasBidiCharacters=function(t,e){for(var i=!1,n=0;n<t.length;n++)e[n]=p(t.charAt(n)),i||1!=e[n]&&7!=e[n]&&3!=e[n]||(i=!0);return i},e.getVisualFromLogicalIdx=function(t,e){for(var i=0;i<e.logicalFromVisual.length;i++)if(e.logicalFromVisual[i]==t)return i;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,e,i){"use strict";var n=t("./lib/bidiutil"),r=t("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(t.getValue())};(function(){this.isBidiRow=function(t,e,i){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&s.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var i=this.session.$getRowCacheIndex(e,this.currentRow);i>=0&&(t=this.session.$docRowCache[i])}return t},this.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var i,n=this.session.$getRowCacheIndex(e,this.currentRow);this.currentRow-t>0&&(i=this.session.$getRowCacheIndex(e,this.currentRow-t-1))===n;)n=i,t++;else t=this.currentRow;return t},this.updateRowLine=function(t,e){void 0===t&&(t=this.getDocumentRow());var i=t===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[t];s&&(void 0===e&&(e=this.getSplitIndex()),e>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=e<s.length?this.line.substring(s[e-1],s[e]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[e])),e==s.length&&(this.line+=this.showInvisibles?i:n.DOT)}else this.line+=this.showInvisibles?i:n.DOT;var o,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(t,e){return"\t"===t||a.isFullWidth(t.charCodeAt(0))?(o="\t"===t?a.getScreenTabSize(e+l):2,l+=o-1,r.stringRepeat(n.DOT,o)):t}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var t=[];this.bidiMap=n.hasBidiCharacters(this.line,t)||this.isRtlDir?n.doBidiReorder(this.line,t,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var e=this.characterWidth=t.$characterSize.width,i=t.$measureCharWidth("\u05d4");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=e,this.charWidths[n.R]=this.charWidths[n.AN]=i,this.charWidths[n.R_H]=.45*i,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setContentWidth=function(t){this.contentWidth=t},this.isRtlLine=function(t){return!!this.$isRtl||(null!=t?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(t,e){for(var i=t.getCursorPosition(),n=t.selection.getSelectionAnchor().row;n<=i.row;n++)e||t.session.getLine(n).charAt(0)!==t.session.$bidiHandler.RLE?e&&t.session.getLine(n).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:n},t.session.$bidiHandler.RLE):t.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(t){t-=this.wrapIndent;var e=this.line.charAt(0)===this.RLE?1:0,i=t>e?this.session.getOverwrite()?t:t-1:e,r=n.getVisualFromLogicalIdx(i,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&t<=e&&s[r]%2!=0&&r++;for(var a=0;a<r;a++)o+=this.charWidths[s[a]];return!this.session.getOverwrite()&&t>e&&s[r]%2==0&&(o+=this.charWidths[s[r]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(t,e){var i,n=this.bidiMap,r=n.bidiLevels,s=[],o=0,a=Math.min(t,e)-this.wrapIndent,l=Math.max(t,e)-this.wrapIndent,h=!1,c=!1,u=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<r.length;f++)i=r[f],(h=(d=n.logicalFromVisual[f])>=a&&d<l)&&!c?u=o:!h&&c&&s.push({left:u,width:o-u}),o+=this.charWidths[i],c=h;if(h&&f===r.length&&s.push({left:u,width:o-u}),this.isRtlDir)for(var p=0;p<s.length;p++)s[p].left+=this.rtlLineOffset;return s},this.offsetToCol=function(t){this.isRtlDir&&(t-=this.rtlLineOffset);var e=0,i=(t=Math.max(t,0),0),n=0,r=this.bidiMap.bidiLevels,s=this.charWidths[r[n]];for(this.wrapIndent&&(t-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);t>i+s/2;){if(i+=s,n===r.length-1){s=0;break}s=this.charWidths[r[++n]]}return n>0&&r[n-1]%2!=0&&r[n]%2==0?(t<i&&n--,e=this.bidiMap.logicalFromVisual[n]):n>0&&r[n-1]%2==0&&r[n]%2!=0?e=1+(t>i?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===r.length-1&&0===s&&r[n-1]%2==0||!this.isRtlDir&&0===n&&r[n]%2!=0?e=1+this.bidiMap.logicalFromVisual[n]:(n>0&&r[n-1]%2!=0&&0!==s&&n--,e=this.bidiMap.logicalFromVisual[n]),0===e&&this.isRtlDir&&e++,e+this.wrapIndent}}).call(o.prototype),e.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/lang"),s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(t){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),e.$isEmpty||e.$silent||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,e.$isEmpty||e.$silent||e._emit("changeSelection")})};(function(){n.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?o.fromPoints(e,e):this.isBackwards()?o.fromPoints(e,t):o.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var i=e?t.end:t.start,n=e?t.start:t.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(t,e,i,n){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(i,n),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var i=t||this.lead;t=i.row,e=i.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var i,n="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(n);return r?(n=r.start.row,i=r.end.row):i=n,!0===e?new o(n,0,i,this.session.getLine(i).length):new o(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,i){var n=t.column,r=t.column+e;return i<0&&(n=t.column-e,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(n,r).split(" ").length-1==e},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(e=this.lead,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,i=this.session.documentToScreenRow(t,e),n=this.session.screenToDocumentPosition(i,0),r=this.session.getDisplayLine(t,null,n.row,n.column).match(/^\s*/);r[0].length==e||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var i=this.session.getLine(e.row);if(e.column==i.length){var n=i.search(/\s+$/);n>0&&(e.column=n)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,i=this.doc.getLine(t),n=i.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(n)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(e)),e>=i.length)return this.moveCursorTo(t,i.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)}},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(e,i,-1))this.moveCursorTo(t.start.row,t.start.column);else{var n=this.session.getFoldStringAt(e,i,-1);null==n&&(n=this.doc.getLine(e).substring(0,i));var s=r.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(i-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,i)}},this.$shortWordEndIndex=function(t){var e,i=0,n=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(e=t[i])&&n.test(e);)i++;if(i<1)for(r.lastIndex=0;(e=t[i])&&!r.test(e);)if(r.lastIndex=0,i++,n.test(e)){if(i>2){i--;break}for(;(e=t[i])&&n.test(e);)i++;if(i>2)break}}return r.lastIndex=0,i},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,i=this.doc.getLine(t),n=i.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==i.length){var s=this.doc.getLength();do{t++,n=this.doc.getLine(t)}while(t<s&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),e=0}var o=this.$shortWordEndIndex(n);this.moveCursorTo(t,e+o)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(e,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getLine(e).substring(0,i);if(0===i){do{e--,n=this.doc.getLine(e)}while(e>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var s=r.stringReverse(n),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,i-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===e&&(0!==t&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),0!=t&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];t<0?t-=r.rowsAbove||0:t>0&&(t+=r.rowCount-(r.rowsAbove||0))}var s=this.session.screenToDocumentPosition(n.row+t,n.column,i);this.moveCursorTo(s.row,s.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,i){var n=this.session.getFoldAt(t,e,1);n&&(t=n.start.row,e=n.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,i){var n=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var i=this.getCursor();return o.fromPoints(e,i)}catch(n){return o.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var e=t.length;e--;){var i=o.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e,i){"use strict";var n=t("./config"),r=2e3,s=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[e],n=[],r=0,s=this.matchMappings[e]={defaultToken:"text"},o="g",a=[],l=0;l<i.length;l++){var h=i[l];if(h.defaultToken&&(s.defaultToken=h.defaultToken),h.caseInsensitive&&(o="gi"),null!=h.regex){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var c=h.regex,u=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(h.token)?1==h.token.length||1==u?h.token=h.token[0]:u-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:u-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):"function"!=typeof h.token||h.onMatch||(h.onMatch=u>1?this.$applyToken:h.token),u>1&&(/\\\d/.test(h.regex)?c=h.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(u=1,c=this.removeCapturingGroups(h.regex)),h.splitRegex||"string"==typeof h.token||a.push(h)),s[r]=l,r+=u,n.push(c),h.onMatch||(h.onMatch=null)}}n.length||(s[0]=0,n.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,o)},this),this.regExps[e]=new RegExp("("+n.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(t){r=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),i=this.token.apply(this,e);if("string"==typeof i)return[{type:i,value:t}];for(var n=[],r=0,s=i.length;r<s;r++)e[r]&&(n[n.length]={type:i[r],value:e[r]});return n},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var i=[],n=this.tokenArray,r=0,s=n.length;r<s;r++)e[r+1]&&(i[i.length]={type:n[r],value:e[r+1]});return i},this.removeCapturingGroups=function(t){return t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t})},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var i=0,n=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,s,o,a,l){return n?n="]"!=a:a?n=!0:o?(i==r.stack&&(r.end=l+1,r.stack=-1),i--):s&&(i++,1!=s.length&&(r.stack=i,r.start=l)),t}),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var i=e.slice(0);"#tmp"===(e=i[0])&&(i.shift(),e=i.shift())}else i=[];var n=e||"start",s=this.states[n];s||(s=this.states[n="start"]);var o=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,h=[],c=0,u=0,d={type:null,value:""};l=a.exec(t);){var f=o.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>c){var v=t.substring(c,m-g.length);d.type==f?d.value+=v:(d.type&&h.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=(p=s[o[y]]).onMatch?p.onMatch(g,n,i,t):p.token,p.next&&(n="string"==typeof p.next?p.next:p.next(n,i),(s=this.states[n])||(this.reportError("state doesn't exist",n),s=this.states[n="start"]),o=this.matchMappings[n],c=m,(a=this.regExps[n]).lastIndex=m),p.consumeLineEnd&&(c=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&h.push(d),d={type:f,value:g}):d.value+=g;else if(f)for(d.type&&h.push(d),d={type:null,value:""},y=0;y<f.length;y++)h.push(f[y]);if(c==t.length)break;if(c=m,u++>r){for(u>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});c<t.length;)d.type&&h.push(d),d={value:t.substring(c,c+=500),type:"overflow"};n="start",i=[];break}}return d.type&&h.push(d),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:h,state:i.length?i:n}},this.reportError=n.reportError}).call(s.prototype),e.Tokenizer=s}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e,i){"use strict";var n=t("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var i in t){for(var n=t[i],r=0;r<n.length;r++){var s=n[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(e)&&(s.next=e+s.next),s.nextState&&0!==s.nextState.indexOf(e)&&(s.nextState=e+s.nextState))}this.$rules[e+i]=n}else for(var i in t)this.$rules[i]=t[i]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,i,r,s){var o="function"==typeof t?(new t).getRules():t;if(r)for(var a=0;a<r.length;a++)r[a]=e+r[a];else for(var l in r=[],o)r.push(e+l);if(this.addRules(o,e),i){var h=Array.prototype[s?"push":"unshift"];for(a=0;a<r.length;a++)h.apply(this.$rules[r[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach(function r(s){var o=n[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],h=null;Array.isArray(l)&&(h=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),n[u]&&(u+=i++)),n[u]=c,l.next=u,r(u)}else"pop"==c&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var d in l.rules)n[d]?n[d].push&&n[d].push.apply(n[d],l.rules[d]):n[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(h=Array.isArray(f)?f.map(function(t){return n[t]}):n[f]),h){var p=[a,1].concat(h);l.noEscape&&(p=p.filter(function(t){return!t.next})),o.splice.apply(o,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}},this)},this.createKeywordMapper=function(t,e,i,n){var r=Object.create(null);return this.$keywordList=[],Object.keys(t).forEach(function(e){for(var s=t[e].split(n||"|"),o=s.length;o--;){var a=s[o];this.$keywordList.push(a),i&&(a=a.toLowerCase()),r[a]=e}},this),t=null,i?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),e.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,e,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(t,e,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=i},this.addBehaviours=function(t){for(var e in t)for(var i in t[e])this.add(e,i,t[e][i])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var i=(new t).getBehaviours(e);else i=t.getBehaviours(e);this.addBehaviours(i)},this.getBehaviours=function(t){if(t){for(var e={},i=0;i<t.length;i++)this.$behaviours[t[i]]&&(e[t[i]]=this.$behaviours[t[i]]);return e}return this.$behaviours}}).call(n.prototype),e.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=t("./range").Range,r=function(t,e,i){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var n=t.getTokenAt(e,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,i=t[e].start;if(void 0!==i)return i;for(i=0;e>0;)i+=t[e-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new n(this.$row,e,this.$row,e+t.value.length)}}).call(r.prototype),e.TokenIterator=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e,i){"use strict";var n,r=t("../../lib/oop"),s=t("../behaviour").Behaviour,o=t("../../token_iterator").TokenIterator,a=t("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],h=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},u={'"':'"',"'":"'"},d=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,c.rangeCount!=t.multiSelect.rangeCount&&(c={rangeCount:t.multiSelect.rangeCount})),c[e])return n=c[e];n=c[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(t,e,i,n){var r=t.end.row-t.start.row;return{text:i+e+n,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},p=function(t){this.add("braces","insertion",function(e,i,r,s,o){var l=r.getCursorPosition(),h=s.doc.getLine(l.row);if("{"==o){d(r);var c=r.getSelectionRange(),u=s.doc.getTextRange(c);if(""!==u&&"{"!==u&&r.getWrapBehavioursEnabled())return f(c,u,"{","}");if(p.isSaneInsertion(r,s))return/[\]\}\)]/.test(h[l.column])||r.inMultiSelectMode||t&&t.braces?(p.recordAutoInsert(r,s,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(r,s,"{"),{text:"{",selection:[1,1]})}else if("}"==o){if(d(r),"}"==h.substring(l.column,l.column+1)&&null!==s.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&p.isAutoInsertedClosing(l,h,o))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==o||"\r\n"==o){d(r);var g="";if(p.isMaybeInsertedClosing(l,h)&&(g=a.stringRepeat("}",n.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===h.substring(l.column,l.column+1)){var m=s.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(s.getLine(m.row))}else{if(!g)return void p.clearMaybeInsertedClosing();v=this.$getIndent(h)}var y=v+s.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(t,e,i,r,s){var o=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(d(i),"}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(t,e,i,n,r){if("("==r){d(i);var s=i.getSelectionRange(),o=n.doc.getTextRange(s);if(""!==o&&i.getWrapBehavioursEnabled())return f(s,o,"(",")");if(p.isSaneInsertion(i,n))return p.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(t,e,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(d(i),")"==n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("brackets","insertion",function(t,e,i,n,r){if("["==r){d(i);var s=i.getSelectionRange(),o=n.doc.getTextRange(s);if(""!==o&&i.getWrapBehavioursEnabled())return f(s,o,"[","]");if(p.isSaneInsertion(i,n))return p.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(t,e,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(d(i),"]"==n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("string_dquotes","insertion",function(t,e,i,n,r){var s=n.$mode.$quotes||u;if(1==r.length&&s[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(i);var o=r,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(!(""===l||1==l.length&&s[l])&&i.getWrapBehavioursEnabled())return f(a,l,o,o);if(!l){var h=i.getCursorPosition(),c=n.doc.getLine(h.row),p=c.substring(h.column-1,h.column),g=c.substring(h.column,h.column+1),m=n.getTokenAt(h.row,h.column),v=n.getTokenAt(h.row,h.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),_=!v||/string|escape/.test(v.type);if(g==o)(y=b!==_)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!_)return null;if(b&&_)return null;var w=n.$mode.tokenRe;w.lastIndex=0;var S=w.test(p);w.lastIndex=0;var k=w.test(p);if(S||k)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var x=c[h.column-2];if(p==o&&(x==o||w.test(x)))return null;y=!0}return{text:y?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,i,n,r){var s=n.$mode.$quotes||u,o=n.doc.getTextRange(r);if(!r.isMultiLine()&&s.hasOwnProperty(o)&&(d(i),n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r})};p.isSaneInsertion=function(t,e){var i=t.getCursorPosition(),n=new o(e,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){if(/[)}\]]/.test(t.session.getLine(i.row)[i.column]))return!0;var r=new o(e,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",h)},p.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},p.recordAutoInsert=function(t,e,i){var r=t.getCursorPosition(),s=e.doc.getLine(r.row);this.isAutoInsertedClosing(r,s,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+s.substr(r.column),n.autoInsertedBrackets++},p.recordMaybeInsert=function(t,e,i){var r=t.getCursorPosition(),s=e.doc.getLine(r.row);this.isMaybeInsertedClosing(r,s)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=s.substr(0,r.column)+i,n.maybeInsertedLineEnd=s.substr(r.column),n.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(t,e,i){return n.autoInsertedBrackets>0&&t.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&e.substr(t.column)===n.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(t,e){return n.maybeInsertedBrackets>0&&t.row===n.maybeInsertedRow&&e.substr(t.column)===n.maybeInsertedLineEnd&&e.substr(0,t.column)==n.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(p,s),e.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(t,e,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,s=[],o=0;o<n.length;o+=2)s.push(r+=n[o]),n[o+1]&&s.push(45,r+=n[o+1]);e.wordChars=String.fromCharCode.apply(null,s)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e,i){"use strict";var n=t("../config"),r=t("../tokenizer").Tokenizer,s=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,a=t("../unicode"),l=t("../lib/lang"),h=t("../token_iterator").TokenIterator,c=t("../range").Range,u=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,i,n){var r=e.doc,s=!0,o=!0,a=1/0,h=e.getTabSize(),c=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),c=e.getUseSoftTabs(),y=function(t,e){var i=t.match(g);if(i){var n=i[1].length,s=i[0].length;d(t,n,s)||" "!=i[0][s-1]||s--,r.removeInLine(e,n,s)}};var u=f+" ",d=(v=function(t,e){s&&!/\S/.test(t)||(d(t,a,a)?r.insertInLine({row:e,column:a},u):r.insertInLine({row:e,column:a},f))},b=function(t,e){return g.test(t)},function(t,e,i){for(var n=0;e--&&" "==t.charAt(e);)n++;if(n%h!=0)return!1;for(n=0;" "==t.charAt(i++);)n++;return h>2?n%h!=h-1:n%h==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),v=function(t,e){b(t,e)||s&&!/\S/.test(t)||(r.insertInLine({row:e,column:t.length},p),r.insertInLine({row:e,column:a},f))},y=function(t,e){var i;(i=t.match(m))&&r.removeInLine(e,t.length-i[0].length,t.length),(i=t.match(g))&&r.removeInLine(e,i[1].length,i[0].length)},b=function(t,i){if(g.test(t))return!0;for(var n=e.getTokens(i),r=0;r<n.length;r++)if("comment"===n[r].type)return!0}}function _(t){for(var e=i;e<=n;e++)t(r.getLine(e),e)}var w=1/0;_(function(t,e){var i=t.search(/\S/);-1!==i?(i<a&&(a=i),o&&!b(t,e)&&(o=!1)):w>t.length&&(w=t.length)}),a==1/0&&(a=w,s=!1,o=!1),c&&a%h!=0&&(a=Math.floor(a/h)*h),_(o?y:v)},this.toggleBlockComment=function(t,e,i,n){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(g=new h(e,n.row,n.column)).getCurrentToken(),l=e.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;u=new c(f,p,f,p+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new h(e,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m,d=new c(f,p,f,p+r.end.length);break}a=g.stepForward()}d&&e.remove(d),u&&(e.remove(u),s=u.start.row,o=-r.start.length)}else o=r.start.length,s=i.start.row,e.insert(i.end,r.end),e.insert(i.start,r.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),e.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(t,e,i){return this.$getIndent(e)},this.checkOutdent=function(t,e,i){return!1},this.autoOutdent=function(t,e,i){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var e in this.$embeds=[],this.$modes={},t)if(t[e]){var i=t[e],r=i.prototype.$id,s=n.$modes[r];s||(n.$modes[r]=s=new i),n.$modes[e]||(n.$modes[e]=s),this.$embeds.push(e),this.$modes[e]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(e=0;e<o.length;e++)!function(t){var i=o[e],n=t[i];t[o[e]]=function(){return this.$delegator(i,arguments,n)}}(this)},this.$delegator=function(t,e,i){var n=e[0]||"start";if("string"!=typeof n){if(Array.isArray(n[2])&&(s=this.$modes[n[2][n[2].length-1]]))return s[t].apply(s,[n[1]].concat([].slice.call(e,1)));n=n[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s,o=n.split(this.$embeds[r]);if(!o[0]&&o[1])return e[0]=o[1],(s=this.$modes[this.$embeds[r]])[t].apply(s,e)}var a=i.apply(this,e);return i?a:void 0},this.transformAction=function(t,e,i,n,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][e]){var a=s[o][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,i=[];for(var n in e)for(var r=e[n],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&i.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)/keyword|support|storage/.test(r[s].token[a])&&(n=r[s].regex.match(/\(.+?\)/g)[a],i.push(n.substr(1,n.length-2)));this.completionKeywords=i}return t?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,i,n){return(this.$keywordList||this.$createKeywordList()).map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),e.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(t,e,i){"use strict";e.applyDelta=function(t,e,i){var n=e.start.row,r=e.start.column,s=t[n]||"";switch(e.action){case"insert":if(1===e.lines.length)t[n]=s.substring(0,r)+e.lines[0]+s.substring(r);else{var o=[n,1].concat(e.lines);t.splice.apply(t,o),t[n]=s.substring(0,r)+t[n],t[n+e.lines.length-1]+=s.substring(r)}break;case"remove":var a=e.end.column,l=e.end.row;n===l?t[n]=s.substring(0,r)+s.substring(a):t.splice(n,l-n+1,s.substring(0,r)+t[l].substring(a))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=e.Anchor=function(t,e,i){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===i?this.setPosition(e.row,e.column):this.setPosition(e,i)};(function(){function t(t,e,i){return t.row<e.row||t.row==e.row&&(i?t.column<=e.column:t.column<e.column)}n.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var i=function(e,i,n){var r="insert"==e.action,s=(r?1:-1)*(e.end.row-e.start.row),o=(r?1:-1)*(e.end.column-e.start.column),a=e.start,l=r?a:e.end;return t(i,a,n)?{row:i.row,column:i.column}:t(l,i,!n)?{row:i.row+s,column:i.column+(i.row==l.row?o:0)}:{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(t,e,i){var n;if(n=i?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=n.row||this.column!=n.column){var r={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:r,value:n})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var i={};return t>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):t<0?(i.row=0,i.column=0):(i.row=t,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,e))),e<0&&(i.column=0),i}}).call(s.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./apply_delta").applyDelta,s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,a=t("./anchor").Anchor,l=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){n.implement(this,s),this.setValue=function(t){var e=this.getLength()-1;this.remove(new o(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new a(this,t,e)},this.$split=0==="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var i=e.length-1;t.end.row-t.start.row==i&&(e[i]=e[i].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var i=this.clippedPos(t.row,t.column),n=this.pos(t.row,t.column+e.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[e]},!0),this.clonePos(n)},this.clippedPos=function(t,e){var i=this.getLength();void 0===t?t=i:t<0?t=0:t>=i&&(t=i-1,e=void 0);var n=this.getLine(t);return null==e&&(e=n.length),{row:t,column:e=Math.min(Math.max(e,0),n.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var i=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),i=0):(e=[""].concat(e),t--,i=this.$lines[t].length),this.insertMergedLines({row:t,column:i},e)},this.insertMergedLines=function(t,e){var i=this.clippedPos(t.row,t.column),n={row:i.row+e.length-1,column:(1==e.length?i.column:0)+e[e.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:e}),this.clonePos(n)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),i=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:i,action:"remove",lines:this.getLinesForRange({start:e,end:i})}),this.clonePos(e)},this.removeInLine=function(t,e,i){var n=this.clippedPos(t,e),r=this.clippedPos(t,i);return this.applyDelta({start:n,end:r,action:"remove",lines:this.getLinesForRange({start:n,end:r})},!0),this.clonePos(n)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var i=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&t>0,n=e<this.getLength()-1,r=i?t-1:t,s=i?this.getLine(r).length:0,a=n?e+1:e,l=n?0:this.getLine(a).length,h=new o(r,s,a,l),c=this.$lines.slice(t,e+1);return this.applyDelta({start:h.start,end:h.end,action:"remove",lines:this.getLinesForRange(h)}),c},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof o||(t=o.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var i="insert"==t.action;(i?t.lines.length<=1&&!t.lines[0]:!o.comparePoints(t.start,t.end))||(i&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(r(this.$lines,t,e),this._signal("change",t)))},this.$safeApplyDelta=function(t){var e=this.$lines.length;("remove"==t.action&&t.start.row<e&&t.end.row<e||"insert"==t.action&&t.start.row<=e)&&this.applyDelta(t)},this.$splitAndapplyLargeDelta=function(t,e){for(var i=t.lines,n=i.length-e+1,r=t.start.row,s=t.start.column,o=0,a=0;o<n;o=a){var l=i.slice(o,a+=e-1);l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:t.action,lines:l},!0)}t.lines=i.slice(o),t.start.row=r+o,t.start.column=s,this.applyDelta(t,!0)},this.revertDelta=function(t){this.$safeApplyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=e||0,s=i.length;r<s;r++)if((t-=i[r].length+n)<0)return{row:r,column:t+i[r].length+n};return{row:s-1,column:t+i[s-1].length+n}},this.positionToIndex=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=0,s=Math.min(t.row,i.length),o=e||0;o<s;++o)r+=i[o].length+n;return r+t.column}}).call(l.prototype),e.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var i=this;this.$worker=function(){if(i.running){for(var t=new Date,e=i.currentLine,n=-1,r=i.doc,s=e;i.lines[e];)e++;var o=r.getLength(),a=0;for(i.running=!1;e<o;){i.$tokenizeRow(e),n=e;do{e++}while(i.lines[e]);if(++a%5==0&&new Date-t>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=e,-1==n&&(n=e),s<=n&&i.fireUpdateEvent(s,n)}}};(function(){n.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){this._signal("update",{data:{first:t,last:e}})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,i=t.end.row-e;if(0===i)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,i+1,null),this.states.splice(e,i+1,null);else{var n=Array(i+1);n.unshift(e,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),i=this.tokenizer.getLineTokens(e,this.states[t-1],t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(s.prototype),e.BackgroundTokenizer=s}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,i){"use strict";var n=t("./lib/lang"),r=(t("./lib/oop"),t("./range").Range),s=function(t,e,i){this.setRegexp(t),this.clazz=e,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,i,s){if(this.regExp)for(var o=s.lastRow,a=s.firstRow;a<=o;a++){var l=this.cache[a];null==l&&((l=n.getMatchOffsets(i.getLine(a),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map(function(t){return new r(a,t.offset,a,t.offset+t.length)}),this.cache[a]=l.length?l:"");for(var h=l.length;h--;)e.drawSingleLineMarker(t,l[h].toScreenRange(i),this.clazz,s)}}}).call(s.prototype),e.SearchHighlight=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=t("../range").Range;function r(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var i=e[e.length-1];this.range=new n(e[0].start.row,e[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,i){var n,r,s=0,o=this.folds,a=!0;null==e&&(e=this.end.row,i=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(n=o[l]).range.compareStart(e,i)))return void t(null,e,i,s,a);if(!t(null,n.start.row,n.start.column,s,a)&&t(n.placeholder,n.start.row,n.start.column,s)||0===r)return;a=!n.sameRow,s=n.end.column}t(null,e,i,s,a)},this.getNextFoldTo=function(t,e){for(var i,n,r=0;r<this.folds.length;r++){if(-1==(n=(i=this.folds[r]).range.compareEnd(t,e)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(t,e,i){var n,r,s=this.getNextFoldTo(t,e);if(s)if(n=s.fold,"inside"==s.kind&&n.start.column!=e&&n.start.row!=t)window.console&&window.console.log(t,e,n);else if(n.start.row==t){var o=(r=this.folds).indexOf(n);for(0===o&&(this.start.column+=i);o<r.length;o++){if((n=r[o]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(t,e){var i=this.getNextFoldTo(t,e);if(!i||"inside"==i.kind)return null;var n=this.folds,s=this.foldData,o=n.indexOf(i.fold),a=n[o-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new r(s,n=n.splice(o,n.length-o));return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(t){for(var e=t.folds,i=0;i<e.length;i++)this.addFold(e[i]);var n=this.foldData;n.splice(n.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((t-=n.start.column-e)<0)return{row:n.start.row,column:n.start.column+t};if((t-=n.placeholder.length)<0)return n.start;e=n.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(r.prototype),e.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=t("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=n,this.pointIndex=function(t,e,i){for(var r=this.ranges,s=i||0;s<r.length;s++){var o=r[s],a=n(t,o.end);if(!(a>0)){var l=n(t,o.start);return 0===a?e&&0!==l?-s-2:s:l>0||0===l&&!e?s:-s-1}}return-s-1},this.add=function(t){var e=!t.isEmpty(),i=this.pointIndex(t.start,e);i<0&&(i=-i-1);var n=this.pointIndex(t.end,e,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,t)},this.addList=function(t){for(var e=[],i=t.length;i--;)e.push.apply(e,this.add(t[i]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges.splice(e,1)},this.merge=function(){for(var t,e=[],i=this.ranges,r=(i=i.sort(function(t,e){return n(t.start,e.start)}))[0],s=1;s<i.length;s++){var o=n((t=r).end,(r=i[s]).start);o<0||(0!=o||t.isEmpty()||r.isEmpty())&&(n(t.end,r.end)<0&&(t.end.row=r.end.row,t.end.column=r.end.column),i.splice(s,1),e.push(r),r=t,s--)}return this.ranges=i,e},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges[e]},this.clipRows=function(t,e){var i=this.ranges;if(i[0].start.row>e||i[i.length-1].start.row<t)return[];var n=this.pointIndex({row:t,column:0});n<0&&(n=-n-1);var r=this.pointIndex({row:e,column:0},n);r<0&&(r=-r-1);for(var s=[],o=n;o<r;o++)s.push(i[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){for(var e=t.start,i=t.end,n=e.row,r=i.row,s=this.ranges,o=0,a=s.length;o<a&&!((c=s[o]).end.row>=n);o++);if("insert"==t.action){for(var l=r-n,h=-e.column+i.column;o<a&&!((c=s[o]).start.row>n);o++)if(c.start.row==n&&c.start.column>=e.column&&(c.start.column==e.column&&this.$bias<=0||(c.start.column+=h,c.start.row+=l)),c.end.row==n&&c.end.column>=e.column){if(c.end.column==e.column&&this.$bias<0)continue;c.end.column==e.column&&h>0&&o<a-1&&c.end.column>c.start.column&&c.end.column==s[o+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=l}}else for(l=n-r,h=e.column-i.column;o<a&&!((c=s[o]).start.row>r);o++)c.end.row<r&&(n<c.end.row||n==c.end.row&&e.column<c.end.column)?(c.end.row=n,c.end.column=e.column):c.end.row==r?c.end.column<=i.column?(l||c.end.column>e.column)&&(c.end.column=e.column,c.end.row=e.row):(c.end.column+=h,c.end.row+=l):c.end.row>r&&(c.end.row+=l),c.start.row<r&&(n<c.start.row||n==c.start.row&&e.column<c.start.column)?(c.start.row=n,c.start.column=e.column):c.start.row==r?c.start.column<=i.column?(l||c.start.column>e.column)&&(c.start.column=e.column,c.start.row=e.row):(c.start.column+=h,c.start.row+=l):c.start.row>r&&(c.start.row+=l);if(0!=l&&o<a)for(;o<a;o++){var c;(c=s[o]).start.row+=l,c.end.row+=l}}}).call(r.prototype),e.RangeList=r}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(t,e,i){"use strict";var n=t("../range_list").RangeList,r=t("../lib/oop"),s=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};function o(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function a(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}r.inherits(s,n),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var t=this.range.clone(),e=new s(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){var e,i;o((e=t).start,i=this.start),o(e.end,i);for(var n=t.start.row,r=t.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(n,r));s++);var l=this.subFolds[s],h=0;if(0==a){if(l.range.containsRange(t))return l.addSubFold(t);h=1}n=t.range.end.row,r=t.range.end.column;var c=s;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(n,r));c++);0==a&&c++;for(var u=this.subFolds.splice(s,c-s,t),d=0==a?u.length-1:u.length,f=h;f<d;f++)t.addSubFold(u[f]);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return function(t,e){a(t.start,e),a(t.end,e)}(t,this.start)}}).call(s.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e,i){"use strict";var n=t("../range").Range,r=t("./fold_line").FoldLine,s=t("./fold").Fold,o=t("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(t,e,i){var n=this.getFoldLine(t);if(!n)return null;for(var r=n.folds,s=0;s<r.length;s++){var o=r[s].range;if(o.contains(t,e)){if(1==i&&o.isEnd(t,e)&&!o.isEmpty())continue;if(-1==i&&o.isStart(t,e)&&!o.isEmpty())continue;return r[s]}}},this.getFoldsInRange=function(t){var e=t.start,i=t.end,n=this.$foldData,r=[];e.column+=1,i.column-=1;for(var s=0;s<n.length;s++){var o=n[s].range.compareRange(t);if(2!=o){if(-2==o)break;for(var a=n[s].folds,l=0;l<a.length;l++){var h=a[l];if(-2==(o=h.range.compareRange(t)))break;if(2!=o){if(42==o)break;r.push(h)}}}}return e.column-=1,i.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,i=0;i<e.length;i++)for(var n=0;n<e[i].folds.length;n++)t.push(e[i].folds[n]);return t},this.getFoldStringAt=function(t,e,i,n){if(!(n=n||this.getFoldLine(t)))return null;for(var r,s,o={end:{column:0}},a=0;a<n.folds.length;a++){var l=(s=n.folds[a]).range.compareEnd(t,e);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==i?r.substring(0,e-o.end.column):1==i?r.substring(e-o.end.column):r},this.getFoldLine=function(t,e){var i=this.$foldData,n=0;for(e&&(n=i.indexOf(e)),-1==n&&(n=0);n<i.length;n++){var r=i[n];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var i=this.$foldData,n=0;for(e&&(n=i.indexOf(e)),-1==n&&(n=0);n<i.length;n++){var r=i[n];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var i=this.$foldData,n=e-t+1,r=0;r<i.length;r++){var s=i[r],o=s.end.row,a=s.start.row;if(o>=e){a<e&&(a>=t?n-=e-a:n=0);break}o>=t&&(n-=a>=t?o-a:o-t+1)}return n},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var i,n=this.$foldData,o=!1;t instanceof s?i=t:(i=new s(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,h=i.end.row,c=i.end.column,u=this.getFoldAt(a,l,1),d=this.getFoldAt(h,c,-1);if(u&&d==u)return u.addSubFold(i);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(h,c)&&this.removeFold(d);var f=this.getFoldsInRange(i.range);f.length>0&&(this.removeFolds(f),i.collapseChildren||f.forEach(function(t){i.addSubFold(t)}));for(var p=0;p<n.length;p++){var g=n[p];if(h==g.start.row){g.addFold(i),o=!0;break}if(a==g.end.row){if(g.addFold(i),o=!0,!i.sameRow){var m=n[p+1];if(m&&m.start.row==h){g.merge(m);break}}break}if(h<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,i=e.start.row,n=e.end.row,r=this.$foldData,s=e.folds;if(1==s.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))s.pop(),e.end.row=s[s.length-1].end.row,e.end.column=s[s.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))s.shift(),e.start.row=s[0].start.row,e.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var o=e.split(t.start.row,t.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var i,r;if(null==t?(i=new n(0,0,this.getLength(),0),null==e&&(e=!0)):i="number"==typeof t?new n(t,0,t,this.getLine(t).length):"row"in t?n.fromPoints(t,t):t,r=this.getFoldsInRangeList(i),0!=e?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var i=this.getFoldLine(t,e);return i?i.end.row:t},this.getRowFoldStart=function(t,e){var i=this.getFoldLine(t,e);return i?i.start.row:t},this.getFoldDisplayLine=function(t,e,i,n,r){null==n&&(n=t.start.row),null==r&&(r=0),null==e&&(e=t.end.row),null==i&&(i=this.getLine(e).length);var s=this.doc,o="";return t.walk(function(t,e,i,a){if(!(e<n)){if(e==n){if(i<r)return;a=Math.max(r,a)}o+=null!=t?t:s.getLine(e).substring(a,i)}},e,i),o},this.getDisplayLine=function(t,e,i,n){var r,s=this.getFoldLine(t);return s?this.getFoldDisplayLine(s,t,e,i,n):(r=this.doc.getLine(t)).substring(n||0,e||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var i=e.folds.map(function(t){return t.clone()});return new r(t,i)})},this.toggleFold=function(t){var e,i,n=this.selection.getRange();if(n.isEmpty()){var r=n.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(i=this.findMatchingBracket(r))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(r.row,r.column)||n}else{var s=this.getFoldsInRange(n);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(n.start.row,n.start.column)),e&&e.range.toString()==n.toString())this.expandFold(e);else{var o="...";if(!n.isMultiLine()){if((o=this.getTextRange(n)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,n)}},this.getCommentFoldRange=function(t,e,i){var r=new o(this,t,e),s=r.getCurrentToken(),a=s&&s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),h=new n;if(1!=i){do{s=r.stepBackward()}while(s&&l.test(s.type));r.stepForward()}if(h.start.row=r.getCurrentTokenRow(),h.start.column=r.getCurrentTokenColumn()+2,r=new o(this,t,e),-1!=i){var c=-1;do{if(s=r.stepForward(),-1==c){var u=this.getState(r.$row);l.test(u)||(c=r.$row)}else if(r.$row>c)break}while(s&&l.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return h.end.row=r.getCurrentTokenRow(),h.end.column=r.getCurrentTokenColumn()+s.value.length-2,h}},this.foldAll=function(t,e,i,n){null==i&&(i=1e5);var r=this.foldWidgets;if(r){e=e||this.getLength();for(var s=t=t||0;s<e;s++)if(null==r[s]&&(r[s]=this.getFoldWidget(s)),"start"==r[s]&&(!n||n(s))){var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=e&&o.start.row>=t&&(s=o.end.row,o.collapseChildren=i,this.addFold("...",o))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,function(e){for(var i=t.getTokens(e),n=0;n<i.length;n++){var r=i[n];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,e){var i=this.foldWidgets;if(!i||e&&i[t])return{};for(var n,r=t-1;r>=0;){var s=i[r];if(null==s&&(s=i[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(n||(n=o),o&&o.end.row>=t)break}r--}return{range:-1!==r&&o,firstRange:n}},this.onFoldWidgetClick=function(t,e){if(!this.$toggleFoldWidget(t,{children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey})){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var i=this.getFoldWidget(t),n=this.getLine(t),r="end"===i?-1:1,s=this.getFoldAt(t,-1===r?0:n.length,r);if(s)return e.children||e.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(t,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,h=a.range.end.row;this.foldAll(l,h,e.all?1e4:0)}else e.children?(h=o?o.end.row:this.getLength(),this.foldAll(t+1,h,e.all?1e4:0)):o&&(e.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var i=this.$toggleFoldWidget(e,{});if(!i){var n=this.getParentFoldRangeData(e,!0);if(i=n.range||n.firstRange){var r=this.getFoldAt(e=i.start.row,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",i)}}},this.updateFoldWidgets=function(t){var e=t.start.row,i=t.end.row-e;if(0===i)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,i+1,null);else{var n=Array(i+1);n.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e,i){"use strict";var n=t("../token_iterator").TokenIterator,r=t("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var i=e||this.getLine(t.row).charAt(t.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],t):this.$findOpeningBracket(n[2],t):null},this.getBracketRange=function(t){var e,i=this.getLine(t.row),n=!0,s=i.charAt(t.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=i.charAt(t.column),t={row:t.row,column:t.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],t)))return null;e=r.fromPoints(t,a),n||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],t)))return null;e=r.fromPoints(a,t),n||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.getMatchingBracketRanges=function(t){var e=this.getLine(t.row),i=e.charAt(t.column-1),n=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(n||(i=e.charAt(t.column),t={row:t.row,column:t.column+1},n=i&&i.match(/([\(\[\{])|([\)\]\}])/)),!n)return null;var s=new r(t.row,t.column-1,t.row,t.column),o=n[1]?this.$findClosingBracket(n[1],t):this.$findOpeningBracket(n[2],t);return o?[s,new r(o.row,o.column,o.row,o.column+1)]:[s]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(t,e,i){var r=this.$brackets[t],s=1,o=new n(this,e.row,e.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-o.getCurrentTokenColumn()-2,h=a.value;;){for(;l>=0;){var c=h.charAt(l);if(c==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else c==t&&(s+=1);l-=1}do{a=o.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=(h=a.value).length-1}return null}},this.$findClosingBracket=function(t,e,i){var r=this.$brackets[t],s=1,o=new n(this,e.row,e.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-o.getCurrentTokenColumn();;){for(var h=a.value,c=h.length;l<c;){var u=h.charAt(l);if(u==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==t&&(s+=1);l+=1}do{a=o.stepForward()}while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/lang"),s=t("./bidihandler").BidiHandler,o=t("./config"),a=t("./lib/event_emitter").EventEmitter,l=t("./selection").Selection,h=t("./mode/text").Mode,c=t("./range").Range,u=t("./document").Document,d=t("./background_tokenizer").BackgroundTokenizer,f=t("./search_highlight").SearchHighlight,p=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new u(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(e),o._signal("session",this)};p.$uid=0,(function(){n.implement(this,a),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>i&&(this.$docRowCache.splice(i,e),this.$screenRowCache.splice(i,e))},this.$getRowCacheIndex=function(t,e){for(var i=0,n=t.length-1;i<=n;){var r=i+n>>1,s=t[r];if(e>s)i=r+1;else{if(!(e<s))return r;n=r-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){this.$resetRowCache(t.data.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&(e&&e.length&&(this.$undoManager.add({action:"removeFolds",folds:e},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(t,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var i,n=this.bgTokenizer.getTokens(t),r=0;if(null==e){var s=n.length-1;r=this.getLine(t).length}else for(s=0;s<n.length&&!((r+=n[s].value.length)>=e);s++);return(i=n[s])?(i.index=s,i.start=r-i.value.length,i):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;t.addSession(this),this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,i,n){var r=this.$markerId++,s={range:t,type:i||"line",renderer:"function"==typeof i?i:null,clazz:e,inFront:!!n,id:r};return n?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var i=this.$markerId++;return t.id=i,t.inFront=!!e,e?(this.$frontMarkers[i]=t,this._signal("changeFrontMarker")):(this.$backMarkers[i]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];e&&(delete(e.inFront?this.$frontMarkers:this.$backMarkers)[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,i,n){"number"!=typeof e&&(i=e,e=t),i||(i="ace_step");var r=new c(t,0,e,1/0);return r.id=this.addMarker(r,i,"fullLine",n),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var i=this.getLine(t),n=!1;if(e>0&&(n=!!i.charAt(e-1).match(this.tokenRe)),n||(n=!!i.charAt(e).match(this.tokenRe)),n)var r=this.tokenRe;else r=/^\s+$/.test(i.slice(e-1,e+1))?/\s/:this.nonTokenRe;var s=e;if(s>0){do{s--}while(s>=0&&i.charAt(s).match(r));s++}for(var o=e;o<i.length&&i.charAt(o).match(r);)o++;return new c(t,s,t,o)},this.getAWordRange=function(t,e){for(var i=this.getWordRange(t,e),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){this.bgTokenizer.start(t.data.first),this._signal("tokenizerUpdate",t)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var i=t,n=t.path}else n=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(e&&e());this.$modeId=n,o.loadModule(["mode",n],(function(t){if(this.$modeId!==n)return e&&e();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):t&&t.Mode&&(t=new t.Mode(i),i||(this.$modes[n]=t,t.$id=n),this.$onChangeMode(t)),e&&e()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){var i=this.$mode;this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.on){var r=this.onReloadTokenizer.bind(this);n.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var s=this;this.bgTokenizer.on("update",function(t){s._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:i,mode:t}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=e.length,l=0;l<a;l++){if(l>o){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(e[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var i=t.length-1;-1!=i;i--){var n=t[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!e&&this.$undoSelect&&(t.selectionBefore?this.selection.fromJSON(t.selectionBefore):this.selection.setRange(this.$getUndoSelection(t,!0))),this.$fromUndo=!1}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var i=0;i<t.length;i++){var n=t[i];"insert"!=n.action&&"remove"!=n.action||this.doc.$safeApplyDelta(n)}!e&&this.$undoSelect&&(t.selectionAfter?this.selection.fromJSON(t.selectionAfter):this.selection.setRange(this.$getUndoSelection(t,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e){function i(t){return e?"insert"!==t.action:"insert"===t.action}for(var n,r,s=0;s<t.length;s++){var o=t[s];o.start&&(n?i(o)?(-1==n.compare((r=o.start).row,r.column)&&n.setStart(r),1==n.compare((r=o.end).row,r.column)&&n.setEnd(r)):-1==n.compare((r=o.start).row,r.column)&&(n=c.fromPoints(o.start,o.start)):n=i(o)?c.fromPoints(o.start,o.end):c.fromPoints(o.start,o.start))}return n},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,i){var n=this.getTextRange(t),r=this.getFoldsInRange(t),s=c.fromPoints(e,e);if(i||(this.remove(t),(h=(l=t.start.row-t.end.row)?-t.end.column:t.start.column-t.end.column)&&(s.start.row==t.end.row&&s.start.column>t.end.column&&(s.start.column+=h),s.end.row==t.end.row&&s.end.column>t.end.column&&(s.end.column+=h)),l&&s.start.row>=t.end.row&&(s.start.row+=l,s.end.row+=l)),s.end=this.insert(s.start,n),r.length){var o=t.start,a=s.start,l=a.row-o.row,h=a.column-o.column;this.addFolds(r.map(function(t){return(t=t.clone()).start.row==o.row&&(t.start.column+=h),t.end.row==o.row&&(t.end.column+=h),t.start.row+=l,t.end.row+=l,t}))}return s},this.indentRows=function(t,e,i){i=i.replace(/\t/g,this.getTabString());for(var n=t;n<=e;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(t){for(var e=t.collapseRows(),i=new c(0,0,0,0),n=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var s=this.getLine(r);i.start.row=r,i.end.row=r;for(var o=0;o<n&&" "==s.charAt(o);++o);o<n&&"\t"==s.charAt(o)?(i.start.column=o,i.end.column=o+1):(i.start.column=0,i.end.column=o),this.remove(i)}},this.$moveLines=function(t,e,i){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),i<0){if((r=this.getRowFoldStart(t+i))<0)return 0;var n=r-t}else if(i>0){var r;if((r=this.getRowFoldEnd(e+i))>this.doc.getLength()-1)return 0;n=r-e}else t=this.$clipRowToDocument(t),n=(e=this.$clipRowToDocument(e))-t+1;var s=new c(t,0,e,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(t){return(t=t.clone()).start.row+=n,t.end.row+=n,t}),a=0==i?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+n,a),o.length&&this.addFolds(o),n},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)t=0,e=0;else{var i=this.doc.getLength();t>=i?(t=i-1,e=this.doc.getLine(i-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var i=this.$wrapLimitRange;i.max<0&&(i={min:e,max:e});var n=this.$constrainWrapLimit(t,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,i){return e&&(t=Math.max(e,t)),i&&(t=Math.min(i,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,i=t.action,n=t.start,r=t.end,s=n.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[e?"$wrapData":"$rowLengthCache"].splice(s,a);var h=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var c=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,n.column-r.column),g.shiftRow(-a);var u=this.getFoldLine(s);u&&u!==g&&(u.merge(g),g=u),c=h.indexOf(g)+1}for(;c<h.length;c++)(g=h[c]).start.row>=r.row&&g.shiftRow(-a);o=s}else{var d=Array(a);d.unshift(s,0);var f=e?this.$wrapData:this.$rowLengthCache;if(f.splice.apply(f,d),h=this.$foldData,c=0,g=this.getFoldLine(s)){var p=g.range.compareInside(n.row,n.column);0==p?(g=g.split(n.row,n.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-n.column)):-1==p&&(g.addRemoveChars(s,0,r.column-n.column),g.shiftRow(a)),c=h.indexOf(g)+1}for(;c<h.length;c++){var g;(g=h[c]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===i&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,n.column,a);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(t,e,i){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(i,n){var r,s,o=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,h=this.$wrapLimit,c=i;for(n=Math.min(n,o.length-1);c<=n;)(s=this.getFoldLine(c,s))?(r=[],s.walk((function(i,n,s,a){var l;if(null!=i){(l=this.$getDisplayTokens(i,r.length))[0]=t;for(var h=1;h<l.length;h++)l[h]=e}else l=this.$getDisplayTokens(o[n].substring(a,s),r.length);r=r.concat(l)}).bind(this),s.end.row,o[s.end.row].length+1),l[s.start.row]=this.$computeWrapSplits(r,h,a),c=s.end.row+1):(r=this.$getDisplayTokens(o[c]),l[c]=this.$computeWrapSplits(r,h,a),c++)};var t=3,e=4;function i(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}this.$computeWrapSplits=function(i,n,r){if(0==i.length)return[];var s=[],o=i.length,a=0,l=0,h=this.$wrapAsCode,c=this.$indentedSoftWrap,u=n<=Math.max(2*r,8)||!1===c?0:Math.floor(n/2);function d(t){for(var e=t-a,n=a;n<t;n++){var o=i[n];12!==o&&2!==o||(e-=1)}s.length||(f=function(){var t=0;if(0===u)return t;if(c)for(var e=0;e<i.length;e++){var n=i[e];if(10==n)t+=1;else{if(11!=n){if(12==n)continue;break}t+=r}}return h&&!1!==c&&(t+=r),Math.min(t,u)}(),s.indent=f),s.push(l+=e),a=t}for(var f=0;o-a>n-f;){var p=a+n-f;if(i[p-1]>=10&&i[p]>=10)d(p);else if(i[p]!=t&&i[p]!=e){for(var g=Math.max(p-(n-(n>>2)),a-1);p>g&&i[p]<t;)p--;if(h){for(;p>g&&i[p]<t;)p--;for(;p>g&&9==i[p];)p--}else for(;p>g&&i[p]<10;)p--;p>g?d(++p):(2==i[p=a+n]&&p--,d(p-f))}else{for(;p!=a-1&&i[p]!=t;p--);if(p>a){d(p);continue}for(p=a+n;p<i.length&&i[p]==e;p++);if(p==i.length)break;d(p)}}return s},this.$getDisplayTokens=function(t,e){var n,r=[];e=e||0;for(var s=0;s<t.length;s++){var o=t.charCodeAt(s);if(9==o){n=this.getScreenTabSize(r.length+e),r.push(11);for(var a=1;a<n;a++)r.push(12)}else 32==o?r.push(10):o>39&&o<48||o>57&&o<64?r.push(9):o>=4352&&i(o)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(t,e,n){if(0==e)return[0,0];var r,s;for(null==e&&(e=1/0),n=n||0,s=0;s<t.length&&(9==(r=t.charCodeAt(s))?n+=this.getScreenTabSize(n):r>=4352&&i(r)?n+=2:n+=1,!(n>e));s++);return[n,s]},this.lineWidgets=null,this.getRowLength=function(t){var e=1;return this.lineWidgets&&(e+=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0),this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+e:e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),i=this.$wrapData[e.row];return i.length&&i[0]<e.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var i=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(t,e){var i=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-(t%this.$tabSize|0)},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e,i){if(t<0)return{row:0,column:0};var n,r,s=0,o=0,a=0,l=0,h=this.$screenRowCache,c=this.$getRowCacheIndex(h,t),u=h.length;if(u&&c>=0){a=h[c],s=this.$docRowCache[c];var d=t>h[u-1]}else d=!u;for(var f=this.getLength()-1,p=this.getNextFoldLine(s),g=p?p.start.row:1/0;a<=t&&!(a+(l=this.getRowLength(s))>t||s>=f);)a+=l,++s>g&&(g=(p=this.getNextFoldLine(s=p.end.row+1,p))?p.start.row:1/0),d&&(this.$docRowCache.push(s),this.$screenRowCache.push(a));if(p&&p.start.row<=s)n=this.getFoldDisplayLine(p),s=p.start.row;else{if(a+l<=t||s>f)return{row:f,column:this.getLine(f).length};n=this.getLine(s),p=null}var m=0,v=Math.floor(t-a);if(this.$useWrapMode){var y=this.$wrapData[s];y&&(r=y[v],v>0&&y.length&&(m=y.indent,n=n.substring(o=y[v-1]||y[y.length-1])))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+v,s,v)&&(e=this.$bidiHandler.offsetToCol(i)),o+=this.$getStringScreenWidth(n,e-m)[1],this.$useWrapMode&&o>=r&&(o=r-1),p?p.idxToPosition(o):{row:s,column:o}},this.documentToScreenPosition=function(t,e){if(void 0===e)var i=this.$clipPositionToDocument(t.row,t.column);else i=this.$clipPositionToDocument(t,e);var n,r=0,s=null;(n=this.getFoldAt(t=i.row,e=i.column,1))&&(t=n.start.row,e=n.start.column);var o,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,t),c=l.length;if(c&&h>=0){a=l[h],r=this.$screenRowCache[h];var u=t>l[c-1]}else u=!c;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<t;){if(a>=f){if((o=d.end.row+1)>t)break;f=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),s=d.start.row):(p=this.getLine(t).substring(0,e),s=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;p.length>=m[v];)r++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,r=(a=0,(e=this.$foldData[a++])?e.start.row:1/0);n<i;){var s=this.$wrapData[n];t+=s?s.length+1:1,++n>r&&(n=e.end.row+1,r=(e=this.$foldData[a++])?e.start.row:1/0)}else{t=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)t-=(e=o[a]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,i,n){if(0===i)return[0,0];var r,s;for(i||(i=1/0),n=n||0,s=0;s<e.length&&!((n+="\t"===(r=e.charAt(s))?this.getScreenTabSize(n):t.getCharacterWidth(r))>i);s++);return[n,s]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=i}).call(p.prototype),t("./edit_session/folding").Folding.call(p.prototype),t("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){(t=parseInt(t))>0&&this.$tabSize!==t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(t){this.setFoldStyle(t)},handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId},handlesSet:!0}}),e.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,i){"use strict";var n=t("./lib/lang"),r=t("./lib/oop"),s=t("./range").Range,o=function(){this.$options={}};(function(){this.set=function(t){return r.mixin(this.$options,t),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,i=this.$matchIterator(t,e);if(!i)return!1;var n=null;return i.forEach(function(t,i,r,o){return n=new s(t,i,r,o),!(i==o&&e.start&&e.start.start&&0!=e.skipCurrent&&n.isEqual(e.start)&&(n=null,1))}),n},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var i=e.range,r=i?t.getLines(i.start.row,i.end.row):t.doc.getAllLines(),o=[],a=e.re;if(e.$isMultiLine){var l,h=a.length,c=r.length-h;t:for(var u=a.offset||0;u<=c;u++){for(var d=0;d<h;d++)if(-1==r[u+d].search(a[d]))continue t;var f=r[u],p=r[u+h-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[h-1])[0].length;l&&l.end.row===u&&l.end.column>g||(o.push(l=new s(u,g,u+h-1,m)),h>2&&(u=u+h-2))}}else for(var v=0;v<r.length;v++){var y=n.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}}if(i){var _=i.start.column,w=i.start.column;for(v=0,d=o.length-1;v<d&&o[v].start.column<_&&o[v].start.row==i.start.row;)v++;for(;v<d&&o[d].end.column>w&&o[d].end.row==i.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=i.start.row,o[v].end.row+=i.start.row}return o},this.replace=function(t,e){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return e;if(n){var r=n.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(n,e),i.preserveCase){e=e.split("");for(var s=Math.min(t.length,t.length);s--;){var o=t[s];e[s]=o&&o.toLowerCase()!=o?e[s].toUpperCase():e[s].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var i=t.needle;if(!t.needle)return t.re=!1;t.regExp||(i=n.escapeRegExp(i)),t.wholeWord&&(i=function(t,e){function i(t){return/\w/.test(t)||e.regExp?"\\b":""}return i(t[0])+t+i(t[t.length-1])}(i,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(i),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(i,r);try{var s=new RegExp(i,r)}catch(o){s=!1}return t.re=s},this.$assembleMultilineRegExp=function(t,e){for(var i=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],r=0;r<i.length;r++)try{n.push(new RegExp(i[r],e))}catch(s){return!1}return n},this.$matchIterator=function(t,e){var i=this.$assembleRegExp(e);if(!i)return!1;var n=1==e.backwards,r=0!=e.skipCurrent,s=e.range,o=e.start;o||(o=s?s[n?"end":"start"]:t.selection.getRange()),o.start&&(o=o[r!=n?"end":"start"]);var a=s?s.start.row:0,l=s?s.end.row:t.getLength()-1;if(n)var h=function(t){var i=o.row;if(!u(i,o.column,t)){for(i--;i>=a;i--)if(u(i,Number.MAX_VALUE,t))return;if(0!=e.wrap)for(i=l,a=o.row;i>=a;i--)if(u(i,Number.MAX_VALUE,t))return}};else h=function(t){var i=o.row;if(!u(i,o.column,t)){for(i+=1;i<=l;i++)if(u(i,0,t))return;if(0!=e.wrap)for(i=a,l=o.row;i<=l;i++)if(u(i,0,t))return}};if(e.$isMultiLine)var c=i.length,u=function(e,r,s){var o=n?e-c+1:e;if(!(o<0)){var a=t.getLine(o),l=a.search(i[0]);if(!(!n&&l<r||-1===l)){for(var h=1;h<c;h++)if(-1==(a=t.getLine(o+h)).search(i[h]))return;var u=a.match(i[c-1])[0].length;if(!(n&&u>r))return!!s(o,l,o+c-1,u)||void 0}}};else u=n?function(e,n,r){var s,o=t.getLine(e),a=[],l=0;for(i.lastIndex=0;s=i.exec(o);){if(l=s.index,!(c=s[0].length)){if(l>=o.length)break;i.lastIndex=l+=1}if(s.index+c>n)break;a.push(s.index,c)}for(var h=a.length-1;h>=0;h-=2){var c,u=a[h-1];if(r(e,u,e,u+(c=a[h])))return!0}}:function(e,n,r){var s,o,a=t.getLine(e);for(i.lastIndex=n;o=i.exec(a);){var l=o[0].length;if(r(e,s=o.index,e,s+l))return!0;if(!l&&(i.lastIndex=s+=1,s>=a.length))return!1}};return{forEach:h}}}).call(o.prototype),e.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("../lib/keys"),r=t("../lib/useragent"),s=n.KEY_MODS;function o(t,e){this.platform=e||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function a(t,e){o.call(this,t,e),this.$singleCommand=!1}a.prototype=o.prototype,(function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var i=t&&("string"==typeof t?t:t.name);t=this.commands[i],e||delete this.commands[i];var n=this.commandKeyBinding;for(var r in n){var s=n[r];if(s==t)delete n[r];else if(Array.isArray(s)){var o=s.indexOf(t);-1!=o&&(s.splice(o,1),1==s.length&&(n[r]=s[0]))}}},this.bindKey=function(t,e,i){if("object"==typeof t&&t&&(null==i&&(i=t.position),t=t[this.platform]),t)return"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach(function(t){var n="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach(function(t){var e=this.parseKeys(t);this._addCommandToBinding(n+=(n?" ":"")+(s[e.hashId]+e.key),"chainKeys")},this),n+=" "}var o=this.parseKeys(t);this._addCommandToBinding(n+(s[o.hashId]+o.key),e,i)},this)},this._addCommandToBinding=function(e,i,n){var r,s=this.commandKeyBinding;if(i)if(!s[e]||this.$singleCommand)s[e]=i;else{Array.isArray(s[e])?-1!=(r=s[e].indexOf(i))&&s[e].splice(r,1):s[e]=[s[e]],"number"!=typeof n&&(n=t(i));var o=s[e];for(r=0;r<o.length&&!(t(o[r])>n);r++);o.splice(r,0,i)}else delete s[e]},this.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var i=t[e];if(i){if("string"==typeof i)return this.bindKey(i,e);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=e),this.addCommand(i))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),i=e.pop(),r=n[i];if(n.FUNCTION_KEYS[r])i=n.FUNCTION_KEYS[r].toLowerCase();else{if(!e.length)return{key:i,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:i.toUpperCase(),hashId:-1}}for(var s=0,o=e.length;o--;){var a=n.KEY_MODS[e[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[o]+" in "+t),!1;s|=a}return{key:i,hashId:s}},this.findKeyCommand=function(t,e){return this.commandKeyBinding[s[t]+e]},this.handleKeyboard=function(t,e,i,n){if(!(n<0)){var r=s[e]+i,o=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,o=this.commandKeyBinding[t.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(t.$keyChain&&(e&&4!=e||1!=i.length?(-1==e||n>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:o}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}).call(o.prototype),e.HashHandler=o,e.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,s=t("../lib/event_emitter").EventEmitter,o=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};n.inherits(o,r),(function(){n.implement(this,s),this.exec=function(t,e,i){if(Array.isArray(t)){for(var n=t.length;n--;)if(this.exec(t[n],e,i))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;if(0!=this.$checkCommandState&&t.isAvailable&&!t.isAvailable(e))return!1;var r={editor:e,command:t,args:i};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}).call(o.prototype),e.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e,i){"use strict";var n=t("../lib/lang"),r=t("../config"),s=t("../range").Range;function o(t,e){return{win:t,mac:e}}e.commands=[{name:"showSettingsMenu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:o("Alt-E","F4"),exec:function(t){r.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){r.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,e){"number"!=typeof e||isNaN(e)||t.gotoLine(e),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty()?t.selection.getLineRange():t.selection.getRange();t._emit("cut",e),e.isEmpty()||t.session.remove(e),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,e){t.insert(n.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var e=t.selection.isBackwards(),i=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),r=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),o=t.session.doc.getLine(i.row).length,a=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,l=t.session.doc.getLine(i.row),h=i.row+1;h<=r.row+1;h++){var c=n.stringTrimLeft(n.stringTrimRight(t.session.doc.getLine(h)));0!==c.length&&(c=" "+c),l+=c}r.row+1<t.session.doc.getLength()-1&&(l+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new s(i.row,0,r.row+2,0),l),a>0?(t.selection.moveCursorTo(i.row,i.column),t.selection.selectTo(i.row,i.column+a)):(o=t.session.doc.getLine(i.row).length>o?o+1:o,t.selection.moveCursorTo(i.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var e=t.session.doc.getLength()-1,i=t.session.doc.getLine(e).length,n=t.selection.rangeList.ranges,r=[];n.length<1&&(n=[t.selection.getRange()]);for(var o=0;o<n.length;o++)o==n.length-1&&(n[o].end.row===e&&n[o].end.column===i||r.push(new s(n[o].end.row,n[o].end.column,e,i))),0===o?0===n[o].start.row&&0===n[o].start.column||r.push(new s(0,0,n[o].start.row,n[o].start.column)):r.push(new s(n[o-1].end.row,n[o-1].end.column,n[o].start.row,n[o].start.column));for(t.exitMultiSelectMode(),t.clearSelection(),o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(t){t.selection.clearSelection();var e=t.getCursorPosition();t.selection.moveTo(e.row-1,Number.MAX_VALUE),t.insert("\n"),0===e.row&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)e.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(t,e,i){"use strict";t("./lib/fixoldbrowsers");var n=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/lang"),o=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,l=t("./mouse/mouse_handler").MouseHandler,h=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,u=t("./edit_session").EditSession,d=t("./search").Search,f=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,g=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,b=t("./clipboard"),_=function(t,e,i){this.$toDestroy=[];var n=t.getContainerElement();this.container=n,this.renderer=t,this.id="editor"+ ++_.$uid,this.commands=new g(o.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new h(this)),this.keyBinding=new c(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||i&&i.session||new u("")),v.resetOptions(this),i&&this.setOptions(i),v._signal("editor",this)};_.$uid=0,(function(){n.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(t){if(this.curOp&&this.session){if(t&&!1===t.returnValue||!this.session)return this.curOp=null;if(1==t&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var e=this.curOp.command,i=e&&e.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),r=this.renderer.layerConfig;(n.start.row>=r.lastRow||n.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,i=this.$mergeableCommands,n=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var i=this;v.loadModule(["keybinding",t],function(n){i.$keybindingId==t&&i.keyBinding.setKeyboardHandler(n&&n.handler),e&&e()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout(function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){e.$bracketHighlight&&(e.$bracketHighlight.markerIds.forEach(function(t){e.removeMarker(t)}),e.$bracketHighlight=null);var i=e.getMatchingBracketRanges(t.getCursorPosition());if(!i&&e.$mode.getMatching&&(i=e.$mode.getMatching(t.session)),i){var n="ace_bracket";Array.isArray(i)?1==i.length&&(n="ace_error_bracket"):i=[i],2==i.length&&(0==f.comparePoints(i[0].end,i[1].start)?i=[f.fromPoints(i[0].start,i[1].end)]:0==f.comparePoints(i[0].start,i[1].end)&&(i=[f.fromPoints(i[1].start,i[0].end)])),e.$bracketHighlight={ranges:i,markerIds:i.map(function(t){return e.addMarker(t,n,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout(function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var i=t.getCursorPosition(),n=new y(t.session,i.row,i.column),r=n.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=n.stepForward())){var s=r.value,o=r.value,a=0,l=n.stepBackward();if("<"===l.value)do{l=r,(r=n.stepForward())&&(-1!==r.type.indexOf("tag-name")?s===(o=r.value)&&("<"===l.value?a++:"</"===l.value&&a--):s===o&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=l,l=n.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))s===r.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===r.value){for(var h=0,c=l;c;){if(-1!==c.type.indexOf("tag-name")&&c.value===s){a--;break}if("<"===c.value)break;c=n.stepBackward(),h++}for(var u=0;u<h;u++)n.stepForward()}}while(l&&a<=0);n.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var d=n.getCurrentTokenRow(),p=n.getCurrentTokenColumn(),g=new f(d,p,d,p+r.value.length),m=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=m&&0!==g.compareRange(m.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),e.$tagHighlight||(e.$tagHighlight=e.addMarker(g,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.isFocused()||t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(t){this.renderer.updateLines(t.start.row,t.start.row==t.end.row?t.end.row:1/0,this.session.$useWrapMode),this._signal("change",t),this.$cursorChange()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var i=new f(t.row,t.column,t.row,1/0);i.id=e.addMarker(i,"ace_active-line","screenLine"),e.$highlightLineMarker=i}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(i,"ace_selection",n)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var i=e.start.column,n=e.end.column,r=t.getLine(e.start.row),s=r.substring(i,n);if(!(s.length>5e3)&&/[\w\d]/.test(s)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),a=r.substring(i-1,n+1);if(o.test(a))return o}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText(),e=this.session.doc.getNewLineCharacter(),i=!1;if(!t&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),r=0;r<n.length;r++){var s=n[r];r&&n[r-1].start.row==s.start.row||(t+=this.session.getLine(s.start.row)+e)}}var o={text:t};return this._signal("copy",o),b.lineMode=i?o.text:"",o.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){this.commands.exec("paste",this,{text:t,event:e})},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text,i=e==b.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},e):this.insert(e);else if(i)this.selection.rangeList.ranges.forEach(function(t){n.insert({row:t.start.row,column:0},e)});else{var r=e.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges;if(r.length!=s.length||!(2!=r.length||r[0]&&r[1]))return this.commands.exec("insertstring",this,e);for(var o=s.length;o--;){var a=s[o];a.isEmpty()||n.remove(a),n.insert(a.start,r[o])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var i=this.session,n=i.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var s=n.transformAction(i.getState(r.row),"insertion",this,i,t);s&&(t!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),t=s.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==t.indexOf("\n")&&((o=new f.fromPoints(r,r)).end.column+=t.length,this.session.remove(o));else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=i.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);i.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var h=r.column,c=i.getState(r.row),u=(a=i.getLine(r.row),n.checkOutdent(c,a,t));if(i.insert(r,t),s&&s.selection&&this.selection.setSelectionRange(2==s.selection.length?new f(r.row,h+s.selection[0],r.row,h+s.selection[1]):new f(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3])),this.$enableAutoIndent){if(i.getDocument().isNewLine(t)){var d=n.getNextLineIndent(c,a.slice(0,r.column),i.getTabString());i.insert({row:r.row+1,column:0},d)}u&&n.autoOutdent(c,i,r.row)}},this.autoIndent=function(){var t,e,i=this.session,n=i.getMode();if(this.selection.isEmpty())t=0,e=i.doc.getLength()-1;else{var r=this.getSelectionRange();t=r.start.row,e=r.end.row}for(var s,o,a,l="",h="",c="",u=i.getTabString(),d=t;d<=e;d++)d>0&&(l=i.getState(d-1),h=i.getLine(d-1),c=n.getNextLineIndent(l,h,u)),s=i.getLine(d),c!==(o=n.$getIndent(s))&&(o.length>0&&(a=new f(d,0,d,o.length),i.remove(a)),c.length>0&&i.insert({row:d,column:0},c)),n.autoOutdent(l,i,d)},this.onTextInput=function(t,e){if(!e)return this.keyBinding.onTextInput(t);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,t,e);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(t,e){var i;(e.extendLeft||e.extendRight)&&((i=this.selection.getRange()).start.column-=e.extendLeft,i.end.column+=e.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),t||i.isEmpty()||this.remove()),!t&&this.selection.isEmpty()||this.insert(t,!0),(e.restoreStart||e.restoreEnd)&&((i=this.selection.getRange()).start.column-=e.restoreStart,i.end.column-=e.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(t,e,i){return this.keyBinding.onCommandKey(t,e,i)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(e.start.row),r=i.getMode().transformAction(n,"deletion",this,i,e);if(0===e.end.column){var s=i.getTextRange(e);if("\n"==s[s.length-1]){var o=i.getLine(e.end.row);/^\s+$/.test(o)&&(e.end.column=o.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var i,n,r=this.session.getLine(t.row);e<r.length?(i=r.charAt(e)+r.charAt(e-1),n=new f(t.row,e-1,t.row,e+1)):(i=r.charAt(e-1)+r.charAt(e-2),n=new f(t.row,e-2,t.row,e)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),i=this.session.getTextRange(e);this.session.replace(e,i.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),i=this.session.getTextRange(e);this.session.replace(e,i.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(!(e.start.row<e.end.row)){if(e.start.column<e.end.column){var i=t.getTextRange(e);if(!/^\s+$/.test(i))return c=this.$getSelectedRows(),void t.indentRows(c.first,c.last,"\t")}var n=t.getLine(e.start.row),r=e.start,o=t.getTabSize(),a=t.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s.stringRepeat(" ",h=o-a%o);else{for(var h=a%o;" "==n[e.start.column-1]&&h;)e.start.column--,h--;this.selection.setSelectionRange(e),l="\t"}return this.insert(l)}var c=this.$getSelectedRows();t.indentRows(c.first,c.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),e=this.session,i=[],n=t.first;n<=t.last;n++)i.push(e.getLine(n));i.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});var r=new f(0,0,0,0);for(n=t.first;n<=t.last;n++){var s=e.getLine(n);r.start.row=n,r.end.row=n,r.end.column=s.length,e.replace(r,i[n-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,i,t)},this.getNumberAt=function(t,e){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(t);i.lastIndex<e;){var r=i.exec(n);if(r.index<=e&&r.index+r[0].length>=e)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new f(e,i-1,e,i),r=this.session.getTextRange(n);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(e,i);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),l+=t*=o!==s.end&&i<o?Math.pow(10,s.end-i-1):Math.pow(10,s.end-i);var h=(l/=Math.pow(10,a)).toFixed(a),c=new f(e,s.start,e,s.end);this.session.replace(c,h),this.moveCursorTo(e,Math.max(s.start+1,i+h.length-s.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var t=this.selection.getCursor().row,e=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),n=this.selection.getWordRange().start.column,r=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=e-n-1;o<0&&(o=0);var a=0,l=0,h=this;i.match(/[A-Za-z0-9_]+/)&&r.forEach(function(e,r){l=a+e.length,o>=a&&o<=l&&(i=e,h.selection.clearSelection(),h.moveCursorTo(t,a+n),h.selection.selectTo(t,l+n)),a=l});for(var c,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var f=u[d],p=0;p<=1;p++){var g=+!p,m=i.match(new RegExp("^\\s?_?("+s.escapeRegExp(f[p])+")\\s?$","i"));m&&i.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(m[1])+")($|\\s)","g"))&&(c=i.replace(new RegExp(s.escapeRegExp(f[p]),"i"),function(t){var e=f[g];return t.toUpperCase()==t?e=e.toUpperCase():t.charAt(0).toUpperCase()==t.charAt(0)&&(e=e.substr(0,0)+f[g].charAt(0).toUpperCase()+e.substr(1)),e}),this.insert(c),c="")}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,i=t.getRange(),n=t.isBackwards();if(i.isEmpty()){var r=i.start.row;e.duplicateLines(r,r)}else{var s=n?i.start:i.end,o=e.insert(s,e.getTextRange(i),!1);i.start=s,i.end=o,t.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,i){return this.session.moveText(t,e,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var i,n,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();i=this.$getSelectedRows(s),n=this.session.$moveLines(i.first,i.last,e?0:t),e&&-1==t&&(n=0),s.moveBy(n,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,h=o.length,c=0;c<h;c++){var u=c;o[c].moveBy(a,0);for(var d=(i=this.$getSelectedRows(o[c])).first,f=i.last;++c<h;){l&&o[c].moveBy(l,0);var p=this.$getSelectedRows(o[c]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(c--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(u=c+1);u<=c;)o[u].moveBy(a,0),u++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(t)},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var i=this.renderer,n=this.renderer.layerConfig,r=t*Math.floor(n.height/n.lineHeight);!0===e?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var s=i.scrollTop;i.scrollBy(0,r*n.lineHeight),null!=e&&i.scrollCursorIntoView(null,.5),i.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,i,n){this.renderer.scrollToLine(t,e,i,n)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var i=this.getCursorPosition(),n=new y(this.session,i.row,i.column),r=n.getCurrentToken(),s=r||n.stepForward();if(s){var o,a,l=!1,h={},c=i.column-s.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;c<s.value.length&&!l;c++)if(u[s.value[c]])switch(a=u[s.value[c]]+"."+s.type.replace("rparen","lparen"),isNaN(h[a])&&(h[a]=0),s.value[c]){case"(":case"[":case"{":h[a]++;break;case")":case"]":case"}":h[a]--,-1===h[a]&&(o="bracket",l=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(h[s.value])&&(h[s.value]=0),"<"===r.value?h[s.value]++:"</"===r.value&&h[s.value]--,-1===h[s.value]&&(o="tag",l=!0));l||(r=s,s=n.stepForward(),c=0)}while(s&&!l);if(o){var d,p;if("bracket"===o)(d=this.session.getBracketRange(i))||(p=(d=new f(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1)).start,(e||p.row===i.row&&Math.abs(p.column-i.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===o){if(!s||-1===s.type.indexOf("tag-name"))return;var g=s.value;if(0===(d=new f(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column)){l=!1;do{s=r,(r=n.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),s.value===g&&-1!==s.type.indexOf("tag-name")&&("<"===r.value?h[g]++:"</"===r.value&&h[g]--,0===h[g]&&(l=!0)))}while(r&&!l)}s&&s.type.indexOf("tag-name")&&(p=d.start).row==i.row&&Math.abs(p.column-i.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,i){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,i)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,t)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),n):n},this.replaceAll=function(t,e){e&&this.$search.set(e);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=i.length-1;s>=0;--s)this.$tryReplace(i[s],t)&&n++;return this.selection.setSelectionRange(r),n},this.$tryReplace=function(t,e){var i=this.session.getTextRange(t);return null!==(e=this.$search.replace(i,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,i){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&n.mixin(e,t);var r=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var s=this.$search.find(this.session);return e.preventScroll?s:s?(this.revealRange(s,i),s):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.session.unfold(t),this.selection.setSelectionRange(t);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(t){t.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",function(){n=!0}),o=this.renderer.on("beforeRender",function(){n&&(e=i.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(n&&e&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var t=i.renderer,s=t.$cursorLayer.$pixelPos,o=t.layerConfig,a=s.top-o.offset;null!=(n=s.top>=0&&a+e.top<0||!(s.top<o.height&&s.top+e.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(n)),n=e=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,r.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))},this.prompt=function(t,e,i){var n=this;v.loadModule("./ext/prompt",function(r){r.prompt(n,t,e,i)})}}).call(_.prototype),v.defineOptions(_.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(t){this.textInput.setCopyWithEmptySelection(t)},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(t){this.session.setValue(t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(t){this.setSession(t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(t){this.renderer.$gutterLayer.setShowLineNumbers(t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),t&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(t){this.$showLineNumbers&&t?w.attach(this):w.detach(this)}},placeholder:{set:function(t){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var t=this.session&&(this.renderer.$composition||this.getValue());if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(t||this.renderer.placeholderNode)!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var e=r.createElement("div");e.className="ace_placeholder",e.textContent=this.$placeholder||"",this.renderer.placeholderNode=e,this.renderer.content.appendChild(this.renderer.placeholderNode)}}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(t,e){return(Math.abs(t.selection.lead.row-e)||e+1+(e<9?"\xb7":""))+""},getWidth:function(t,e,i){return Math.max(e.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(t,e){e.renderer.$loop.schedule(e.renderer.CHANGE_GUTTER)},attach:function(t){t.renderer.$gutterLayer.$renderer=this,t.on("changeSelection",this.update),this.update(null,t)},detach:function(t){t.renderer.$gutterLayer.$renderer==this&&(t.renderer.$gutterLayer.$renderer=null),t.off("changeSelection",this.update),this.update(null,t)}};e.Editor=_}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(t){this.$session=t},this.add=function(t,e,i){this.$fromUndo||t!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==e&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),t.id=this.$rev=++this.$maxRev),"remove"!=t.action&&"insert"!=t.action||(this.$lastDelta=t),this.lastDeltas.push(t))},this.addSelection=function(t,e){this.selections.push({value:t,rev:e||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(t,e){null==e&&(e=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var r=i[n][0];if(r.id<=t)break;r.id<e&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(t,e){for(var i=this.selections,n=i.length;n--;){var r=i[n];if(r.rev<t)return e&&(r=i[n+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(t,e){null==e&&(e=this.$rev+1);for(var i=this.$undoStack,n=null,r=0,s=i.length;s--;){var o=i[s][0];if(o.id<e&&!n&&(n=s+1),o.id<=t){r=s+1;break}}return i.slice(r,n)},this.getChangedRanges=function(t,e){null==e&&(e=this.$rev+1)},this.getChangedLines=function(t,e){null==e&&(e=this.$rev+1)},this.undo=function(t,e){this.lastDeltas=null;var i=this.$undoStack;if(function(t,e){for(var i=e;i--;){var n=t[i];if(n&&!n[0].ignore){for(;i<e-1;){var r=c(t[i],t[i+1]);t[i]=r[0],t[i+1]=r[1],i++}return!0}}}(i,i.length)){t||(t=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),r=null;return n&&(r=t.undoChanges(n,e),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(t,e){if(this.lastDeltas=null,t||(t=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(t,e){for(var i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++)g(t,n[r])}(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(t){t[0].id=++this.$maxRev},this)}var n=this.$redoStack.pop(),r=null;return n&&(r=t.redoChanges(n,e),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var t=this.$undoStack,e=t[t.length-1],i=e&&e[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(t){null==t&&(t=this.$rev),this.mark=t},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(t){return t?a(t):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(n.prototype);var r=t("./range").Range,s=r.comparePoints;function o(t){return{row:t.row,column:t.column}}function a(t){if(t=t||this,Array.isArray(t))return t.map(a).join("\n");var e="";return t.action?(e="insert"==t.action?"+":"-",e+="["+t.lines+"]"):t.value&&(e=Array.isArray(t.value)?t.value.map(l).join("\n"):l(t.value)),t.start&&(e+=l(t)),(t.id||t.rev)&&(e+="\t("+(t.id||t.rev)+")"),e}function l(t){return t.start.row+":"+t.start.column+"=>"+t.end.row+":"+t.end.column}function h(t,e){var i="insert"==t.action,n="insert"==e.action;if(i&&n)if(s(e.start,t.end)>=0)d(e,t,-1);else{if(!(s(e.start,t.start)<=0))return null;d(t,e,1)}else if(i&&!n)if(s(e.start,t.end)>=0)d(e,t,-1);else{if(!(s(e.end,t.start)<=0))return null;d(t,e,-1)}else if(!i&&n)if(s(e.start,t.start)>=0)d(e,t,1);else{if(!(s(e.start,t.start)<=0))return null;d(t,e,1)}else if(!i&&!n)if(s(e.start,t.start)>=0)d(e,t,1);else{if(!(s(e.end,t.start)<=0))return null;d(t,e,-1)}return[e,t]}function c(t,e){for(var i=t.length;i--;)for(var n=0;n<e.length;n++)if(!h(t[i],e[n])){for(;i<t.length;){for(;n--;)h(e[n],t[i]);n=e.length,i++}return[t,e]}return t.selectionBefore=e.selectionBefore=t.selectionAfter=e.selectionAfter=null,[e,t]}function u(t,e){var i="insert"==t.action,n="insert"==e.action;if(i&&n)s(t.start,e.start)<0?d(e,t,1):d(t,e,1);else if(i&&!n)s(t.start,e.end)>=0?d(t,e,-1):(s(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!i&&n)s(e.start,t.end)>=0?d(e,t,-1):(s(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!i&&!n)if(s(e.start,t.end)>=0)d(e,t,-1);else{var o,a;if(!(s(e.end,t.start)<=0))return s(t.start,e.start)<0&&(o=t,t=p(t,e.start)),s(t.end,e.end)>0&&(a=p(t,e.end)),f(e.end,t.start,t.end,-1),a&&!o&&(t.lines=a.lines,t.start=a.start,t.end=a.end,a=t),[e,o,a].filter(Boolean);d(t,e,-1)}return[e,t]}function d(t,e,i){f(t.start,e.start,e.end,i),f(t.end,e.start,e.end,i)}function f(t,e,i,n){t.row==(1==n?e:i).row&&(t.column+=n*(i.column-e.column)),t.row+=n*(i.row-e.row)}function p(t,e){var i=t.lines,n=t.end;t.end=o(e);var r=t.end.row-t.start.row,s=i.splice(r,i.length),a=r?e.column:e.column-t.start.column;return i.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:o(e),end:n,lines:s,action:t.action}}function g(t,e){e=function(t){return{start:o(t.start),end:o(t.end),action:t.action,lines:t.lines.slice()}}(e);for(var i=t.length;i--;){for(var n=t[i],r=0;r<n.length;r++){var s=u(n[r],e);e=s[0],2!=s.length&&(s[2]?(n.splice(r+1,1,s[1],s[2]),r++):s[1]||(n.splice(r,1),r--))}n.length||t.splice(i,1)}return t}e.UndoManager=n}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n=t("../lib/dom"),r=function(t,e){this.element=t,this.canvasHeight=e||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(t){n.translate(this.element,0,-t.firstRowScreen*t.lineHeight%this.canvasHeight-t.offset*this.$offsetCoefficient)},this.pageChanged=function(t,e){return Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)!==Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)},this.computeLineTop=function(t,e,i){var n=Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight);return i.documentToScreenRow(t,0)*e.lineHeight-n*this.canvasHeight},this.computeLineHeight=function(t,e,i){return e.lineHeight*i.getRowLineCount(t)},this.getLength=function(){return this.cells.length},this.get=function(t){return this.cells[t]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(t){if(Array.isArray(t)){this.cells.push.apply(this.cells,t);for(var e=n.createFragment(this.element),i=0;i<t.length;i++)e.appendChild(t[i].element);this.element.appendChild(e)}else this.cells.push(t),this.element.appendChild(t.element)},this.unshift=function(t){if(Array.isArray(t)){this.cells.unshift.apply(this.cells,t);for(var e=n.createFragment(this.element),i=0;i<t.length;i++)e.appendChild(t[i].element);this.element.firstChild?this.element.insertBefore(e,this.element.firstChild):this.element.appendChild(e)}else this.cells.unshift(t),this.element.insertAdjacentElement("afterbegin",t.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(t){t&&(t.element.remove(),this.cellCache.push(t))},this.createCell=function(t,e,i,r){var s=this.cellCache.pop();if(!s){var o=n.createElement("div");r&&r(o),this.element.appendChild(o),s={element:o,text:"",row:t}}return s.row=t,s}}).call(r.prototype),e.Lines=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(t,e,i){"use strict";var n=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,a=t("./lines").Lines,l=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function h(t){var e=document.createTextNode("");t.appendChild(e);var i=n.createElement("span");return t.appendChild(i),t}(function(){r.implement(this,o),this.setSession=function(t){this.session&&this.session.off("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var i=t[e],n=i.row,r=this.$annotations[n];r||(r=this.$annotations[n]={text:[]});var o=i.text;o=o?s.escapeHTML(o):i.html||"",-1===r.text.indexOf(o)&&r.text.push(o);var a=i.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,i=t.end.row-e;if(0===i);else if("remove"==t.action)this.$annotations.splice(e,i+1,null);else{var n=new Array(i+1);n.unshift(e,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(t){this.config=t;var e=this.session,i=t.firstRow,n=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1);this.oldLastRow=n,this.config=t,this.$lines.moveContainer(t),this.$updateCursorRow();for(var r=e.getNextFoldLine(i),s=r?r.start.row:1/0,o=null,a=-1,l=i;;){if(l>s&&(s=(r=e.getNextFoldLine(l=r.end.row+1,r))?r.start.row:1/0),l>n){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(o=this.$lines.get(++a))?o.row=l:(o=this.$lines.createCell(l,t,this.session,h),this.$lines.push(o)),this.$renderCell(o,t,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(t)},this.$updateGutterWidth=function(t){var e=this.session,i=e.gutterRenderer||this.$renderer,n=e.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||e.$useWrapMode)&&(r=e.getLength()+n-1);var s=i?i.getWidth(e,r,t):r.toString().length*t.characterWidth,o=this.$padding||this.$computePadding();(s+=o.left+o.right)===this.gutterWidth||isNaN(s)||(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var t=this.session.selection.getCursor();this.$cursorRow!==t.row&&(this.$cursorRow=t.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var t=this.session.selection.cursor.row;if(this.$cursorRow=t,!this.$cursorCell||this.$cursorCell.row!=t){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var e=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<e.length;i++){var n=e[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&r&&r.start.row==e[i-1].row))break;n=e[i-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(t){var e=this.config;if(this.config=t,this.$updateCursorRow(),this.$lines.pageChanged(e,t))return this.update(t);this.$lines.moveContainer(t);var i=Math.min(t.lastRow+t.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!e||n<t.firstRow)return this.update(t);if(i<e.firstRow)return this.update(t);if(e.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(n>i)for(r=this.session.getFoldedRowCount(i+1,n);r>0;r--)this.$lines.pop();t.firstRow<e.firstRow&&this.$lines.unshift(this.$renderLines(t,t.firstRow,e.firstRow-1)),i>n&&this.$lines.push(this.$renderLines(t,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(t)},this.$renderLines=function(t,e,i){for(var n=[],r=e,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;r>o&&(o=(s=this.session.getNextFoldLine(r=s.end.row+1,s))?s.start.row:1/0),!(r>i);){var a=this.$lines.createCell(r,t,this.session,h);this.$renderCell(a,t,s,r),n.push(a),r++}return n},this.$renderCell=function(t,e,i,r){var s=t.element,o=this.session,a=s.childNodes[0],l=s.childNodes[1],h=o.$firstLineNumber,c=o.$breakpoints,u=o.$decorations,d=o.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&o.foldWidgets,p=i?i.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||i&&r<this.$cursorRow&&r>=p&&this.$cursorRow<=i.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=t&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=t)),c[r]&&(g+=c[r]),u[r]&&(g+=u[r]),this.$annotations[r]&&(g+=this.$annotations[r].className),s.className!=g&&(s.className=g),f){var m=f[r];null==m&&(m=f[r]=o.getFoldWidget(r))}m?(g="ace_fold-widget ace_"+m,l.className!=(g+="start"==m&&r==p&&r<i.end.row?" ace_closed":" ace_open")&&(l.className=g),n.setStyle(l.style,"height",e.lineHeight+"px"),n.setStyle(l.style,"display","inline-block")):l&&n.setStyle(l.style,"display","none");var v=(d?d.getText(o,r):r+h).toString();return v!==a.data&&(a.data=v),n.setStyle(t.element.style,"height",this.$lines.computeLineHeight(r,e,o)+"px"),n.setStyle(t.element.style,"top",this.$lines.computeLineTop(r,e,o)+"px"),t.text=v,t},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(t){this.$highlightGutterLine=t},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(t.borderLeftWidth)||0)+(parseInt(t.paddingLeft)||0)+1,this.$padding.right=(parseInt(t.borderRightWidth)||0)+(parseInt(t.paddingRight)||0),this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return t.x<e.left+i.left?"markers":this.$showFoldWidgets&&t.x>i.right-e.right?"foldWidgets":void 0}}).call(l.prototype),e.Gutter=l}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e,i){"use strict";var n=t("../range").Range,r=t("../lib/dom"),s=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.elt=function(t,e){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=e,i.className=t},this.update=function(t){if(t){var e;for(var i in this.config=t,this.i=0,this.markers){var n=this.markers[i];if(n.range){var r=n.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),n.renderer){var s=this.$getTop(r.start.row,t);n.renderer(e,r,this.$padding+r.start.column*t.characterWidth,s,t)}else"fullLine"==n.type?this.drawFullLineMarker(e,r,n.clazz,t):"screenLine"==n.type?this.drawScreenLineMarker(e,r,n.clazz,t):r.isMultiLine()?"text"==n.type?this.drawTextMarker(e,r,n.clazz,t):this.drawMultiLineMarker(e,r,n.clazz,t):this.drawSingleLineMarker(e,r,n.clazz+" ace_start ace_br15",t)}else n.update(e,this,this.session,t)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(t,e,i,r,s){for(var o=this.session,a=e.start.row,l=e.end.row,h=a,c=0,u=0,d=o.getScreenLastRowColumn(h),f=new n(h,e.start.column,h,u);h<=l;h++)f.start.row=f.end.row=h,f.start.column=h==a?e.start.column:o.getRowWrapIndent(h),f.end.column=d,c=u,u=d,d=h+1<l?o.getScreenLastRowColumn(h+1):h==l?0:e.end.column,this.drawSingleLineMarker(t,f,i+(h==a?" ace_start":"")+" ace_br"+((h==a||h==a+1&&e.start.column?1:0)|(c<u?2:0)|(u>d?4:0)|(h==l?8:0)),r,h==l?0:1,s)},this.drawMultiLineMarker=function(t,e,i,n,r){var s,o=this.$padding,a=n.lineHeight,l=this.$getTop(e.start.row,n),h=o+e.start.column*n.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row)?((s=e.clone()).end.row=s.start.row,s.end.column=this.session.getLine(s.start.row).length,this.drawBidiSingleLineMarker(t,s,i+" ace_br1 ace_start",n,null,r)):this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+l+"px;left:"+h+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(e.end.row)?((s=e.clone()).start.row=s.end.row,s.start.column=0,this.drawBidiSingleLineMarker(t,s,i+" ace_br12",n,null,r)):(l=this.$getTop(e.end.row,n),this.elt(i+" ace_br12","height:"+a+"px;width:"+e.end.column*n.characterWidth+"px;top:"+l+"px;left:"+o+"px;"+(r||""))),!((a=(e.end.row-e.start.row-1)*n.lineHeight)<=0)){l=this.$getTop(e.start.row+1,n);var c=(e.start.column?1:0)|(e.end.column?0:8);this.elt(i+(c?" ace_br"+c:""),"height:"+a+"px;right:0;top:"+l+"px;left:"+o+"px;"+(r||""))}},this.drawSingleLineMarker=function(t,e,i,n,r,s){if(this.session.$bidiHandler.isBidiRow(e.start.row))return this.drawBidiSingleLineMarker(t,e,i,n,r,s);var o=n.lineHeight,a=(e.end.column+(r||0)-e.start.column)*n.characterWidth,l=this.$getTop(e.start.row,n);this.elt(i,"height:"+o+"px;width:"+a+"px;top:"+l+"px;left:"+(this.$padding+e.start.column*n.characterWidth)+"px;"+(s||""))},this.drawBidiSingleLineMarker=function(t,e,i,n,r,s){var o=n.lineHeight,a=this.$getTop(e.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(e.start.column,e.end.column).forEach(function(t){this.elt(i,"height:"+o+"px;width:"+t.width+(r||0)+"px;top:"+a+"px;left:"+(l+t.left)+"px;"+(s||""))},this)},this.drawFullLineMarker=function(t,e,i,n,r){var s=this.$getTop(e.start.row,n),o=n.lineHeight;e.start.row!=e.end.row&&(o+=this.$getTop(e.end.row,n)-s),this.elt(i,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(t,e,i,n,r){var s=this.$getTop(e.start.row,n);this.elt(i,"height:"+n.lineHeight+"px;top:"+s+"px;left:0;right:0;"+(r||""))}}).call(s.prototype),e.Marker=s}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("./lines").Lines,a=t("../lib/event_emitter").EventEmitter,l=function(t){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){n.implement(this,a),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var t=this.session.doc,e="\n"==t.getNewLineCharacter()&&"windows"!=t.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",(function(t){this._signal("changeCharacterSize",t)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,"string"==typeof t?(this.showSpaces=/tab/i.test(t),this.showTabs=/space/i.test(t),this.showEOL=/eol/i.test(t)):this.showSpaces=this.showTabs=this.showEOL=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],i=1;i<t+1;i++)this.showTabs?((n=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",n.textContent=s.stringRepeat(this.TAB_CHAR,i),e.push(n)):e.push(this.dom.createTextNode(s.stringRepeat(" ",i),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n,r=this.showSpaces?" ace_invisible ace_invisible_space":"",o=s.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),a=this.showTabs?" ace_invisible ace_invisible_tab":"",l=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):o;(n=this.dom.createElement("span")).className="ace_indent-guide"+r,n.textContent=o,this.$tabStrings[" "]=n,(n=this.dom.createElement("span")).className="ace_indent-guide"+a,n.textContent=l,this.$tabStrings["\t"]=n}},this.updateLines=function(t,e,i){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var n=Math.max(e,t.firstRow),r=Math.min(i,t.lastRow),s=this.element.childNodes,o=0,a=t.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}o++}for(var l,h=!1,c=(l=this.session.getNextFoldLine(a=n))?l.start.row:1/0;a>c&&(c=(l=this.session.getNextFoldLine(a=l.end.row+1,l))?l.start.row:1/0),!(a>r);){var u=s[o++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==c&&l),h&&(u.style.top=this.$lines.computeLineTop(a,t,this.session)+"px");var d=t.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(h=!0,u.style.height=d)}a++}if(h)for(;o<this.$lines.cells.length;){var f=this.$lines.cells[o++];f.element.style.top=this.$lines.computeLineTop(f.row,t,this.session)+"px"}},this.scrollLines=function(t){var e=this.config;if(this.config=t,this.$lines.pageChanged(e,t))return this.update(t);this.$lines.moveContainer(t);var i=t.lastRow;if(!e||(e?e.lastRow:-1)<t.firstRow)return this.update(t);if(i<e.firstRow)return this.update(t);if(!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);if(e.firstRow<t.firstRow)for(var n=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);n>0;n--)this.$lines.shift();if(e.lastRow>t.lastRow)for(n=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);n>0;n--)this.$lines.pop();t.firstRow<e.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,e.firstRow-1)),t.lastRow>e.lastRow&&this.$lines.push(this.$renderLinesFragment(t,e.lastRow+1,t.lastRow))},this.$renderLinesFragment=function(t,e,i){for(var n=[],s=e,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(a=(o=this.session.getNextFoldLine(s=o.end.row+1,o))?o.start.row:1/0),!(s>i);){var l=this.$lines.createCell(s,t,this.session),h=l.element;this.dom.removeChildren(h),r.setStyle(h.style,"height",this.$lines.computeLineHeight(s,t,this.session)+"px"),r.setStyle(h.style,"top",this.$lines.computeLineTop(s,t,this.session)+"px"),this.$renderLine(h,s,s==a&&o),h.className=this.$useLineGroups()?"ace_line_group":"ace_line",n.push(l),s++}return n},this.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var e=t.firstRow,i=t.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(t,e,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,i,n){for(var r,o=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),l=0;r=o.exec(n);){var h=r[1],c=r[2],u=r[3],d=r[4],f=r[5];if(this.showSpaces||!c){var p=l!=r.index?n.slice(l,r.index):"";if(l=r.index+r[0].length,p&&a.appendChild(this.dom.createTextNode(p,this.element)),h){var g=this.session.getScreenTabSize(e+r.index);a.appendChild(this.$tabStrings[g].cloneNode(!0)),e+=g-1}else c?this.showSpaces?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=s.stringRepeat(this.SPACE_CHAR,c.length),a.appendChild(v)):a.appendChild(this.com.createTextNode(c,this.element)):u?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=s.stringRepeat(this.SPACE_CHAR,u.length),a.appendChild(v)):d?(e+=1,(v=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",v.className=this.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=this.showSpaces?this.SPACE_CHAR:d,a.appendChild(v)):f&&(e+=1,(v=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",v.className="ace_cjk",v.textContent=f,a.appendChild(v))}}if(a.appendChild(this.dom.createTextNode(l?n.slice(l):n,this.element)),this.$textToken[i.type])t.appendChild(a);else{var m="ace_"+i.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==i.type&&(v.style.width=i.value.length*this.config.characterWidth+"px"),v.className=m,v.appendChild(a),t.appendChild(v)}return e+n.length},this.renderIndentGuide=function(t,e,i){var n=e.search(this.$indentGuideRe);if(n<=0||n>=i)return e;if(" "==e[0]){for(var r=(n-=n%this.tabSize)/this.tabSize,s=0;s<r;s++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return e.substr(n)}if("\t"==e[0]){for(s=0;s<n;s++)t.appendChild(this.$tabStrings["\t"].cloneNode(!0));return e.substr(n)}return e},this.$createLineElement=function(t){var e=this.dom.createElement("div");return e.className="ace_line",e.style.height=this.config.lineHeight+"px",e},this.$renderWrappedLine=function(t,e,i){var n=0,r=0,o=i[0],a=0,l=this.$createLineElement();t.appendChild(l);for(var h=0;h<e.length;h++){var c=e[h],u=c.value;if(0==h&&this.displayIndentGuides){if(n=u.length,!(u=this.renderIndentGuide(l,u,o)))continue;n-=u.length}if(n+u.length<o)a=this.$renderToken(l,a,c,u),n+=u.length;else{for(;n+u.length>=o;)a=this.$renderToken(l,a,c,u.substring(0,o-n)),u=u.substring(o-n),n=o,l=this.$createLineElement(),t.appendChild(l),l.appendChild(this.dom.createTextNode(s.stringRepeat("\xa0",i.indent),this.element)),a=0,o=i[++r]||Number.MAX_VALUE;0!=u.length&&(n+=u.length,a=this.$renderToken(l,a,c,u))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(t,e){var i=0,n=e[0],r=n.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(i=this.$renderToken(t,i,n,r));for(var s=1;s<e.length;s++){if(i+(r=(n=e[s]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,i,n,r);i=this.$renderToken(t,i,n,r)}},this.$renderOverflowMessage=function(t,e,i,n,r){i&&this.$renderToken(t,e,i,n.slice(0,this.MAX_LINE_LENGTH-e));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=r?"<hide>":"<click to see more...>",t.appendChild(s)},this.$renderLine=function(t,e,i){if(i||0==i||(i=this.session.getFoldLine(e)),i)var n=this.$getFoldLineTokens(e,i);else n=this.session.getTokens(e);var r=t;if(n.length){var s=this.session.getRowSplitData(e);s&&s.length?(this.$renderWrappedLine(t,n,s),r=t.lastChild):(r=t,this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r)),this.$renderSimpleLine(r,n))}else this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r));if(this.showEOL&&r){i&&(e=i.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(o)}},this.$getFoldLineTokens=function(t,e){var i=this.session,n=[],r=i.getTokens(t);return e.walk(function(t,e,s,o,a){null!=t?n.push({type:"fold",value:t}):(a&&(r=i.getTokens(e)),r.length&&function(t,e,i){for(var r=0,s=0;s+t[r].value.length<e;)if(s+=t[r].value.length,++r==t.length)return;for(s!=e&&((o=t[r].value.substring(e-s)).length>i-e&&(o=o.substring(0,i-e)),n.push({type:t[r].type,value:o}),s=e+o.length,r+=1);s<i&&r<t.length;){var o;n.push((o=t[r].value).length+s>i?{type:t[r].type,value:o.substring(0,i-s)}:t[r]),s+=o.length,r+=1}}(r,o,s))},e.end.row,this.session.getLine(e.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),e.Text=l}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n=t("../lib/dom"),r=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(t){for(var e=this.cursors,i=e.length;i--;)n.setStyle(e[i].style,"opacity",t?"":"0")},this.$startCssAnimation=function(){for(var t=this.cursors,e=t.length;e--;)t[e].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){n.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){n.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,n.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var t=n.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&n.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout((function(){n.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var e=(function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}else this.$stopCssAnimation()},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,t.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(t,e){return t.top>=0&&t.top<e.maxHeight},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,i=0,r=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]),i=0;for(var s=e.length;i<s;i++){var o=this.getPixelPosition(e[i].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&i>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,o,t,e[i],this.session):this.isCursorInView(o,t)?(n.setStyle(l,"display","block"),n.translate(a,o.left,o.top),n.setStyle(l,"width",Math.round(t.characterWidth)+"px"),n.setStyle(l,"height",t.lineHeight+"px")):n.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var h=this.session.getOverwrite();this.$setOverwrite(h),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),e.Cursor=r}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,a=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(a.prototype);var l=function(t,e){a.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(l,a),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>32768?(this.coeff=32768/t,t=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}).call(l.prototype);var h=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(h,a),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}).call(h.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=h,e.VScrollBar=l,e.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e,i){"use strict";var n=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=e||window;var i=this;this._flush=function(t){i.pending=!1;var e=i.changes;if(e&&(n.blockIdle(100),i.changes=0,i.onRender(e)),i.changes){if(i.$recursionLimit--<0)return;i.schedule()}else i.$recursionLimit=2}};(function(){this.schedule=function(t){this.changes=this.changes|t,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(t){var e=this.changes;return this.changes=0,e}}).call(r.prototype),e.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,i){var n=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("../lib/event"),a=t("../lib/useragent"),l=t("../lib/event_emitter").EventEmitter,h="function"==typeof ResizeObserver,c=200,u=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat("X",256),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",a.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(t){if(void 0===t&&(t=this.$measureSizes()),t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver(function(e){t.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=o.onIdle(function e(){t.checkForSizeChanges(),o.onIdle(e,500)},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(t){var e={height:(t||this.$measureNode).clientHeight,width:(t||this.$measureNode).clientWidth/256};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(t){return this.$main.textContent=s.stringRepeat(t,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function t(e){return e&&e.parentElement?(window.getComputedStyle(e).zoom||1)*t(e.parentElement):1},this.$initTransformMeasureNodes=function(){var t=function(t,e){return["div",{style:"position: absolute;top:"+t+"px;left:"+e+"px;"}]};this.els=r.buildDom([t(0,0),t(c,0),t(0,c),t(c,c)],this.el)},this.transformCoordinates=function(t,e){function i(t,e,i){var n=t[1]*e[0]-t[0]*e[1];return[(-e[1]*i[0]+e[0]*i[1])/n,(+t[1]*i[0]-t[0]*i[1])/n]}function n(t,e){return[t[0]-e[0],t[1]-e[1]]}function r(t,e){return[t[0]+e[0],t[1]+e[1]]}function s(t,e){return[t*e[0],t*e[1]]}function o(t){var e=t.getBoundingClientRect();return[e.left,e.top]}t&&(t=s(1/this.$getZoom(this.el),t)),this.els||this.$initTransformMeasureNodes();var a=o(this.els[0]),l=o(this.els[1]),h=o(this.els[2]),u=o(this.els[3]),d=i(n(u,l),n(u,h),n(r(l,h),r(u,a))),f=s(1+d[0],n(l,a)),p=s(1+d[1],n(h,a));if(e){var g=e,m=d[0]*g[0]/c+d[1]*g[1]/c+1,v=r(s(g[0],f),s(g[1],p));return r(s(1/m/c,v),a)}var y=n(t,a),b=i(n(f,s(d[0],y)),n(p,s(d[1],y)),y);return s(c,b)}}).call(u.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/dom"),s=t("./config"),o=t("./layer/gutter").Gutter,a=t("./layer/marker").Marker,l=t("./layer/text").Text,h=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,u=t("./scrollbar").VScrollBar,d=t("./renderloop").RenderLoop,f=t("./layer/font_metrics").FontMetrics,p=t("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=t("./lib/useragent"),v=m.isIE;r.importCssString(g,"ace_editor.css");var y=function(t,e){var i=this;this.container=t||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(e),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new a(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",function(t){i.$scrollAnimation||i.session.setScrollTop(t.data-i.scrollMargin.top)}),this.scrollBarH.on("scroll",function(t){i.$scrollAnimation||i.session.setScrollLeft(t.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(t){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,i){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;n||(n=r.clientHeight||r.scrollHeight),i||(i=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(t,e,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,i,n){var s=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if((n-=this.$extraHeight||0)&&(t||o.height!=n)&&(o.height=n,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(t||o.width!=i)){s|=this.CHANGE_SIZE,o.width=i,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,r.setStyle(this.scrollBarH.element.style,"left",e+"px"),r.setStyle(this.scroller.style,"left",e+this.margin.left+"px"),o.scrollerWidth=Math.max(0,i-e-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(s|=this.CHANGE_FULL)}return o.$dirty=!i||!n,s&&this._signal("resize",a),s},this.onGutterResize=function(t){var e=this.$showGutter?t:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var t=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=r.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var t=this.textarea.style,e=this.$composition;if(this.$keepTextAreaAtCursor||e){var i=this.$cursorLayer.$pixelPos;if(i){e&&e.markerRange&&(i=this.$cursorLayer.getPixelPosition(e.markerRange.start,!0));var n=this.layerConfig,s=i.top,o=i.left,a=e&&e.useTextareaForIME?this.lineHeight:v?0:1;if((s-=n.offset)<0||s>n.height-a)r.translate(this.textarea,0,0);else{var l=1,h=this.$size.height-a;e?e.useTextareaForIME?l=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:s+=this.lineHeight+2:s+=this.lineHeight,(o-=this.scrollLeft)>this.$size.scrollerWidth-l&&(o=this.$size.scrollerWidth-l),o+=this.gutterWidth+this.margin.left,r.setStyle(t,"height",a+"px"),r.setStyle(t,"width",l+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-l),Math.min(s,h))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,i,n){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(t,e,i,n){var r=this.margin;r.top=0|t,r.bottom=0|e,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(t-=(e-this.lineHeight)*this.$scrollPastEnd)-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",t),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-i.offset);var s=i.minHeight+"px";r.setStyle(this.content.style,"width",i.width+2*this.$padding+"px"),r.setStyle(this.content.style,"height",s)}if(t&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);if(t&this.CHANGE_SCROLL)return this.$changedLines=null,t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(t&this.CHANGE_GUTTER||t&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);t&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):t&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender",t)}else this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,i=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=!(i<=2*this.lineHeight)&&t>e;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var r=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,i=e.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!i&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=e.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=h;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,n-e.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+c.right)));var u=!i&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-n+h<0||this.scrollTop>c.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=t.screenToDocumentRow(v,0);var _=t.getFoldLine(v);_&&(v=_.start.row),f=t.documentToScreenRow(v,0),p=t.getRowLength(v)*b,y=Math.min(t.screenToDocumentRow(y,0),t.getLength()-1),l=e.scrollerHeight+t.getRowLength(y)*b+p,g=this.scrollTop-f*b;var w=0;return(this.layerConfig.width!=r||o)&&(w=this.CHANGE_H_SCROLL),(o||d)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:f,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+e.height-e.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(t>i.lastRow+1||e<i.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,t,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),this.$textLayer&&t>this.$textLayer.MAX_LINE_LENGTH&&(t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,i){this.scrollCursorIntoView(t,i),this.scrollCursorIntoView(e,i)},this.scrollCursorIntoView=function(t,e,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(t),r=n.left,s=n.top,o=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(e&&l+o>s+this.lineHeight&&(s-=e*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=e*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+a-this.$size.scrollerHeight));var h=this.scrollLeft;h>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):h+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):h<=this.$padding&&r-h<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var i=this.$cursorLayer.getPixelPosition(t).top-(this.$size.scrollerHeight-this.lineHeight)*(e||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(t,e){var i,n=0,r=this.STEPS,s=[];for(n=0;n<r;++n)s.push((i=t,(e-t)*(Math.pow(n/this.STEPS-1,3)+1)+i));return s},this.scrollToLine=function(t,e,i,n){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==i&&this.animateScrolling(s,n)},this.animateScrolling=function(t,e){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(t!=i){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==i)return}var s=n.$calcSteps(t,i);this.$scrollAnimation={from:t,to:i,steps:s},clearInterval(this.$timer),n.session.setScrollTop(s.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){if(!n.session)return clearInterval(n.$timer);s.length?(n.session.setScrollTop(s.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(t,e){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([t,e]);t=n[1]-this.gutterWidth-this.margin.left,e=n[0]}else i=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-i.left-this.$padding,s=r/this.characterWidth,o=Math.floor((e+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:a,side:s-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(t,e){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([t,e]);t=n[1]-this.gutterWidth-this.margin.left,e=n[0]}else i=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-i.left-this.$padding,s=r/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),a=Math.floor((e+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(o,0),r)},this.textToScreenCoordinates=function(t,e){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(t,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth));return{pageX:i.left+r-this.scrollLeft,pageY:i.top+n.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition=t,t.cssText||(t.cssText=this.textarea.style.cssText),null==t.useTextareaForIME&&(t.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):t.markerId=this.session.addMarker(t.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(t){var e=this.session.selection.cursor;this.addToken(t,"composition_placeholder",e.row,e.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var t=this.session.selection.cursor;this.removeExtraToken(t.row,t.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(t,e,i,n){var r=this.session;r.bgTokenizer.lines[i]=null;var s={type:e,value:t},o=r.getTokens(i);if(null==n)o.push(s);else for(var a=0,l=0;l<o.length;l++){var h=o[l];if(n<=(a+=h.value.length)){var c=h.value.length-(a-n),u=h.value.slice(0,c),d=h.value.slice(c);o.splice(l,1,{type:h.type,value:u},s,{type:h.type,value:d});break}}this.updateLines(i,i)},this.removeExtraToken=function(t,e){this.updateLines(t,t)},this.setTheme=function(t,e){var i=this;function n(n){if(i.$themeId!=t)return e&&e();if(!n||!n.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");n.$id&&(i.$themeId=n.$id),r.importCssString(n.cssText,n.cssClass,i.container),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var s="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&s!=i.$padding&&i.setPadding(s),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),e&&e()}this.$themeId=t,i._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t?n(t):s.loadModule(["theme",t||this.$options.theme.initialValue],n)},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){r.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){r.removeCssClass(this.container,t)},this.setCursorStyle=function(t){r.setStyle(this.scroller.style,"cursor",t)},this.setMouseCursor=function(t){r.setStyle(this.scroller.style,"cursor",t)},this.attachToShadowRoot=function(){r.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),s.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){this.$gutterLayer.setHighlightGutterLine(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){this.$scrollPastEnd!=(t=+t||0)&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),e.VirtualRenderer=y}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,e,i){"use strict";var n=t("../lib/oop"),r=t("../lib/net"),s=t("../lib/event_emitter").EventEmitter,o=t("../config");function a(t){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var e=function(t){var e="importScripts('"+r.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(n){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(e),i.getBlob("application/javascript")}}(t),i=(window.URL||window.webkitURL).createObjectURL(e);return new Worker(i)}return new Worker(t)}var l=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,s),this.$createWorkerFromOldConfig=function(e,i,n,r,s){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)r=r||o.moduleUrl(i,"worker");else{var l=this.$normalizePath;r=r||l(t.toUrl("ace/worker/worker.js",null,"_"));var h={};e.forEach(function(e){h[e]=l(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(r),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:h,module:i,classname:n}),this.$worker},this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var i=this.callbacks[e.id];i&&(i(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return r.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,e.push(n)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker.postMessage({event:t,data:{data:e.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(t.start,"insert"==t.action?t.lines:t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(l.prototype),e.UIWorkerClient=function(t,e,i){var n=null,r=!1,a=Object.create(s),h=[],c=new l({messageBuffer:h,terminate:function(){},postMessage:function(t){h.push(t),n&&(r?setTimeout(u):u())}});c.setEmitSync=function(t){r=t};var u=function(){var t=h.shift();t.command?n[t.command].apply(n,t.args):t.event&&a._signal(t.event,t.data)};return a.postMessage=function(t){c.onMessage({data:t})},a.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},a.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},o.loadModule(["worker",e],function(t){for(n=new t[i](a);h.length;)u()}),c},e.WorkerClient=l,e.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e,i){"use strict";var n=t("./range").Range,r=t("./lib/event_emitter").EventEmitter,s=t("./lib/oop"),o=function(t,e,i,n,r,s){var o=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=i;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,r),this.setup=function(){var t=this,e=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var n=e.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),t.others.push(n)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var i="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,r=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,s=e.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=i),r&&!this.session.$fromUndo)if("insert"===t.action)for(var o=this.others.length-1;o>=0;o--)this.doc.insertMergedLines(l={row:(a=this.others[o]).row,column:a.column+s},t.lines);else if("remove"===t.action)for(o=this.others.length-1;o>=0;o--){var a,l;this.doc.remove(new n((l={row:(a=this.others[o]).row,column:a.column+s}).row,l.column,l.row,l.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,i=function(i,r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),r,null,!1)};i(this.pos,this.mainClass);for(var r=this.others.length;r--;)i(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,i=0;i<e;i++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),e.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,i){var n=t("../lib/event"),r=t("../lib/useragent");function s(t,e){return t.row==e.row&&t.column==e.column}e.onMouseDown=function(t){var e=t.domEvent,i=e.altKey,o=e.shiftKey,a=e.ctrlKey,l=t.getAccelKey(),h=t.getButton();if(a&&r.isMac&&(h=e.button),t.editor.inMultiSelectMode&&2==h)t.editor.textInput.onContextMenu(t.domEvent);else if(a||i||l){if(0===h){var c,u=t.editor,d=u.selection,f=u.inMultiSelectMode,p=t.getDocumentPosition(),g=d.getCursor(),m=t.inSelection()||d.isEmpty()&&s(p,g),v=t.x,y=t.y,b=u.session,_=u.renderer.pixelToScreenCoordinates(v,y),w=_;if(u.$mouseHandler.$enableJumpToDef)a&&i||l&&i?c=o?"block":"add":i&&u.$blockSelectEnabled&&(c="block");else if(l&&!i){if(c="add",!f&&o)return}else i&&u.$blockSelectEnabled&&(c="block");if(c&&r.isMac&&e.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==c){if(!f&&m)return;if(!f){var S=d.toOrientedRange();u.addSelectionMarker(S)}var k=d.rangeList.rangeAtPoint(p);u.inVirtualSelectionMode=!0,o&&(k=null,u.removeSelectionMarker(S=d.ranges[0]||S)),u.once("mouseup",function(){var t=d.toOrientedRange();k&&t.isEmpty()&&s(k.cursor,t.cursor)?d.substractPoint(t.cursor):(o?d.substractPoint(S.cursor):S&&(u.removeSelectionMarker(S),d.addRange(S)),d.addRange(t)),u.inVirtualSelectionMode=!1})}else if("block"==c){var x;t.stop(),u.inVirtualSelectionMode=!0;var C=[],E=function(){var t=u.renderer.pixelToScreenCoordinates(v,y),e=b.screenToDocumentPosition(t.row,t.column,t.offsetX);s(w,t)&&s(e,d.lead)||(w=t,u.selection.moveToPosition(e),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(C),C=d.rectangularRangeBlock(w,_),u.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=u.$mouseHandler.$clickSelection.clone()),C.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(x=d.toOrientedRange(),u.addSelectionMarker(x)),o?_=b.documentToScreenPosition(d.lead):d.moveToPosition(p),w={row:-1,column:-1};var T=E;n.capture(u.container,function(t){v=t.clientX,y=t.clientY},function(t){E(),clearInterval(A),u.removeSelectionMarkers(C),C.length||(C=[d.toOrientedRange()]),x&&(u.removeSelectionMarker(x),d.toSingleRange(x));for(var e=0;e<C.length;e++)d.addRange(C[e]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null});var A=setInterval(function(){T()},20);return t.preventDefault()}}}else 0===h&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e,i){e.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.rangeCount>1?t.multiSelect.joinSelections():t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new n(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e,i){var n=t("./range_list").RangeList,r=t("./range").Range,s=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,a=t("./lib/event"),l=t("./lib/lang"),h=t("./commands/multi_select_commands");e.commands=h.defaultCommands.concat(h.multiSelectCommands);var c=new(0,t("./search").Search),u=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}t.cursor||(t.cursor=t.end);var n=this.rangeList.add(t);return this.$onAddRange(t),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length&&this.$onRemoveRange(t)},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var i=t.length;i--;){var n=this.ranges.indexOf(t[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var t=this.ranges.length?this.ranges:[this.getRange()],e=[],i=0;i<t.length;i++){var n=t[i],s=n.start.row,o=n.end.row;if(s===o)e.push(n.clone());else{for(e.push(new r(s,n.start.column,s,this.session.getLine(s).length));++s<o;)e.push(this.getLineRange(s,!0));e.push(new r(o,0,o,n.end.column))}0!=i||this.isBackwards()||(e=e.reverse())}for(this.toSingleRange(),i=e.length;i--;)this.addRange(e[i])},this.joinSelections=function(){var t=this.rangeList.ranges,e=t[t.length-1],i=r.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(i,e.cursor==e.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],i=r.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(i,e.cursor==e.start)}else{var n=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,i){var n=[],s=t.column<e.column;if(s)var o=t.column,a=e.column,l=t.offsetX,h=e.offsetX;else o=e.column,a=t.column,l=e.offsetX,h=t.offsetX;var c,u,d,f=t.row<e.row;if(f)var p=t.row,g=e.row;else p=e.row,g=t.row;o<0&&(o=0),p<0&&(p=0),p==g&&(i=!0);for(var m=p;m<=g;m++){var v=r.fromPoints(this.session.screenToDocumentPosition(m,o,l),this.session.screenToDocumentPosition(m,a,h));if(v.isEmpty()){if(c&&(u=v.end).row==(d=c).row&&u.column==d.column)break;c=v.end}v.cursor=s?v.start:v.end,n.push(v)}if(f&&n.reverse(),!i){for(var y=n.length-1;n[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;n[b].isEmpty();)b++;for(var _=y;_>=b;_--)n[_].isEmpty()&&n.splice(_,1)}return n}}).call(s.prototype);var d=t("./editor").Editor;function f(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",o),t.commands.addCommands(h.defaultCommands),function(t){if(t.textInput){var e=t.textInput.getElement(),i=!1;a.addListener(e,"keydown",function(e){t.$blockSelectEnabled&&18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey)?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&n()},t),a.addListener(e,"keyup",n,t),a.addListener(e,"blur",n,t)}function n(e){i&&(t.renderer.setMouseCursor(""),i=!1)}}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,i=t.length;i--;){var n=t[i];if(n.marker){this.session.removeMarker(n.marker);var r=e.indexOf(n);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,i=t.editor;if(i.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?n=i.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?n=i.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(i.exitMultiSelectMode(),n=e.exec(i,t.args||{})):n=e.multiSelectAction(i,t.args||{});else{var n=e.exec(i,t.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(t,e,i){if(!this.inVirtualSelectionMode){var n,r=1==i||i&&i.$byLines,o=this.session,a=this.selection,l=(i&&i.keepOrder?a:a.rangeList).ranges;if(!l.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var c=new s(o);this.inVirtualSelectionMode=!0;for(var u=l.length;u--;){if(r)for(;u>0&&l[u].start.row==l[u-1].end.row;)u--;c.fromOrientedRange(l[u]),c.index=u,this.selection=o.selection=c;var d=t.exec?t.exec(this,e||{}):t(this,e||{});n||void 0===d||(n=d),c.toOrientedRange(l[u])}c.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,i=[],n=0;n<e.length;n++)i.push(this.session.getTextRange(e[n]));var r=this.session.getDocument().getNewLineCharacter();(t=i.join(r)).length==(i.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var n=e==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=e.row||this.session.$clipPositionToDocument(n.row,n.column).column!=e.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(t,e,i){if((e=e||{}).needle=t||e.needle,null==e.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(n)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;var s=this.multiSelect;i||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return n&&s.rangeList.rangeAtPoint(n.start)&&s.addRange(n,!0),r.length},this.selectMoreLines=function(t,e){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,s=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,a=this.session.screenToDocumentPosition(s.row+t,s.column);if(i.isEmpty())h=a;else var l=this.session.documentToScreenPosition(n?i.end:i.start),h=this.session.screenToDocumentPosition(l.row+t,l.column);if(n?(o=r.fromPoints(a,h)).cursor=o.start:(o=r.fromPoints(h,a)).cursor=o.end,o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(e)var c=i.cursor}else this.selection.addRange(i);this.selection.addRange(o),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var e=this.session,i=e.multiSelect,n=i.ranges,r=n.length;r--;)if((a=n[r]).isEmpty()){var s=e.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}i.mergeOverlappingRanges();var o=[];for(r=n.length;r--;)o.unshift(e.getTextRange(a=n[r]));for(t<0?o.unshift(o.pop()):o.push(o.shift()),r=n.length;r--;){var a;s=(a=n[r]).clone(),e.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(t,e,i){var n=this.session,r=n.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=n.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!i)){var s=n.getTextRange(r),o=function(t,e,i){return c.$options.wrap=!0,c.$options.needle=e,c.$options.backwards=-1==i,c.find(t)}(n,s,t);o&&(o.cursor=-1==t?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,i=e.ranges,n=-1,s=i.filter(function(t){if(t.cursor.row==n)return!0;n=t.cursor.row});if(i.length&&s.length!=i.length-1){s.forEach(function(t){e.substractPoint(t.cursor)});var o=0,a=1/0,h=i.map(function(e){var i=e.cursor,n=t.getLine(i.row).substr(i.column).search(/\S/g);return-1==n&&(n=0),i.column>o&&(o=i.column),n<a&&(a=n),n});i.forEach(function(e,i){var n=e.cursor,s=o-n.column,c=h[i]-a;s>c?t.insert(n,l.stringRepeat(" ",s-c)):t.remove(new r(n.row,n.column,n.row,n.column-s+c)),e.start.column=e.end.column=o,e.start.row=e.end.row=n.row,e.cursor=e.end}),e.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,f=u==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(u)}while(/[=:]/.test(p)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,f),this.session.insert({row:u,column:0},m.join("\n")+"\n"),f||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(t,e){var i,n,r,s=!0,o=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==i?(i=e[1].length,n=e[2].length,r=e[3].length,e):(i+n+r!=e[1].length+e[2].length+e[3].length&&(o=!1),i!=e[1].length&&(s=!1),i>e[1].length&&(i=e[1].length),n<e[2].length&&(n=e[2].length),r>e[3].length&&(r=e[3].length),e):[t]}).map(e?h:s?o?function(t){return t[2]?a(i+n-t[2].length)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:h:function(t){return t[2]?a(i)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]});function a(t){return l.stringRepeat(" ",t)}function h(t){return t[2]?a(i)+t[2]+a(n-t[2].length+r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}}}).call(d.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var i=t.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=f,t("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(t){f(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=t("../../range").Range,r=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,i){var n=t.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(t,e,i){return null},this.indentationBlock=function(t,e,i){var r=/\S/,s=t.getLine(e),o=s.search(r);if(-1!=o){for(var a=i||s.length,l=t.getLength(),h=e,c=e;++e<l;){var u=t.getLine(e).search(r);if(-1!=u){if(u<=o){var d=t.getTokenAt(e,0);if(!d||"string"!==d.type)break}c=e}}if(c>h){var f=t.getLine(c).length;return new n(h,a,c,f)}}},this.openingBracketBlock=function(t,e,i,r,s){var o={row:i,column:r+1},a=t.$findClosingBracket(e,o,s);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=t.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(o,a)}},this.closingBracketBlock=function(t,e,i,r,s){var o={row:i,column:r},a=t.$findOpeningBracket(e,o);if(a)return a.column++,o.column--,n.fromPoints(a,o)}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e.$id="ace/theme/textmate",t("../lib/dom").importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n=t("./lib/dom");function r(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var i=e.lineWidgets;if(i&&t.action){for(var n=t.data,r=n.start.row,s=n.end.row,o="add"==t.action,a=r+1;a<s;a++)i[a]&&(i[a].hidden=o);i[s]&&(o?i[r]?i[s].hidden=o:i[r]=i[s]:(i[r]==i[s]&&(i[r]=void 0),i[s].hidden=o))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var i=t.start.row,n=t.end.row-i;if(0===n);else if("remove"==t.action){var r=e.splice(i+1,n);!e[i]&&r[r.length-1]&&(e[i]=r.pop()),r.forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var s=new Array(n);e[i]&&null!=e[i].column&&t.start.column>e[i].column&&i++,s.unshift(i,0),e.splice.apply(e,s),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach(function(t,i){if(t)for(e=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),e&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];return e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t},this.addLineWidget=function(t){if(this.$registerLineWidget(t),t.session=this.session,!this.editor)return t;var e=this.editor.renderer;t.html&&!t.el&&(t.el=n.createElement("div"),t.el.innerHTML=t.html),t.el&&(n.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,e.container.appendChild(t.el),t._inDocument=!0,t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight)),null==t.rowCount&&(t.rowCount=t.pixelHeight/e.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i,i){var r=this.session.lineWidgets;t.row!=i.end.row||r[i.start.row]?t.hidden=!0:r[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,e),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(i){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,i=e&&e[t],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var i=this.session._changedWidgets,n=e.layerConfig;if(i&&i.length){for(var r=1/0,s=0;s<i.length;s++){var o=i[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,e.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/n.characterWidth));var a=o.h/n.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var i=e.layerConfig,n=this.session.lineWidgets;if(n){for(var r=Math.min(this.firstRow,i.firstRow),s=Math.max(this.lastRow,i.lastRow,n.length);r>0&&!n[r];)r--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,e.$cursorLayer.config=i;for(var o=r;o<=s;o++){var a=n[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var h=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(h-=e.scrollLeft),a.el.style.left=h+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.el.style.right=a.fixedWidth?e.scrollBar.getWidth()+"px":""}}}}}).call(r.prototype),e.LineWidgets=r}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e,i){"use strict";var n=t("../line_widgets").LineWidgets,r=t("../lib/dom"),s=t("../range").Range;e.showErrorMarker=function(t,e){var i=t.session;i.widgetManager||(i.widgetManager=new n(i),i.widgetManager.attach(t));var o=t.getCursorPosition(),a=o.row,l=i.widgetManager.getWidgetsAtRow(a).filter(function(t){return"errorMarker"==t.type})[0];l?l.destroy():a-=e;var h,c=function(t,e,i){var n=t.getAnnotations().sort(s.comparePoints);if(n.length){var r=function(t,e,i){for(var n=0,r=t.length-1;n<=r;){var s=n+r>>1,o=i(e,t[s]);if(o>0)n=s+1;else{if(!(o<0))return s;r=s-1}}return-(n+1)}(n,{row:e,column:-1},s.comparePoints);r<0&&(r=-r-1),r>=n.length?r=i>0?0:n.length-1:0===r&&i<0&&(r=n.length-1);var o=n[r];if(o&&i){if(o.row===e){do{o=n[r+=i]}while(o&&o.row===e);if(!o)return n.slice()}var a=[];e=o.row;do{a[i<0?"unshift":"push"](o),o=n[r+=i]}while(o&&o.row==e);return a.length&&a}}}(i,a,e);if(c){var u=c[0];o.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,o.row=u.row,h=t.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;h={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(o.row),t.selection.moveToPosition(o);var d={row:o.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},f=d.el.appendChild(r.createElement("div")),p=d.el.appendChild(r.createElement("div"));p.className="error_widget_arrow "+h.className;var g=t.renderer.$cursorLayer.getPixelPosition(o).left;p.style.left=g+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+h.className,f.innerHTML=h.text.join("<br>"),f.appendChild(r.createElement("div"));var m=function(t,e,i){if(0===e&&("esc"===i||"return"===i))return d.destroy(),{command:"null"}};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var r=t("./lib/dom"),s=t("./lib/event"),o=t("./range").Range,a=t("./editor").Editor,l=t("./edit_session").EditSession,h=t("./undomanager").UndoManager,c=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,e.define=i.amdD,e.edit=function(t,i){if("string"==typeof t){var n=t;if(!(t=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(t&&t.env&&t.env.editor instanceof a)return t.env.editor;var o="";if(t&&/input|textarea/i.test(t.tagName)){var l=t;o=l.value,t=r.createElement("pre"),l.parentNode.replaceChild(t,l)}else t&&(o=t.textContent,t.innerHTML="");var h=e.createEditSession(o),u=new a(new c(t),h,i),d={document:h,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),s.addListener(window,"resize",d.onResize),u.on("destroy",function(){s.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},e.createEditSession=function(t,e){var i=new l(t,e);return i.setUndoManager(new h),i},e.Range=o,e.Editor=a,e.EditSession=l,e.UndoManager=h,e.VirtualRenderer=c,e.version=e.config.version}),ace.require(["ace/ace"],function(e){for(var i in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(i)&&(window.ace[i]=e[i]);window.ace.default=window.ace,t&&(t.exports=window.ace)})},9416:function(t,e,i){t=i.nmd(t),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(t,e,i){e.isDark=!0,e.cssClass="ace-monokai",e.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",t("../lib/dom").importCssString(e.cssText,e.cssClass)}),ace.require(["ace/theme/monokai"],function(e){t&&(t.exports=e)})},2594:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439),r=i(3519),s=i(9565),o=i(7386),a=i(3435);class l extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const t=this.terms.slice(),e={};let i=r.ZERO;for(let n=t.pop();n;n=t.pop()){const l=n.canonify();l instanceof r.Fraction?i=i.add(l):l instanceof s.Variable?e[l.label]=e[l.label]?e[l.label].add(l):l:l instanceof a.CanonicalAddition?(t.push(l.independent),t.push(...l.terms)):o.unexhaustive(l)}return new a.CanonicalAddition(i,Object.values(e))}multiply(t){if(t instanceof r.Fraction)return new l(this.terms.map(e=>e.canonify().multiply(t)));if(t instanceof s.Variable)return new l(this.terms.map(e=>{const i=e.canonify();if(i instanceof r.Fraction)return t.multiply(i);if(i instanceof s.Variable)throw Error("In linear progarmming you can't have two variables multiplying each other");if(i instanceof a.CanonicalAddition){if(0===i.terms.length)return t.multiply(i.independent);throw Error("In linear progarmming you can't have two variables multiplying each other")}return o.unexhaustive(i)}));if(t instanceof l){const e=this.terms.reduce((e,i)=>{const n=t.multiply(i.canonify());return e.push(...n.terms),e},new Array);return new l(e)}return t instanceof a.CanonicalAddition?this.multiply(new l([t.independent,...t.terms])):o.unexhaustive(t)}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}e.Addition=l},3435:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3519),r=i(9439);class s extends r.Expression{constructor(t,e){super(),this.independent=t,this.terms=e}canonify(){return this}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}getCoefficient(t){for(const e of this.terms)if(e.label===t)return e.factor;return n.ZERO}multiply(t){return new s(this.independent.multiply(t),this.terms.map(e=>e.multiply(t)))}toString(){let t="";this.independent.isZero()||(t+=this.independent);for(const e of this.terms)e.factor.isZero()||(e.factor.isPositive()?t&&(t+=" + "):t+=t?" - ":"-"),t+=e.toString(!1);return t}replaceVar(t,e){const i=new Array;for(const n of this.terms)n.label===t?i.push(...e.map(t=>t.multiply(n.factor))):i.push(n);return new s(this.independent,i)}}e.CanonicalAddition=s},6049:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4071),r=i(3519);class s extends n.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return!1}turnIntoEquality(t){return this}getCoefficient(t){for(const e of this.left)if(e.label===t)return e.factor;return r.ZERO}getIndependent(){return this.right}toString(){let t="";for(const e of this.left)t&&(e.factor.isPositive()||e.factor.isZero()?t+=" + ":t+=" - "),t+=e.toString(!1);return`${t} == ${this.right}`}replaceVar(t,e){const i=new Array;for(const n of this.left)n.label===t?i.push(...e.map(t=>t.multiply(n.factor))):i.push(n);return new s(i,this.right)}}e.CanonicalEquality=s},7392:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4071),r=i(3519),s=i(9565),o=i(6049);e.CanonicalGreater=class extends n.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return 1===this.left.length&&this.left[0].factor.isPositive()&&this.right.isZero()}turnIntoEquality(t){let e=1;for(;t.has("f_"+e);)e++;t.add("f_"+e);const i=new s.Variable(r.NEG,"f_"+e);return new o.CanonicalEquality([i,...this.left],this.right)}}},4071:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanonicalRestriction=class{}},1439:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4071),r=i(3519),s=i(9565),o=i(6049);e.CanonicalSmaller=class extends n.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return 1===this.left.length&&this.left[0].factor.isNegative()&&this.right.isZero()}turnIntoEquality(t){let e=1;for(;t.has("f_"+e);)e++;t.add("f_"+e);const i=new s.Variable(r.ONE,"f_"+e);return new o.CanonicalEquality([i,...this.left],this.right)}}},3387:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439),r=i(4471);e.Division=class extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const[t,...e]=this.terms;for(let i=0;i<e.length;i++)e[i]=e[i].invert();return new r.Multiplication([t,...e]).canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},7310:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2273),r=i(3519),s=i(3435),o=i(6049),a=i(9565);e.Equality=class extends n.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof r.Fraction?t=new s.CanonicalAddition(t,[]):t instanceof a.Variable&&(t=new s.CanonicalAddition(r.ZERO,[t]));let e=this.right.canonify();return e instanceof r.Fraction?e=new s.CanonicalAddition(e,[]):e instanceof a.Variable&&(e=new s.CanonicalAddition(r.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=r.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(r.NEG))),e.terms=[],new o.CanonicalEquality(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},9439:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Expression=class{invert(){throw new Error("Tried to invert something that we can't yet invert")}}},2487:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439);e.Factor=class extends n.Expression{constructor(t){super(),this.expr=t}canonify(){return this.expr.canonify()}getVars(t){return this.expr.getVars(t)}invert(){return this.expr.invert()}}},4887:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3519);e.Fpi=class{constructor(t,e,i){this.objective=t,this.restrictions=e,this.vars=i}toMatrix(){const t=this.vars.map(t=>this.objective.getCoefficient(t).multiply(n.NEG));return{a:this.restrictions.map(t=>this.vars.map(e=>t.getCoefficient(e))),b:this.restrictions.map(t=>t.getIndependent()),c:t,vars:this.vars}}toString(){let t=`max(${this.objective})\n`;t+="\tst:\n";for(const e of this.restrictions)t+=`\t${e};\n`;return t+="\n\t"+this.vars.join(",")+" >= 0\n",t}}},3519:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439);"undefined"==typeof BigInt&&(BigInt=Number);const r=BigInt(0),s=BigInt(1),o=BigInt(-1);function a(t,e){return e===r?t:a(e,t%e)}class l extends n.Expression{constructor(t,e){if(super(),t===r)this.numerator=r,this.denominator=s;else{const i=a(t,e);this.numerator=t/i,this.denominator=e/i,this.denominator<r&&(this.numerator*=o,this.denominator*=o)}}isZero(){return this.numerator===BigInt(0)}add(t){return new l(this.numerator*t.denominator+this.denominator*t.numerator,this.denominator*t.denominator)}sub(t){return new l(this.numerator*t.denominator-this.denominator*t.numerator,this.denominator*t.denominator)}isPositive(){return this.numerator>0&&this.denominator>0||this.numerator<0&&this.denominator<0}isNegative(){return this.numerator>0&&this.denominator<0||this.numerator<0&&this.denominator>0}invert(){return this.isZero()?e.ZERO:new l(this.denominator,this.numerator)}multiply(t){return new l(this.numerator*t.numerator,this.denominator*t.denominator)}getVars(t=new Set){return t}canonify(){return this}toString(t=!0){let e;return e=this.denominator===BigInt(1)?this.numerator.toString():this.numerator===BigInt(0)?"0":this.numerator+"/"+this.denominator,t||"-"!==e[0]?e:e.substring(1)}}e.Fraction=l,e.ONE=new l(BigInt(1),BigInt(1)),e.NEG=new l(BigInt(-1),BigInt(1)),e.ZERO=new l(BigInt(0),BigInt(1))},8387:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2273),r=i(3519),s=i(3435),o=i(7392),a=i(9565);e.Greater=class extends n.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof r.Fraction?t=new s.CanonicalAddition(t,[]):t instanceof a.Variable&&(t=new s.CanonicalAddition(r.ZERO,[t]));let e=this.right.canonify();return e instanceof r.Fraction?e=new s.CanonicalAddition(e,[]):e instanceof a.Variable&&(e=new s.CanonicalAddition(r.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=r.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(r.NEG))),e.terms=[],new o.CanonicalGreater(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},3272:function(t,e,i){"use strict";const n=i(2594);e.kj=n.Addition,i(3435),i(6049),i(7392),i(4071),i(1439);const r=i(3387);e.dJ=r.Division;const s=i(7310);e.gc=s.Equality,i(9439);const o=i(2487);e.EN=o.Factor,i(4887);const a=i(3519);e.iA=a.Fraction,e.hL=a.NEG,e.ry=a.ONE;const l=i(8387);e.iZ=l.Greater;const h=i(4471);e.r=h.Multiplication;const c=i(1096);e.Ss=c.ProgLin,i(2273);const u=i(288);e.fe=u.Smaller;const d=i(9721);e.RI=d.Subtraction;const f=i(9565);e._w=f.Variable;const p=function(){function t(e,i,n,r){this.message=e,this.expected=i,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),t.buildMessage=function(t,e){var i={literal:function(t){return'"'+r(t.text)+'"'},class:function(t){var e,i="";for(e=0;e<t.parts.length;e++)i+=t.parts[e]instanceof Array?s(t.parts[e][0])+"-"+s(t.parts[e][1]):s(t.parts[e]);return"["+(t.inverted?"^":"")+i+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){var e,n,r,s=new Array(t.length);for(e=0;e<t.length;e++)s[e]=i[(r=t[e]).type](r);if(s.sort(),s.length>0){for(e=1,n=1;e<s.length;e++)s[e-1]!==s[e]&&(s[n]=s[e],n++);s.length=n}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(t)+" but "+function(t){return t?'"'+r(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(i,n){n=void 0!==n?n:{};var r,s,o,a,l,h,c,u,d={},f={ProgLin:tt},p=tt,g=K("max",!1),m=K("min",!1),v=K("(",!1),y=K(")",!1),b=K("st:",!1),_=K("sujeito a:",!1),w=K(";",!1),S=K(">=",!1),k=K("<=",!1),x=K("==",!1),C=K("=",!1),E=K("+",!1),T=K("-",!1),A=K("*",!1),O=K("/",!1),M=Q("integer"),R=/^[+\-]/,D=Z(["+","-"],!1,!1),L=/^[0-9]/,I=Z([["0","9"]],!1,!1),P=/^[a-zA-Z]/,$=Z([["a","z"],["A","Z"]],!1,!1),F=/^[a-zA-Z0-9]/,N=Z([["a","z"],["A","Z"],["0","9"]],!1,!1),B=Q("whitespace"),j=/^[ \t\n\r]/,H=Z([" ","\t","\n","\r"],!1,!1),z=0,W=0,V=[{line:1,column:1}],U=0,Y=[],G=0;if("startRule"in n){if(!(n.startRule in f))throw new Error("Can't start parsing from rule \""+n.startRule+'".');p=f[n.startRule]}function q(){return i.substring(W,z)}function K(t,e){return{type:"literal",text:t,ignoreCase:e}}function Z(t,e,i){return{type:"class",parts:t,inverted:e,ignoreCase:i}}function Q(t){return{type:"other",description:t}}function X(t){var e,n=V[t];if(n)return n;for(e=t-1;!V[e];)e--;for(n={line:(n=V[e]).line,column:n.column};e<t;)10===i.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return V[t]=n,n}function J(t){z<U||(z>U&&(U=z,Y=[]),Y.push(t))}function tt(){var t,n,r,s,o,a;return t=z,ht()!==d?("max"===i.substr(z,3)?(n="max",z+=3):(n=d,0===G&&J(g)),n===d&&("min"===i.substr(z,3)?(n="min",z+=3):(n=d,0===G&&J(m))),n!==d&&ht()!==d?(40===i.charCodeAt(z)?(r="(",z++):(r=d,0===G&&J(v)),r!==d&&ht()!==d&&(s=it())!==d&&ht()!==d?(41===i.charCodeAt(z)?(o=")",z++):(o=d,0===G&&J(y)),o!==d&&ht()!==d&&(a=function(){var t,e,n,r,s,o,a;if(t=z,"st:"===i.substr(z,3)?(e="st:",z+=3):(e=d,0===G&&J(b)),e===d&&("sujeito a:"===i.substr(z,10)?(e="sujeito a:",z+=10):(e=d,0===G&&J(_))),e!==d)if(ht()!==d){if(n=[],r=z,(s=et())!==d?(59===i.charCodeAt(z)?(o=";",z++):(o=d,0===G&&J(w)),o===d&&(o=null),o!==d&&(a=ht())!==d?r=s=[s,o,a]:(z=r,r=d)):(z=r,r=d),r!==d)for(;r!==d;)n.push(r),r=z,(s=et())!==d?(59===i.charCodeAt(z)?(o=";",z++):(o=d,0===G&&J(w)),o===d&&(o=null),o!==d&&(a=ht())!==d?r=s=[s,o,a]:(z=r,r=d)):(z=r,r=d);else n=d;n!==d?(W=t,t=e=n.map(t=>t[0])):(z=t,t=d)}else z=t,t=d;else z=t,t=d;return t}())!==d?(W=t,t=new e.Ss(n,s,a)):(z=t,t=d)):(z=t,t=d)):(z=t,t=d)):(z=t,t=d),t}function et(){var t,n,r,s;return t=z,(n=it())!==d&&ht()!==d?(">="===i.substr(z,2)?(r=">=",z+=2):(r=d,0===G&&J(S)),r===d&&("<="===i.substr(z,2)?(r="<=",z+=2):(r=d,0===G&&J(k)),r===d&&("=="===i.substr(z,2)?(r="==",z+=2):(r=d,0===G&&J(x)),r===d&&(61===i.charCodeAt(z)?(r="=",z++):(r=d,0===G&&J(C))))),r!==d&&ht()!==d&&(s=it())!==d?(W=t,t=n=function(t,i,n){switch(i){case">=":return new e.iZ(t,n);case"<=":return new e.fe(t,n);case"=":case"==":return new e.gc(t,n)}}(n,r,s)):(z=t,t=d)):(z=t,t=d),t}function it(){var t,n,r,s,o,a,l,h;if(t=z,(n=nt())!==d){for(r=[],s=z,(o=ht())!==d?(43===i.charCodeAt(z)?(a="+",z++):(a=d,0===G&&J(E)),a!==d&&(l=ht())!==d&&(h=nt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(43===i.charCodeAt(z)?(a="+",z++):(a=d,0===G&&J(E)),a!==d&&(l=ht())!==d&&(h=nt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.kj(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function nt(){var t,n,r,s,o,a,l,h;if(t=z,(n=rt())!==d){for(r=[],s=z,(o=ht())!==d?(45===i.charCodeAt(z)?(a="-",z++):(a=d,0===G&&J(T)),a!==d&&(l=ht())!==d&&(h=rt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(45===i.charCodeAt(z)?(a="-",z++):(a=d,0===G&&J(T)),a!==d&&(l=ht())!==d&&(h=rt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.RI(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function rt(){var t,n,r,s,o,a,l,h;if(t=z,(n=st())!==d){for(r=[],s=z,(o=ht())!==d?(42===i.charCodeAt(z)?(a="*",z++):(a=d,0===G&&J(A)),a!==d&&(l=ht())!==d&&(h=st())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(42===i.charCodeAt(z)?(a="*",z++):(a=d,0===G&&J(A)),a!==d&&(l=ht())!==d&&(h=st())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.r(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function st(){var t,n,r,s,o,a,l,h;if(t=z,(n=ot())!==d){for(r=[],s=z,(o=ht())!==d?(47===i.charCodeAt(z)?(a="/",z++):(a=d,0===G&&J(O)),a!==d&&(l=ht())!==d&&(h=ot())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(47===i.charCodeAt(z)?(a="/",z++):(a=d,0===G&&J(O)),a!==d&&(l=ht())!==d&&(h=ot())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.dJ(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function ot(){var t,n,r,s,o;return t=z,40===i.charCodeAt(z)?(n="(",z++):(n=d,0===G&&J(v)),n!==d&&(r=ht())!==d&&(s=it())!==d&&ht()!==d?(41===i.charCodeAt(z)?(o=")",z++):(o=d,0===G&&J(y)),o!==d?(W=t,t=n=new e.EN(s)):(z=t,t=d)):(z=t,t=d),t===d&&(t=z,(n=at())===d&&(n=null),n!==d&&(r=lt())!==d?(W=t,t=n=new e._w(n||e.ry,r)):(z=t,t=d),t===d&&(t=z,45===i.charCodeAt(z)?(n="-",z++):(n=d,0===G&&J(T)),n!==d&&(r=lt())!==d?(W=t,t=n=new e._w(e.hL,r)):(z=t,t=d),t===d&&(t=at()))),t}function at(){var t,n,r,s;if(G++,t=z,ht()!==d)if(R.test(i.charAt(z))?(n=i.charAt(z),z++):(n=d,0===G&&J(D)),n===d&&(n=null),n!==d){if(r=[],L.test(i.charAt(z))?(s=i.charAt(z),z++):(s=d,0===G&&J(I)),s!==d)for(;s!==d;)r.push(s),L.test(i.charAt(z))?(s=i.charAt(z),z++):(s=d,0===G&&J(I));else r=d;r!==d?(W=t,t=new e.iA(BigInt(q()),BigInt(1))):(z=t,t=d)}else z=t,t=d;else z=t,t=d;return G--,t===d&&0===G&&J(M),t}function lt(){var t,e,n,r;if(t=z,P.test(i.charAt(z))?(e=i.charAt(z),z++):(e=d,0===G&&J($)),e!==d){for(n=[],F.test(i.charAt(z))?(r=i.charAt(z),z++):(r=d,0===G&&J(N));r!==d;)n.push(r),F.test(i.charAt(z))?(r=i.charAt(z),z++):(r=d,0===G&&J(N));n!==d?(W=t,t=e=q()):(z=t,t=d)}else z=t,t=d;return t}function ht(){var t,e;for(G++,t=[],j.test(i.charAt(z))?(e=i.charAt(z),z++):(e=d,0===G&&J(H));e!==d;)t.push(e),j.test(i.charAt(z))?(e=i.charAt(z),z++):(e=d,0===G&&J(H));return G--,t===d&&(e=d,0===G&&J(B)),t}if(void 0===typeof BigInt&&(BigInt=function(t){return parseInt(t,10)}),(r=p())!==d&&z===i.length)return r;throw r!==d&&z<i.length&&J({type:"end"}),s=Y,o=U<i.length?i.charAt(U):null,h=U<i.length?U+1:U,c=X(l=U),u=X(h),a={start:{offset:l,line:c.line,column:c.column},end:{offset:h,line:u.line,column:u.column}},new t(t.buildMessage(s,o),s,o,a)}}}();e.Qc=p.parse,e.gW=p.SyntaxError},4471:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439),r=i(2594);e.Multiplication=class extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const t=this.terms[0].canonify();let e;e=t instanceof r.Addition?t:new r.Addition([t]);for(let i=1;i<this.terms.length;i++){const t=this.terms[i].canonify();e=e.multiply(t)}return e.canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},1096:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4471),r=i(3519),s=i(3435),o=i(9565),a=i(4887),l=i(2594),h=i(7310);e.ProgLin=class{constructor(t,e,i){this.type=t,this.objective=e,this.restrictions=i}toFPI(){const t=new Set,e=this.objective.canonify();let i;i=e instanceof r.Fraction?new s.CanonicalAddition(e,[]):e instanceof o.Variable?new s.CanonicalAddition(r.ZERO,[e]):e,i.getVars(t),"min"===this.type&&(i=new n.Multiplication([r.NEG,i]).canonify());const c=new Set,u=[];for(const n of this.restrictions){n.getVars(t);const e=n.canonify();e.isNonNegativity()?n.getVars().forEach(t=>c.add(t)):u.push(e)}let d=u.map(t=>t.turnIntoEquality(c));const f=[];for(const n of t)if(!c.has(n)){c.add(n+"p"),c.add(n+"n");const t=[new o.Variable(r.ONE,n+"p"),new o.Variable(r.NEG,n+"n")];f.push(new h.Equality(new o.Variable(r.ONE,n),new l.Addition(t))),i=i.replaceVar(n,t),d=d.map(e=>e.replaceVar(n,t))}return new a.Fpi(i,d,[...c])}}},2273:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Restriction=class{}},288:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2273),r=i(3519),s=i(3435),o=i(9565),a=i(1439);e.Smaller=class extends n.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof r.Fraction?t=new s.CanonicalAddition(t,[]):t instanceof o.Variable&&(t=new s.CanonicalAddition(r.ZERO,[t]));let e=this.right.canonify();return e instanceof r.Fraction?e=new s.CanonicalAddition(e,[]):e instanceof o.Variable&&(e=new s.CanonicalAddition(r.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=r.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(r.NEG))),e.terms=[],new a.CanonicalSmaller(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},9721:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439),r=i(4471),s=i(3519),o=i(2594);e.Subtraction=class extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const[t,...e]=this.terms;for(let i=0;i<e.length;i++)e[i]=new r.Multiplication([e[i],s.NEG]).canonify();return new o.Addition([t,...e]).canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},7386:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unexhaustive=function(t){throw new Error("The code have reached a place where it shouldn't. It's a bug!")}},9565:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(9439);class r extends n.Expression{constructor(t,e){super(),this.factor=t,this.label=e}add(t){if(t.label===this.label)return new r(this.factor.add(t.factor),t.label);throw new Error("Can not perform addition of: "+this+" and "+t)}multiply(t){return new r(this.factor.multiply(t),this.label)}canonify(){return this}getVars(t=new Set){return t.add(this.label),t}invert(){throw new Error("You cannot put a variable in the denominator")}toString(t=!0){let e=this.factor.toString(t);return-1!==e.indexOf("/")&&(e="("+e+")"),e+this.label}}e.Variable=r},8353:function(t,e,i){"use strict";function n(t){return"function"==typeof t}let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function h(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:r,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(let t=0;t<i.length;++t)i[t].remove(this);if(n(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof c?d(a.errors):[a]}}if(l(o)){let t=-1,i=o.length;for(;++t<i;){const i=o[t];if(h(i))try{i.unsubscribe()}catch(a){e=e||[],a instanceof c?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new c(e)}add(e){let i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){const e=i;i=new t,i._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof t){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[i]:r.push(i),i}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends u{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,i)}}[f](){return this}static create(t,e,i){const n=new p(t,e,i);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,i,r){let s;super(),this._parentSubscriber=t;let o=this;n(e)?s=e:e&&(s=e.next,i=e.error,r=e.complete,e!==a&&(o=Object.create(e),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=s;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}__tryOrSetError(t,e,i){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(n){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(t,e,i){const{operator:n}=this,r=function(t,e,i){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||i?new p(t,e,i):new p(a)}(t,e,i);if(r.add(n?n.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:i,isStopped:n}=t;if(e||n)return!1;t=i&&i instanceof p?i:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,i)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(r){i(r),n&&n.unsubscribe()}},i,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let i;this.subscribe(t=>i=t,t=>e(t),()=>t(i))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends u{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class S extends p{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new S(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,i=e.length,n=e.slice();for(let r=0;r<i;r++)n[r].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,i=e.length,n=e.slice();for(let r=0;r<i;r++)n[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,i=t.slice();for(let n=0;n<e;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):u.EMPTY}}function C(t){return t&&"function"==typeof t.schedule}function E(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new T(t,e))}}class T{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new A(t,this.project,this.thisArg))}}class A extends p{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const O=t=>e=>{for(let i=0,n=t.length;i<n&&!e.closed;i++)e.next(t[i]);e.complete()};function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=M(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function L(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const I=t=>{if(t&&"function"==typeof t[m])return i=t,t=>{const e=i[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return O(t);if(L(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[R])return e=t,t=>{const i=e[R]();for(;;){let e;try{e=i.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t};{const e=h(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,i};function P(t,e){return new y(i=>{const n=new u;let r=0;return n.add(e.schedule(function(){r!==t.length?(i.next(t[r++]),i.closed||n.add(this.schedule())):i.complete()})),n})}function $(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(i=>{const n=new u;return n.add(e.schedule(()=>{const r=t[m]();n.add(r.subscribe({next(t){n.add(e.schedule(()=>i.next(t)))},error(t){n.add(e.schedule(()=>i.error(t)))},complete(){n.add(e.schedule(()=>i.complete()))}}))})),n})}(t,e);if(L(t))return function(t,e){return new y(i=>{const n=new u;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{i.next(t),n.add(e.schedule(()=>i.complete()))}))},t=>{n.add(e.schedule(()=>i.error(t)))}))),n})}(t,e);if(D(t))return P(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(i=>{const n=new u;let r;return n.add(()=>{r&&"function"==typeof r.return&&r.return()}),n.add(e.schedule(()=>{r=t[R](),n.add(e.schedule(function(){if(i.closed)return;let t,e;try{const i=r.next();t=i.value,e=i.done}catch(n){return void i.error(n)}e?i.complete():(i.next(t),this.schedule())}))})),n})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(I(t))}class F extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class N extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function B(t,e){if(e.closed)return;if(t instanceof y)return t.subscribe(e);let i;try{i=I(t)(e)}catch(n){e.error(n)}return i}function j(t,e,i=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(j((i,n)=>$(t(i,n)).pipe(E((t,r)=>e(i,t,n,r))),i)):("number"==typeof e&&(i=e),e=>e.lift(new H(t,i)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new z(t,this.project,this.concurrent))}}class z extends N{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),i=this.destination;i.add(e);const n=B(t,e);n!==e&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t=Number.POSITIVE_INFINITY){return j(v,t)}function V(t,e){return e?P(t,e):new y(O(t))}function U(...t){let e=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return C(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===i&&1===t.length&&t[0]instanceof y?t[0]:W(e)(V(t,i))}function Y(){return function(t){return t.lift(new G(t))}}class G{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const n=new q(t,i),r=e.subscribe(n);return n.closed||(n.connection=i.connect()),r}}class q extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,n=t._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}class K extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t}refCount(){return Y()(this)}}const Z=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function X(){return new k}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function it(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=J({__forward_ref__:J});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return et(this())},t}function st(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===rt}class at extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}function ct(t,e){const i=e?` in ${e}`:"";throw new at("201",`No provider for ${ht(t)} found${i}`)}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ft(t){return pt(t,mt)||pt(t,yt)}function pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function gt(t){return t&&(t.hasOwnProperty(vt)||t.hasOwnProperty(bt))?t[vt]:null}const mt=J({"\u0275prov":J}),vt=J({"\u0275inj":J}),yt=J({ngInjectableDef:J}),bt=J({ngInjectorDef:J});var _t=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let wt;function St(t){const e=wt;return wt=t,e}function kt(t,e,i){const n=ft(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&_t.Optional?null:void 0!==e?e:void ct(et(t),"Injector")}function xt(t){return{toString:t}.toString()}var Ct=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Tt="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mt="undefined"!=typeof global&&global,Rt=Tt||Mt||At||Ot,Dt={},Lt=[],It=J({"\u0275cmp":J}),Pt=J({"\u0275dir":J}),$t=J({"\u0275pipe":J}),Ft=J({"\u0275mod":J}),Nt=J({"\u0275loc":J}),Bt=J({"\u0275fac":J}),jt=J({__NG_ELEMENT_ID__:J});let Ht=0;function zt(t){return xt(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||Lt,_:null,setInput:null,schemas:t.schemas||null,tView:null},n=t.directives,r=t.features,s=t.pipes;return i.id+=Ht++,i.inputs=Gt(t.inputs,e),i.outputs=Gt(t.outputs),r&&r.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(Wt):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Vt):null,i})}function Wt(t){return Zt(t)||function(t){return t[Pt]||null}(t)}function Vt(t){return function(t){return t[$t]||null}(t)}const Ut={};function Yt(t){const e={type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&xt(()=>{Ut[t.id]=t.type}),e}function Gt(t,e){if(null==t)return Dt;const i={};for(const n in t)if(t.hasOwnProperty(n)){let r=t[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,e&&(e[r]=s)}return i}const qt=zt;function Kt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zt(t){return t[It]||null}function Qt(t,e){const i=t[Ft]||null;if(!i&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return i}function Xt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Jt(t){return Array.isArray(t)&&!0===t[1]}function te(t){return 0!=(8&t.flags)}function ee(t){return 2==(2&t.flags)}function ie(t){return 1==(1&t.flags)}function ne(t){return null!==t.template}function re(t,e){return t.hasOwnProperty(Bt)?t[Bt]:null}class se{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function oe(){return ae}function ae(t){return t.type.prototype.ngOnChanges&&(t.setInput=he),le}function le(){const t=ce(this),e=null==t?void 0:t.current;if(e){const i=t.previous;if(i===Dt)t.previous=e;else for(let t in e)i[t]=e[t];t.current=null,this.ngOnChanges(e)}}function he(t,e,i,n){const r=ce(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Dt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[i],l=o[a];s[a]=new se(l&&l.currentValue,e,o===Dt),t[n]=e}function ce(t){return t.__ngSimpleChanges__||null}let ue;function de(t){return!!t.listen}oe.ngInherit=!0;const fe={createRenderer:(t,e)=>void 0!==ue?ue:"undefined"!=typeof document?document:void 0};function pe(t){for(;Array.isArray(t);)t=t[0];return t}function ge(t,e){return pe(e[t])}function me(t,e){return pe(e[t.index])}function ve(t,e){return t.data[e]}function ye(t,e){return t[e]}function be(t,e){const i=e[t];return Xt(i)?i:i[0]}function _e(t){return 4==(4&t[2])}function we(t){return 128==(128&t[2])}function Se(t,e){return null==e?null:t[e]}function ke(t){t[18]=0}function xe(t,e){t[5]+=e;let i=t,n=t[3];for(;null!==n&&(1===e&&1===i[5]||-1===e&&0===i[5]);)n[5]+=e,i=n,n=n[3]}const Ce={lFrame:Ze(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ee(){return Ce.bindingsEnabled}function Te(){return Ce.lFrame.lView}function Ae(){return Ce.lFrame.tView}function Oe(t){return Ce.lFrame.contextLView=t,t[8]}function Me(){let t=Re();for(;null!==t&&64===t.type;)t=t.parent;return t}function Re(){return Ce.lFrame.currentTNode}function De(t,e){const i=Ce.lFrame;i.currentTNode=t,i.isParent=e}function Le(){return Ce.lFrame.isParent}function Ie(){Ce.lFrame.isParent=!1}function Pe(){return Ce.isInCheckNoChangesMode}function $e(t){Ce.isInCheckNoChangesMode=t}function Fe(){const t=Ce.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ne(){return Ce.lFrame.bindingIndex}function Be(){return Ce.lFrame.bindingIndex++}function je(t){const e=Ce.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function He(t,e){const i=Ce.lFrame;i.bindingIndex=i.bindingRootIndex=t,ze(e)}function ze(t){Ce.lFrame.currentDirectiveIndex=t}function We(t){const e=Ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ve(){return Ce.lFrame.currentQueryIndex}function Ue(t){Ce.lFrame.currentQueryIndex=t}function Ye(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ge(t,e,i){if(i&_t.SkipSelf){let n=e,r=t;for(;n=n.parent,!(null!==n||i&_t.Host||(n=Ye(r),null===n)||(r=r[15],10&n.type)););if(null===n)return!1;e=n,t=r}const n=Ce.lFrame=Ke();return n.currentTNode=e,n.lView=t,!0}function qe(t){const e=Ke(),i=t[1];Ce.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Ke(){const t=Ce.lFrame,e=null===t?null:t.child;return null===e?Ze(t):e}function Ze(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Qe(){const t=Ce.lFrame;return Ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=Qe;function Je(){const t=Qe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ti(){return Ce.lFrame.selectedIndex}function ei(t){Ce.lFrame.selectedIndex=t}function ii(){const t=Ce.lFrame;return ve(t.tView,t.selectedIndex)}function ni(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){const e=t.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;n&&(t.contentHooks||(t.contentHooks=[])).push(-i,n),r&&((t.contentHooks||(t.contentHooks=[])).push(i,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-i,s),o&&((t.viewHooks||(t.viewHooks=[])).push(i,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(i,a)}}function ri(t,e,i){ai(t,e,3,i)}function si(t,e,i,n){(3&t[2])===i&&ai(t,e,i,n)}function oi(t,e){let i=t[2];(3&i)===e&&(i&=2047,i+=1,t[2]=i)}function ai(t,e,i,n){const r=null!=n?n:-1,s=e.length-1;let o=0;for(let a=void 0!==n?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=n&&o>=n)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(li(t,i,e,a),t[18]=(4294901760&t[18])+a+2),a++}function li(t,e,i,n){const r=i[n]<0,s=i[n+1],o=t[r?-i[n]:i[n]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class hi{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ci(t,e,i){const n=de(t);let r=0;for(;r<i.length;){const s=i[r];if("number"==typeof s){if(0!==s)break;r++;const o=i[r++],a=i[r++],l=i[r++];n?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=i[++r];di(o)?n&&t.setProperty(e,o,a):n?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function ui(t){return 3===t||4===t||6===t}function di(t){return 64===t.charCodeAt(0)}function fi(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r?i=r:0===i||pi(t,i,r,null,-1===i||2===i?e[++n]:null)}}return t}function pi(t,e,i,n,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const i=t[s++];if("number"==typeof i){if(i===e){o=-1;break}if(i>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===i){if(null===n)return void(null!==r&&(t[s+1]=r));if(n===t[s+1])return void(t[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),null!==n&&t.splice(s++,0,n),null!==r&&t.splice(s++,0,r)}function gi(t){return-1!==t}function mi(t){return 32767&t}function vi(t,e){let i=t>>16,n=e;for(;i>0;)n=n[15],i--;return n}let yi=!0;function bi(t){const e=yi;return yi=t,e}let _i=0;function wi(t,e){const i=ki(t,e);if(-1!==i)return i;const n=e[1];n.firstCreatePass&&(t.injectorIndex=e.length,Si(n.data,t),Si(e,null),Si(n.blueprint,null));const r=xi(t,e),s=t.injectorIndex;if(gi(r)){const t=mi(r),i=vi(r,e),n=i[1].data;for(let r=0;r<8;r++)e[s+r]=i[t+r]|n[t+r]}return e[s+8]=r,s}function Si(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ki(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xi(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(n=2===e?t.declTNode:1===e?r[6]:null,null===n)return-1;if(i++,r=r[15],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return-1}function Ci(t,e,i){!function(t,e,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(jt)&&(n=i[jt]),null==n&&(n=i[jt]=_i++);const r=255&n;e.data[t+(r>>5)]|=1<<r}(t,e,i)}function Ei(t,e,i){if(i&_t.Optional)return t;ct(e,"NodeInjector")}function Ti(t,e,i,n){if(i&_t.Optional&&void 0===n&&(n=null),0==(i&(_t.Self|_t.Host))){const r=t[9],s=St(void 0);try{return r?r.get(e,n,i&_t.Optional):kt(e,n,i&_t.Optional)}finally{St(s)}}return Ei(n,e,i)}function Ai(t,e,i,n=_t.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:Mi:e}(i);if("function"==typeof s){if(!Ge(e,t,n))return n&_t.Host?Ei(r,i,n):Ti(e,i,n,r);try{const t=s(n);if(null!=t||n&_t.Optional)return t;ct(i)}finally{Xe()}}else if("number"==typeof s){let r=null,o=ki(t,e),a=-1,l=n&_t.Host?e[16][6]:null;for((-1===o||n&_t.SkipSelf)&&(a=-1===o?xi(t,e):e[o+8],-1!==a&&Pi(n,!1)?(r=e[1],o=mi(a),e=vi(a,e)):o=-1);-1!==o;){const t=e[1];if(Ii(s,o,t.data)){const t=Ri(o,e,i,r,n,l);if(t!==Oi)return t}a=e[o+8],-1!==a&&Pi(n,e[1].data[o+8]===l)&&Ii(s,o,e)?(r=t,o=mi(a),e=vi(a,e)):o=-1}}}return Ti(e,i,n,r)}const Oi={};function Mi(){return new $i(Me(),Te())}function Ri(t,e,i,n,r,s){const o=e[1],a=o.data[t+8],l=Di(a,o,i,null==n?ee(a)&&yi:n!=o&&0!=(3&a.type),r&_t.Host&&s===a);return null!==l?Li(e,o,l,a):Oi}function Di(t,e,i,n,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,h=s>>20,c=r?a+h:t.directiveEnd;for(let u=n?a:a+h;u<c;u++){const t=o[u];if(u<l&&i===t||u>=l&&t.type===i)return u}if(r){const t=o[l];if(t&&ne(t)&&t.type===i)return l}return null}function Li(t,e,i,n){let r=t[i];const s=e.data;if(r instanceof hi){const o=r;o.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(ht(s[i]));const a=bi(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?St(o.injectImpl):null;Ge(t,n,_t.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&function(t,e,i){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){const n=ae(e);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,n)}r&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,r),s&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,s),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,s))}(i,s[i],e)}finally{null!==l&&St(l),bi(a),o.resolving=!1,Xe()}}return r}function Ii(t,e,i){return!!(i[e+(t>>5)]&1<<t)}function Pi(t,e){return!(t&_t.Self||t&_t.Host&&e)}class $i{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ai(this._tNode,this._lView,t,void 0,e)}}function Fi(t){return ot(t)?()=>{const e=Fi(st(t));return e&&e()}:re(t)}function Ni(t,e,i){return xt(()=>{const n=function(t){return function(...e){if(t){const i=t(...e);for(const t in i)this[t]=i[t]}}}(e);function r(...t){if(this instanceof r)return n.apply(this,t),this;const e=new r(...t);return i.annotation=e,i;function i(t,i,n){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(e),t}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Bi{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ji=new Bi("AnalyzeForEntryComponents"),Hi=Function;function zi(t,e){void 0===e&&(e=t);for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)?(e===t&&(e=t.slice(0,i)),zi(n,e)):e!==t&&e.push(n)}return e}function Wi(t,e){t.forEach(t=>Array.isArray(t)?Wi(t,e):e(t))}function Vi(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Ui(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yi(t,e){const i=[];for(let n=0;n<t;n++)i.push(e);return i}function Gi(t,e,i){let n=Ki(t,e);return n>=0?t[1|n]=i:(n=~n,function(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(1===r)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=i,t[e+1]=n}}(t,n,e,i)),n}function qi(t,e){const i=Ki(t,e);if(i>=0)return t[1|i]}function Ki(t,e){return function(t,e,i){let n=0,r=t.length>>1;for(;r!==n;){const i=n+(r-n>>1),s=t[i<<1];if(e===s)return i<<1;s>e?r=i:n=i+1}return~(r<<1)}(t,e)}const Zi={},Qi=/\n/gm,Xi=J({provide:String,useValue:J});let Ji;function tn(t){const e=Ji;return Ji=t,e}function en(t,e=_t.Default){if(void 0===Ji)throw new Error("inject() must be called from an injection context");return null===Ji?kt(t,void 0,e):Ji.get(t,e&_t.Optional?null:void 0,e)}function nn(t,e=_t.Default){return(wt||en)(st(t),e)}const rn=nn;function sn(t){const e=[];for(let i=0;i<t.length;i++){const n=st(t[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let t,i=_t.Default;for(let e=0;e<n.length;e++){const r=n[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:i|=s:t=r}e.push(nn(t,i))}else e.push(nn(n))}return e}function on(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const an=on(Ni("Inject",t=>({token:t})),-1),ln=on(Ni("Optional"),8),hn=on(Ni("SkipSelf"),4);function cn(t,e){t.__ngContext__=e}function un(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function dn(t){return t.ngDebugContext}function fn(t){return t.ngOriginalError}function pn(t,...e){t.error(...e)}class gn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),n=function(t){return t.ngErrorLogger||pn}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?dn(t)?dn(t):this._findContext(fn(t)):null}_findOriginalError(t){let e=fn(t);for(;e&&fn(e);)e=fn(e);return e}}const mn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function vn(t){return t instanceof Function?t():t}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function bn(t,e){return(void 0)(t,e)}function _n(t){const e=t[3];return Jt(e)?e[3]:e}function wn(t){return kn(t[13])}function Sn(t){return kn(t[4])}function kn(t){for(;null!==t&&!Jt(t);)t=t[4];return t}function xn(t,e,i,n,r){if(null!=n){let s,o=!1;Jt(n)?s=n:Xt(n)&&(o=!0,n=n[0]);const a=pe(n);0===t&&null!==i?null==r?Dn(e,i,a):Rn(e,i,a,r||null,!0):1===t&&null!==i?Rn(e,i,a,r||null,!0):2===t?function(t,e,i){const n=In(t,e);n&&function(t,e,i,n){de(t)?t.removeChild(e,i,n):e.removeChild(i)}(t,n,e,i)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,i,n,r){const s=i[7];s!==pe(i)&&xn(e,t,n,s,r);for(let o=10;o<i.length;o++){const r=i[o];zn(r[1],r,t,e,n,s)}}(e,t,s,i,r)}}function Cn(t,e,i){return de(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function En(t,e){const i=t[9],n=i.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,xe(r,-1)),i.splice(n,1)}function Tn(t,e){if(t.length<=10)return;const i=10+e,n=t[i];if(n){const s=n[17];null!==s&&s!==t&&En(s,n),e>0&&(t[i-1][4]=n[4]);const o=Ui(t,10+e);zn(n[1],r=n,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}var r;return n}function An(t,e){if(!(256&e[2])){const i=e[11];de(i)&&i.destroyNode&&zn(t,e,i,3,null,null),function(t){let e=t[13];if(!e)return On(t[1],t);for(;e;){let i=null;if(Xt(e))i=e[13];else{const t=e[10];t&&(i=t)}if(!i){for(;e&&!e[4]&&e!==t;)Xt(e)&&On(e[1],e),e=e[3];null===e&&(e=t),Xt(e)&&On(e[1],e),i=e&&e[4]}e=i}}(e)}}function On(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let n=0;n<i.length;n+=2){const t=e[i[n]];if(!(t instanceof hi)){const e=i[n+1];if(Array.isArray(e))for(let i=0;i<e.length;i+=2){const n=t[e[i]],r=e[i+1];try{r.call(n)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const i=t.cleanup,n=e[7];let r=-1;if(null!==i)for(let s=0;s<i.length-1;s+=2)if("string"==typeof i[s]){const t=i[s+1],o="function"==typeof t?t(e):pe(e[t]),a=n[r=i[s+2]],l=i[s+3];"boolean"==typeof l?o.removeEventListener(i[s],a,l):l>=0?n[r=l]():n[r=-l].unsubscribe(),s+=2}else{const t=n[r=i[s+1]];i[s].call(t)}if(null!==n){for(let t=r+1;t<n.length;t++)(0,n[t])();e[7]=null}}(t,e),1===e[1].type&&de(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Jt(e[3])){i!==e[3]&&En(i,e);const n=e[19];null!==n&&n.detachView(t)}}}function Mn(t,e,i){return function(t,e,i){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return i[0];if(2&n.flags){const e=t.data[n.directiveStart].encapsulation;if(e===Et.None||e===Et.Emulated)return null}return me(n,i)}(t,e.parent,i)}function Rn(t,e,i,n,r){de(t)?t.insertBefore(e,i,n,r):e.insertBefore(i,n,r)}function Dn(t,e,i){de(t)?t.appendChild(e,i):e.appendChild(i)}function Ln(t,e,i,n,r){null!==n?Rn(t,e,i,n,r):Dn(t,e,i)}function In(t,e){return de(t)?t.parentNode(e):e.parentNode}function Pn(t,e,i){return $n(t,e,i)}let $n=function(t,e,i){return 40&t.type?me(t,i):null};function Fn(t,e,i,n){const r=Mn(t,n,e),s=e[11],o=Pn(n.parent||e[6],n,e);if(null!=r)if(Array.isArray(i))for(let a=0;a<i.length;a++)Ln(s,r,i[a],o,!1);else Ln(s,r,i,o,!1)}function Nn(t,e){if(null!==e){const i=e.type;if(3&i)return me(e,t);if(4&i)return jn(-1,t[e.index]);if(8&i){const i=e.child;if(null!==i)return Nn(t,i);{const i=t[e.index];return Jt(i)?jn(-1,i):pe(i)}}if(32&i)return bn(e,t)()||pe(t[e.index]);{const i=Bn(t,e);return null!==i?Array.isArray(i)?i[0]:Nn(_n(t[16]),i):Nn(t,e.next)}}return null}function Bn(t,e){return null!==e?t[16][6].projection[e.projection]:null}function jn(t,e){const i=10+t+1;if(i<e.length){const t=e[i],n=t[1].firstChild;if(null!==n)return Nn(t,n)}return e[7]}function Hn(t,e,i,n,r,s,o){for(;null!=i;){const a=n[i.index],l=i.type;if(o&&0===e&&(a&&cn(pe(a),n),i.flags|=4),64!=(64&i.flags))if(8&l)Hn(t,e,i.child,n,r,s,!1),xn(e,t,r,a,s);else if(32&l){const o=bn(i,n);let l;for(;l=o();)xn(e,t,r,l,s);xn(e,t,r,a,s)}else 16&l?Wn(t,e,n,i,r,s):xn(e,t,r,a,s);i=o?i.projectionNext:i.next}}function zn(t,e,i,n,r,s){Hn(i,n,t.firstChild,e,r,s,!1)}function Wn(t,e,i,n,r,s){const o=i[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)xn(e,t,r,a[l],s);else Hn(t,e,a,o[3],r,s,!0)}function Vn(t,e,i){de(t)?t.setAttribute(e,"style",i):e.style.cssText=i}function Un(t,e,i){de(t)?""===i?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i):e.className=i}function Yn(t,e,i){let n=t.length;for(;;){const r=t.indexOf(e,i);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const i=e.length;if(r+i===n||t.charCodeAt(r+i)<=32)return r}i=r+1}}function Gn(t,e,i){let n=0;for(;n<t.length;){let r=t[n++];if(i&&"class"===r){if(r=t[n],-1!==Yn(r.toLowerCase(),e,0))return!0}else if(1===r){for(;n<t.length&&"string"==typeof(r=t[n++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function qn(t){return 4===t.type&&"ng-template"!==t.value}function Kn(t,e,i){return e===(4!==t.type||i?t.value:"ng-template")}function Zn(t,e,i){let n=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ui(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Kn(t,l,i)||""===l&&1===e.length){if(Qn(n))return!1;o=!0}}else{const h=8&n?l:e[++a];if(8&n&&null!==t.attrs){if(!Gn(t.attrs,h,i)){if(Qn(n))return!1;o=!0}continue}const c=Xn(8&n?"class":l,r,qn(t),i);if(-1===c){if(Qn(n))return!1;o=!0;continue}if(""!==h){let t;t=c>s?"":r[c+1].toLowerCase();const e=8&n?t:null;if(e&&-1!==Yn(e,h,0)||2&n&&h!==t){if(Qn(n))return!1;o=!0}}}}else{if(!o&&!Qn(n)&&!Qn(l))return!1;if(o&&Qn(l))continue;o=!1,n=l|1&n}}return Qn(n)||o}function Qn(t){return 0==(1&t)}function Xn(t,e,i,n){if(null===e)return-1;let r=0;if(n||!i){let i=!1;for(;r<e.length;){const n=e[r];if(n===t)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const n=t[i];if("number"==typeof n)return-1;if(n===e)return i;i++}return-1}(e,t)}function Jn(t,e,i=!1){for(let n=0;n<e.length;n++)if(Zn(t,e[n],i))return!0;return!1}function tr(t,e){t:for(let i=0;i<e.length;i++){const n=e[i];if(t.length===n.length){for(let e=0;e<t.length;e++)if(t[e]!==n[e])continue t;return!0}}return!1}function er(t,e){return t?":not("+e.trim()+")":e}function ir(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if("string"==typeof o)if(2&n){const e=t[++i];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""===r||Qn(o)||(e+=er(s,r),r=""),n=o,s=s||!Qn(n);i++}return""!==r&&(e+=er(s,r)),e}const nr={};function rr(t){sr(Ae(),Te(),ti()+t,Pe())}function sr(t,e,i,n){if(!n)if(3==(3&e[2])){const n=t.preOrderCheckHooks;null!==n&&ri(e,n,i)}else{const n=t.preOrderHooks;null!==n&&si(e,n,0,i)}ei(i)}function or(t,e){return t<<17|e<<2}function ar(t){return t>>17&32767}function lr(t){return 2|t}function hr(t){return(131068&t)>>2}function cr(t,e){return-131069&t|e<<2}function ur(t){return 1|t}function dr(t,e){const i=t.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const r=i[n],s=i[n+1];if(-1!==s){const i=t.data[s];Ue(r),i.contentQueries(2,e[s],s)}}}function fr(t,e,i,n,r,s,o,a,l,h){const c=e.blueprint.slice();return c[0]=r,c[2]=140|n,ke(c),c[3]=c[15]=t,c[8]=i,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=h||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function pr(t,e,i,n,r){let s=t.data[e];if(null===s)s=function(t,e,i,n,r){const s=Re(),o=Le(),a=t.data[e]=function(t,e,i,n,r,s){return{type:i,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,i,e,n,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,i,n,r),Ce.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;const t=function(){const t=Ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return De(s,!0),s}function gr(t,e,i,n){if(0===i)return-1;const r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function mr(t,e,i){qe(e);try{const n=t.viewQuery;null!==n&&Yr(1,n,i);const r=t.template;null!==r&&br(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&dr(t,e),t.staticViewQueries&&Yr(2,t.viewQuery,i);const s=t.components;null!==s&&function(t,e){for(let i=0;i<e.length;i++)Hr(t,e[i])}(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),n}finally{e[2]&=-5,Je()}}function vr(t,e,i,n){const r=e[2];if(256==(256&r))return;qe(e);const s=Pe();try{ke(e),Ce.lFrame.bindingIndex=t.bindingStartIndex,null!==i&&br(t,e,i,2,n);const o=3==(3&r);if(!s)if(o){const i=t.preOrderCheckHooks;null!==i&&ri(e,i,null)}else{const i=t.preOrderHooks;null!==i&&si(e,i,0,null),oi(e,0)}if(function(t){for(let e=wn(t);null!==e;e=Sn(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const i=t[e],n=i[3];0==(1024&i[2])&&xe(n,1),i[2]|=1024}}}(e),function(t){for(let e=wn(t);null!==e;e=Sn(e))for(let t=10;t<e.length;t++){const i=e[t],n=i[1];we(i)&&vr(n,i,n.template,i[8])}}(e),null!==t.contentQueries&&dr(t,e),!s)if(o){const i=t.contentCheckHooks;null!==i&&ri(e,i)}else{const i=t.contentHooks;null!==i&&si(e,i,1),oi(e,1)}!function(t,e){const i=t.hostBindingOpCodes;if(null!==i)try{for(let t=0;t<i.length;t++){const n=i[t];if(n<0)ei(~n);else{const r=n,s=i[++t],o=i[++t];He(s,r),o(2,e[r])}}}finally{ei(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let i=0;i<e.length;i++)Br(t,e[i])}(e,a);const l=t.viewQuery;if(null!==l&&Yr(2,l,n),!s)if(o){const i=t.viewCheckHooks;null!==i&&ri(e,i)}else{const i=t.viewHooks;null!==i&&si(e,i,2),oi(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,xe(e[3],-1))}finally{Je()}}function yr(t,e,i,n){const r=e[10],s=!Pe(),o=_e(e);try{s&&!o&&r.begin&&r.begin(),o&&mr(t,e,n),vr(t,e,i,n)}finally{s&&!o&&r.end&&r.end()}}function br(t,e,i,n,r){const s=ti(),o=2&n;try{ei(-1),o&&e.length>20&&sr(t,e,20,Pe()),i(n,r)}finally{ei(s)}}function _r(t,e,i){if(te(e)){const n=e.directiveEnd;for(let r=e.directiveStart;r<n;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,i[r],r)}}}function wr(t,e,i){Ee()&&(function(t,e,i,n){const r=i.directiveStart,s=i.directiveEnd;t.firstCreatePass||wi(i,e),cn(n,e);const o=i.initialInputs;for(let a=r;a<s;a++){const n=t.data[a],s=ne(n);s&&Pr(e,i,n);const l=Li(e,t,a,i);cn(l,e),null!==o&&$r(0,a-r,l,n,0,o),s&&(be(i.index,e)[8]=l)}}(t,e,i,me(i,e)),128==(128&i.flags)&&function(t,e,i){const n=i.directiveStart,r=i.directiveEnd,s=i.index,o=Ce.lFrame.currentDirectiveIndex;try{ei(s);for(let i=n;i<r;i++){const n=t.data[i],r=e[i];ze(i),null===n.hostBindings&&0===n.hostVars&&null===n.hostAttrs||Mr(n,r)}}finally{ei(-1),ze(o)}}(t,e,i))}function Sr(t,e,i=me){const n=e.localNames;if(null!==n){let r=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?i(e,t):t[o];t[r++]=a}}}function kr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=xr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function xr(t,e,i,n,r,s,o,a,l,h){const c=20+n,u=c+r,d=function(t,e){const i=[];for(let n=0;n<e;n++)i.push(n<t?null:nr);return i}(c,u),f="function"==typeof h?h():h;return d[1]={type:t,blueprint:d,template:i,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Cr(t,e,i,n){const r=qr(e);null===i?r.push(n):(r.push(i),t.firstCreatePass&&Kr(t).push(n,r.length-1))}function Er(t,e,i){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(e,r):i[n]=[e,r]}return i}function Tr(t,e,i,n,r,s,o,a){const l=me(e,i);let h,c=e.inputs;var u;!a&&null!=c&&(h=c[n])?(Xr(t,i,h,n,r),ee(e)&&function(t,e){const i=be(e,t);16&i[2]||(i[2]|=64)}(i,e.index)):3&e.type&&(n="class"===(u=n)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.value||"",n):r,de(s)?s.setProperty(l,n,r):di(n)||(l.setProperty?l.setProperty(n,r):l[n]=r))}function Ar(t,e,i,n){let r=!1;if(Ee()){const s=function(t,e,i){const n=t.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];Jn(i,o.selectors,!1)&&(r||(r=[]),Ci(wi(i,e),t,o.type),ne(o)?(Rr(t,i),r.unshift(o)):r.push(o))}return r}(t,e,i),o=null===n?null:{"":-1};if(null!==s){r=!0,Lr(i,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let n=!1,a=!1,l=gr(t,e,s.length,null);for(let r=0;r<s.length;r++){const h=s[r];i.mergedAttrs=fi(i.mergedAttrs,h.hostAttrs),Ir(t,i,e,l,h),Dr(l,h,o),null!==h.contentQueries&&(i.flags|=8),null===h.hostBindings&&null===h.hostAttrs&&0===h.hostVars||(i.flags|=128);const c=h.type.prototype;!n&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),n=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),a=!0),l++}!function(t,e){const i=e.directiveEnd,n=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<i;l++){const t=n[l],i=t.inputs,h=null===r||qn(e)?null:Fr(i,r);s.push(h),o=Er(i,l,o),a=Er(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,i)}o&&function(t,e,i){if(e){const n=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=i[e[t+1]];if(null==r)throw new at("301",`Export of name '${e[t+1]}' not found!`);n.push(e[t],r)}}}(i,n,o)}return i.mergedAttrs=fi(i.mergedAttrs,i.attrs),r}function Or(t,e,i,n,r,s){const o=s.hostBindings;if(o){let i=t.hostBindingOpCodes;null===i&&(i=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const i=t[--e];if("number"==typeof i&&i<0)return i}return 0})(i)!=s&&i.push(s),i.push(n,r,o)}}function Mr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Rr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Dr(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ne(e)&&(i[""]=t)}}function Lr(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Ir(t,e,i,n,r){t.data[n]=r;const s=r.factory||(r.factory=re(r.type)),o=new hi(s,ne(r),null);t.blueprint[n]=o,i[n]=o,Or(t,e,0,n,gr(t,i,r.hostVars,nr),r)}function Pr(t,e,i){const n=me(e,t),r=kr(i),s=t[10],o=zr(t,fr(t,r,null,i.onPush?64:16,n,e,s,s.createRenderer(n,i),null,null));t[e.index]=o}function $r(t,e,i,n,r,s){const o=s[e];if(null!==o){const t=n.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?n.setInput(i,a,r,s):i[s]=a}}}function Fr(t,e){let i=null,n=0;for(;n<e.length;){const r=e[n];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===i&&(i=[]),i.push(r,t[r],e[n+1])),n+=2}else n+=2;else n+=4}return i}function Nr(t,e,i,n){return new Array(t,!0,!1,e,null,0,n,i,null,null)}function Br(t,e){const i=be(e,t);if(we(i)){const t=i[1];80&i[2]?vr(t,i,t.template,i[8]):i[5]>0&&jr(i)}}function jr(t){for(let i=wn(t);null!==i;i=Sn(i))for(let t=10;t<i.length;t++){const e=i[t];if(1024&e[2]){const t=e[1];vr(t,e,t.template,e[8])}else e[5]>0&&jr(e)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const n=be(e[i],t);we(n)&&n[5]>0&&jr(n)}}function Hr(t,e){const i=be(e,t),n=i[1];!function(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}(n,i),mr(n,i,i[8])}function zr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Wr(t){for(;t;){t[2]|=64;const e=_n(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Vr(t,e,i){const n=e[10];n.begin&&n.begin();try{vr(t,e,t.template,i)}catch(r){throw Qr(e,r),r}finally{n.end&&n.end()}}function Ur(t){!function(t){for(let e=0;e<t.components.length;e++){const i=t.components[e],n=un(i),r=n[1];yr(r,n,r.template,i)}}(t[8])}function Yr(t,e,i){Ue(0),e(t,i)}const Gr=(()=>Promise.resolve(null))();function qr(t){return t[7]||(t[7]=[])}function Kr(t){return t.cleanup||(t.cleanup=[])}function Zr(t,e,i){return(null===t||ne(t))&&(i=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[e.index])),i[11]}function Qr(t,e){const i=t[9],n=i?i.get(gn,null):null;n&&n.handleError(e)}function Xr(t,e,i,n,r){for(let s=0;s<i.length;){const o=i[s++],a=i[s++],l=e[o],h=t.data[o];null!==h.setInput?h.setInput(l,r,n,a):l[a]=r}}function Jr(t,e,i){const n=ge(e,t);!function(t,e,i){de(t)?t.setValue(e,i):e.textContent=i}(t[11],n,i)}function ts(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=it(r,t):2==s&&(n=it(n,t+": "+e[++o]+";"))}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}const es=new Bi("INJECTOR",-1);class is{get(t,e=Zi){if(e===Zi){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const ns=new Bi("Set Injector scope."),rs={},ss={};let os;function as(){return void 0===os&&(os=new is),os}function ls(t,e=null,i=null,n){return new hs(t,i,e||as(),n)}class hs{constructor(t,e,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Wi(e,i=>this.processProvider(i,t,e)),Wi([t],t=>this.processInjectorType(t,[],r)),this.records.set(es,ds(void 0,this));const s=this.records.get(ns);this.scope=null!=s?s.value:null,this.source=n||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Zi,i=_t.Default){this.assertNotDestroyed();const n=tn(this);try{if(!(i&_t.SkipSelf)){let e=this.records.get(t);if(void 0===e){const i=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Bi)&&ft(t);e=i&&this.injectableDefInScope(i)?ds(cs(t),rs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(i&_t.Self?as():this.parent).get(t,e=i&_t.Optional&&e===Zi?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(et(t)),n)throw s;return function(t,e,i,n){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,i,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=et(e);if(Array.isArray(e))r=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push(i+":"+("string"==typeof n?JSON.stringify(n):et(n)))}r=`{${t.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(Qi,"\n  ")}`}("\n"+t.message,r,i,n),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tn(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,i)=>t.push(et(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=st(t)))return!1;let n=gt(t);const r=null==n&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==i.indexOf(s);if(void 0!==r&&(n=gt(r)),null==n)return!1;if(null!=n.imports&&!o){let t;i.push(s);try{Wi(n.imports,n=>{this.processInjectorType(n,e,i)&&(void 0===t&&(t=[]),t.push(n))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:i,providers:n}=t[e];Wi(n,t=>this.processProvider(t,i,n||Lt))}}this.injectorDefTypes.add(s);const a=re(s)||(()=>new s);this.records.set(s,ds(a,rs));const l=n.providers;if(null!=l&&!o){const e=t;Wi(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let n=ps(t=st(t))?t:st(t&&t.provide);const r=function(t,e,i){return fs(t)?ds(void 0,t.useValue):ds(us(t),rs)}(t);if(ps(t)||!0!==t.multi)this.records.get(n);else{let e=this.records.get(n);e||(e=ds(void 0,rs,!0),e.factory=()=>sn(e.multi),this.records.set(n,e)),n=t,e.multi.push(t)}this.records.set(n,r)}hydrate(t,e){var i;return e.value===rs&&(e.value=ss,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(i=e.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=st(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function cs(t){const e=ft(t),i=null!==e?e.factory:re(t);if(null!==i)return i;if(t instanceof Bi)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=Yi(e,"?");throw new Error(`Can't resolve all parameters for ${et(t)}: (${i.join(", ")}).`)}const i=function(t){const e=t&&(t[mt]||t[yt]);if(e){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),e}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function us(t,e,i){let n;if(ps(t)){const e=st(t);return re(e)||cs(e)}if(fs(t))n=()=>st(t.useValue);else if((r=t)&&r.useFactory)n=()=>t.useFactory(...sn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))n=()=>nn(st(t.useExisting));else{const e=st(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return re(e)||cs(e);n=()=>new e(...sn(t.deps))}var r;return n}function ds(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function fs(t){return null!==t&&"object"==typeof t&&Xi in t}function ps(t){return"function"==typeof t}const gs=function(t,e,i){return function(t,e=null,i=null,n){const r=ls(t,e,i,n);return r._resolveInjectorDefTypes(),r}({name:i},e,t,i)};let ms=(()=>{class t{static create(t,e){return Array.isArray(t)?gs(t,e,""):gs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Zi,t.NULL=new is,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>nn(es)}),t.__NG_ELEMENT_ID__=-1,t})();function vs(t,e){ni(un(t)[1],Me())}function ys(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,i=!0;const n=[t];for(;e;){let r;if(ne(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(i){n.push(r);const e=t;e.inputs=bs(t.inputs),e.declaredInputs=bs(t.declaredInputs),e.outputs=bs(t.outputs);const i=r.hostBindings;i&&Ss(t,i);const s=r.viewQuery,o=r.contentQueries;if(s&&_s(t,s),o&&ws(t,o),tt(t.inputs,r.inputs),tt(t.declaredInputs,r.declaredInputs),tt(t.outputs,r.outputs),ne(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let n=0;n<e.length;n++){const r=e[n];r&&r.ngInherit&&r(t),r===ys&&(i=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){const r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=fi(r.hostAttrs,i=fi(i,r.hostAttrs))}}(n)}function bs(t){return t===Dt?{}:t===Lt?[]:t}function _s(t,e){const i=t.viewQuery;t.viewQuery=i?(t,n)=>{e(t,n),i(t,n)}:e}function ws(t,e){const i=t.contentQueries;t.contentQueries=i?(t,n,r)=>{e(t,n,r),i(t,n,r)}:e}function Ss(t,e){const i=t.hostBindings;t.hostBindings=i?(t,n)=>{e(t,n),i(t,n)}:e}let ks=null;function xs(){if(!ks){const t=Rt.Symbol;if(t&&t.iterator)ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ks=i)}}}return ks}class Cs{constructor(t){this.wrapped=t}static wrap(t){return new Cs(t)}static unwrap(t){return Cs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Cs}}function Es(t){return!!Ts(t)&&(Array.isArray(t)||!(t instanceof Map)&&xs()in t)}function Ts(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function As(t,e,i){return t[e]=i}function Os(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function Ms(t,e,i,n){const r=Os(t,e,i);return Os(t,e+1,n)||r}function Rs(t,e,i,n){const r=Te();return Os(r,Be(),e)&&(Ae(),function(t,e,i,n,r,s){const o=me(t,e);!function(t,e,i,n,r,s,o){if(null==s)de(t)?t.removeAttribute(e,r,i):e.removeAttribute(r);else{const a=null==o?lt(s):o(s,n||"",r);de(t)?t.setAttribute(e,r,a,i):i?e.setAttributeNS(i,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,i,n,r)}(ii(),r,t,e,i,n)),Rs}function Ds(t,e,i,n,r,s,o,a){const l=Te(),h=Ae(),c=t+20,u=h.firstCreatePass?function(t,e,i,n,r,s,o,a,l){const h=e.consts,c=pr(e,t,4,o||null,Se(h,a));Ar(e,i,c,Se(h,l)),ni(e,c);const u=c.tViews=xr(2,c,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h);return null!==e.queries&&(e.queries.template(e,c),u.queries=e.queries.embeddedTView(c)),c}(c,h,l,e,i,n,r,s,o):h.data[c];De(u,!1);const d=l[11].createComment("");Fn(h,l,d,u),cn(d,l),zr(l,l[c]=Nr(d,l,d,u)),ie(u)&&wr(h,l,u),null!=o&&Sr(l,u,a)}function Ls(t){return ye(Ce.lFrame.contextLView,20+t)}function Is(t,e=_t.Default){const i=Te();return null===i?nn(t,e):Ai(Me(),i,st(t),e)}function Ps(t,e,i){const n=Te();return Os(n,Be(),e)&&Tr(Ae(),ii(),n,t,e,n[11],i,!1),Ps}function $s(t,e,i,n,r){const s=r?"class":"style";Xr(t,i,e.inputs[s],s,n)}function Fs(t,e,i,n){const r=Te(),s=Ae(),o=20+t,a=r[11],l=r[o]=Cn(a,e,Ce.lFrame.currentNamespace),h=s.firstCreatePass?function(t,e,i,n,r,s,o){const a=e.consts,l=pr(e,t,2,r,Se(a,s));return Ar(e,i,l,Se(a,o)),null!==l.attrs&&ts(l,l.attrs,!1),null!==l.mergedAttrs&&ts(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,0,e,i,n):s.data[o];De(h,!0);const c=h.mergedAttrs;null!==c&&ci(a,l,c);const u=h.classes;null!==u&&Un(a,l,u);const d=h.styles;null!==d&&Vn(a,l,d),64!=(64&h.flags)&&Fn(s,r,l,h),0===Ce.lFrame.elementDepthCount&&cn(l,r),Ce.lFrame.elementDepthCount++,ie(h)&&(wr(s,r,h),_r(s,h,r)),null!==n&&Sr(r,h)}function Ns(){let t=Me();Le()?Ie():(t=t.parent,De(t,!1));const e=t;Ce.lFrame.elementDepthCount--;const i=Ae();i.firstCreatePass&&(ni(i,t),te(t)&&i.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$s(i,e,Te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$s(i,e,Te(),e.stylesWithoutHost,!1)}function Bs(t,e,i,n){Fs(t,e,i,n),Ns()}function js(t,e,i){const n=Te(),r=Ae(),s=t+20,o=r.firstCreatePass?function(t,e,i,n,r){const s=e.consts,o=Se(s,n),a=pr(e,t,8,"ng-container",o);return null!==o&&ts(a,o,!0),Ar(e,i,a,Se(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,n,e,i):r.data[s];De(o,!0);const a=n[s]=n[11].createComment("");Fn(r,n,a,o),cn(a,n),ie(o)&&(wr(r,n,o),_r(r,o,n)),null!=i&&Sr(n,o)}function Hs(){let t=Me();const e=Ae();Le()?Ie():(t=t.parent,De(t,!1)),e.firstCreatePass&&(ni(e,t),te(t)&&e.queries.elementEnd(t))}function zs(){return Te()}function Ws(t){return!!t&&"function"==typeof t.then}function Vs(t){return!!t&&"function"==typeof t.subscribe}const Us=Vs;function Ys(t,e,i,n){const r=Te(),s=Ae(),o=Me();return qs(s,r,r[11],o,t,e,!!i,n),Ys}function Gs(t,e){const i=Me(),n=Te(),r=Ae();return qs(r,n,Zr(We(r.data),i,n),i,t,e,!1),Gs}function qs(t,e,i,n,r,s,o,a){const l=ie(n),h=t.firstCreatePass&&Kr(t),c=qr(e);let u=!0;if(3&n.type||a){const d=me(n,e),f=a?a(d):d,p=c.length,g=a?t=>a(pe(t[n.index])):n.index;if(de(i)){let o=null;if(!a&&l&&(o=function(t,e,i,n){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===i&&r[s+1]===n){const t=e[7],i=r[s+2];return t.length>i?t[i]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=Zs(n,e,0,s,!1);const t=i.listen(f,r,s);c.push(s,t),h&&h.push(r,g,p,p+1)}}else s=Zs(n,e,0,s,!0),f.addEventListener(r,s,o),c.push(s),h&&h.push(r,g,p,o)}else s=Zs(n,e,0,s,!1);const d=n.outputs;let f;if(u&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let i=0;i<t;i+=2){const t=e[f[i]][f[i+1]].subscribe(s),o=c.length;c.push(s,t),h&&h.push(r,n.index,o,-(o+1))}}}function Ks(t,e,i,n){try{return!1!==i(n)}catch(r){return Qr(t,r),!1}}function Zs(t,e,i,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Wr(o);let a=Ks(e,0,n,s),l=i.__ngNextListenerFn__;for(;l;)a=Ks(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Qs(t=1){return function(t){return(Ce.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ce.lFrame.contextLView))[8]}(t)}function Xs(t,e){let i=null;const n=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===n?Jn(t,s,!0):tr(n,s))return r}else i=r}return i}function Js(t){const e=Te()[16][6];if(!e.projection){const i=e.projection=Yi(t?t.length:1,null),n=i.slice();let r=e.child;for(;null!==r;){const e=t?Xs(r,t):0;null!==e&&(n[e]?n[e].projectionNext=r:i[e]=r,n[e]=r),r=r.next}}}function to(t,e=0,i){const n=Te(),r=Ae(),s=pr(r,20+t,16,null,i||null);null===s.projection&&(s.projection=e),Ie(),64!=(64&s.flags)&&function(t,e,i){Wn(e[11],0,e,i,Mn(t,i,e),Pn(i.parent||e[6],i,e))}(r,n,s)}function eo(t,e,i,n,r){const s=t[i+1],o=null===e;let a=n?ar(s):hr(s),l=!1;for(;0!==a&&(!1===l||o);){const i=t[a+1];io(t[a],e)&&(l=!0,t[a+1]=n?ur(i):lr(i)),a=n?ar(i):hr(i)}l&&(t[i+1]=n?lr(s):ur(s))}function io(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ki(t,e)>=0}function no(t,e){return function(t,e,i,n){const r=Te(),s=Ae(),o=je(2);s.firstUpdatePass&&function(t,e,i,n){const r=t.data;if(null===r[i+1]){const n=r[ti()],s=function(t,e){return e>=t.expandoStartIndex}(t,i);(function(t,e){return 0!=(16&t.flags)})(n)&&null===e&&!s&&(e=!1),e=function(t,e,i,n){const r=We(t);let s=e.residualClasses;if(null===r)0===e.classBindings&&(i=so(i=ro(null,t,e,i,true),e.attrs,true),s=null);else{const n=e.directiveStylingLast;if(-1===n||t[n]!==r)if(i=ro(r,t,e,i,true),null===s){let i=function(t,e,i){const n=e.classBindings;if(0!==hr(n))return t[ar(n)]}(t,e);void 0!==i&&Array.isArray(i)&&(i=ro(null,t,e,i[1],true),i=so(i,e.attrs,true),function(t,e,i,n){t[ar(e.classBindings)]=n}(t,e,0,i))}else s=function(t,e,i){let n;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)n=so(n,t[s].hostAttrs,true);return so(n,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),i}(r,n,e),function(t,e,i,n,r,s){let o=e.classBindings,a=ar(o),l=hr(o);t[n]=i;let h,c=!1;if(Array.isArray(i)){const t=i;h=t[1],(null===h||Ki(t,h)>0)&&(c=!0)}else h=i;if(r)if(0!==l){const e=ar(t[a+1]);t[n+1]=or(e,a),0!==e&&(t[e+1]=cr(t[e+1],n)),t[a+1]=131071&t[a+1]|n<<17}else t[n+1]=or(a,0),0!==a&&(t[a+1]=cr(t[a+1],n)),a=n;else t[n+1]=or(l,0),0===a?a=n:t[l+1]=cr(t[l+1],n),l=n;c&&(t[n+1]=lr(t[n+1])),eo(t,h,n,!0),eo(t,h,n,!1),function(t,e,i,n,r){const s=t.residualClasses;null!=s&&"string"==typeof e&&Ki(s,e)>=0&&(i[n+1]=ur(i[n+1]))}(e,h,t,n),o=or(a,l),e.classBindings=o}(r,n,e,i,s)}}(s,t,o),e!==nr&&Os(r,o,e)&&function(t,e,i,n,r,s,o,a){if(!(3&e.type))return;const l=t.data,h=l[a+1];ao(1==(1&h)?oo(l,e,i,r,hr(h),true):void 0)||(ao(s)||function(t){return 2==(2&t)}(h)&&(s=oo(l,null,i,r,a,true)),function(t,e,i,n,r){const s=de(t);r?s?t.addClass(i,n):i.classList.add(n):s?t.removeClass(i,n):i.classList.remove(n)}(n,0,ge(ti(),i),r,s))}(s,s.data[ti()],r,r[11],t,r[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=et(function(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t))),t}(e),0,o)}(t,e),no}function ro(t,e,i,n,r){let s=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=e[a],n=so(n,s.hostAttrs,r),s!==t);)a++;return null!==t&&(i.directiveStylingLast=a),n}function so(t,e,i){const n=i?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gi(t,o,!!i||e[++s]))}return void 0===t?null:t}function oo(t,e,i,n,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,h=null===l;let c=i[r+1];c===nr&&(c=h?Lt:void 0);let u=h?qi(c,n):l===n?c:void 0;if(s&&!ao(u)&&(u=qi(e,n)),ao(u)&&(a=u,o))return a;const d=t[r+1];r=o?ar(d):hr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=qi(t,n))}return a}function ao(t){return void 0!==t}function lo(t,e=""){const i=Te(),n=Ae(),r=t+20,s=n.firstCreatePass?pr(n,r,1,e,null):n.data[r],o=i[r]=function(t,e){return de(t)?t.createText(e):t.createTextNode(e)}(i[11],e);Fn(n,i,o,s),De(s,!1)}function ho(t){return co("",t,""),ho}function co(t,e,i){const n=Te(),r=function(t,e,i,n){return Os(t,Be(),i)?e+lt(i)+n:nr}(n,t,e,i);return r!==nr&&Jr(n,ti(),r),co}function uo(t,e,i,n,r){const s=Te(),o=function(t,e,i,n,r,s){const o=Ms(t,Ne(),i,r);return je(2),o?e+lt(i)+n+lt(r)+s:nr}(s,t,e,i,n,r);return o!==nr&&Jr(s,ti(),o),uo}function fo(t,e,i){const n=Te();return Os(n,Be(),e)&&Tr(Ae(),ii(),n,t,e,n[11],i,!0),fo}function po(t,e,i){const n=Te();if(Os(n,Be(),e)){const r=Ae(),s=ii();Tr(r,s,n,t,e,Zr(We(r.data),s,n),i,!0)}return po}const go=void 0;var mo=["en",[["a","p"],["AM","PM"],go],[["AM","PM"],go,go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",go,"{1} 'at' {0}",go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let vo={};function yo(t){return t in vo||(vo[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),vo[t]}var bo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let _o="en-US";function wo(t){var e,i;i="Expected localeId to be defined",null==(e=t)&&function(t,e,i,n){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(i,e),"string"==typeof t&&(_o=t.toLowerCase().replace(/_/g,"-"))}function So(t,e,i,n,r){if(t=st(t),Array.isArray(t))for(let s=0;s<t.length;s++)So(t[s],e,i,n,r);else{const s=Ae(),o=Te();let a=ps(t)?t:st(t.provide),l=us(t);const h=Me(),c=1048575&h.providerIndexes,u=h.directiveStart,d=h.providerIndexes>>20;if(ps(t)||!t.multi){const n=new hi(l,r,Is),f=Co(a,e,r?c:c+d,u);-1===f?(Ci(wi(h,o),s,a),ko(s,t,e.length),e.push(a),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),i.push(n),o.push(n)):(i[f]=n,o[f]=n)}else{const f=Co(a,e,c+d,u),p=Co(a,e,c,c+d),g=f>=0&&i[f],m=p>=0&&i[p];if(r&&!m||!r&&!g){Ci(wi(h,o),s,a);const c=function(t,e,i,n,r){const s=new hi(t,i,Is);return s.multi=[],s.index=e,s.componentProviders=0,xo(s,r,n&&!i),s}(r?To:Eo,i.length,r,n,l);!r&&m&&(i[p].providerFactory=c),ko(s,t,e.length,0),e.push(a),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),i.push(c),o.push(c)}else ko(s,t,f>-1?f:p,xo(i[r?p:f],l,!r&&n));!r&&n&&m&&i[p].componentProviders++}}}function ko(t,e,i,n){const r=ps(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(i);-1===t?o.push(i,[n,s]):o[t+1].push(n,s)}else o.push(i,s)}}}function xo(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function Co(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function Eo(t,e,i,n){return Ao(this.multi,[])}function To(t,e,i,n){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Li(i,i[1],this.providerFactory.index,n);s=e.slice(0,t),Ao(r,s);for(let i=t;i<e.length;i++)s.push(e[i])}else s=[],Ao(r,s);return s}function Ao(t,e){for(let i=0;i<t.length;i++)e.push((0,t[i])());return e}function Oo(t,e=[]){return i=>{i.providersResolver=(i,n)=>function(t,e,i){const n=Ae();if(n.firstCreatePass){const r=ne(t);So(i,n.data,n.blueprint,r,!0),So(e,n.data,n.blueprint,r,!1)}}(i,n?n(t):t,e)}}class Mo{}class Ro{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Do=(()=>{class t{}return t.NULL=new Ro,t})();function Lo(...t){}function Io(t,e){return new $o(me(t,e))}const Po=function(){return Io(Me(),Te())};let $o=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Po,t})();function Fo(t){return t instanceof $o?t.nativeElement:t}class No{}let Bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>jo(),t})();const jo=function(){const t=Te(),e=be(Me().index,t);return function(t){return t[11]}(Xt(e)?e:t)};let Ho=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Wo=new zo("12.0.1");class Vo{constructor(){}supports(t){return Es(t)}create(t){return new Yo(t)}}const Uo=(t,e)=>e;class Yo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Uo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,r=null;for(;e||i;){const s=!i||e&&e.currentIndex<Zo(i,n,r)?e:i,o=Zo(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)n++;else{r||(r=[]);const t=o-n,e=a-n;if(t!=e){for(let i=0;i<t;i++){const n=i<r.length?r[i]:r[i]=0,s=n+i;e<=s&&s<t&&(r[i]=n+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Es(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,i,n,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=t[e],n=this._trackByFn(e,i),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,e)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[xs()]();let n;for(;!(n=i.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,t,n,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,n,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,n)):t=this._addAfter(new Go(e,i),r,n),t}_verifyReinsertion(t,e,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,r=t._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ko),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ko),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Go{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Ko{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new qo,this.map.set(e,i)),i.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zo(t,e,i){const n=t.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}class Qo{constructor(){}supports(t){return t instanceof Map||Ts(t)}create(){return new Xo}}class Xo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ts(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(i,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}const i=new Jo(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Jo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ta(){return new ea([new Vo])}let ea=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(null!=i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||ta()),deps:[[t,new hn,new ln]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${i=t,i.name||typeof i}'`);var i}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:ta}),t})();function ia(){return new na([new Qo])}let na=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||ia()),deps:[[t,new hn,new ln]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:ia}),t})();function ra(t,e,i,n,r=!1){for(;null!==i;){const s=e[i.index];if(null!==s&&n.push(pe(s)),Jt(s))for(let t=10;t<s.length;t++){const e=s[t],i=e[1].firstChild;null!==i&&ra(e[1],e,i,n)}const o=i.type;if(8&o)ra(t,e,i.child,n);else if(32&o){const t=bn(i,e);let r;for(;r=t();)n.push(r)}else if(16&o){const t=Bn(e,i);if(Array.isArray(t))n.push(...t);else{const i=_n(e[16]);ra(i[1],i,t,n,!0)}}i=r?i.projectionNext:i.next}return n}class sa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ra(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Jt(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Tn(t,i),Ui(e,i))}this._attachedToViewContainer=!1}An(this._lView[1],this._lView)}onDestroy(t){Cr(this._lView[1],this._lView,null,t)}markForCheck(){Wr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,i){$e(!0);try{Vr(t,e,i)}finally{$e(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,zn(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class oa extends sa{constructor(t){super(t),this._view=t}detectChanges(){Ur(this._view)}checkNoChanges(){!function(t){$e(!0);try{Ur(t)}finally{$e(!1)}}(this._view)}get context(){return null}}const aa=function(t){return function(t,e,i){if(ee(t)&&!i){const i=be(t.index,e);return new sa(i,i)}return 47&t.type?new sa(e[16],e):null}(Me(),Te(),16==(16&t))};let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=aa,t})();const ha=[new Qo],ca=new ea([new Vo]),ua=new na(ha),da=function(){return ma(Me(),Te())};let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=da,t})();const pa=fa,ga=class extends pa{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=fr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(i[19]=n.createEmbeddedView(e)),mr(e,i,t),new sa(i)}};function ma(t,e){return 4&t.type?new ga(e,t,Io(t,e)):null}class va{}class ya{}const ba=function(){return Ca(Me(),Te())};let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=ba,t})();const wa=_a,Sa=class extends wa{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Io(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const t=xi(this._hostTNode,this._hostLView);if(gi(t)){const e=vi(t,this._hostLView),i=mi(t);return new $i(e[1].data[i+8],e)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ka(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const n=t.createEmbeddedView(e||{});return this.insert(n,i),n}createComponent(t,e,i,n,r){const s=i||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(va,null);t&&(r=t)}const o=t.create(s,n,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,n=i[1];if(Jt(i[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=i[3],n=new Sa(e,e[6],e[3]);n.detach(n.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,i,n){const r=10+n,s=i.length;n>0&&(i[r-1][4]=e),n<s-10?(e[4]=i[r],Vi(i,10+n,e)):(i.push(e),e[4]=null),e[3]=i;const o=e[17];null!==o&&i!==o&&function(t,e){const i=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===i?t[9]=[e]:i.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(n,i,s,r);const o=jn(r,s),a=i[11],l=In(a,s[7]);return null!==l&&function(t,e,i,n,r,s){n[0]=r,n[6]=e,zn(t,n,i,1,r,s)}(n,s[6],a,i,l,o),t.attachToViewContainerRef(),Vi(xa(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ka(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Tn(this._lContainer,e);i&&(Ui(xa(this._lContainer),e),An(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Tn(this._lContainer,e);return i&&null!=Ui(xa(this._lContainer),e)?new sa(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ka(t){return t[8]}function xa(t){return t[8]||(t[8]=[])}function Ca(t,e){let i;const n=e[t.index];if(Jt(n))i=n;else{let r;if(8&t.type)r=pe(n);else{const i=e[11];r=i.createComment("");const n=me(t,e);Rn(i,In(i,n),r,function(t,e){return de(t)?t.nextSibling(e):e.nextSibling}(i,n),!1)}e[t.index]=i=Nr(n,e,r,t),zr(e,i)}return new Sa(i,t,e)}const Ea={};class Ta extends Do{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Zt(t);return new Ma(e,this.ngModule)}}function Aa(t){const e=[];for(let i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}const Oa=new Bi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mn});class Ma extends Mo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ir).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Aa(this.componentDef.inputs)}get outputs(){return Aa(this.componentDef.outputs)}create(t,e,i,n){const r=(n=n||this.ngModule)?function(t,e){return{get:(i,n,r)=>{const s=t.get(i,Ea,r);return s!==Ea||n===Ea?s:e.get(i,n,r)}}}(t,n.injector):t,s=r.get(No,fe),o=r.get(Ho,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=i?function(t,e,i){if(de(t))return t.selectRootElement(e,i===Et.ShadowDom);let n="string"==typeof e?t.querySelector(e):e;return n.textContent="",n}(a,i,this.componentDef.encapsulation):Cn(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,u={components:[],scheduler:mn,clean:Gr,playerHandler:null,flags:0},d=xr(0,null,null,1,0,null,null,null,null,null),f=fr(null,d,u,c,null,null,s,a,o,r);let p,g;qe(f);try{const t=function(t,e,i,n,r,s){const o=i[1];i[20]=t;const a=pr(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(ts(a,l,!0),null!==t&&(ci(r,t,l),null!==a.classes&&Un(r,t,a.classes),null!==a.styles&&Vn(r,t,a.styles)));const h=n.createRenderer(t,e),c=fr(i,kr(e),null,e.onPush?64:16,i[20],a,n,h,null,null);return o.firstCreatePass&&(Ci(wi(a,i),o,e.type),Rr(o,a),Lr(a,i.length,1)),zr(i,c),i[20]=c}(h,this.componentDef,f,s,a);if(h)if(i)ci(a,h,["ng-version",Wo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],i=[];let n=1,r=2;for(;n<t.length;){let s=t[n];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++n]):8===r&&i.push(s);else{if(!Qn(r))break;r=s}n++}return{attrs:e,classes:i}}(this.componentDef.selectors[0]);t&&ci(a,h,t),e&&e.length>0&&Un(a,h,e.join(" "))}if(g=ve(d,20),void 0!==e){const t=g.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=e[i];t.push(null!=n?Array.from(n):null)}}p=function(t,e,i,n,r){const s=i[1],o=function(t,e,i){const n=Me();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Ir(t,n,e,gr(t,e,1,null),i));const r=Li(e,t,n.directiveStart,n);cn(r,e);const s=me(n,e);return s&&cn(s,e),r}(s,i,e);if(n.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Me();e.contentQueries(1,o,t.directiveStart)}const a=Me();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ei(a.index),Or(i[1],a,0,a.directiveStart,a.directiveEnd,e),Mr(e,o)),o}(t,this.componentDef,f,u,[vs]),mr(d,f,null)}finally{Je()}return new Ra(this.componentType,p,Io(g,f),f,g)}}class Ra extends class{}{constructor(t,e,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new oa(n),this.componentType=t}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Da=new Map;class La extends va{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ta(this);const i=Qt(t),n=t[Nt]||null;n&&wo(n),this._bootstrapComponents=vn(i.bootstrap),this._r3Injector=ls(t,e,[{provide:va,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ms.THROW_IF_NOT_FOUND,i=_t.Default){return t===ms||t===va||t===es?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ia extends ya{constructor(t){super(),this.moduleType=t,null!==Qt(t)&&function(t){const e=new Set;!function t(i){const n=Qt(i,!0),r=n.id;null!==r&&(function(t,e,i){if(e&&e!==i)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(r,Da.get(r),i),Da.set(r,i));const s=vn(n.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new La(this.moduleType,t)}}function Pa(t,e){const i=t[e];return i===nr?void 0:i}function $a(t,e,i,n,r,s){const o=e+i;return Os(t,o,r)?As(t,o+1,s?n.call(s,r):n(r)):Pa(t,o+1)}function Fa(t,e){const i=Ae();let n;const r=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(let i=e.length-1;i>=0;i--){const n=e[i];if(t===n.name)return n}throw new at("302",`The pipe '${t}' could not be found!`)}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];const s=n.factory||(n.factory=re(n.type)),o=St(Is);try{const t=bi(!1),e=s();return bi(t),function(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}(i,Te(),r,e),e}finally{St(o)}}function Na(t,e,i){const n=t+20,r=Te(),s=ye(r,n);return function(t,e){return Cs.isWrapped(e)&&(e=Cs.unwrap(e),t[Ne()]=nr),e}(r,function(t,e){return t[1].data[e].pure}(r,n)?$a(r,Fe(),e,s.transform,i,s):s.transform(i))}function Ba(t){return e=>{setTimeout(t,void 0,e)}}const ja=class extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var n,r,s;let o=t,a=e||(()=>null),l=i;if(t&&"object"==typeof t){const e=t;o=null===(n=e.next)||void 0===n?void 0:n.bind(e),a=null===(r=e.error)||void 0===r?void 0:r.bind(e),l=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(a=Ba(a),o&&(o=Ba(o)),l&&(l=Ba(l)));const h=super.subscribe({next:o,error:a,complete:l});return t instanceof u&&t.add(h),h}};function Ha(){return this._results[xs()]()}class za{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xs(),i=za.prototype;i[e]||(i[e]=Ha)}get changes(){return this._changes||(this._changes=new ja)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=zi(t);(this._changesDetected=!function(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Wa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Wa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Va{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let t=0;t<i;t++){const i=e.getByIndex(t);n.push(this.queries[i.indexInDeclarationView].clone())}return new Va(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==rl(t,e).matches&&this.queries[e].setDirty()}}class Ua{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Ya{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,n);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new Ya(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ga{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ga(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const r=i[n];this.matchTNodeWithReadOption(t,e,qa(e,r)),this.matchTNodeWithReadOption(t,e,Di(e,t,r,!1,!1))}else i===fa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Di(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===$o||n===_a||n===fa&&4&e.type)this.addMatch(e.index,-2);else{const i=Di(e,t,n,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qa(t,e){const i=t.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1];return null}function Ka(t,e,i,n){return-1===i?function(t,e){return 11&t.type?Io(t,e):4&t.type?ma(t,e):null}(e,t):-2===i?function(t,e,i){return i===$o?Io(e,t):i===fa?ma(e,t):i===_a?Ca(e,t):void 0}(t,e,n):Li(t,t[1],i,e)}function Za(t,e,i,n){const r=e[19].queries[n];if(null===r.matches){const n=t.data,s=i.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Ka(e,n[r],s[t+1],i.metadata.read))}r.matches=o}return r.matches}function Qa(t,e,i,n){const r=t.queries.getByIndex(i),s=r.matches;if(null!==s){const o=Za(t,e,r,i);for(let t=0;t<s.length;t+=2){const i=s[t];if(i>0)n.push(o[t/2]);else{const r=s[t+1],o=e[-i];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Qa(e[1],e,r,n)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const i=t[e];Qa(i[1],i,r,n)}}}}}return n}function Xa(t){const e=Te(),i=Ae(),n=Ve();Ue(n+1);const r=rl(i,n);if(t.dirty&&_e(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Qa(i,e,n,[]):Za(i,e,r,n);t.reset(s,Fo),t.notifyOnChanges()}return!0}return!1}function Ja(t,e,i){const n=Ae();n.firstCreatePass&&(nl(n,new Ua(t,e,i),-1),2==(2&e)&&(n.staticViewQueries=!0)),il(n,Te(),e)}function tl(t,e,i,n){const r=Ae();if(r.firstCreatePass){const s=Me();nl(r,new Ua(e,i,n),s.index),function(t,e){const i=t.contentQueries||(t.contentQueries=[]);e!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,e)}(r,t),2==(2&i)&&(r.staticContentQueries=!0)}il(r,Te(),i)}function el(){return t=Te(),e=Ve(),t[19].queries[e].queryList;var t,e}function il(t,e,i){const n=new za(4==(4&i));Cr(t,e,n,n.destroy),null===e[19]&&(e[19]=new Va),e[19].queries.push(new Wa(n))}function nl(t,e,i){null===t.queries&&(t.queries=new Ya),t.queries.track(new Ga(e,i))}function rl(t,e){return t.queries.getByIndex(e)}function sl(t,e){return ma(t,e)}const ol=new Bi("Application Initializer");let al=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Lo,this.reject=Lo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const e=this.appInits[i]();if(Ws(e))t.push(e);else if(Us(e)){const i=new Promise((t,i)=>{e.subscribe({complete:t,error:i})});t.push(i)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(nn(ol,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ll=new Bi("AppId"),hl={provide:ll,useFactory:function(){return`${cl()}${cl()}${cl()}`},deps:[]};function cl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ul=new Bi("Platform Initializer"),dl=new Bi("Platform ID"),fl=new Bi("appBootstrapListener");let pl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const gl=new Bi("LocaleId"),ml=new Bi("DefaultCurrencyCode");class vl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const yl=function(t){return new Ia(t)},bl=yl,_l=function(t){return Promise.resolve(yl(t))},wl=function(t){const e=yl(t),i=vn(Qt(t).declarations).reduce((t,e)=>{const i=Zt(e);return i&&t.push(new Ma(i)),t},[]);return new vl(e,i)},Sl=wl,kl=function(t){return Promise.resolve(wl(t))};let xl=(()=>{class t{constructor(){this.compileModuleSync=bl,this.compileModuleAsync=_l,this.compileModuleAndAllComponentsSync=Sl,this.compileModuleAndAllComponentsAsync=kl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Cl=(()=>Promise.resolve(0))();function El(t){"undefined"==typeof Zone?Cl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!i&&e,this.shouldCoalesceRunChangeDetection=i,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Rt.requestAnimationFrame,e=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ml(t),t.isCheckStableRunning=!0,Ol(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ml(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{try{return Rl(t),i.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Dl(t)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return Rl(t),i.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Dl(t)}},onHasTask:(e,i,n,r)=>{e.hasTask(n,r),i===n&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Ml(t),Ol(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,n,r)=>(e.handleError(n,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,t,Al,Lo,Lo);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Al={};function Ol(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ml(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Rl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dl(t){t._nesting--,Ol(t)}class Ll{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}let Il=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tl.assertNotInAngularZone(),El(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())El(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,i){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:i})}whenStable(t,e,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(nn(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Pl=(()=>{class t{constructor(){this._applications=new Map,Nl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Nl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class $l{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Fl,Nl=new $l,Bl=!0,jl=!1;function Hl(){return jl=!0,Bl}const zl=new Bi("AllowMultipleToken");class Wl{constructor(t,e){this.name=t,this.token=e}}function Vl(t,e,i=[]){const n=`Platform: ${e}`,r=new Bi(n);return(e=[])=>{let s=Ul();if(!s||s.injector.get(zl,!1))if(t)t(i.concat(e).concat({provide:r,useValue:!0}));else{const t=i.concat(e).concat({provide:r,useValue:!0},{provide:ns,useValue:"platform"});!function(t){if(Fl&&!Fl.destroyed&&!Fl.injector.get(zl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fl=t.get(Yl);const e=t.get(ul,null);e&&e.forEach(t=>t())}(ms.create({providers:t,name:n}))}return function(t){const e=Ul();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ul(){return Fl&&!Fl.destroyed?Fl:null}let Yl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const i=function(t,e){let i;return i="noop"===t?new Ll:("zone.js"===t?void 0:t)||new Tl({enableLongStackTrace:Hl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),i}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),n=[{provide:Tl,useValue:i}];return i.run(()=>{const e=ms.create({providers:n,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(gn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(()=>{const t=i.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{Kl(this._modules,r),t.unsubscribe()})}),function(t,e,i){try{const n=i();return Ws(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(s,i,()=>{const t=r.injector.get(al);return t.runInitializers(),t.donePromise.then(()=>(wo(r.injector.get(gl,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const i=Gl({},e);return function(t,e,i){const n=new Ia(i);return Promise.resolve(n)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,i))}_moduleDoBootstrap(t){const e=t.injector.get(ql);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(nn(ms))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Gl(t,e){return Array.isArray(e)?e.reduce(Gl,t):Object.assign(Object.assign({},t),e)}let ql=(()=>{class t{constructor(t,e,i,n,r){this._zone=t,this._injector=e,this._exceptionHandler=i,this._componentFactoryResolver=n,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Tl.assertNotInAngularZone(),El(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{Tl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),i.unsubscribe()}});this.isStable=U(s,o.pipe(t=>{return Y()((e=X,function(t){let i;i="function"==typeof e?e:function(){return e};const n=Object.create(t,Z);return n.source=t,n.subjectFactory=i,n})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof Mo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const n=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(va),r=i.create(ms.NULL,[],e||i.selector,n),s=r.location.nativeElement,o=r.injector.get(Il,null),a=o&&r.injector.get(Pl);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),Kl(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Kl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(nn(Tl),nn(ms),nn(gn),nn(Do),nn(al))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Kl(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}class Zl{}class Ql{}const Xl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Jl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,n]=t.split("#");return void 0===n&&(n="default"),i(8255)(e).then(t=>t[n]).then(t=>th(t,e,n)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,n]=t.split("#"),r="NgFactory";return void 0===n&&(n="default",r=""),i(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[n+r]).then(t=>th(t,e,n))}}return t.\u0275fac=function(e){return new(e||t)(nn(xl),nn(Ql,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function th(t,e,i){if(!t)throw new Error(`Cannot find '${i}' in '${e}'`);return t}const eh=Vl(null,"core",[{provide:dl,useValue:"unknown"},{provide:Yl,deps:[ms]},{provide:Pl,deps:[]},{provide:pl,deps:[]}]),ih=[{provide:ql,useClass:ql,deps:[Tl,ms,gn,Do,al]},{provide:Oa,deps:[Tl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:al,useClass:al,deps:[[new ln,ol]]},{provide:xl,useClass:xl,deps:[]},hl,{provide:ea,useFactory:function(){return ca},deps:[]},{provide:na,useFactory:function(){return ua},deps:[]},{provide:gl,useFactory:function(t){return wo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new an(gl),new ln,new hn]]},{provide:ml,useValue:"USD"}];let nh=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(nn(ql))},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:ih}),t})(),rh=null;function sh(){return rh}const oh=new Bi("DocumentToken");let ah=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:lh,token:t,providedIn:"platform"}),t})();function lh(){return nn(ch)}const hh=new Bi("Location Initialized");let ch=(()=>{class t extends ah{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sh().getBaseHref(this._doc)}onPopState(t){const e=sh().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=sh().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,i){uh()?this._history.pushState(t,e,i):this.location.hash=i}replaceState(t,e,i){uh()?this._history.replaceState(t,e,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(nn(oh))},t.\u0275prov=ut({factory:dh,token:t,providedIn:"platform"}),t})();function uh(){return!!window.history.pushState}function dh(){return new ch(nn(oh))}function fh(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function ph(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function gh(t){return t&&"?"!==t[0]?"?"+t:t}let mh=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:vh,token:t,providedIn:"root"}),t})();function vh(t){const e=nn(oh).location;return new bh(nn(ah),e&&e.origin||"")}const yh=new Bi("appBaseHref");let bh=(()=>{class t extends mh{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fh(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+gh(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${e}${i}`:e}pushState(t,e,i,n){const r=this.prepareExternalUrl(i+gh(n));this._platformLocation.pushState(t,e,r)}replaceState(t,e,i,n){const r=this.prepareExternalUrl(i+gh(n));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,i;null===(i=(e=this._platformLocation).historyGo)||void 0===i||i.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(nn(ah),nn(yh,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),_h=(()=>{class t extends mh{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=fh(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,i,n){let r=this.prepareExternalUrl(i+gh(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,i,n){let r=this.prepareExternalUrl(i+gh(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,i;null===(i=(e=this._platformLocation).historyGo)||void 0===i||i.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(nn(ah),nn(yh,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),wh=(()=>{class t{constructor(t,e){this._subject=new ja,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ph(kh(i)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+gh(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,kh(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",i=null){this._platformStrategy.pushState(i,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gh(e)),i)}replaceState(t,e="",i=null){this._platformStrategy.replaceState(i,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gh(e)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,i;null===(i=(e=this._platformStrategy).historyGo)||void 0===i||i.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(i=>i(t,e))}subscribe(t,e,i){return this._subject.subscribe({next:t,error:e,complete:i})}}return t.\u0275fac=function(e){return new(e||t)(nn(mh),nn(ah))},t.normalizeQueryParams=gh,t.joinWithSlash=fh,t.stripTrailingSlash=ph,t.\u0275prov=ut({factory:Sh,token:t,providedIn:"root"}),t})();function Sh(){return new wh(nn(mh),nn(ah))}function kh(t){return t.replace(/\/index.html$/,"")}var xh=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Ch{}let Eh=(()=>{class t extends Ch{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=yo(e);if(i)return i;const n=e.split("-")[0];if(i=yo(n),i)return i;if("en"===n)return mo;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[bo.PluralCase]}(e||this.locale)(t)){case xh.Zero:return"zero";case xh.One:return"one";case xh.Two:return"two";case xh.Few:return"few";case xh.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(nn(gl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Th{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ah=(()=>{class t{constructor(t,e,i){this._viewContainer=t,this._template=e,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(vS){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,i,n)=>{if(null==t.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new Th(null,this._ngForOf,-1,-1),null===n?void 0:n),r=new Oh(t,i);e.push(r)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const r=this._viewContainer.get(i);this._viewContainer.move(r,n);const s=new Oh(t,r);e.push(s)}});for(let i=0;i<e.length;i++)this._perViewChange(e[i].view,e[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const t=this._viewContainer.get(i);t.context.index=i,t.context.count=n,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Is(_a),Is(fa),Is(ea))},t.\u0275dir=qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Oh{constructor(t,e){this.record=t,this.view=e}}let Mh=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Rh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Is(_a),Is(fa))},t.\u0275dir=qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Rh{constructor(){this.$implicit=null,this.ngIf=null}}function Dh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}let Lh=(()=>{class t{constructor(t,e,i){this._ngEl=t,this._differs=e,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[i,n]=t.split(".");null!=(e=null!=e&&n?`${e}${n}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(na),Is(Bo))},t.\u0275dir=qt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class Ih{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ph{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const $h=new Ph,Fh=new Ih;let Nh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Ws(e))return $h;if(Vs(e))return Fh;throw Error(`InvalidPipeArgument: '${e}' for pipe '${et(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(Is(la,16))},t.\u0275pipe=Kt({name:"async",type:t,pure:!1}),t})(),Bh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:[{provide:Ch,useClass:Eh}]}),t})(),jh=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Hh(nn(oh),window)}),t})();class Hh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const t=n.shadowRoot;if(t){const i=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(i)return i}n=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],n-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zh(this.window.history)||zh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(vS){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(vS){return!1}}}function zh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Wh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Wh,rh||(rh=t)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Uh=Uh||document.querySelector("base"),Uh?Uh.getAttribute("href"):null);return null==e?null:function(t){Vh=Vh||document.createElement("a"),Vh.setAttribute("href",t);const e=Vh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Uh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const t=i.indexOf("="),[n,r]=-1==t?[i,""]:[i.slice(0,t),i.slice(t+1)];if(n.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let Vh,Uh=null;const Yh=new Bi("TRANSITION_ID"),Gh=[{provide:ol,useFactory:function(t,e,i){return()=>{i.get(al).donePromise.then(()=>{const i=sh();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>i.remove(t))})}},deps:[Yh,oh,ms],multi:!0}];class qh{static init(){var t;t=new qh,Nl=t}addToWindow(t){Rt.getAngularTestability=(e,i=!0)=>{const n=t.findTestabilityInTree(e,i);if(null==n)throw new Error("Could not find testability for element.");return n},Rt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Rt.getAllAngularRootElements=()=>t.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(t=>{const e=Rt.getAllAngularTestabilities();let i=e.length,n=!1;const r=function(e){n=n||e,i--,0==i&&t(n)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:i?sh().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Kh=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Zh=new Bi("EventManagerPlugins");let Qh=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,i){return this._findPluginFor(e).addEventListener(t,e,i)}addGlobalEventListener(t,e,i){return this._findPluginFor(e).addGlobalEventListener(t,e,i)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const i=this._plugins;for(let n=0;n<i.length;n++){const e=i[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(nn(Zh),nn(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Xh{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=sh().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}let Jh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),tc=(()=>{class t extends Jh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,i){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,i.push(e.appendChild(n))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(ec),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,i)=>{this._addStylesToHost(t,i,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ec))}}return t.\u0275fac=function(e){return new(e||t)(nn(oh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ec(t){sh().remove(t)}const ic={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nc=/%COMP%/g;function rc(t,e,i){for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?rc(t,r,i):(r=r.replace(nc,t),i.push(r))}return i}function sc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let oc=(()=>{class t{constructor(t,e,i){this.eventManager=t,this.sharedStylesHost=e,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ac(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Et.Emulated:{let i=this.rendererByCompId.get(e.id);return i||(i=new lc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,i)),i.applyToHost(t),i}case 1:case Et.ShadowDom:return new hc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(nn(Qh),nn(tc),nn(ll))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class ac{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ic[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const r=ic[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=ic[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(yn.DashCase|yn.Important)?t.style.setProperty(e,i,n&yn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&yn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,sc(i)):this.eventManager.addEventListener(t,e,sc(i))}}class lc extends ac{constructor(t,e,i,n){super(t),this.component=i;const r=rc(n+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(nc,n+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(nc,n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class hc extends ac{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=rc(n.id,n.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let cc=(()=>{class t extends Xh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,i){return t.addEventListener(e,i,!1),()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,i){return t.removeEventListener(e,i)}}return t.\u0275fac=function(e){return new(e||t)(nn(oh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const uc=["alt","control","meta","shift"],dc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gc=(()=>{class t extends Xh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,n){const r=t.parseEventName(i),s=t.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sh().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const r=t._normalizeKey(i.pop());let s="";if(uc.forEach(t=>{const e=i.indexOf(t);e>-1&&(i.splice(e,1),s+=t+".")}),s+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=s,o}static getEventFullKey(t){let e="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&fc.hasOwnProperty(e)&&(e=fc[e]))}return dc[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uc.forEach(n=>{n!=i&&(0,pc[n])(t)&&(e+=n+".")}),e+=i,e}static eventCallback(e,i,n){return r=>{t.getEventFullKey(r)===e&&n.runGuarded(()=>i(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(nn(oh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const mc=Vl(eh,"browser",[{provide:dl,useValue:"browser"},{provide:ul,useValue:function(){Wh.makeCurrent(),qh.init()},multi:!0},{provide:oh,useFactory:function(){return function(t){ue=t}(document),document},deps:[]}]),vc=[[],{provide:ns,useValue:"root"},{provide:gn,useFactory:function(){return new gn},deps:[]},{provide:Zh,useClass:cc,multi:!0,deps:[oh,Tl,dl]},{provide:Zh,useClass:gc,multi:!0,deps:[oh]},[],{provide:oc,useClass:oc,deps:[Qh,tc,ll]},{provide:No,useExisting:oc},{provide:Jh,useExisting:tc},{provide:tc,useClass:tc,deps:[oh]},{provide:Il,useClass:Il,deps:[Tl]},{provide:Qh,useClass:Qh,deps:[Zh,Tl]},{provide:class{},useClass:Kh,deps:[]},[]];let yc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ll,useValue:e.appId},{provide:Yh,useExisting:ll},Gh]}}}return t.\u0275fac=function(e){return new(e||t)(nn(t,12))},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:vc,imports:[Bh,nh]}),t})();function bc(...t){let e=t[t.length-1];return C(e)?(t.pop(),P(t,e)):V(t)}"undefined"!=typeof window&&window;class _c extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}class wc extends p{notifyNext(t,e,i,n,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Sc extends p{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function kc(t,e,i,n,r=new Sc(t,i,n)){if(!r.closed)return e instanceof y?e.subscribe(r):I(e)(r)}const xc={};class Cc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ec(t,this.resultSelector))}}class Ec extends wc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(xc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(kc(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const n=this.values,r=this.toRespond?n[i]===xc?--this.toRespond:this.toRespond:0;n[i]=e,0===r&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Tc=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Ac(...t){return W(1)(bc(...t))}const Oc=new y(t=>t.complete());function Mc(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Oc}function Rc(t){return new y(e=>{let i;try{i=t()}catch(n){return void e.error(n)}return(i?$(i):Mc()).subscribe(e)})}function Dc(t,e){return"function"==typeof e?i=>i.pipe(Dc((i,n)=>$(t(i,n)).pipe(E((t,r)=>e(i,t,n,r))))):e=>e.lift(new Lc(t))}class Lc{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ic(t,this.project))}}class Ic extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new F(this),n=this.destination;n.add(i),this.innerSubscription=B(t,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Pc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function $c(t){return e=>0===t?Mc():e.lift(new Fc(t))}class Fc{constructor(t){if(this.total=t,this.total<0)throw new Pc}call(t,e){return e.subscribe(new Nc(t,this.total))}}class Nc extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Bc(...t){const e=t[t.length-1];return C(e)?(t.pop(),i=>Ac(t,i,e)):e=>Ac(t,e)}function jc(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new Hc(t,e,i))}}class Hc{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new zc(t,this.accumulator,this.seed,this.hasSeed))}}class zc extends p{constructor(t,e,i,n){super(t),this.accumulator=e,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}function Wc(t,e){return function(i){return i.lift(new Vc(t,e))}}class Vc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Uc(t,this.predicate,this.thisArg))}}class Uc extends p{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Yc(t){return function(e){const i=new Gc(t),n=e.lift(i);return i.caught=n}}class Gc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new qc(t,this.selector,this.caught))}}class qc extends N{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let i;try{i=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const n=new F(this);this.add(n);const r=B(i,n);r!==n&&this.add(r)}}}function Kc(t,e){return j(t,e,1)}function Zc(t){return function(e){return 0===t?Mc():e.lift(new Qc(t))}}class Qc{constructor(t){if(this.total=t,this.total<0)throw new Pc}call(t,e){return e.subscribe(new Xc(t,this.total))}}class Xc extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,n=this.count++;e.length<i?e.push(t):e[n%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let r=0;r<i;r++){const r=e++%i;t.next(n[r])}}t.complete()}}function Jc(t=iu){return e=>e.lift(new tu(t))}class tu{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new eu(t,this.errorFactory))}}class eu extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function iu(){return new Tc}function nu(t=null){return e=>e.lift(new ru(t))}class ru{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new su(t,this.defaultValue))}}class su extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ou(t,e){const i=arguments.length>=2;return n=>n.pipe(t?Wc((e,i)=>t(e,i,n)):v,$c(1),i?nu(e):Jc(()=>new Tc))}function au(){}function lu(t,e,i){return function(n){return n.lift(new hu(t,e,i))}}class hu{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new cu(t,this.nextOrObserver,this.error,this.complete))}}class cu extends p{constructor(t,e,i,r){super(t),this._tapNext=au,this._tapError=au,this._tapComplete=au,this._tapError=i||au,this._tapComplete=r||au,n(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||au,this._tapError=e.error||au,this._tapComplete=e.complete||au)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class uu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new du(t,this.callback))}}class du extends p{constructor(t,e){super(t),this.add(new u(e))}}class fu{constructor(t,e){this.id=t,this.url=e}}class pu extends fu{constructor(t,e,i="imperative",n=null){super(t,e),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gu extends fu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mu extends fu{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vu extends fu{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yu extends fu{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bu extends fu{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _u extends fu{constructor(t,e,i,n,r){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wu extends fu{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Su extends fu{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Au{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ou{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ru(t){return new Mu(t)}function Du(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Lu(t,e,i){const n=i.path.split("/");if(n.length>t.length)return null;if("full"===i.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const r={};for(let s=0;s<n.length;s++){const e=n[s],i=t[s];if(e.startsWith(":"))r[e.substring(1)]=i;else if(e!==i.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Iu(t,e){const i=t?Object.keys(t):void 0,n=e?Object.keys(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!Pu(t[r],e[r]))return!1;return!0}function Pu(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),n=[...e].sort();return i.every((t,e)=>n[e]===t)}return t===e}function $u(t){return Array.prototype.concat.apply([],t)}function Fu(t){return t.length>0?t[t.length-1]:null}function Nu(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function Bu(t){return Us(t)?t:Ws(t)?$(Promise.resolve(t)):bc(t)}const ju={exact:function t(e,i,n){if(!Ku(e.segments,i.segments))return!1;if(!Uu(e.segments,i.segments,n))return!1;if(e.numberOfChildren!==i.numberOfChildren)return!1;for(const r in i.children){if(!e.children[r])return!1;if(!t(e.children[r],i.children[r],n))return!1}return!0},subset:Wu},Hu={exact:function(t,e){return Iu(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Pu(t[i],e[i]))},ignored:()=>!0};function zu(t,e,i){return ju[i.paths](t.root,e.root,i.matrixParams)&&Hu[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function Wu(t,e,i){return Vu(t,e,e.segments,i)}function Vu(t,e,i,n){if(t.segments.length>i.length){const r=t.segments.slice(0,i.length);return!!Ku(r,i)&&!e.hasChildren()&&!!Uu(r,i,n)}if(t.segments.length===i.length){if(!Ku(t.segments,i))return!1;if(!Uu(t.segments,i,n))return!1;for(const i in e.children){if(!t.children[i])return!1;if(!Wu(t.children[i],e.children[i],n))return!1}return!0}{const r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!!Ku(t.segments,r)&&!!Uu(t.segments,r,n)&&!!t.children.primary&&Vu(t.children.primary,e,s,n)}}function Uu(t,e,i){return e.every((e,n)=>Hu[i](t[n].parameters,e.parameters))}class Yu{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return Xu.serialize(this)}}class Gu{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nu(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}}class qu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ru(this.parameters)),this._parameterMap}toString(){return od(this)}}function Ku(t,e){return t.length===e.length&&t.every((t,i)=>t.path===e[i].path)}class Zu{}class Qu{parse(t){const e=new ud(t);return new Yu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`/${td(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(t=>`${id(e)}=${id(t)}`).join("&"):`${id(e)}=${id(i)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const Xu=new Qu;function Ju(t){return t.segments.map(t=>od(t)).join("/")}function td(t,e){if(!t.hasChildren())return Ju(t);if(e){const e=t.children.primary?td(t.children.primary,!1):"",i=[];return Nu(t.children,(t,e)=>{"primary"!==e&&i.push(`${e}:${td(t,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(t,e){let i=[];return Nu(t.children,(t,n)=>{"primary"===n&&(i=i.concat(e(t,n)))}),Nu(t.children,(t,n)=>{"primary"!==n&&(i=i.concat(e(t,n)))}),i}(t,(e,i)=>"primary"===i?[td(t.children.primary,!1)]:[`${i}:${td(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Ju(t)}/${e[0]}`:`${Ju(t)}/(${e.join("//")})`}}function ed(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(t){return ed(t).replace(/%3B/gi,";")}function nd(t){return ed(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rd(t){return decodeURIComponent(t)}function sd(t){return rd(t.replace(/\+/g,"%20"))}function od(t){return`${nd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${nd(t)}=${nd(e[t])}`).join("")}`;var e}const ad=/^[^\/()?;=#]+/;function ld(t){const e=t.match(ad);return e?e[0]:""}const hd=/^[^=?&#]+/,cd=/^[^?&#]+/;class ud{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gu([],{}):new Gu([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i.primary=new Gu(t,e)),i}parseSegment(){const t=ld(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new qu(rd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ld(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const t=ld(this.remaining);t&&(i=t,this.capture(i))}t[rd(e)]=rd(i)}parseQueryParam(t){const e=function(t){const e=t.match(hd);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(cd);return e?e[0]:""}(this.remaining);t&&(i=t,this.capture(i))}const n=sd(e),r=sd(i);if(t.hasOwnProperty(n)){let e=t[n];Array.isArray(e)||(e=[e],t[n]=e),e.push(r)}else t[n]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ld(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Gu([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=fd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return pd(t,this._root).map(t=>t.value)}}function fd(t,e){if(t===e.value)return e;for(const i of e.children){const e=fd(t,i);if(e)return e}return null}function pd(t,e){if(t===e.value)return[e];for(const i of e.children){const n=pd(t,i);if(n.length)return n.unshift(e),n}return[]}class gd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function md(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class vd extends dd{constructor(t,e){super(t),this.snapshot=e,kd(this,t)}toString(){return this.snapshot.toString()}}function yd(t,e){const i=function(t,e){const i=new wd([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Sd("",new gd(i,[]))}(t,e),n=new _c([new qu("",{})]),r=new _c({}),s=new _c({}),o=new _c({}),a=new _c(""),l=new bd(n,r,o,a,s,"primary",e,i.root);return l.snapshot=i.root,new vd(new gd(l,[]),i)}class bd{constructor(t,e,i,n,r,s,o,a){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(t=>Ru(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(t=>Ru(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _d(t,e="emptyOnly"){const i=t.pathFromRoot;let n=0;if("always"!==e)for(n=i.length-1;n>=1;){const t=i[n],e=i[n-1];if(t.routeConfig&&""===t.routeConfig.path)n--;else{if(e.component)break;n--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class wd{constructor(t,e,i,n,r,s,o,a,l,h,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=h,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sd extends dd{constructor(t,e){super(e),this.url=t,kd(this,e)}toString(){return xd(this._root)}}function kd(t,e){e.value._routerState=t,e.children.forEach(e=>kd(t,e))}function xd(t){const e=t.children.length>0?` { ${t.children.map(xd).join(", ")} } `:"";return`${t.value}${e}`}function Cd(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Iu(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),Iu(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Iu(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),Iu(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ed(t,e){return Iu(t.params,e.params)&&function(t,e){return Ku(t,e)&&t.every((t,i)=>Iu(t.parameters,e[i].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ed(t.parent,e.parent))}function Td(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=e.value;const r=function(t,e,i){return e.children.map(e=>{for(const n of i.children)if(t.shouldReuseRoute(e.value,n.value.snapshot))return Td(t,e,n);return Td(t,e)})}(t,e,i);return new gd(n,r)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const t=i.route;return Ad(e,t),t}}const i=function(t){return new bd(new _c(t.url),new _c(t.params),new _c(t.queryParams),new _c(t.fragment),new _c(t.data),t.outlet,t.component,t)}(e.value),n=e.children.map(e=>Td(t,e));return new gd(i,n)}}function Ad(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)Ad(t.children[i],e.children[i])}function Od(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Md(t){return"object"==typeof t&&null!=t&&t.outlets}function Rd(t,e,i,n,r){let s={};return n&&Nu(n,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Yu(i.root===t?e:Dd(i.root,t,e),s,r)}function Dd(t,e,i){const n={};return Nu(t.children,(t,r)=>{n[r]=t===e?i:Dd(t,e,i)}),new Gu(t.segments,n)}class Ld{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Od(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(Md);if(n&&n!==Fu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Id{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Pd(t,e,i){if(t||(t=new Gu([],{})),0===t.segments.length&&t.hasChildren())return $d(t,e,i);const n=function(t,e,i){let n=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;const e=t.segments[r],o=i[n];if(Md(o))break;const a=`${o}`,l=n<i.length-1?i[n+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!jd(a,l,e))return s;n+=2}else{if(!jd(a,{},e))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const e=new Gu(t.segments.slice(0,n.pathIndex),{});return e.children.primary=new Gu(t.segments.slice(n.pathIndex),t.children),$d(e,0,r)}return n.match&&0===r.length?new Gu(t.segments,{}):n.match&&!t.hasChildren()?Fd(t,e,i):n.match?$d(t,0,r):Fd(t,e,i)}function $d(t,e,i){if(0===i.length)return new Gu(t.segments,{});{const n=function(t){return Md(t[0])?t[0].outlets:{primary:t}}(i),r={};return Nu(n,(i,n)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[n]=Pd(t.children[n],e,i))}),Nu(t.children,(t,e)=>{void 0===n[e]&&(r[e]=t)}),new Gu(t.segments,r)}}function Fd(t,e,i){const n=t.segments.slice(0,e);let r=0;for(;r<i.length;){const s=i[r];if(Md(s)){const t=Nd(s.outlets);return new Gu(n,t)}if(0===r&&Od(i[0])){n.push(new qu(t.segments[e].path,Bd(i[0]))),r++;continue}const o=Md(s)?s.outlets.primary:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Od(a)?(n.push(new qu(o,Bd(a))),r+=2):(n.push(new qu(o,{})),r++)}return new Gu(n,{})}function Nd(t){const e={};return Nu(t,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Fd(new Gu([],{}),0,t))}),e}function Bd(t){const e={};return Nu(t,(t,i)=>e[i]=`${t}`),e}function jd(t,e,i){return t==i.path&&Iu(e,i.parameters)}class Hd{constructor(t,e,i,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Cd(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=md(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,n[e],i),delete n[e]}),Nu(n,(t,e)=>{this.deactivateRouteAndItsChildren(t,i)})}deactivateRoutes(t,e,i){const n=t.value,r=e?e.value:null;if(n===r)if(n.component){const r=i.getContext(n.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const e=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:n})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=md(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],n);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const n=md(e);t.children.forEach(t=>{this.activateRoutes(t,n[t.value.outlet],i),this.forwardEvent(new Au(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Eu(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,r=e?e.value:null;if(Cd(n),n===r)if(n.component){const r=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const e=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const t=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),zd(t.route)}else{const i=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(n.snapshot),r=i?i.module.componentFactoryResolver:null;e.attachRef=null,e.route=n,e.resolver=r,e.outlet&&e.outlet.activateWith(n,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,i)}}function zd(t){Cd(t.value),t.children.forEach(zd)}class Wd{constructor(t,e){this.routes=t,this.module=e}}function Vd(t){return"function"==typeof t}function Ud(t){return t instanceof Yu}const Yd=Symbol("INITIAL_VALUE");function Gd(){return Dc(t=>function(...t){let e,i;return C(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),V(t,i).lift(new Cc(e))}(t.map(t=>t.pipe($c(1),Bc(Yd)))).pipe(jc((t,e)=>{let i=!1;return e.reduce((t,n,r)=>{if(t!==Yd)return t;if(n===Yd&&(i=!0),!i){if(!1===n)return n;if(r===e.length-1||Ud(n))return n}return t},t)},Yd),Wc(t=>t!==Yd),E(t=>Ud(t)?t:!0===t),$c(1)))}let qd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Bs(0,"router-outlet")},directives:function(){return[Wf]},encapsulation:2}),t})();function Kd(t,e=""){for(let i=0;i<t.length;i++){const n=t[i];Zd(n,Qd(e,n))}}function Zd(t,e){t.children&&Kd(t.children,e)}function Qd(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Xd(t){const e=t.children&&t.children.map(Xd),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=qd),i}function Jd(t){return t.outlet||"primary"}function tf(t,e){const i=t.filter(t=>Jd(t)===e);return i.push(...t.filter(t=>Jd(t)!==e)),i}const ef={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function nf(t,e,i){var n;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?Object.assign({},ef):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Lu)(i,t,e);if(!r)return Object.assign({},ef);const s={};Nu(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(n=r.posParams)&&void 0!==n?n:{}}}function rf(t,e,i,n,r="corrected"){if(i.length>0&&function(t,e,i){return i.some(i=>sf(t,e,i)&&"primary"!==Jd(i))}(t,i,n)){const r=new Gu(e,function(t,e,i,n){const r={};r.primary=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(const s of i)if(""===s.path&&"primary"!==Jd(s)){const i=new Gu([],{});i._sourceSegment=t,i._segmentIndexShift=e.length,r[Jd(s)]=i}return r}(t,e,n,new Gu(i,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some(i=>sf(t,e,i))}(t,i,n)){const s=new Gu(t.segments,function(t,e,i,n,r,s){const o={};for(const a of n)if(sf(t,i,a)&&!r[Jd(a)]){const i=new Gu([],{});i._sourceSegment=t,i._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Jd(a)]=i}return Object.assign(Object.assign({},r),o)}(t,e,i,n,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:i}}const s=new Gu(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:i}}function sf(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function of(t,e,i,n){return!!(Jd(t)===n||"primary"!==n&&sf(e,i,t))&&("**"===t.path||nf(e,t,i).matched)}function af(t,e,i){return 0===e.length&&!t.children[i]}class lf{constructor(t){this.segmentGroup=t||null}}class hf{constructor(t){this.urlTree=t}}function cf(t){return new y(e=>e.error(new lf(t)))}function uf(t){return new y(e=>e.error(new hf(t)))}function df(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ff{constructor(t,e,i,n,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(va)}apply(){const t=rf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Gu(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(E(t=>this.createUrlTree(pf(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yc(t=>{if(t instanceof hf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(E(e=>this.createUrlTree(pf(e),t.queryParams,t.fragment))).pipe(Yc(t=>{if(t instanceof lf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const n=t.segments.length>0?new Gu([],{primary:t}):t;return new Yu(n,e,i)}expandSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(E(t=>new Gu([],t))):this.expandSegment(t,i,e,i.segments,n,!0)}expandChildren(t,e,i){const n=[];for(const r of Object.keys(i.children))"primary"===r?n.unshift(r):n.push(r);return $(n).pipe(Kc(n=>{const r=i.children[n],s=tf(e,n);return this.expandSegmentGroup(t,s,r,n).pipe(E(t=>({segment:t,outlet:n})))}),jc((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const i=arguments.length>=2;return n=>n.pipe(t?Wc((e,i)=>t(e,i,n)):v,Zc(1),i?nu(e):Jc(()=>new Tc))}())}expandSegment(t,e,i,n,r,s){return $(i).pipe(Kc(o=>this.expandSegmentAgainstRoute(t,e,i,o,n,r,s).pipe(Yc(t=>{if(t instanceof lf)return bc(null);throw t}))),ou(t=>!!t),Yc((t,i)=>{if(t instanceof Tc||"EmptyError"===t.name){if(af(e,n,r))return bc(new Gu([],{}));throw new lf(e)}throw t}))}expandSegmentAgainstRoute(t,e,i,n,r,s,o){return of(n,e,r,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s):cf(e):cf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?uf(r):this.lineralizeSegments(i,r).pipe(j(i=>{const r=new Gu(i,{});return this.expandSegment(t,r,e,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:h}=nf(e,n,r);if(!o)return cf(e);const c=this.applyRedirectCommands(a,n.redirectTo,h);return n.redirectTo.startsWith("/")?uf(c):this.lineralizeSegments(n,c).pipe(j(n=>this.expandSegment(t,e,i,n.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,i,n,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?bc(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(E(t=>(i._loadedConfig=t,new Gu(n,{})))):bc(new Gu(n,{}));const{matched:s,consumedSegments:o,lastChild:a}=nf(e,i,n);if(!s)return cf(e);const l=n.slice(a);return this.getChildConfig(t,i,n).pipe(j(t=>{const n=t.module,s=t.routes,{segmentGroup:a,slicedSegments:h}=rf(e,o,l,s),c=new Gu(a.segments,a.children);if(0===h.length&&c.hasChildren())return this.expandChildren(n,s,c).pipe(E(t=>new Gu(o,t)));if(0===s.length&&0===h.length)return bc(new Gu(o,{}));const u=Jd(i)===r;return this.expandSegment(n,c,s,h,u?"primary":r,!0).pipe(E(t=>new Gu(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,i){return e.children?bc(new Wd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?bc(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(j(i=>i?this.configLoader.load(t.injector,e).pipe(E(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(Du(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):bc(new Wd([],t))}runCanLoadGuards(t,e,i){const n=e.canLoad;return n&&0!==n.length?bc(n.map(n=>{const r=t.get(n);let s;if(function(t){return t&&Vd(t.canLoad)}(r))s=r.canLoad(e,i);else{if(!Vd(r))throw new Error("Invalid CanLoad guard");s=r(e,i)}return Bu(s)})).pipe(Gd(),lu(t=>{if(!Ud(t))return;const e=Du(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),E(t=>!0===t)):bc(!0)}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return bc(i);if(n.numberOfChildren>1||!n.children.primary)return df(t.redirectTo);n=n.children.primary}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,n){const r=this.createSegmentGroup(t,e.root,i,n);return new Yu(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Nu(t,(t,n)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);i[n]=e[r]}else i[n]=t}),i}createSegmentGroup(t,e,i,n){const r=this.createSegments(t,e.segments,i,n);let s={};return Nu(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,i,n)}),new Gu(r,s)}createSegments(t,e,i,n){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,n):this.findOrReturn(e,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}function pf(t){const e={};for(const i of Object.keys(t.children)){const n=pf(t.children[i]);(n.segments.length>0||n.hasChildren())&&(e[i]=n)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Gu(t.segments.concat(e.segments),e.children)}return t}(new Gu(t.segments,e))}class gf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mf{constructor(t,e){this.component=t,this.route=e}}function vf(t,e,i){const n=t._root;return bf(n,e?e._root:null,i,[n.value])}function yf(t,e,i){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:i).get(t)}function bf(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=md(e);return t.children.forEach(t=>{!function(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!Ku(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ku(t.url,e.url)||!Iu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ed(t,e)||!Iu(t.queryParams,e.queryParams);case"paramsChange":default:return!Ed(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new gf(n)):(s.data=o.data,s._resolvedData=o._resolvedData),bf(t,e,s.component?a?a.children:null:i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new mf(a.outlet.component,o))}else o&&_f(e,a,r),r.canActivateChecks.push(new gf(n)),bf(t,null,s.component?a?a.children:null:i,n,r)}(t,s[t.value.outlet],i,n.concat([t.value]),r),delete s[t.value.outlet]}),Nu(s,(t,e)=>_f(t,i.getContext(e),r)),r}function _f(t,e,i){const n=md(t),r=t.value;Nu(n,(t,n)=>{_f(t,r.component?e?e.children.getContext(n):null:e,i)}),i.canDeactivateChecks.push(new mf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class wf{}function Sf(t){return new y(e=>e.error(t))}class kf{constructor(t,e,i,n,r,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=rf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const i=new wd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new gd(i,e),r=new Sd(this.url,n);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,i=_d(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const r of Object.keys(e.children)){const n=e.children[r],s=tf(t,r),o=this.processSegmentGroup(s,n,r);if(null===o)return null;i.push(...o)}const n=Cf(i);return n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,i,n){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,i,n);if(null!==t)return t}return af(e,i,n)?[]:null}processSegmentAgainstRoute(t,e,i,n){if(t.redirectTo||!of(t,e,i,n))return null;let r,s=[],o=[];if("**"===t.path){const n=i.length>0?Fu(i).parameters:{};r=new wd(i,n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Af(t),Jd(t),t.component,t,Ef(e),Tf(e)+i.length,Of(t))}else{const n=nf(e,t,i);if(!n.matched)return null;s=n.consumedSegments,o=i.slice(n.lastChild),r=new wd(s,n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Af(t),Jd(t),t.component,t,Ef(e),Tf(e)+s.length,Of(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:h}=rf(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===h.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new gd(r,t)]}if(0===a.length&&0===h.length)return[new gd(r,[])];const c=Jd(t)===n,u=this.processSegment(a,l,h,c?"primary":n);return null===u?null:[new gd(r,u)]}}function xf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cf(t){const e=[],i=new Set;for(const n of t){if(!xf(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...n.children),i.add(t)):e.push(n)}for(const n of i){const t=Cf(n.children);e.push(new gd(n.value,t))}return e.filter(t=>!i.has(t))}function Ef(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Tf(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function Af(t){return t.data||{}}function Of(t){return t.resolve||{}}function Mf(t){return Dc(e=>{const i=t(e);return i?$(i).pipe(E(()=>e)):bc(e)})}class Rf extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Df=new Bi("ROUTES");class Lf{constructor(t,e,i,n){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=n}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(E(i=>{this.onLoadEndListener&&this.onLoadEndListener(e);const n=i.create(t);return new Wd($u(n.injector.get(Df,void 0,_t.Self|_t.Optional)).map(Xd),n)}),Yc(t=>{throw e._loader$=void 0,t}));return e._loader$=new K(i,()=>new k).pipe(Y()),e._loader$}loadModuleFactory(t){return"string"==typeof t?$(this.loader.load(t)):Bu(t()).pipe(j(t=>t instanceof ya?bc(t):$(this.compiler.compileModuleAsync(t))))}}class If{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pf,this.attachRef=null}}class Pf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new If,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class $f{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ff(t){throw t}function Nf(t,e,i){return e.parse("/")}function Bf(t,e){return bc(null)}const jf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zf=(()=>{class t{constructor(t,e,i,n,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=i,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Ff,this.malformedUriErrorHandler=Nf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Bf,afterPreactivation:Bf},this.urlHandlingStrategy=new $f,this.routeReuseStrategy=new Rf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(va),this.console=r.get(pl);const l=r.get(Tl);this.isNgZoneEnabled=l instanceof Tl&&Tl.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Yu(new Gu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lf(s,o,t=>this.triggerEvent(new ku(t)),t=>this.triggerEvent(new xu(t))),this.routerState=yd(this.currentUrlTree,this.rootComponentType),this.transitions=new _c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Wc(t=>0!==t.id),E(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Dc(t=>{let i=!1,n=!1;return bc(t).pipe(lu(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dc(t=>{const i=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return bc(t).pipe(Dc(t=>{const i=this.transitions.getValue();return e.next(new pu(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==this.transitions.getValue()?Oc:Promise.resolve(t)}),function(t,e,i,n){return Dc(r=>function(t,e,i,n,r){return new ff(t,e,i,n,r).apply()}(t,e,i,r.extractedUrl,n).pipe(E(t=>Object.assign(Object.assign({},r),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),lu(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,i,n,r){return j(s=>function(t,e,i,n,r="emptyOnly",s="legacy"){try{const o=new kf(t,e,i,n,r,s).recognize();return null===o?Sf(new wf):bc(o)}catch(o){return Sf(o)}}(t,e,s.urlAfterRedirects,i(s.urlAfterRedirects),n,r).pipe(E(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),lu(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const i=new yu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(i)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:r,restoredState:s,extras:o}=t,a=new pu(i,this.serializeUrl(n),r,s);e.next(a);const l=yd(n,this.rootComponentType).snapshot;return bc(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Oc}),Mf(t=>{const{targetSnapshot:e,id:i,extractedUrl:n,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:i,appliedUrlTree:n,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),lu(t=>{const e=new bu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),E(t=>Object.assign(Object.assign({},t),{guards:vf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return j(i=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return 0===o.length&&0===s.length?bc(Object.assign(Object.assign({},i),{guardsResult:!0})):function(t,e,i,n){return $(t).pipe(j(t=>function(t,e,i,n,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?bc(s.map(s=>{const o=yf(s,e,r);let a;if(function(t){return t&&Vd(t.canDeactivate)}(o))a=Bu(o.canDeactivate(t,e,i,n));else{if(!Vd(o))throw new Error("Invalid CanDeactivate guard");a=Bu(o(t,e,i,n))}return a.pipe(ou())})).pipe(Gd()):bc(!0)}(t.component,t.route,i,e,n)),ou(t=>!0!==t,!0))}(o,n,r,t).pipe(j(i=>i&&function(t){return"boolean"==typeof t}(i)?function(t,e,i,n){return $(e).pipe(Kc(e=>Ac(function(t,e){return null!==t&&e&&e(new Cu(t)),bc(!0)}(e.route.parent,n),function(t,e){return null!==t&&e&&e(new Tu(t)),bc(!0)}(e.route,n),function(t,e,i){const n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Rc(()=>bc(e.guards.map(r=>{const s=yf(r,e.node,i);let o;if(function(t){return t&&Vd(t.canActivateChild)}(s))o=Bu(s.canActivateChild(n,t));else{if(!Vd(s))throw new Error("Invalid CanActivateChild guard");o=Bu(s(n,t))}return o.pipe(ou())})).pipe(Gd())));return bc(r).pipe(Gd())}(t,e.path,i),function(t,e,i){const n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?bc(n.map(n=>Rc(()=>{const r=yf(n,e,i);let s;if(function(t){return t&&Vd(t.canActivate)}(r))s=Bu(r.canActivate(e,t));else{if(!Vd(r))throw new Error("Invalid CanActivate guard");s=Bu(r(e,t))}return s.pipe(ou())}))).pipe(Gd()):bc(!0)}(t,e.route,i))),ou(t=>!0!==t,!0))}(n,s,t,e):bc(i)),E(t=>Object.assign(Object.assign({},i),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),lu(t=>{if(Ud(t.guardsResult)){const e=Du(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new _u(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Wc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const i=new mu(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(i),t.resolve(!1),!1}return!0}),Mf(t=>{if(t.guards.canActivateChecks.length)return bc(t).pipe(lu(t=>{const e=new wu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Dc(t=>{let i=!1;return bc(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,j(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return bc(t);let s=0;return $(i).pipe(Kc(t=>function(t,e,i,n){return function(t,e,i,n){const r=Object.keys(t);if(0===r.length)return bc({});const s={};return $(r).pipe(j(r=>function(t,e,i,n){const r=yf(t,e,n);return Bu(r.resolve?r.resolve(e,i):r(e,i))}(t[r],e,i,n).pipe(lu(t=>{s[r]=t}))),Zc(1),j(()=>Object.keys(s).length===r.length?bc(s):Oc))}(t._resolve,t,e,n).pipe(E(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),_d(t,i).resolve),null)))}(t.route,e,n,r)),lu(()=>s++),Zc(1),j(e=>s===i.length?bc(t):Oc))})),lu({next:()=>i=!0,complete:()=>{if(!i){const i=new mu(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(i),t.resolve(!1)}}}));var n,r}),lu(t=>{const e=new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Mf(t=>{const{targetSnapshot:e,id:i,extractedUrl:n,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:i,appliedUrlTree:n,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),E(t=>{const e=function(t,e,i){const n=Td(t,e._root,i?i._root:void 0);return new vd(n,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),lu(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),E(t=>(new Hd(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),lu({next(){i=!0},complete(){i=!0}}),(r=()=>{if(!i&&!n){this.resetUrlToCurrentUrlTree();const i=new mu(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(i),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new uu(r))),Yc(i=>{if(n=!0,(r=i)&&r.ngNavigationCancelingError){const n=Ud(i.url);n||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new mu(t.id,this.serializeUrl(t.extractedUrl),i.message);e.next(r),n?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const n=new vu(t.id,this.serializeUrl(t.extractedUrl),i);e.next(n);try{t.resolve(this.errorHandler(i))}catch(cm){t.reject(cm)}}var r;return Oc}));var r,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:i,urlTree:n}=e,r={replaceUrl:!0};if(i){const t=Object.assign({},i);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(n,t,i,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const i=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&i&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Kd(t),this.config=t.map(Xd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:i,queryParams:n,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=i||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let h=null;switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=n||null}return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,i,n,r){if(0===i.length)return Rd(e.root,e.root,e,n,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ld(!0,0,t);let e=0,i=!1;const n=t.reduce((t,n,r)=>{if("object"==typeof n&&null!=n){if(n.outlets){const e={};return Nu(n.outlets,(t,i)=>{e[i]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(n.segmentPath)return[...t,n.segmentPath]}return"string"!=typeof n?[...t,n]:0===r?(n.split("/").forEach((n,r)=>{0==r&&"."===n||(0==r&&""===n?i=!0:".."===n?e++:""!=n&&t.push(n))}),t):[...t,n]},[]);return new Ld(i,e,n)}(i);if(s.toRoot())return Rd(e.root,new Gu([],{}),e,n,r);const o=function(t,e,i){if(t.isAbsolute)return new Id(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const t=i.snapshot._urlSegment;return new Id(t,t===e.root,0)}const n=Od(t.commands[0])?0:1;return function(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Error("Invalid number of '../'");r=n.segments.length}return new Id(n,!1,r-s)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?$d(o.segmentGroup,o.index,s.commands):Pd(o.segmentGroup,o.index,s.commands);return Rd(o.segmentGroup,a,e,n,r)}(a,this.currentUrlTree,t,h,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const i=Ud(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(i){e=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return e}isActive(t,e){let i;if(i=!0===e?Object.assign({},jf):!1===e?Object.assign({},Hf):e,Ud(t))return zu(this.currentUrlTree,t,i);const n=this.parseUrl(t);return zu(this.currentUrlTree,n,i)}removeEmptyProps(t){return Object.keys(t).reduce((e,i)=>{const n=t[i];return null!=n&&(e[i]=n),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new gu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,i,n,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,h,c;r?(l=r.resolve,h=r.reject,c=r.promise):c=new Promise((t,e)=>{l=t,h=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:l,reject:h,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,i,n){const r=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},n),{navigationId:i})):this.location.go(r,"",Object.assign(Object.assign({},n),{navigationId:i}))}resetStateAndUrl(t,e,i){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(nn(Hi),nn(Zu),nn(Pf),nn(wh),nn(ms),nn(Zl),nn(xl),nn(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Wf=(()=>{class t{constructor(t,e,i,n,r){this.parentContexts=t,this.location=e,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ja,this.deactivateEvents=new ja,this.name=n||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,r=new Vf(t,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Is(Pf),Is(_a),Is(Do),("name",function(t,e){const i=t.attrs;if(i){const t=i.length;let e=0;for(;e<t;){const n=i[e];if(ui(n))break;if(0===n)e+=2;else if("number"==typeof n)for(e++;e<t&&"string"==typeof i[e];)e++;else{if("name"===n)return i[e+1];e+=2}}}return null}(Me())),Is(la))},t.\u0275dir=qt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Vf{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===bd?this.route:t===Pf?this.childContexts:this.parent.get(t,e)}}class Uf{}class Yf{preload(t,e){return bc(null)}}let Gf=(()=>{class t{constructor(t,e,i,n,r){this.router=t,this.injector=n,this.preloadingStrategy=r,this.loader=new Lf(e,i,e=>t.triggerEvent(new ku(e)),e=>t.triggerEvent(new xu(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wc(t=>t instanceof gu),Kc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(va);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const i=[];for(const n of e)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const t=n._loadedConfig;i.push(this.processRoutes(t.module,t.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(t,n)):n.children&&i.push(this.processRoutes(t,n.children));return $(i).pipe(W(),E(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?bc(e._loadedConfig):this.loader.load(t.injector,e)).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(nn(zf),nn(Zl),nn(xl),nn(ms),nn(Uf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),qf=(()=>{class t{constructor(t,e,i={}){this.router=t,this.viewportScroller=e,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ou&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ou(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(nn(zf),nn(jh),nn(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Kf=new Bi("ROUTER_CONFIGURATION"),Zf=new Bi("ROUTER_FORROOT_GUARD"),Qf=[wh,{provide:Zu,useClass:Qu},{provide:zf,useFactory:function(t,e,i,n,r,s,o,a={},l,h){const c=new zf(null,t,e,i,n,r,s,$u(o));return l&&(c.urlHandlingStrategy=l),h&&(c.routeReuseStrategy=h),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(t=>{var e,i;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(i=console.groupEnd)||void 0===i||i.call(console)}),c},deps:[Zu,Pf,wh,ms,Zl,xl,Df,Kf,[class{},new ln],[class{},new ln]]},Pf,{provide:bd,useFactory:function(t){return t.routerState.root},deps:[zf]},{provide:Zl,useClass:Jl},Gf,Yf,class{preload(t,e){return e().pipe(Yc(()=>bc(null)))}},{provide:Kf,useValue:{enableTracing:!1}}];function Xf(){return new Wl("Router",zf)}let Jf=(()=>{class t{constructor(t,e){}static forRoot(e,i){return{ngModule:t,providers:[Qf,np(e),{provide:Zf,useFactory:ip,deps:[[zf,new ln,new hn]]},{provide:Kf,useValue:i||{}},{provide:mh,useFactory:ep,deps:[ah,[new an(yh),new ln],Kf]},{provide:qf,useFactory:tp,deps:[zf,jh,Kf]},{provide:Uf,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Yf},{provide:Wl,multi:!0,useFactory:Xf},[rp,{provide:ol,multi:!0,useFactory:sp,deps:[rp]},{provide:ap,useFactory:op,deps:[rp]},{provide:fl,multi:!0,useExisting:ap}]]}}static forChild(e){return{ngModule:t,providers:[np(e)]}}}return t.\u0275fac=function(e){return new(e||t)(nn(Zf,8),nn(zf,8))},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({}),t})();function tp(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new qf(t,e,i)}function ep(t,e,i={}){return i.useHash?new _h(t,e):new bh(t,e)}function ip(t){return"guarded"}function np(t){return[{provide:ji,multi:!0,useValue:t},{provide:Df,multi:!0,useValue:t}]}let rp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(hh,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),i=this.injector.get(zf),n=this.injector.get(Kf);return"disabled"===n.initialNavigation?(i.setUpLocationChangeListener(),t(!0)):"enabled"===n.initialNavigation||"enabledBlocking"===n.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?bc(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),i.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Kf),i=this.injector.get(Gf),n=this.injector.get(qf),r=this.injector.get(zf),s=this.injector.get(ql);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),i.setUpPreloading(),n.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(nn(ms))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function sp(t){return t.appInitializer.bind(t)}function op(t){return t.bootstrapListener.bind(t)}const ap=new Bi("Router Initializer"),lp=[];let hp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[Jf.forRoot(lp)],Jf]}),t})();var cp=i(5737),up="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dp(t,e){return t(e={exports:{}},e.exports),e.exports}var fp=function(t){return t&&t.Math==Math&&t},pp=fp("object"==typeof globalThis&&globalThis)||fp("object"==typeof window&&window)||fp("object"==typeof self&&self)||fp("object"==typeof up&&up)||Function("return this")(),gp=function(t){try{return!!t()}catch(t){return!0}},mp=!gp(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),vp={}.propertyIsEnumerable,yp=Object.getOwnPropertyDescriptor,bp={f:yp&&!vp.call({1:2},1)?function(t){var e=yp(this,t);return!!e&&e.enumerable}:vp},_p=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},wp={}.toString,Sp=function(t){return wp.call(t).slice(8,-1)},kp="".split,xp=gp(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Sp(t)?kp.call(t,""):Object(t)}:Object,Cp=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Ep=function(t){return xp(Cp(t))},Tp=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Ap=function(t,e){if(!Tp(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!Tp(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!Tp(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!Tp(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},Op={}.hasOwnProperty,Mp=function(t,e){return Op.call(t,e)},Rp=pp.document,Dp=Tp(Rp)&&Tp(Rp.createElement),Lp=function(t){return Dp?Rp.createElement(t):{}},Ip=!mp&&!gp(function(){return 7!=Object.defineProperty(Lp("div"),"a",{get:function(){return 7}}).a}),Pp=Object.getOwnPropertyDescriptor,$p={f:mp?Pp:function(t,e){if(t=Ep(t),e=Ap(e,!0),Ip)try{return Pp(t,e)}catch(t){}if(Mp(t,e))return _p(!bp.f.call(t,e),t[e])}},Fp=/#|\.prototype\./,Np=function(t,e){var i=jp[Bp(t)];return i==zp||i!=Hp&&("function"==typeof e?gp(e):!!e)},Bp=Np.normalize=function(t){return String(t).replace(Fp,".").toLowerCase()},jp=Np.data={},Hp=Np.NATIVE="N",zp=Np.POLYFILL="P",Wp=Np,Vp={},Up=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Yp=function(t,e,i){if(Up(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},Gp=function(t){if(!Tp(t))throw TypeError(String(t)+" is not an object");return t},qp=Object.defineProperty,Kp={f:mp?qp:function(t,e,i){if(Gp(t),e=Ap(e,!0),Gp(i),Ip)try{return qp(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},Zp=mp?function(t,e,i){return Kp.f(t,e,_p(1,i))}:function(t,e,i){return t[e]=i,t},Qp=$p.f,Xp=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},Jp=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?pp:d?pp[c]:(pp[c]||{}).prototype,g=u?Vp:Vp[c]||(Vp[c]={}),m=g.prototype;for(r in e)i=!Wp(u?r:c+(d?".":"#")+r,t.forced)&&p&&Mp(p,r),o=g[r],i&&(a=t.noTargetGet?(h=Qp(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?Yp(s,pp):t.wrap&&i?Xp(s):f&&"function"==typeof s?Yp(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&Zp(l,"sham",!0),g[r]=l,f&&(Mp(Vp,n=c+"Prototype")||Zp(Vp,n,{}),Vp[n][r]=s,t.real&&m&&!m[r]&&Zp(m,r,s)))},tg=[].slice,eg={},ig=function(t,e,i){if(!(e in eg)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";eg[e]=Function("C,a","return new C("+n.join(",")+")")}return eg[e](t,i)};Jp({target:"Function",proto:!0},{bind:Function.bind||function(t){var e=Up(this),i=tg.call(arguments,1),n=function(){var r=i.concat(tg.call(arguments));return this instanceof n?ig(e,r.length,r):e.apply(t,r)};return Tp(e.prototype)&&(n.prototype=e.prototype),n}});var ng=function(t){return Vp[t+"Prototype"]},rg=ng("Function").bind,sg=Function.prototype,og=function(t){var e=t.bind;return t===sg||t instanceof Function&&e===sg.bind?rg:e};function ag(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function lg(t,e,i,n,r,s){var o=Math.PI/180;n-2*s<0&&(s=n/2),r-2*s<0&&(s=r/2),t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+n-s,i),t.arc(e+n-s,i+s,s,270*o,360*o,!1),t.lineTo(e+n,i+r-s),t.arc(e+n-s,i+r-s,s,0,90*o,!1),t.lineTo(e+s,i+r),t.arc(e+s,i+r-s,s,90*o,180*o,!1),t.lineTo(e,i+s),t.arc(e+s,i+s,s,180*o,270*o,!1),t.closePath()}function hg(t,e,i,n,r){var s=n/2*.5522848,o=r/2*.5522848,a=e+n,l=i+r,h=e+n/2,c=i+r/2;t.beginPath(),t.moveTo(e,c),t.bezierCurveTo(e,c-o,h-s,i,h,i),t.bezierCurveTo(h+s,i,a,c-o,a,c),t.bezierCurveTo(a,c+o,h+s,l,h,l),t.bezierCurveTo(h-s,l,e,c+o,e,c),t.closePath()}function cg(t,e,i,n,r){var s=r*(1/3),o=n/2*.5522848,a=s/2*.5522848,l=e+n,h=i+s,c=e+n/2,u=i+s/2,d=i+(r-s/2),f=i+r;t.beginPath(),t.moveTo(l,u),t.bezierCurveTo(l,u+a,c+o,h,c,h),t.bezierCurveTo(c-o,h,e,u+a,e,u),t.bezierCurveTo(e,u-a,c-o,i,c,i),t.bezierCurveTo(c+o,i,l,u-a,l,u),t.lineTo(l,d),t.bezierCurveTo(l,d+a,c+o,f,c,f),t.bezierCurveTo(c-o,f,e,d+a,e,d),t.lineTo(e,u)}function ug(t,e,i,n,r,s){t.beginPath(),t.moveTo(e,i);for(var o=s.length,a=n-e,l=r-i,h=l/a,c=Math.sqrt(a*a+l*l),u=0,d=!0,f=0,p=+s[0];c>=.1;)(p=+s[u++%o])>c&&(p=c),f=Math.sqrt(p*p/(1+h*h)),e+=f=a<0?-f:f,i+=h*f,!0===d?t.lineTo(e,i):t.moveTo(e,i),c-=p,d=!d}var dg={circle:ag,dashedLine:ug,database:cg,diamond:function(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()},ellipse:hg,ellipse_vis:hg,hexagon:function(t,e,i,n){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+n,i);for(var s=1;s<6;s++)t.lineTo(e+n*Math.cos(r*s),i+n*Math.sin(r*s));t.closePath()},roundRect:lg,square:function(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()},star:function(t,e,i,n){t.beginPath(),i+=.1*(n*=.82);for(var r=0;r<10;r++){var s=r%2==0?1.3*n:.5*n;t.lineTo(e+s*Math.sin(2*r*Math.PI/10),i-s*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,i,n){t.beginPath(),i+=.275*(n*=1.15);var r=2*n,s=r/2,o=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-s*s);t.moveTo(e,i-(a-o)),t.lineTo(e+s,i+o),t.lineTo(e-s,i+o),t.lineTo(e,i-(a-o)),t.closePath()},triangleDown:function(t,e,i,n){t.beginPath(),i-=.275*(n*=1.15);var r=2*n,s=r/2,o=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-s*s);t.moveTo(e,i+(a-o)),t.lineTo(e+s,i-o),t.lineTo(e-s,i-o),t.lineTo(e,i+(a-o)),t.closePath()}},fg=dp(function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),pg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gg(t,e){return t(e={exports:{}},e.exports),e.exports}var mg=function(t){return t&&t.Math==Math&&t},vg=mg("object"==typeof globalThis&&globalThis)||mg("object"==typeof window&&window)||mg("object"==typeof self&&self)||mg("object"==typeof pg&&pg)||Function("return this")(),yg=function(t){try{return!!t()}catch(t){return!0}},bg=!yg(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_g={}.propertyIsEnumerable,wg=Object.getOwnPropertyDescriptor,Sg={f:wg&&!_g.call({1:2},1)?function(t){var e=wg(this,t);return!!e&&e.enumerable}:_g},kg=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},xg={}.toString,Cg=function(t){return xg.call(t).slice(8,-1)},Eg="".split,Tg=yg(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Cg(t)?Eg.call(t,""):Object(t)}:Object,Ag=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Og=function(t){return Tg(Ag(t))},Mg=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Rg=function(t,e){if(!Mg(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!Mg(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!Mg(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!Mg(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},Dg={}.hasOwnProperty,Lg=function(t,e){return Dg.call(t,e)},Ig=vg.document,Pg=Mg(Ig)&&Mg(Ig.createElement),$g=function(t){return Pg?Ig.createElement(t):{}},Fg=!bg&&!yg(function(){return 7!=Object.defineProperty($g("div"),"a",{get:function(){return 7}}).a}),Ng=Object.getOwnPropertyDescriptor,Bg={f:bg?Ng:function(t,e){if(t=Og(t),e=Rg(e,!0),Fg)try{return Ng(t,e)}catch(t){}if(Lg(t,e))return kg(!Sg.f.call(t,e),t[e])}},jg=/#|\.prototype\./,Hg=function(t,e){var i=Wg[zg(t)];return i==Ug||i!=Vg&&("function"==typeof e?yg(e):!!e)},zg=Hg.normalize=function(t){return String(t).replace(jg,".").toLowerCase()},Wg=Hg.data={},Vg=Hg.NATIVE="N",Ug=Hg.POLYFILL="P",Yg=Hg,Gg={},qg=function(t,e,i){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},Kg=function(t){if(!Mg(t))throw TypeError(String(t)+" is not an object");return t},Zg=Object.defineProperty,Qg={f:bg?Zg:function(t,e,i){if(Kg(t),e=Rg(e,!0),Kg(i),Fg)try{return Zg(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},Xg=bg?function(t,e,i){return Qg.f(t,e,kg(1,i))}:function(t,e,i){return t[e]=i,t},Jg=Bg.f,tm=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},em=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?vg:d?vg[c]:(vg[c]||{}).prototype,g=u?Gg:Gg[c]||(Gg[c]={}),m=g.prototype;for(r in e)i=!Yg(u?r:c+(d?".":"#")+r,t.forced)&&p&&Lg(p,r),o=g[r],i&&(a=t.noTargetGet?(h=Jg(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?qg(s,vg):t.wrap&&i?tm(s):f&&"function"==typeof s?qg(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&Xg(l,"sham",!0),g[r]=l,f&&(Lg(Gg,n=c+"Prototype")||Xg(Gg,n,{}),Gg[n][r]=s,t.real&&m&&!m[r]&&Xg(m,r,s)))};em({target:"Object",stat:!0,forced:!bg,sham:!bg},{defineProperty:Qg.f});var im=gg(function(t){var e=Gg.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)}),nm=im,rm=Math.ceil,sm=Math.floor,om=function(t){return isNaN(t=+t)?0:(t>0?sm:rm)(t)},am=Math.min,lm=function(t){return t>0?am(om(t),9007199254740991):0},hm=Math.max,cm=Math.min,um=function(t,e){var i=om(t);return i<0?hm(i+e,0):cm(i,e)},dm=function(t){return function(e,i,n){var r,s=Og(e),o=lm(s.length),a=um(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},fm={includes:dm(!0),indexOf:dm(!1)},pm={},gm=fm.indexOf,mm=function(t,e){var i,n=Og(t),r=0,s=[];for(i in n)!Lg(pm,i)&&Lg(n,i)&&s.push(i);for(;e.length>r;)Lg(n,i=e[r++])&&(~gm(s,i)||s.push(i));return s},vm=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ym=Object.keys||function(t){return mm(t,vm)},bm=bg?Object.defineProperties:function(t,e){Kg(t);for(var i,n=ym(e),r=n.length,s=0;r>s;)Qg.f(t,i=n[s++],e[i]);return t};em({target:"Object",stat:!0,forced:!bg,sham:!bg},{defineProperties:bm});var _m=gg(function(t){var e=Gg.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)}),wm=function(t){return"function"==typeof t?t:void 0},Sm=function(t,e){return arguments.length<2?wm(Gg[t])||wm(vg[t]):Gg[t]&&Gg[t][e]||vg[t]&&vg[t][e]},km=vm.concat("length","prototype"),xm={f:Object.getOwnPropertyNames||function(t){return mm(t,km)}},Cm={f:Object.getOwnPropertySymbols},Em=Sm("Reflect","ownKeys")||function(t){var e=xm.f(Kg(t)),i=Cm.f;return i?e.concat(i(t)):e},Tm=function(t,e,i){var n=Rg(e);n in t?Qg.f(t,n,kg(0,i)):t[n]=i};em({target:"Object",stat:!0,sham:!bg},{getOwnPropertyDescriptors:function(t){for(var e,i,n=Og(t),r=Bg.f,s=Em(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&Tm(o,e,i);return o}});var Am=Gg.Object.getOwnPropertyDescriptors,Om=Bg.f,Mm=yg(function(){Om(1)});em({target:"Object",stat:!0,forced:!bg||Mm,sham:!bg},{getOwnPropertyDescriptor:function(t,e){return Om(Og(t),e)}});var Rm,Dm=gg(function(t){var e=Gg.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)}),Lm=!!Object.getOwnPropertySymbols&&!yg(function(){return!String(Symbol())}),Im=Lm&&!Symbol.sham&&"symbol"==typeof Symbol(),Pm=Array.isArray||function(t){return"Array"==Cg(t)},$m=function(t){return Object(Ag(t))},Fm=Sm("document","documentElement"),Nm=vg["__core-js_shared__"]||function(t,e){try{Xg(vg,t,e)}catch(dp){vg[t]=e}return e}("__core-js_shared__",{}),Bm=gg(function(t){(t.exports=function(t,e){return Nm[t]||(Nm[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.0",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),jm=0,Hm=Math.random(),zm=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++jm+Hm).toString(36)},Wm=Bm("keys"),Vm=function(t){return Wm[t]||(Wm[t]=zm(t))},Um=Vm("IE_PROTO"),Ym=function(){},Gm=function(t){return"<script>"+t+"<\/script>"},qm=function(){try{Rm=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;qm=Rm?function(t){t.write(Gm("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Rm):((e=$g("iframe")).style.display="none",Fm.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Gm("document.F=Object")),t.close(),t.F);for(var i=vm.length;i--;)delete qm.prototype[vm[i]];return qm()};pm[Um]=!0;var Km=Object.create||function(t,e){var i;return null!==t?(Ym.prototype=Kg(t),i=new Ym,Ym.prototype=null,i[Um]=t):i=qm(),void 0===e?i:bm(i,e)},Zm=xm.f,Qm={}.toString,Xm="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Jm={f:function(t){return Xm&&"[object Window]"==Qm.call(t)?function(t){try{return Zm(t)}catch(t){return Xm.slice()}}(t):Zm(Og(t))}},tv=function(t,e,i,n){n&&n.enumerable?t[e]=i:Xg(t,e,i)},ev=Bm("wks"),iv=vg.Symbol,nv=Im?iv:zm,rv=function(t){return Lg(ev,t)||(ev[t]=Lm&&Lg(iv,t)?iv[t]:nv("Symbol."+t)),ev[t]},sv={f:rv},ov=Qg.f,av=function(t){var e=Gg.Symbol||(Gg.Symbol={});Lg(e,t)||ov(e,t,{value:sv.f(t)})},lv={};lv[rv("toStringTag")]="z";var hv="[object z]"===String(lv),cv=rv("toStringTag"),uv="Arguments"==Cg(function(){return arguments}()),dv=hv?Cg:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),cv))?i:uv?Cg(e):"Object"==(n=Cg(e))&&"function"==typeof e.callee?"Arguments":n},fv=hv?{}.toString:function(){return"[object "+dv(this)+"]"},pv=Qg.f,gv=rv("toStringTag"),mv=function(t,e,i,n){if(t){var r=i?t:t.prototype;Lg(r,gv)||pv(r,gv,{configurable:!0,value:e}),n&&!hv&&Xg(r,"toString",fv)}},vv=Function.toString;"function"!=typeof Nm.inspectSource&&(Nm.inspectSource=function(t){return vv.call(t)});var yv,bv,_v,wv=vg.WeakMap;if("function"==typeof wv&&/native code/.test((0,Nm.inspectSource)(wv))){var Sv=new(0,vg.WeakMap),kv=Sv.get,xv=Sv.has,Cv=Sv.set;yv=function(t,e){return Cv.call(Sv,t,e),e},bv=function(t){return kv.call(Sv,t)||{}},_v=function(t){return xv.call(Sv,t)}}else{var Ev=Vm("state");pm[Ev]=!0,yv=function(t,e){return Xg(t,Ev,e),e},bv=function(t){return Lg(t,Ev)?t[Ev]:{}},_v=function(t){return Lg(t,Ev)}}var Tv={set:yv,get:bv,has:_v,enforce:function(t){return _v(t)?bv(t):yv(t,{})},getterFor:function(t){return function(e){var i;if(!Mg(e)||(i=bv(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},Av=rv("species"),Ov=function(t,e){var i;return Pm(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!Pm(i.prototype)?Mg(i)&&null===(i=i[Av])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},Mv=[].push,Rv=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=$m(a),p=Tg(f),g=qg(l,h,3),m=lm(p.length),v=0,y=c||Ov,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:Mv.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},Dv={forEach:Rv(0),map:Rv(1),filter:Rv(2),some:Rv(3),every:Rv(4),find:Rv(5),findIndex:Rv(6)},Lv=Dv.forEach,Iv=Vm("hidden"),Pv=rv("toPrimitive"),$v=Tv.set,Fv=Tv.getterFor("Symbol"),Nv=Object.prototype,Bv=vg.Symbol,jv=Sm("JSON","stringify"),Hv=Bg.f,zv=Qg.f,Wv=Jm.f,Vv=Sg.f,Uv=Bm("symbols"),Yv=Bm("op-symbols"),Gv=Bm("string-to-symbol-registry"),qv=Bm("symbol-to-string-registry"),Kv=Bm("wks"),Zv=vg.QObject,Qv=!Zv||!Zv.prototype||!Zv.prototype.findChild,Xv=bg&&yg(function(){return 7!=Km(zv({},"a",{get:function(){return zv(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=Hv(Nv,e);n&&delete Nv[e],zv(t,e,i),n&&t!==Nv&&zv(Nv,e,n)}:zv,Jv=function(t,e){var i=Uv[t]=Km(Bv.prototype);return $v(i,{type:"Symbol",tag:t,description:e}),bg||(i.description=e),i},ty=Lm&&"symbol"==typeof Bv.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Bv},ey=function(t,e,i){t===Nv&&ey(Yv,e,i),Kg(t);var n=Rg(e,!0);return Kg(i),Lg(Uv,n)?(i.enumerable?(Lg(t,Iv)&&t[Iv][n]&&(t[Iv][n]=!1),i=Km(i,{enumerable:kg(0,!1)})):(Lg(t,Iv)||zv(t,Iv,kg(1,{})),t[Iv][n]=!0),Xv(t,n,i)):zv(t,n,i)},iy=function(t,e){Kg(t);var i=Og(e),n=ym(i).concat(oy(i));return Lv(n,function(e){bg&&!ny.call(i,e)||ey(t,e,i[e])}),t},ny=function(t){var e=Rg(t,!0),i=Vv.call(this,e);return!(this===Nv&&Lg(Uv,e)&&!Lg(Yv,e))&&(!(i||!Lg(this,e)||!Lg(Uv,e)||Lg(this,Iv)&&this[Iv][e])||i)},ry=function(t,e){var i=Og(t),n=Rg(e,!0);if(i!==Nv||!Lg(Uv,n)||Lg(Yv,n)){var r=Hv(i,n);return!r||!Lg(Uv,n)||Lg(i,Iv)&&i[Iv][n]||(r.enumerable=!0),r}},sy=function(t){var e=Wv(Og(t)),i=[];return Lv(e,function(t){Lg(Uv,t)||Lg(pm,t)||i.push(t)}),i},oy=function(t){var e=t===Nv,i=Wv(e?Yv:Og(t)),n=[];return Lv(i,function(t){!Lg(Uv,t)||e&&!Lg(Nv,t)||n.push(Uv[t])}),n};if(Lm||(tv((Bv=function(){if(this instanceof Bv)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=zm(t),i=function(t){this===Nv&&i.call(Yv,t),Lg(this,Iv)&&Lg(this[Iv],e)&&(this[Iv][e]=!1),Xv(this,e,kg(1,t))};return bg&&Qv&&Xv(Nv,e,{configurable:!0,set:i}),Jv(e,t)}).prototype,"toString",function(){return Fv(this).tag}),Sg.f=ny,Qg.f=ey,Bg.f=ry,xm.f=Jm.f=sy,Cm.f=oy,bg&&zv(Bv.prototype,"description",{configurable:!0,get:function(){return Fv(this).description}})),Im||(sv.f=function(t){return Jv(rv(t),t)}),em({global:!0,wrap:!0,forced:!Lm,sham:!Lm},{Symbol:Bv}),Lv(ym(Kv),function(t){av(t)}),em({target:"Symbol",stat:!0,forced:!Lm},{for:function(t){var e=String(t);if(Lg(Gv,e))return Gv[e];var i=Bv(e);return Gv[e]=i,qv[i]=e,i},keyFor:function(t){if(!ty(t))throw TypeError(t+" is not a symbol");if(Lg(qv,t))return qv[t]},useSetter:function(){Qv=!0},useSimple:function(){Qv=!1}}),em({target:"Object",stat:!0,forced:!Lm,sham:!bg},{create:function(t,e){return void 0===e?Km(t):iy(Km(t),e)},defineProperty:ey,defineProperties:iy,getOwnPropertyDescriptor:ry}),em({target:"Object",stat:!0,forced:!Lm},{getOwnPropertyNames:sy,getOwnPropertySymbols:oy}),em({target:"Object",stat:!0,forced:yg(function(){Cm.f(1)})},{getOwnPropertySymbols:function(t){return Cm.f($m(t))}}),jv){var ay=!Lm||yg(function(){var t=Bv();return"[null]"!=jv([t])||"{}"!=jv({a:t})||"{}"!=jv(Object(t))});em({target:"JSON",stat:!0,forced:ay},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(Mg(e)||void 0!==t)&&!ty(t))return Pm(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ty(e))return e}),r[1]=e,jv.apply(null,r)}})}Bv.prototype[Pv]||Xg(Bv.prototype,Pv,Bv.prototype.valueOf),mv(Bv,"Symbol"),pm[Iv]=!0;var ly,hy,cy,uy=Gg.Object.getOwnPropertySymbols,dy={},fy=!yg(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),py=Vm("IE_PROTO"),gy=Object.prototype,my=fy?Object.getPrototypeOf:function(t){return t=$m(t),Lg(t,py)?t[py]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?gy:null},vy=(rv("iterator"),!1);[].keys&&("next"in(cy=[].keys())?(hy=my(my(cy)))!==Object.prototype&&(ly=hy):vy=!0),null==ly&&(ly={});var yy={IteratorPrototype:ly,BUGGY_SAFARI_ITERATORS:vy},by=yy.IteratorPrototype,_y=function(){return this},wy=(Object.setPrototypeOf||"__proto__"in{}&&function(){try{Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set.call({},[])}catch(up){}}(),yy.IteratorPrototype),Sy=yy.BUGGY_SAFARI_ITERATORS,ky=rv("iterator"),xy=function(){return this},Cy=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=Km(by,{next:kg(1,i)}),mv(t,n,!1,!0),dy[n]=_y}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!Sy&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[ky]||f["@@iterator"]||r&&f[r],g=!Sy&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=my(m.call(new t)),wy!==Object.prototype&&a.next&&(mv(a,u,!0,!0),dy[u]=xy)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[ky]!==g&&Xg(f,ky,g),dy[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!Sy&&!d&&h in f||tv(f,h,l[h]);else em({target:e,proto:!0,forced:Sy||d},l);return l},Ey=Tv.set,Ty=Tv.getterFor("Array Iterator");Cy(Array,"Array",function(t,e){Ey(this,{type:"Array Iterator",target:Og(t),index:0,kind:e})},function(){var t=Ty(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),dy.Arguments=dy.Array;var Ay=rv("toStringTag");for(var Oy in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var My=vg[Oy],Ry=My&&My.prototype;Ry&&!Ry[Ay]&&Xg(Ry,Ay,Oy),dy[Oy]=dy.Array}var Dy=function(t){return function(e,i){var n,r,s=String(Ag(e)),o=om(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},Ly=(Dy(!1),Dy(!0)),Iy=Tv.set,Py=Tv.getterFor("String Iterator");Cy(String,"String",function(t){Iy(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=Py(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=Ly(i,n),e.index+=t.length,{value:t,done:!1})});var $y=rv("iterator"),Fy=function(t){if(null!=t)return t[$y]||t["@@iterator"]||dy[dv(t)]};em({target:"Object",stat:!0,sham:!bg},{create:Km});var Ny=Gg.Object,By=function(t,e){return Ny.create(t,e)},jy=im,Hy=function(t,e,i){return e in t?jy(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},zy=yg(function(){ym(1)});em({target:"Object",stat:!0,forced:zy},{keys:function(t){return ym($m(t))}});var Wy,Vy=Gg.Object.keys,Uy="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Yy="["+Uy+"]",Gy=RegExp("^"+Yy+Yy+"*"),qy=RegExp(Yy+Yy+"*$"),Ky=function(t){return function(e){var i=String(Ag(e));return 1&t&&(i=i.replace(Gy,"")),2&t&&(i=i.replace(qy,"")),i}},Zy={start:Ky(1),end:Ky(2),trim:Ky(3)},Qy=Zy.trim;em({target:"String",proto:!0,forced:(Wy="trim",yg(function(){return!!Uy[Wy]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[Wy]()||Uy[Wy].name!==Wy}))},{trim:function(){return Qy(this)}});var Xy=function(t){return Gg[t+"Prototype"]},Jy=Xy("String").trim,tb=String.prototype,eb=function(t){var e=t.trim;return"string"==typeof t||t===tb||t instanceof String&&e===tb.trim?Jy:e},ib=function(t,e){var i=[][t];return!i||!yg(function(){i.call(null,e||function(){throw 1},1)})},nb=Dv.forEach,rb=ib("forEach")?function(t){return nb(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;em({target:"Array",proto:!0,forced:[].forEach!=rb},{forEach:rb});var sb,ob,ab=Xy("Array").forEach,lb=Array.prototype,hb={DOMTokenList:!0,NodeList:!0},cb=function(t){var e=t.forEach;return t===lb||t instanceof Array&&e===lb.forEach||hb.hasOwnProperty(dv(t))?ab:e},ub=Sm("navigator","userAgent")||"",db=vg.process,fb=db&&db.versions,pb=fb&&fb.v8;pb?ob=(sb=pb.split("."))[0]+sb[1]:ub&&(!(sb=ub.match(/Edge\/(\d+)/))||sb[1]>=74)&&(sb=ub.match(/Chrome\/(\d+)/))&&(ob=sb[1]);var gb=ob&&+ob,mb=rv("species"),vb=function(t){return gb>=51||!yg(function(){var e=[];return(e.constructor={})[mb]=function(){return{foo:1}},1!==e[t](Boolean).foo})},yb=Dv.map,bb=vb("map"),_b=bb&&!yg(function(){[].map.call({length:-1,0:1},function(t){throw t})});em({target:"Array",proto:!0,forced:!bb||!_b},{map:function(t){return yb(this,t,arguments.length>1?arguments[1]:void 0)}});var wb=Xy("Array").map,Sb=Array.prototype,kb=function(t){var e=t.map;return t===Sb||t instanceof Array&&e===Sb.map?wb:e},xb=Zy.trim,Cb=vg.parseInt,Eb=/^[+-]?0[Xx]/,Tb=8!==Cb(Uy+"08")||22!==Cb(Uy+"0x16")?function(t,e){var i=xb(String(t));return Cb(i,e>>>0||(Eb.test(i)?16:10))}:Cb;em({global:!0,forced:parseInt!=Tb},{parseInt:Tb});var Ab=Gg.parseInt,Ob=Sg.f,Mb=function(t){return function(e){for(var i,n=Og(e),r=ym(n),s=r.length,o=0,a=[];s>o;)i=r[o++],bg&&!Ob.call(n,i)||a.push(t?[i,n[i]]:n[i]);return a}},Rb=(Mb(!0),Mb(!1));em({target:"Object",stat:!0},{values:function(t){return Rb(t)}});var Db=Gg.Object.values,Lb=Dv.filter,Ib=vb("filter"),Pb=Ib&&!yg(function(){[].filter.call({length:-1,0:1},function(t){throw t})});em({target:"Array",proto:!0,forced:!Ib||!Pb},{filter:function(t){return Lb(this,t,arguments.length>1?arguments[1]:void 0)}});var $b=Xy("Array").filter,Fb=Array.prototype,Nb=function(t){var e=t.filter;return t===Fb||t instanceof Array&&e===Fb.filter?$b:e},Bb=rv("isConcatSpreadable"),jb=gb>=51||!yg(function(){var t=[];return t[Bb]=!1,t.concat()[0]!==t}),Hb=vb("concat"),zb=function(t){if(!Mg(t))return!1;var e=t[Bb];return void 0!==e?!!e:Pm(t)};em({target:"Array",proto:!0,forced:!jb||!Hb},{concat:function(t){var e,i,n,r,s,o=$m(this),a=Ov(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(zb(s=-1===e?o:arguments[e])){if(l+(r=lm(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&Tm(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Tm(a,l++,s)}return a.length=l,a}});var Wb=Xy("Array").concat,Vb=Array.prototype,Ub=function(t){var e=t.concat;return t===Vb||t instanceof Array&&e===Vb.concat?Wb:e};em({target:"Array",stat:!0},{isArray:Pm});var Yb=Gg.Array.isArray,Gb=Yb,qb=function(t,e,i,n){try{return n?e(Kg(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&Kg(r.call(t)),e}},Kb=rv("iterator"),Zb=Array.prototype,Qb=function(t){return void 0!==t&&(dy.Array===t||Zb[Kb]===t)},Xb=rv("iterator"),Jb=!1;try{var t_=0,e_={next:function(){return{done:!!t_++}},return:function(){Jb=!0}};e_[Xb]=function(){return this},Array.from(e_,function(){throw 2})}catch(up){}var i_=!function(t,e){if(!Jb)return!1;var i=!1;try{var n={};n[Xb]=function(){return{next:function(){return{done:i=!0}}}},function(t){Array.from(t)}(n)}catch(t){}return i}();em({target:"Array",stat:!0,forced:i_},{from:function(t){var e,i,n,r,s,o=$m(t),a="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,u=0,d=Fy(o);if(c&&(h=qg(h,l>2?arguments[2]:void 0,2)),null==d||a==Array&&Qb(d))for(i=new a(e=lm(o.length));e>u;u++)Tm(i,u,c?h(o[u],u):o[u]);else for(s=(r=d.call(o)).next,i=new a;!(n=s.call(r)).done;u++)Tm(i,u,c?qb(r,h,[n.value,u],!0):n.value);return i.length=u,i}});var n_=Gg.Array.from,r_=rv("iterator"),s_=rv("species"),o_=[].slice,a_=Math.max;em({target:"Array",proto:!0,forced:!vb("slice")},{slice:function(t,e){var i,n,r,s=Og(this),o=lm(s.length),a=um(t,o),l=um(void 0===e?o:e,o);if(Pm(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!Pm(i.prototype)?Mg(i)&&null===(i=i[s_])&&(i=void 0):i=void 0,i===Array||void 0===i))return o_.call(s,a,l);for(n=new(void 0===i?Array:i)(a_(l-a,0)),r=0;a<l;a++,r++)a in s&&Tm(n,r,s[a]);return n.length=r,n}});var l_=Xy("Array").slice,h_=Array.prototype,c_=function(t){var e=t.slice;return t===h_||t instanceof Array&&e===h_.slice?l_:e},u_=yg(function(){my(1)});em({target:"Object",stat:!0,forced:u_,sham:!fy},{getPrototypeOf:function(t){return my($m(t))}});var d_=Gg.Object.getPrototypeOf,f_=fm.indexOf,p_=[].indexOf,g_=!!p_&&1/[1].indexOf(1,-0)<0,m_=ib("indexOf");em({target:"Array",proto:!0,forced:g_||m_},{indexOf:function(t){return g_?p_.apply(this,arguments)||0:f_(this,t,arguments.length>1?arguments[1]:void 0)}});var v_=Xy("Array").indexOf,y_=Array.prototype,b_=function(t){var e=t.indexOf;return t===y_||t instanceof Array&&e===y_.indexOf?v_:e},__=Yb,w_=Object.assign,S_=Object.defineProperty,k_=!w_||yg(function(){if(bg&&1!==w_({b:1},w_(S_({},"a",{enumerable:!0,get:function(){S_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=w_({},t)[i]||"abcdefghijklmnopqrst"!=ym(w_({},e)).join("")})?function(t,e){for(var i=$m(t),n=arguments.length,r=1,s=Cm.f,o=Sg.f;n>r;)for(var a,l=Tg(arguments[r++]),h=s?ym(l).concat(s(l)):ym(l),c=h.length,u=0;c>u;)a=h[u++],bg&&!o.call(l,a)||(i[a]=l[a]);return i}:w_;em({target:"Object",stat:!0,forced:Object.assign!==k_},{assign:k_});var x_=Gg.Object.assign;av("iterator");var C_=sv.f("iterator");av("asyncIterator"),av("hasInstance"),av("isConcatSpreadable"),av("match"),av("matchAll"),av("replace"),av("search"),av("species"),av("split"),av("toPrimitive"),av("toStringTag"),av("unscopables"),mv(Math,"Math",!0),mv(vg.JSON,"JSON",!0);var E_=Gg.Symbol;av("asyncDispose"),av("dispose"),av("observable"),av("patternMatch"),av("replaceAll");for(var T_=E_,A_=gg(function(t){function e(i){return t.exports=e="function"==typeof T_&&"symbol"==typeof C_?function(t){return typeof t}:function(t){return t&&"function"==typeof T_&&t.constructor===T_&&t!==T_.prototype?"symbol":typeof t},e(i)}t.exports=e}),O_=[],M_=0;M_<256;M_++)O_[M_]=(M_+256).toString(16).substr(1);for(var R_=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=new Array(16);return function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}}(),D_=[],L_=0;L_<256;L_++)D_[L_]=(L_+256).toString(16).substr(1);function I_(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):void 0,t={});var r=t.random||(t.rng||R_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[n+s]=r[s];return e||function(t,e){var i=0;return O_[t[i++]]+O_[t[i++]]+O_[t[i++]]+O_[t[i++]]+"-"+O_[t[i++]]+O_[t[i++]]+"-"+O_[t[i++]]+O_[t[i++]]+"-"+O_[t[i++]]+O_[t[i++]]+"-"+O_[t[i++]]+O_[t[i++]]+O_[t[i++]]+O_[t[i++]]+O_[t[i++]]+O_[t[i++]]}(r)}function P_(t,e){var i=Vy(t);if(uy){var n=uy(t);e&&(n=Nb(n).call(n,function(e){return Dm(t,e).enumerable})),i.push.apply(i,n)}return i}R_();var $_=/^\/?Date\((-?\d+)/i,F_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,N_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,B_=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,j_=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function H_(t){return t instanceof Number||"number"==typeof t}function z_(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(z_(e),t.removeChild(e))}}function W_(t){return t instanceof String||"string"==typeof t}function V_(t){return"object"===A_(t)&&null!==t}function U_(t){if(t instanceof Date)return!0;if(W_(t)){if($_.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1}function Y_(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function G_(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t)if(void 0!==e[n])if(null===e[n]||"object"!==A_(e[n]))Y_(t,e,n,i);else{var r=t[n],s=e[n];V_(r)&&V_(s)&&G_(r,s,i)}}var q_=x_;function K_(t,e){if(!__(t))throw new Error("Array with property names expected as first argument");for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];for(var s=0,o=n;s<o.length;s++)for(var a=o[s],l=0;l<t.length;l++){var h=t[l];a&&Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e}function Z_(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(__(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(Object.prototype.hasOwnProperty.call(i,s))if(i[s]&&i[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?X_(e[s],i[s],!1,n):Y_(e,i,s,n);else{if(__(i[s]))throw new TypeError("Arrays are not supported by deepExtend");Y_(e,i,s,n)}}return e}function Q_(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(__(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&-1===b_(t).call(t,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?X_(e[r],i[r]):Y_(e,i,r,n);else if(__(i[r])){e[r]=[];for(var s=0;s<i[r].length;s++)e[r].push(i[r][s])}else Y_(e,i,r,n);return e}function X_(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===A_(e[r])&&null!==e[r]&&d_(e[r])===Object.prototype)void 0===t[r]?t[r]=X_({},e[r],i):"object"===A_(t[r])&&null!==t[r]&&d_(t[r])===Object.prototype?X_(t[r],e[r],i):Y_(t,e,r,n);else if(__(e[r])){var s;t[r]=c_(s=e[r]).call(s)}else Y_(t,e,r,n);return t}function J_(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0}function tw(t){var e=A_(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":__(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function ew(t,e){var i;return Ub(i=[]).call(i,function(t){return function(t){if(Gb(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(function(t){var e=Object(t);return void 0!==e[r_]||"@@iterator"in e||dy.hasOwnProperty(dv(e))}(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return n_(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t),[e])}function iw(t){return c_(t).call(t)}function nw(t){return t.getBoundingClientRect().left}function rw(t){return t.getBoundingClientRect().right}function sw(t){return t.getBoundingClientRect().top}function ow(t,e){var i=t.className.split(" "),n=e.split(" ");i=Ub(i).call(i,Nb(n).call(n,function(t){return b_(i).call(i,t)<0})),t.className=i.join(" ")}function aw(t,e){var i=t.className.split(" "),n=e.split(" ");i=Nb(i).call(i,function(t){return b_(n).call(n,t)<0}),t.className=i.join(" ")}function lw(t,e){if(__(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}var hw=Db;function cw(t,e,i){return t[e]!==i&&(t[e]=i,!0)}function uw(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}}function dw(t,e,i,n){var r;t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&b_(r=navigator.userAgent).call(r,"Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)}function fw(t,e,i,n){var r;t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&b_(r=navigator.userAgent).call(r,"Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)}function pw(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function gw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode)instanceof Element)?e:null}function mw(t,e){for(var i=t;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}return!1}var vw={asBoolean:function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},asNumber:function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},asString:function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},asSize:function(t,e){return"function"==typeof t&&(t=t()),W_(t)?t:H_(t)?t+"px":e||null},asElement:function(t,e){return"function"==typeof t&&(t=t()),t||e||null}};function yw(t){var e;switch(t.length){case 3:case 4:return(e=N_.exec(t))?{r:Ab(e[1]+e[1],16),g:Ab(e[2]+e[2],16),b:Ab(e[3]+e[3],16)}:null;case 6:case 7:return(e=F_.exec(t))?{r:Ab(e[1],16),g:Ab(e[2],16),b:Ab(e[3],16)}:null;default:return null}}function bw(t,e){if(-1!==b_(t).call(t,"rgba"))return t;if(-1!==b_(t).call(t,"rgb")){var i=t.substr(b_(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var n=yw(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function _w(t,e,i){var n;return"#"+c_(n=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(n,1)}function ww(t,e){if(W_(t)){var i=t;if(Rw(i)){var n,r=kb(n=i.substr(4).substr(0,i.length-5).split(",")).call(n,function(t){return Ab(t)});i=_w(r[0],r[1],r[2])}if(!0===Mw(i)){var s=Ow(i),o={h:s.h,s:.8*s.s,v:Math.min(1,1.02*s.v)},a={h:s.h,s:Math.min(1,1.25*s.s),v:.8*s.v},l=Aw(a.h,a.s,a.v),h=Aw(o.h,o.s,o.v);return{background:i,border:l,highlight:{background:h,border:l},hover:{background:h,border:l}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:W_(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:W_(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:W_(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:W_(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Sw(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),r=Math.max(t,Math.max(e,i));return n===r?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(r-n))/360,s:(r-n)/r,v:r}}var kw=function(t){var e,i={};return cb(e=t.split(";")).call(e,function(t){if(""!=eb(t).call(t)){var e,n,r=t.split(":"),s=eb(e=r[0]).call(e),o=eb(n=r[1]).call(n);i[s]=o}}),i},xw=function(t){var e;return kb(e=Vy(t)).call(e,function(e){return e+": "+t[e]}).join("; ")};function Cw(t,e){var i=function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)cb(i=P_(Object(n),!0)).call(i,function(e){Hy(t,e,n[e])});else if(Am)_m(t,Am(n));else{var r;cb(r=P_(Object(n))).call(r,function(e){nm(t,e,Dm(n,e))})}}return t}({},kw(t.style.cssText),{},kw(e));t.style.cssText=xw(i)}function Ew(t,e){var i=kw(t.style.cssText),n=kw(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&delete i[r];t.style.cssText=xw(i)}function Tw(t,e,i){var n,r,s,o=Math.floor(6*t),a=6*t-o,l=i*(1-e),h=i*(1-a*e),c=i*(1-(1-a)*e);switch(o%6){case 0:n=i,r=c,s=l;break;case 1:n=h,r=i,s=l;break;case 2:n=l,r=i,s=c;break;case 3:n=l,r=h,s=i;break;case 4:n=c,r=l,s=i;break;case 5:n=i,r=l,s=h}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*s)}}function Aw(t,e,i){var n=Tw(t,e,i);return _w(n.r,n.g,n.b)}function Ow(t){var e=yw(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Sw(e.r,e.g,e.b)}function Mw(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Rw(t){return B_.test(t)}function Dw(t){return j_.test(t)}function Lw(t,e){if(null!==e&&"object"===A_(e)){for(var i=By(e),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&"object"==A_(e[t[n]])&&(i[t[n]]=Iw(e[t[n]]));return i}return null}function Iw(t){if(null===t||"object"!==A_(t))return null;if(t instanceof Element)return t;var e=By(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==A_(t[i])&&(e[i]=Iw(t[i]));return e}function Pw(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=void 0;for(r=i;r>0&&e(n,t[r-1])<0;r--)t[r]=t[r-1];t[r]=n}return t}function $w(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},s=function(t){return null!==t&&"object"===A_(t)};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");var o=e[i],a=s(n)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,l=a?a.enabled:void 0;if(void 0!==o){if("boolean"==typeof o)return s(t[i])||(t[i]={}),void(t[i].enabled=o);if(null===o&&!s(t[i])){if(!r(a))return;t[i]=By(a)}if(s(o)){var h=!0;void 0!==o.enabled?h=o.enabled:void 0!==l&&(h=a.enabled),function(t,e,i){s(t[i])||(t[i]={});var n=e[i],r=t[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}(t,e,i),t[i].enabled=h}}}function Fw(t,e,i,n){for(var r=0,s=0,o=t.length-1;s<=o&&r<1e4;){var a=Math.floor((s+o)/2),l=t[a],h=e(void 0===n?l[i]:l[i][n]);if(0==h)return a;-1==h?s=a+1:o=a-1,r++}return-1}function Nw(t,e,i,n,r){var s,o,a,l,h=0,c=0,u=t.length-1;for(r=null!=r?r:function(t,e){return t==e?0:t<e?-1:1};c<=u&&h<1e4;){if(l=Math.floor(.5*(u+c)),s=t[Math.max(0,l-1)][i],o=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==r(o,e))return l;if(r(s,e)<0&&r(o,e)>0)return"before"==n?Math.max(0,l-1):l;if(r(o,e)<0&&r(a,e)>0)return"before"==n?l:Math.min(t.length-1,l+1);r(o,e)<0?c=l+1:u=l-1,h++}return-1}var Bw={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function jw(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n}function Hw(t,e){var i;__(e)||(e=[e]);var n=!0,r=!1,s=void 0;try{for(var o,a=function(t){var e=Fy(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return Kg(e.call(t))}(t);!(n=(o=a.next()).done);n=!0){var l=o.value;if(l){i=l[e[0]];for(var h=1;h<e.length;h++)i&&(i=i[e[h]]);if(void 0!==i)break}}}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}var zw=Object.freeze({__proto__:null,isNumber:H_,recursiveDOMDelete:z_,isString:W_,isObject:V_,isDate:U_,fillIfDefined:G_,extend:q_,selectiveExtend:K_,selectiveDeepExtend:Z_,selectiveNotDeepExtend:Q_,deepExtend:X_,equalArray:J_,getType:tw,copyAndExtendArray:ew,copyArray:iw,getAbsoluteLeft:nw,getAbsoluteRight:rw,getAbsoluteTop:sw,addClassName:ow,removeClassName:aw,forEach:lw,toArray:hw,updateProperty:cw,throttle:uw,addEventListener:dw,removeEventListener:fw,preventDefault:pw,getTarget:gw,hasParent:mw,option:vw,hexToRGB:yw,overrideOpacity:bw,RGBToHex:_w,parseColor:ww,RGBToHSV:Sw,addCssText:Cw,removeCssText:Ew,HSVToRGB:Tw,HSVToHex:Aw,hexToHSV:Ow,isValidHex:Mw,isValidRGB:Rw,isValidRGBA:Dw,selectiveBridgeObject:Lw,bridgeObject:Iw,insertSort:Pw,mergeOptions:$w,binarySearchCustom:Fw,binarySearchValue:Nw,easingFunctions:Bw,getScrollBarWidth:jw,topMost:Hw,randomUUID:I_}),Ww=Object.freeze({__proto__:null,default:zw,HSVToHex:Aw,HSVToRGB:Tw,RGBToHSV:Sw,RGBToHex:_w,addClassName:ow,addCssText:Cw,addEventListener:dw,binarySearchCustom:Fw,binarySearchValue:Nw,bridgeObject:Iw,copyAndExtendArray:ew,copyArray:iw,deepExtend:X_,easingFunctions:Bw,equalArray:J_,extend:q_,fillIfDefined:G_,forEach:lw,getAbsoluteLeft:nw,getAbsoluteRight:rw,getAbsoluteTop:sw,getScrollBarWidth:jw,getTarget:gw,getType:tw,hasParent:mw,hexToHSV:Ow,hexToRGB:yw,insertSort:Pw,isDate:U_,isNumber:H_,isObject:V_,isString:W_,isValidHex:Mw,isValidRGB:Rw,isValidRGBA:Dw,mergeOptions:$w,option:vw,overrideOpacity:bw,parseColor:ww,preventDefault:pw,randomUUID:I_,recursiveDOMDelete:z_,removeClassName:aw,removeCssText:Ew,removeEventListener:fw,selectiveBridgeObject:Lw,selectiveDeepExtend:Z_,selectiveExtend:K_,selectiveNotDeepExtend:Q_,throttle:uw,toArray:hw,topMost:Hw,updateProperty:cw}),Vw={},Uw=pp["__core-js_shared__"]||function(t,e){try{Zp(pp,t,e)}catch(dp){pp[t]=e}return e}("__core-js_shared__",{}),Yw=Function.toString;"function"!=typeof Uw.inspectSource&&(Uw.inspectSource=function(t){return Yw.call(t)});var Gw,qw,Kw,Zw=pp.WeakMap,Qw="function"==typeof Zw&&/native code/.test((0,Uw.inspectSource)(Zw)),Xw=dp(function(t){(t.exports=function(t,e){return Uw[t]||(Uw[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.3",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),Jw=0,tS=Math.random(),eS=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Jw+tS).toString(36)},iS=Xw("keys"),nS=function(t){return iS[t]||(iS[t]=eS(t))},rS={};if(Qw){var sS=new(0,pp.WeakMap),oS=sS.get,aS=sS.has,lS=sS.set;Gw=function(t,e){return lS.call(sS,t,e),e},qw=function(t){return oS.call(sS,t)||{}},Kw=function(t){return aS.call(sS,t)}}else{var hS=nS("state");rS[hS]=!0,Gw=function(t,e){return Zp(t,hS,e),e},qw=function(t){return Mp(t,hS)?t[hS]:{}},Kw=function(t){return Mp(t,hS)}}var cS,uS,dS,fS={set:Gw,get:qw,has:Kw,enforce:function(t){return Kw(t)?qw(t):Gw(t,{})},getterFor:function(t){return function(e){var i;if(!Tp(e)||(i=qw(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},pS=function(t){return Object(Cp(t))},gS=!gp(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),mS=nS("IE_PROTO"),vS=Object.prototype,yS=gS?Object.getPrototypeOf:function(t){return t=pS(t),Mp(t,mS)?t[mS]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vS:null},bS=!!Object.getOwnPropertySymbols&&!gp(function(){return!String(Symbol())}),_S=bS&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,wS=Xw("wks"),SS=pp.Symbol,kS=_S?SS:SS&&SS.withoutSetter||eS,xS=function(t){return Mp(wS,t)||(wS[t]=bS&&Mp(SS,t)?SS[t]:kS("Symbol."+t)),wS[t]},CS=(xS("iterator"),!1);[].keys&&("next"in(dS=[].keys())?(uS=yS(yS(dS)))!==Object.prototype&&(cS=uS):CS=!0),null==cS&&(cS={});var ES,TS={IteratorPrototype:cS,BUGGY_SAFARI_ITERATORS:CS},AS=Math.ceil,OS=Math.floor,MS=function(t){return isNaN(t=+t)?0:(t>0?OS:AS)(t)},RS=Math.min,DS=function(t){return t>0?RS(MS(t),9007199254740991):0},LS=Math.max,IS=Math.min,PS=function(t,e){var i=MS(t);return i<0?LS(i+e,0):IS(i,e)},$S=function(t){return function(e,i,n){var r,s=Ep(e),o=DS(s.length),a=PS(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},FS={includes:$S(!0),indexOf:$S(!1)},NS=FS.indexOf,BS=function(t,e){var i,n=Ep(t),r=0,s=[];for(i in n)!Mp(rS,i)&&Mp(n,i)&&s.push(i);for(;e.length>r;)Mp(n,i=e[r++])&&(~NS(s,i)||s.push(i));return s},jS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],HS=Object.keys||function(t){return BS(t,jS)},zS=mp?Object.defineProperties:function(t,e){Gp(t);for(var i,n=HS(e),r=n.length,s=0;r>s;)Kp.f(t,i=n[s++],e[i]);return t},WS=function(t){return"function"==typeof t?t:void 0},VS=function(t,e){return arguments.length<2?WS(Vp[t])||WS(pp[t]):Vp[t]&&Vp[t][e]||pp[t]&&pp[t][e]},US=VS("document","documentElement"),YS=nS("IE_PROTO"),GS=function(){},qS=function(t){return"<script>"+t+"<\/script>"},KS=function(){try{ES=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;KS=ES?function(t){t.write(qS("")),t.close();var e=t.parentWindow.Object;return t=null,e}(ES):((e=Lp("iframe")).style.display="none",US.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(qS("document.F=Object")),t.close(),t.F);for(var i=jS.length;i--;)delete KS.prototype[jS[i]];return KS()};rS[YS]=!0;var ZS=Object.create||function(t,e){var i;return null!==t?(GS.prototype=Gp(t),i=new GS,GS.prototype=null,i[YS]=t):i=KS(),void 0===e?i:zS(i,e)},QS={};QS[xS("toStringTag")]="z";var XS="[object z]"===String(QS),JS=xS("toStringTag"),tk="Arguments"==Sp(function(){return arguments}()),ek=XS?Sp:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),JS))?i:tk?Sp(e):"Object"==(n=Sp(e))&&"function"==typeof e.callee?"Arguments":n},ik=XS?{}.toString:function(){return"[object "+ek(this)+"]"},nk=Kp.f,rk=xS("toStringTag"),sk=function(t,e,i,n){if(t){var r=i?t:t.prototype;Mp(r,rk)||nk(r,rk,{configurable:!0,value:e}),n&&!XS&&Zp(r,"toString",ik)}},ok=TS.IteratorPrototype,ak=function(){return this},lk=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return Gp(i),function(t){if(!Tp(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),hk=function(t,e,i,n){n&&n.enumerable?t[e]=i:Zp(t,e,i)},ck=TS.IteratorPrototype,uk=TS.BUGGY_SAFARI_ITERATORS,dk=xS("iterator"),fk=function(){return this},pk=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=ZS(ok,{next:_p(1,i)}),sk(t,n,!1,!0),Vw[n]=ak}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!uk&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[dk]||f["@@iterator"]||r&&f[r],g=!uk&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=yS(m.call(new t)),ck!==Object.prototype&&a.next&&(sk(a,u,!0,!0),Vw[u]=fk)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[dk]!==g&&Zp(f,dk,g),Vw[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!uk&&!d&&h in f||hk(f,h,l[h]);else Jp({target:e,proto:!0,forced:uk||d},l);return l},gk=fS.set,mk=fS.getterFor("Array Iterator");pk(Array,"Array",function(t,e){gk(this,{type:"Array Iterator",target:Ep(t),index:0,kind:e})},function(){var t=mk(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),Vw.Arguments=Vw.Array;var vk=xS("toStringTag");for(var yk in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var bk=pp[yk],_k=bk&&bk.prototype;_k&&ek(_k)!==vk&&Zp(_k,vk,yk),Vw[yk]=Vw.Array}var wk=Array.isArray||function(t){return"Array"==Sp(t)},Sk=xS("species"),kk=function(t,e){var i;return wk(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!wk(i.prototype)?Tp(i)&&null===(i=i[Sk])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},xk=[].push,Ck=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=pS(a),p=xp(f),g=Yp(l,h,3),m=DS(p.length),v=0,y=c||kk,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:xk.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},Ek={forEach:Ck(0),map:Ck(1),filter:Ck(2),some:Ck(3),every:Ck(4),find:Ck(5),findIndex:Ck(6)},Tk=function(t,e){var i=[][t];return!!i&&gp(function(){i.call(null,e||function(){throw 1},1)})},Ak=Object.defineProperty,Ok=function(t){throw t},Mk=function(t,e){e||(e={});var i=[][t],n=!!Mp(e,"ACCESSORS")&&e.ACCESSORS,r=Mp(e,0)?e[0]:Ok,s=Mp(e,1)?e[1]:void 0;return!!i&&!gp(function(){if(n&&!mp)return!0;var t={length:-1},e=function(e){n?Ak(t,e,{enumerable:!0,get:Ok}):t[e]=1};e(1),e(2147483646),e(4294967294),i.call(t,r,s)})},Rk=Ek.forEach,Dk=Tk("forEach"),Lk=Mk("forEach"),Ik=Dk&&Lk?[].forEach:function(t){return Rk(this,t,arguments.length>1?arguments[1]:void 0)};Jp({target:"Array",proto:!0,forced:[].forEach!=Ik},{forEach:Ik});var Pk=ng("Array").forEach,$k=Array.prototype,Fk={DOMTokenList:!0,NodeList:!0},Nk=function(t){var e=t.forEach;return t===$k||t instanceof Array&&e===$k.forEach||Fk.hasOwnProperty(ek(t))?Pk:e};Jp({target:"Array",stat:!0},{isArray:wk});var Bk,jk,Hk=Vp.Array.isArray,zk=Hk,Wk=function(t,e,i){var n=Ap(e);n in t?Kp.f(t,n,_p(0,i)):t[n]=i},Vk=VS("navigator","userAgent")||"",Uk=pp.process,Yk=Uk&&Uk.versions,Gk=Yk&&Yk.v8;Gk?jk=(Bk=Gk.split("."))[0]+Bk[1]:Vk&&(!(Bk=Vk.match(/Edge\/(\d+)/))||Bk[1]>=74)&&(Bk=Vk.match(/Chrome\/(\d+)/))&&(jk=Bk[1]);var qk=jk&&+jk,Kk=xS("species"),Zk=function(t){return qk>=51||!gp(function(){var e=[];return(e.constructor={})[Kk]=function(){return{foo:1}},1!==e[t](Boolean).foo})},Qk=Zk("splice"),Xk=Mk("splice",{ACCESSORS:!0,0:0,1:2}),Jk=Math.max,tx=Math.min;Jp({target:"Array",proto:!0,forced:!Qk||!Xk},{splice:function(t,e){var i,n,r,s,o,a,l=pS(this),h=DS(l.length),c=PS(t,h),u=arguments.length;if(0===u?i=n=0:1===u?(i=0,n=h-c):(i=u-2,n=tx(Jk(MS(e),0),h-c)),h+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=kk(l,n),s=0;s<n;s++)(o=c+s)in l&&Wk(r,s,l[o]);if(r.length=n,i<n){for(s=c;s<h-n;s++)a=s+i,(o=s+n)in l?l[a]=l[o]:delete l[a];for(s=h;s>h-n+i;s--)delete l[s-1]}else if(i>n)for(s=h-n;s>c;s--)a=s+i-1,(o=s+n-1)in l?l[a]=l[o]:delete l[a];for(s=0;s<i;s++)l[s+c]=arguments[s+2];return l.length=h-n+i,r}});var ex=ng("Array").splice,ix=Array.prototype,nx=function(t){var e=t.splice;return t===ix||t instanceof Array&&e===ix.splice?ex:e},rx=FS.includes,sx=Mk("indexOf",{ACCESSORS:!0,1:0});Jp({target:"Array",proto:!0,forced:!sx},{includes:function(t){return rx(this,t,arguments.length>1?arguments[1]:void 0)}});var ox=ng("Array").includes,ax=xS("match"),lx=function(t){if(function(t){var e;return Tp(t)&&(void 0!==(e=t[ax])?!!e:"RegExp"==Sp(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},hx=xS("match");Jp({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(dp){try{return e[hx]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(Cp(this)).indexOf(lx(t),arguments.length>1?arguments[1]:void 0)}});var cx=ng("String").includes,ux=Array.prototype,dx=String.prototype,fx=function(t){var e=t.includes;return t===ux||t instanceof Array&&e===ux.includes?ox:"string"==typeof t||t===dx||t instanceof String&&e===dx.includes?cx:e},px=FS.indexOf,gx=[].indexOf,mx=!!gx&&1/[1].indexOf(1,-0)<0,vx=Tk("indexOf"),yx=Mk("indexOf",{ACCESSORS:!0,1:0});Jp({target:"Array",proto:!0,forced:mx||!vx||!yx},{indexOf:function(t){return mx?gx.apply(this,arguments)||0:px(this,t,arguments.length>1?arguments[1]:void 0)}});var bx=ng("Array").indexOf,_x=Array.prototype,wx=function(t){var e=t.indexOf;return t===_x||t instanceof Array&&e===_x.indexOf?bx:e};Jp({target:"Object",stat:!0,sham:!mp},{create:ZS});var Sx=Vp.Object,kx=function(t,e){return Sx.create(t,e)},xx=kx;function Cx(t){return Mx=t,function(){var t={};if(Rx=0,Dx=Mx.charAt(0),Vx(),"strict"===Lx&&(t.strict=!0,Vx()),"graph"!==Lx&&"digraph"!==Lx||(t.type=Lx,Vx()),Ix===Ax.IDENTIFIER&&(t.id=Lx,Vx()),"{"!=Lx)throw Zx("Angle bracket { expected");if(Vx(),Ux(t),"}"!=Lx)throw Zx("Angle bracket } expected");if(Vx(),""!==Lx)throw Zx("End of file expected");return Vx(),delete t.node,delete t.edge,delete t.graph,t}()}var Ex={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Tx=xx(Ex);Tx.color="color.color",Tx.style="dashes";var Ax={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Ox={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Mx="",Rx=0,Dx="",Lx="",Ix=Ax.NULL;function Px(){Rx++,Dx=Mx.charAt(Rx)}function $x(){return Mx.charAt(Rx+1)}var Fx=/[a-zA-Z_0-9.:#]/;function Nx(t){return Fx.test(t)}function Bx(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function jx(t,e,i){for(var n=e.split("."),r=t;n.length;){var s=n.shift();n.length?(r[s]||(r[s]={}),r=r[s]):r[s]=i}}function Hx(t,e){for(var i,n,r=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes)for(i=0,n=o.nodes.length;i<n;i++)if(e.id===o.nodes[i].id){r=o.nodes[i];break}for(r||(r={id:e.id},t.node&&(r.attr=Bx(r.attr,t.node))),i=s.length-1;i>=0;i--){var a,l=s[i];l.nodes||(l.nodes=[]),-1===wx(a=l.nodes).call(a,r)&&l.nodes.push(r)}e.attr&&(r.attr=Bx(r.attr,e.attr))}function zx(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=Bx({},t.edge);e.attr=Bx(i,e.attr)}}function Wx(t,e,i,n,r){var s={from:e,to:i,type:n};return t.edge&&(s.attr=Bx({},t.edge)),s.attr=Bx(s.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(s.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),s}function Vx(){for(Ix=Ax.NULL,Lx="";" "===Dx||"\t"===Dx||"\n"===Dx||"\r"===Dx;)Px();do{var t=!1;if("#"===Dx){for(var e=Rx-1;" "===Mx.charAt(e)||"\t"===Mx.charAt(e);)e--;if("\n"===Mx.charAt(e)||""===Mx.charAt(e)){for(;""!=Dx&&"\n"!=Dx;)Px();t=!0}}if("/"===Dx&&"/"===$x()){for(;""!=Dx&&"\n"!=Dx;)Px();t=!0}if("/"===Dx&&"*"===$x()){for(;""!=Dx;){if("*"===Dx&&"/"===$x()){Px(),Px();break}Px()}t=!0}for(;" "===Dx||"\t"===Dx||"\n"===Dx||"\r"===Dx;)Px()}while(t);if(""!==Dx){var i=Dx+$x();if(Ox[i])return Ix=Ax.DELIMITER,Lx=i,Px(),void Px();if(Ox[Dx])return Ix=Ax.DELIMITER,Lx=Dx,void Px();if(Nx(Dx)||"-"===Dx){for(Lx+=Dx,Px();Nx(Dx);)Lx+=Dx,Px();return"false"===Lx?Lx=!1:"true"===Lx?Lx=!0:isNaN(Number(Lx))||(Lx=Number(Lx)),void(Ix=Ax.IDENTIFIER)}if('"'===Dx){for(Px();""!=Dx&&('"'!=Dx||'"'===Dx&&'"'===$x());)'"'===Dx?(Lx+=Dx,Px()):"\\"===Dx&&"n"===$x()?(Lx+="\n",Px()):Lx+=Dx,Px();if('"'!=Dx)throw Zx('End of string " expected');return Px(),void(Ix=Ax.IDENTIFIER)}for(Ix=Ax.UNKNOWN;""!=Dx;)Lx+=Dx,Px();throw new SyntaxError('Syntax error in part "'+Qx(Lx,30)+'"')}Ix=Ax.DELIMITER}function Ux(t){for(;""!==Lx&&"}"!=Lx;)Yx(t),";"===Lx&&Vx()}function Yx(t){var e=Gx(t);if(e)qx(t,e);else if(!function(t){return"node"===Lx?(Vx(),t.node=Kx(),"node"):"edge"===Lx?(Vx(),t.edge=Kx(),"edge"):"graph"===Lx?(Vx(),t.graph=Kx(),"graph"):null}(t)){if(Ix!=Ax.IDENTIFIER)throw Zx("Identifier expected");var i=Lx;if(Vx(),"="===Lx){if(Vx(),Ix!=Ax.IDENTIFIER)throw Zx("Identifier expected");t[i]=Lx,Vx()}else!function(t,e){var i={id:e},n=Kx();n&&(i.attr=n),Hx(t,i),qx(t,e)}(t,i)}}function Gx(t){var e=null;if("subgraph"===Lx&&((e={}).type="subgraph",Vx(),Ix===Ax.IDENTIFIER&&(e.id=Lx,Vx())),"{"===Lx){if(Vx(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,Ux(e),"}"!=Lx)throw Zx("Angle bracket } expected");Vx(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function qx(t,e){for(;"->"===Lx||"--"===Lx;){var i,n=Lx;Vx();var r=Gx(t);if(r)i=r;else{if(Ix!=Ax.IDENTIFIER)throw Zx("Identifier or subgraph expected");Hx(t,{id:i=Lx}),Vx()}zx(t,Wx(t,e,i,n,Kx())),e=i}}function Kx(){for(var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},s=new Array,o=new Array;"["===Lx;){for(Vx(),i={};""!==Lx&&"]"!=Lx;){if(Ix!=Ax.IDENTIFIER)throw Zx("Attribute name expected");var a=Lx;if(Vx(),"="!=Lx)throw Zx("Equal sign = expected");if(Vx(),Ix!=Ax.IDENTIFIER)throw Zx("Attribute value expected");var l=Lx;"style"===a&&(l=n[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),s.push({attr:i,name:a,value:l}),o.push(a),Vx(),","==Lx&&Vx()}if("]"!=Lx)throw Zx("Bracket ] expected");Vx()}if(fx(o).call(o,"dir")){var h={arrows:{}};for(t=0;t<s.length;t++)if("arrows"===s[t].name)if(null!=s[t].value.to)h.arrows.to=t;else{if(null==s[t].value.from)throw Zx("Invalid value of arrows");h.arrows.from=t}else"dir"===s[t].name&&(h.dir=t);var c,u,d=s[h.dir].value;if(!fx(o).call(o,"arrows"))if("both"===d)s.push({attr:s[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=s.length-1,s.push({attr:s[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=s.length-1;else if("forward"===d)s.push({attr:s[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=s.length-1;else if("back"===d)s.push({attr:s[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=s.length-1;else{if("none"!==d)throw Zx('Invalid dir type "'+d+'"');s.push({attr:s[h.dir].attr,name:"arrows",value:""}),h.arrows.to=s.length-1}if("both"===d)h.arrows.to&&h.arrows.from?(s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u=s[h.arrows.to].value.to.type},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}},nx(s).call(s,h.arrows.from,1)):h.arrows.to?s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u=s[h.arrows.to].value.to.type},from:{enabled:!0,type:c="arrow"}}}:h.arrows.from&&(s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u="arrow"},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}});else if("back"===d)h.arrows.to&&h.arrows.from?s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u=""},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}}:h.arrows.to?(u="",c="arrow",h.arrows.from=h.arrows.to,s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}):h.arrows.from&&(s[h.arrows.to]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u=""},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}}),s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{from:{enabled:!0,type:s[h.arrows.from].value.from.type}}};else if("none"===d){var f;s[f=h.arrows.to?h.arrows.to:h.arrows.from]={attr:s[f].attr,name:s[f].name,value:""}}else{if("forward"!==d)throw Zx('Invalid dir type "'+d+'"');h.arrows.to&&h.arrows.from||h.arrows.to?s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u=s[h.arrows.to].value.to.type},from:{enabled:!0,type:c=""}}}:h.arrows.from&&(u="arrow",c="",h.arrows.to=h.arrows.from,s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}),s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:s[h.arrows.to].value.to.type}}}}nx(s).call(s,h.dir,1)}if(fx(o).call(o,"penwidth")){var p=[];for(e=s.length,t=0;t<e;t++)"width"!==s[t].name&&("penwidth"===s[t].name&&(s[t].name="width"),p.push(s[t]));s=p}for(e=s.length,t=0;t<e;t++)jx(s[t].attr,s[t].name,s[t].value);return i}function Zx(t){return new SyntaxError(t+', got "'+Qx(Lx,30)+'" (char '+Rx+")")}function Qx(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Xx(t,e,i){for(var n=e.split("."),r=n.pop(),s=t,o=0;o<n.length;o++){var a=n[o];a in s||(s[a]={}),s=s[a]}return s[r]=i,t}function Jx(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];zk(r)?Nk(r).call(r,function(e){Xx(i,e,t[n])}):Xx(i,"string"==typeof r?r:n,t[n])}return i}var tC=function(t){var e,i=Cx(t),n={nodes:[],edges:[],options:{}};if(i.nodes&&Nk(e=i.nodes).call(e,function(t){var e={id:t.id,label:String(t.label||t.id)};Bx(e,Jx(t.attr,Ex)),e.image&&(e.shape="image"),n.nodes.push(e)}),i.edges){var r,s=function(t){var e={from:t.from,to:t.to};return Bx(e,Jx(t.attr,Tx)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Nk(r=i.edges).call(r,function(t){var e,i,r,o,a,l,h;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&Nk(r=t.from.edges).call(r,function(t){var e=s(t);n.edges.push(e)}),a=i,l=function(e,i){var r=Wx(n,e.id,i.id,t.type,t.attr),o=s(r);n.edges.push(o)},zk(o=e)?Nk(o).call(o,function(t){zk(a)?Nk(a).call(a,function(e){l(t,e)}):l(t,a)}):zk(a)?Nk(a).call(a,function(t){l(o,t)}):l(o,a),t.to instanceof Object&&t.to.edges&&Nk(h=t.to.edges).call(h,function(t){var e=s(t);n.edges.push(e)})})}return i.attr&&(n.options=i.attr),n},eC={parseDOT:Cx,DOTToGraph:tC},iC=Object.freeze({__proto__:null,default:eC,__moduleExports:eC,parseDOT:Cx,DOTToGraph:tC}),nC=Ek.map,rC=Zk("map"),sC=Mk("map");Jp({target:"Array",proto:!0,forced:!rC||!sC},{map:function(t){return nC(this,t,arguments.length>1?arguments[1]:void 0)}});var oC=ng("Array").map,aC=Array.prototype,lC=function(t){var e=t.map;return t===aC||t instanceof Array&&e===aC.map?oC:e};function hC(t,e){var i,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));var r=t.edges,s=lC(r).call(r,function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e});return{nodes:lC(i=t.nodes).call(i,function(t){var e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(e.color=!0===n.nodes.parseColor?t.color:{background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e}),edges:s}}var cC=Object.freeze({__proto__:null,parseGephi:hC}),uC=(Object.freeze({__proto__:null,default:void 0}),dp(function(t,e){t.exports=function(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,r={},s={keydown:{},keyup:{}},o={};for(e=97;e<=122;e++)o[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)o[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)o[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)o["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)o["num"+e]={code:96+e,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==s[e][t.keyCode]){for(var n=s[e][t.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==t.shiftKey||0==n[r].shift&&0==t.shiftKey)&&n[r].fn(t);1==i&&t.preventDefault()}};return r.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===o[t])throw new Error("unsupported key: "+t);void 0===s[i][o[t].code]&&(s[i][o[t].code]=[]),s[i][o[t].code].push({fn:e,shift:o[t].shift})},r.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),o)o.hasOwnProperty(i)&&r.bind(i,t,e)},r.getKey=function(t){for(var e in o)if(o.hasOwnProperty(e)){if(1==t.shiftKey&&1==o[e].shift&&t.keyCode==o[e].code)return e;if(0==t.shiftKey&&0==o[e].shift&&t.keyCode==o[e].code)return e;if(t.keyCode==o[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===o[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],r=s[i][o[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==o[t].shift||n.push(s[i][o[t].code][a]);s[i][o[t].code]=n}else s[i][o[t].code]=[]},r.reset=function(){s={keydown:{},keyup:{}}},r.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),r}})),dC=Object.freeze({__proto__:null,default:uC,__moduleExports:uC});function fC(){return(fC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function pC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function gC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var mC,vC="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign,yC=["","webkit","Moz","MS","ms","o"],bC="undefined"==typeof document?{style:{}}:document.createElement("div"),_C=Math.round,wC=Math.abs,SC=Date.now;function kC(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),s=0;s<yC.length;){if((n=(i=yC[s])?i+r:e)in t)return n;s++}}mC="undefined"==typeof window?{}:window;var xC=kC(bC.style,"touchAction"),CC=void 0!==xC,EC="manipulation",TC="none",AC="pan-x",OC="pan-y",MC=function(){if(!CC)return!1;var t={},e=mC.CSS&&mC.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||mC.CSS.supports("touch-action",i)}),t}(),RC="ontouchstart"in mC,DC=void 0!==kC(mC,"PointerEvent"),LC=RC&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),IC="touch",PC="mouse",$C=["x","y"],FC=["clientX","clientY"];function NC(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function BC(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function jC(t,e){return t.indexOf(e)>-1}var HC=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){"compute"===t&&(t=this.compute()),CC&&this.manager.element.style&&MC[t]&&(this.manager.element.style[xC]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return NC(this.manager.recognizers,function(e){BC(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(jC(t,TC))return TC;var e=jC(t,AC),i=jC(t,OC);return e&&i?TC:e||i?e?AC:OC:jC(t,EC)?EC:"auto"}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=jC(n,TC)&&!MC[TC],s=jC(n,OC)&&!MC[OC],o=jC(n,AC)&&!MC[AC];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!s)return r||s&&6&i||o&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function zC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function WC(t){var e=t.length;if(1===e)return{x:_C(t[0].clientX),y:_C(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:_C(i/e),y:_C(n/e)}}function VC(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:_C(t.pointers[i].clientX),clientY:_C(t.pointers[i].clientY)},i++;return{timeStamp:SC(),pointers:e,center:WC(e),deltaX:t.deltaX,deltaY:t.deltaY}}function UC(t,e,i){i||(i=$C);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function YC(t,e,i){return i||(i=$C),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function GC(t,e){return t===e?1:wC(t)>=wC(e)?t<0?2:4:e<0?8:16}function qC(t,e,i){return{x:e/t||0,y:i/t||0}}function KC(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=1&e&&n-r==0,o=12&e&&n-r==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=VC(e)),r>1&&!i.firstMultiple?i.firstMultiple=VC(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,l=e.center=WC(n);e.timeStamp=SC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=YC(a,l),e.distance=UC(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=GC(e.deltaX,e.deltaY);var h,c,u=qC(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=wC(u.x)>wC(u.y)?u.x:u.y,e.scale=o?(h=o.pointers,UC((c=n)[0],c[1],FC)/UC(h[0],h[1],FC)):1,e.rotation=o?function(t,e){return YC(e[1],e[0],FC)+YC(t[1],t[0],FC)}(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!==e.eventType&&(a>25||void 0===o.velocity)){var l=e.deltaX-o.deltaX,h=e.deltaY-o.deltaY,c=qC(a,l,h);n=c.x,r=c.y,i=wC(c.x)>wC(c.y)?c.x:c.y,s=GC(l,h),t.lastInterval=e}else i=o.velocity,n=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=s}(i,e);var d,f=t.element,p=e.srcEvent;zC(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ZC(t){return t.trim().split(/\s+/g)}function QC(t,e,i){NC(ZC(e),function(e){t.addEventListener(e,i,!1)})}function XC(t,e,i){NC(ZC(e),function(e){t.removeEventListener(e,i,!1)})}function JC(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var tE=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){BC(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&QC(this.element,this.evEl,this.domHandler),this.evTarget&&QC(this.target,this.evTarget,this.domHandler),this.evWin&&QC(JC(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&XC(this.element,this.evEl,this.domHandler),this.evTarget&&XC(this.target,this.evTarget,this.domHandler),this.evWin&&XC(JC(this.element),this.evWin,this.domHandler)},t}();function eE(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var iE={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nE={2:IC,3:"pen",4:PC,5:"kinect"},rE="pointerdown",sE="pointermove pointerup pointercancel";mC.MSPointerEvent&&!mC.PointerEvent&&(rE="MSPointerDown",sE="MSPointerMove MSPointerUp MSPointerCancel");var oE=function(t){function e(){var i,n=e.prototype;return n.evEl=rE,n.evWin=sE,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return pC(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=iE[n],s=nE[t.pointerType]||t.pointerType,o=s===IC,a=eE(e,t.pointerId,"pointerId");1&r&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&r&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))},e}(tE);function aE(t){return Array.prototype.slice.call(t,0)}function lE(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];eE(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}var hE={touchstart:1,touchmove:2,touchend:4,touchcancel:8},cE="touchstart touchmove touchend touchcancel",uE=function(t){function e(){var i;return e.prototype.evTarget=cE,(i=t.apply(this,arguments)||this).targetIds={},i}return pC(e,t),e.prototype.handler=function(t){var e=hE[t.type],i=dE.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:IC,srcEvent:t})},e}(tE);function dE(t,e){var i,n,r=aE(t.touches),s=this.targetIds;if(3&e&&1===r.length)return s[r[0].identifier]=!0,[r,r];var o=aE(t.changedTouches),a=[],l=this.target;if(n=r.filter(function(t){return zC(t.target,l)}),1===e)for(i=0;i<n.length;)s[n[i].identifier]=!0,i++;for(i=0;i<o.length;)s[o[i].identifier]&&a.push(o[i]),12&e&&delete s[o[i].identifier],i++;return a.length?[lE(n.concat(a),"identifier",!0),a]:void 0}var fE={mousedown:1,mousemove:2,mouseup:4},pE="mousedown",gE="mousemove mouseup",mE=function(t){function e(){var i,n=e.prototype;return n.evEl=pE,n.evWin=gE,(i=t.apply(this,arguments)||this).pressed=!1,i}return pC(e,t),e.prototype.handler=function(t){var e=fE[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:PC,srcEvent:t}))},e}(tE);function vE(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},2500)}}function yE(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,vE.call(this,e)):12&t&&vE.call(this,e)}function bE(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(s<=25&&o<=25)return!0}return!1}var _E=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===PC;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(i.pointerType===IC)yE.call(gC(gC(n)),e,i);else if(r&&bE.call(gC(gC(n)),i))return;n.callback(t,e,i)}},n.touch=new uE(n.manager,n.handler),n.mouse=new mE(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return pC(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(tE);function wE(t,e,i){return!!Array.isArray(t)&&(NC(t,i[e],i),!0)}var SE=1;function kE(t,e){var i=e.manager;return i?i.get(t):t}function xE(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var CE=function(){function t(t){void 0===t&&(t={}),this.options=fC({enable:!0},t),this.id=SE++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return vC(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(wE(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=kE(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return wE(t,"dropRecognizeWith",this)||(t=kE(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(wE(t,"requireFailure",this))return this;var e=this.requireFail;return-1===eE(e,t=kE(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(wE(t,"dropRequireFailure",this))return this;t=kE(t,this);var e=eE(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+xE(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+xE(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=vC({},t);if(!BC(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),EE=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,fC({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}pC(e,t);var i=e.prototype;return i.getTouchAction=function(){return[EC]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,s=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&s&&n){if(4!==t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||UC(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(CE),TE=function(t){function e(e){return void 0===e&&(e={}),t.call(this,fC({pointers:1},e))||this}pC(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:32},e}(CE);function AE(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var OE=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,fC({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}pC(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(OC),24&t&&e.push(AC),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(6&e.direction?(r=0===s?1:s<0?2:4,i=s!==this.pX,n=Math.abs(t.deltaX)):(r=0===o?1:o<0?8:16,i=o!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return TE.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=AE(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(TE),ME=function(t){function e(e){return void 0===e&&(e={}),t.call(this,fC({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}pC(e,t);var i=e.prototype;return i.getTouchAction=function(){return OE.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return 30&n?i=e.overallVelocity:6&n?i=e.overallVelocityX:24&n&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&wC(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=AE(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(TE),RE=function(t){function e(e){return void 0===e&&(e={}),t.call(this,fC({event:"pinch",threshold:0,pointers:2},e))||this}pC(e,t);var i=e.prototype;return i.getTouchAction=function(){return[TC]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),t.prototype.emit.call(this,e)},e}(TE),DE=function(t){function e(e){return void 0===e&&(e={}),t.call(this,fC({event:"rotate",threshold:0,pointers:2},e))||this}pC(e,t);var i=e.prototype;return i.getTouchAction=function(){return[TC]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(TE),LE=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,fC({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}pC(e,t);var i=e.prototype;return i.getTouchAction=function(){return["auto"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,s=t.deltaTime>i.time;if(this._input=t,!r||!n||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(4&t.eventType)return 8;return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=SC(),this.manager.emit(this.options.event,this._input)))},e}(CE),IE={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},PE=[[DE,{enable:!1}],[RE,{enable:!1},["rotate"]],[ME,{direction:6}],[OE,{direction:6},["swipe"]],[EE],[EE,{event:"doubletap",taps:2},["tap"]],[LE]];function $E(t,e){var i,n=t.element;n.style&&(NC(t.options.cssProps,function(r,s){i=kC(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var FE=function(){function t(t,e){var i=this;this.options=vC({},IE,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(DC?oE:LC?uE:RC?_E:mE))(this,KC),this.touchAction=new HC(this,this.options.touchAction),$E(this,!0),NC(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return vC(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(e.curRecognizer=i,r=i),s++}},e.get=function(t){if(t instanceof CE)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(wE(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(wE(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=eE(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return NC(ZC(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return NC(ZC(t),function(t){e?i[t]&&i[t].splice(eE(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&$E(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),NE={touchstart:1,touchmove:2,touchend:4,touchcancel:8},BE="touchstart",jE="touchstart touchmove touchend touchcancel",HE=function(t){function e(){var i,n=e.prototype;return n.evTarget=BE,n.evWin=jE,(i=t.apply(this,arguments)||this).started=!1,i}return pC(e,t),e.prototype.handler=function(t){var e=NE[t.type];if(1===e&&(this.started=!0),this.started){var i=zE.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:IC,srcEvent:t})}},e}(tE);function zE(t,e){var i=aE(t.touches),n=aE(t.changedTouches);return 12&e&&(i=lE(i.concat(n),"identifier",!0)),[i,n]}function WE(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,i),t.apply(this,arguments)}}var VE=WE(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),UE=WE(function(t,e){return VE(t,e,!0)},"merge","Use `assign`.");function YE(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&vC(n,i)}function GE(t,e){return function(){return t.apply(e,arguments)}}var qE=function(){var t=function(t,e){return void 0===e&&(e={}),new FE(t,fC({recognizers:PE.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=FE,t.Input=tE,t.TouchAction=HC,t.TouchInput=uE,t.MouseInput=mE,t.PointerEventInput=oE,t.TouchMouseInput=_E,t.SingleTouchInput=HE,t.Recognizer=CE,t.AttrRecognizer=TE,t.Tap=EE,t.Pan=OE,t.Swipe=ME,t.Pinch=RE,t.Rotate=DE,t.Press=LE,t.on=QC,t.off=XC,t.each=NC,t.merge=UE,t.extend=VE,t.bindFn=GE,t.assign=vC,t.inherit=YE,t.bindFn=GE,t.prefixed=kC,t.toArray=aE,t.inArray=eE,t.uniqueArray=lE,t.splitStr=ZC,t.boolOrFn=BC,t.hasParent=zC,t.addEventListeners=QC,t.removeEventListeners=XC,t.defaults=vC({},IE,{preset:PE}),t}(),KE=dp(function(t){if("undefined"!=typeof window){var e=window.Hammer||qE;t.exports=e}else t.exports=function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(e){return{set:t}}};var t}}),ZE=Object.freeze({__proto__:null,default:KE,__moduleExports:KE});function QE(t){var e,i,n=this;this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=KE(this.dom.overlay),this.hammer.on("tap",og(e=this._onTapOverlay).call(e,this));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Nk(r).call(r,function(t){n.hammer.on(t,function(t){t.srcEvent.stopPropagation()})}),document&&document.body&&(this.onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=uC(),this.escListener=og(i=this.deactivate).call(i,this)}fg(QE.prototype),QE.current=null,QE.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},QE.prototype.activate=function(){var t;QE.current&&QE.current.deactivate(),QE.current=this,this.active=!0,this.dom.overlay.style.display="none",zw.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),og(t=this.keycharm).call(t,"esc",this.escListener)},QE.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="block",zw.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},QE.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var XE=QE,JE=dp(function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"Atr\xe1s",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},e.ru_RU=e.ru,e.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},e.zh_CN=e.cn,e.uk={edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f."},e.uk_UA=e.uk,e.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas \xeatre \xe9ffac\xe9s.",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dites."},e.fr_FR=e.fr,e.cs={edit:"Upravit",del:"Smazat v\xfdb\u011br",back:"Zp\u011bt",addNode:"P\u0159idat vrchol",addEdge:"P\u0159idat hranu",editNode:"Upravit vrchol",editEdge:"Upravit hranu",addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",deleteClusterError:"Nelze mazat shluky.",editClusterError:"Nelze upravovat shluky."},e.cs_CZ=e.cs}),tT=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Jp({target:"Object",stat:!0,forced:!mp,sham:!mp},{defineProperty:Kp.f});var eT=dp(function(t){var e=Vp.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)}),iT=eT;function nT(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),iT(t,n.key,n)}}var rT=function(t,e,i){return e&&nT(t.prototype,e),i&&nT(t,i),t},sT=function(){function t(){tT(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return rT(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),r=Math.floor(e/8),s=Math.floor(e/16),o=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,o,i],[o,0,a,n],[o,n,l,r],[5*l,n,h,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],r=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,r,s){if(this.initialized())if(e>2){e*=.5;for(var o=0;e>2&&o<this.NUM_ITERATIONS;)e*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);var a=this.coordinates[o];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,r,s)}else t.drawImage(this.image,i,n,r,s)}}]),t}(),oT=function(){function t(e){tT(this,t),this.images={},this.imageBroken={},this.callback=e}return rT(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var r=new sT;return this.images[t]=r,r.image.onload=function(){i._fixImageCoordinates(r.image),r.init(),i._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),aT=function(){function t(){tT(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},q_(this.options,this.defaultOptions)}return rT(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)t.hasOwnProperty(i)&&-1===wx(e).call(e,i)&&this.add(i,t[i])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[r],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}(),lT=[].slice,hT=/MSIE .\./.test(Vk),cT=function(t){return function(e,i){var n=arguments.length>2,r=n?lT.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};Jp({global:!0,bind:!0,forced:hT},{setTimeout:cT(pp.setTimeout),setInterval:cT(pp.setInterval)});var uT=Vp.setTimeout,dT=function(t){return function(e,i){var n,r,s=String(Cp(e)),o=MS(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},fT=(dT(!1),dT(!0)),pT=fS.set,gT=fS.getterFor("String Iterator");pk(String,"String",function(t){pT(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=gT(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=fT(i,n),e.index+=t.length,{value:t,done:!1})});var mT=xS("iterator"),vT=function(t){if(null!=t)return t[mT]||t["@@iterator"]||Vw[ek(t)]},yT=function(t){var e=vT(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return Gp(e.call(t))},bT=Ek.some,_T=Tk("some"),wT=Mk("some");Jp({target:"Array",proto:!0,forced:!_T||!wT},{some:function(t){return bT(this,t,arguments.length>1?arguments[1]:void 0)}});var ST=ng("Array").some,kT=Array.prototype,xT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function CT(t,e){return t(e={exports:{}},e.exports),e.exports}var ET=function(t){return t&&t.Math==Math&&t},TT=ET("object"==typeof globalThis&&globalThis)||ET("object"==typeof window&&window)||ET("object"==typeof self&&self)||ET("object"==typeof xT&&xT)||Function("return this")(),AT=function(t){try{return!!t()}catch(t){return!0}},OT=!AT(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),MT={}.propertyIsEnumerable,RT=Object.getOwnPropertyDescriptor,DT={f:RT&&!MT.call({1:2},1)?function(t){var e=RT(this,t);return!!e&&e.enumerable}:MT},LT=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},IT={}.toString,PT=function(t){return IT.call(t).slice(8,-1)},$T="".split,FT=AT(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==PT(t)?$T.call(t,""):Object(t)}:Object,NT=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},BT=function(t){return FT(NT(t))},jT=function(t){return"object"==typeof t?null!==t:"function"==typeof t},HT=function(t,e){if(!jT(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!jT(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!jT(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!jT(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},zT={}.hasOwnProperty,WT=function(t,e){return zT.call(t,e)},VT=TT.document,UT=jT(VT)&&jT(VT.createElement),YT=function(t){return UT?VT.createElement(t):{}},GT=!OT&&!AT(function(){return 7!=Object.defineProperty(YT("div"),"a",{get:function(){return 7}}).a}),qT=Object.getOwnPropertyDescriptor,KT={f:OT?qT:function(t,e){if(t=BT(t),e=HT(e,!0),GT)try{return qT(t,e)}catch(t){}if(WT(t,e))return LT(!DT.f.call(t,e),t[e])}},ZT=/#|\.prototype\./,QT=function(t,e){var i=JT[XT(t)];return i==eA||i!=tA&&("function"==typeof e?AT(e):!!e)},XT=QT.normalize=function(t){return String(t).replace(ZT,".").toLowerCase()},JT=QT.data={},tA=QT.NATIVE="N",eA=QT.POLYFILL="P",iA=QT,nA={},rA=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},sA=function(t,e,i){if(rA(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},oA=function(t){if(!jT(t))throw TypeError(String(t)+" is not an object");return t},aA=Object.defineProperty,lA={f:OT?aA:function(t,e,i){if(oA(t),e=HT(e,!0),oA(i),GT)try{return aA(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},hA=OT?function(t,e,i){return lA.f(t,e,LT(1,i))}:function(t,e,i){return t[e]=i,t},cA=KT.f,uA=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},dA=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?TT:d?TT[c]:(TT[c]||{}).prototype,g=u?nA:nA[c]||(nA[c]={}),m=g.prototype;for(r in e)i=!iA(u?r:c+(d?".":"#")+r,t.forced)&&p&&WT(p,r),o=g[r],i&&(a=t.noTargetGet?(h=cA(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?sA(s,TT):t.wrap&&i?uA(s):f&&"function"==typeof s?sA(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&hA(l,"sham",!0),g[r]=l,f&&(WT(nA,n=c+"Prototype")||hA(nA,n,{}),nA[n][r]=s,t.real&&m&&!m[r]&&hA(m,r,s)))};dA({target:"Object",stat:!0,forced:!OT,sham:!OT},{defineProperty:lA.f});var fA=CT(function(t){var e=nA.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)}),pA=fA,gA=Math.ceil,mA=Math.floor,vA=function(t){return isNaN(t=+t)?0:(t>0?mA:gA)(t)},yA=Math.min,bA=function(t){return t>0?yA(vA(t),9007199254740991):0},_A=Math.max,wA=Math.min,SA=function(t,e){var i=vA(t);return i<0?_A(i+e,0):wA(i,e)},kA=function(t){return function(e,i,n){var r,s=BT(e),o=bA(s.length),a=SA(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},xA={includes:kA(!0),indexOf:kA(!1)},CA={},EA=xA.indexOf,TA=function(t,e){var i,n=BT(t),r=0,s=[];for(i in n)!WT(CA,i)&&WT(n,i)&&s.push(i);for(;e.length>r;)WT(n,i=e[r++])&&(~EA(s,i)||s.push(i));return s},AA=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],OA=Object.keys||function(t){return TA(t,AA)},MA=OT?Object.defineProperties:function(t,e){oA(t);for(var i,n=OA(e),r=n.length,s=0;r>s;)lA.f(t,i=n[s++],e[i]);return t};dA({target:"Object",stat:!0,forced:!OT,sham:!OT},{defineProperties:MA});var RA=CT(function(t){var e=nA.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)}),DA=function(t){return"function"==typeof t?t:void 0},LA=function(t,e){return arguments.length<2?DA(nA[t])||DA(TT[t]):nA[t]&&nA[t][e]||TT[t]&&TT[t][e]},IA=AA.concat("length","prototype"),PA={f:Object.getOwnPropertyNames||function(t){return TA(t,IA)}},$A={f:Object.getOwnPropertySymbols},FA=LA("Reflect","ownKeys")||function(t){var e=PA.f(oA(t)),i=$A.f;return i?e.concat(i(t)):e},NA=function(t,e,i){var n=HT(e);n in t?lA.f(t,n,LT(0,i)):t[n]=i};dA({target:"Object",stat:!0,sham:!OT},{getOwnPropertyDescriptors:function(t){for(var e,i,n=BT(t),r=KT.f,s=FA(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&NA(o,e,i);return o}});var BA=nA.Object.getOwnPropertyDescriptors,jA={},HA=TT["__core-js_shared__"]||function(t,e){try{hA(TT,t,e)}catch(dp){TT[t]=e}return e}("__core-js_shared__",{}),zA=Function.toString;"function"!=typeof HA.inspectSource&&(HA.inspectSource=function(t){return zA.call(t)});var WA,VA,UA,YA=TT.WeakMap,GA="function"==typeof YA&&/native code/.test((0,HA.inspectSource)(YA)),qA=CT(function(t){(t.exports=function(t,e){return HA[t]||(HA[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.3",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),KA=0,ZA=Math.random(),QA=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++KA+ZA).toString(36)},XA=qA("keys"),JA=function(t){return XA[t]||(XA[t]=QA(t))};if(GA){var tO=new(0,TT.WeakMap),eO=tO.get,iO=tO.has,nO=tO.set;WA=function(t,e){return nO.call(tO,t,e),e},VA=function(t){return eO.call(tO,t)||{}},UA=function(t){return iO.call(tO,t)}}else{var rO=JA("state");CA[rO]=!0,WA=function(t,e){return hA(t,rO,e),e},VA=function(t){return WT(t,rO)?t[rO]:{}},UA=function(t){return WT(t,rO)}}var sO,oO,aO,lO={set:WA,get:VA,has:UA,enforce:function(t){return UA(t)?VA(t):WA(t,{})},getterFor:function(t){return function(e){var i;if(!jT(e)||(i=VA(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},hO=function(t){return Object(NT(t))},cO=!AT(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),uO=JA("IE_PROTO"),dO=Object.prototype,fO=cO?Object.getPrototypeOf:function(t){return t=hO(t),WT(t,uO)?t[uO]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?dO:null},pO=!!Object.getOwnPropertySymbols&&!AT(function(){return!String(Symbol())}),gO=pO&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,mO=qA("wks"),vO=TT.Symbol,yO=gO?vO:vO&&vO.withoutSetter||QA,bO=function(t){return WT(mO,t)||(mO[t]=pO&&WT(vO,t)?vO[t]:yO("Symbol."+t)),mO[t]},_O=(bO("iterator"),!1);[].keys&&("next"in(aO=[].keys())?(oO=fO(fO(aO)))!==Object.prototype&&(sO=oO):_O=!0),null==sO&&(sO={});var wO,SO={IteratorPrototype:sO,BUGGY_SAFARI_ITERATORS:_O},kO=LA("document","documentElement"),xO=JA("IE_PROTO"),CO=function(){},EO=function(t){return"<script>"+t+"<\/script>"},TO=function(){try{wO=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;TO=wO?function(t){t.write(EO("")),t.close();var e=t.parentWindow.Object;return t=null,e}(wO):((e=YT("iframe")).style.display="none",kO.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(EO("document.F=Object")),t.close(),t.F);for(var i=AA.length;i--;)delete TO.prototype[AA[i]];return TO()};CA[xO]=!0;var AO=Object.create||function(t,e){var i;return null!==t?(CO.prototype=oA(t),i=new CO,CO.prototype=null,i[xO]=t):i=TO(),void 0===e?i:MA(i,e)},OO={};OO[bO("toStringTag")]="z";var MO="[object z]"===String(OO),RO=bO("toStringTag"),DO="Arguments"==PT(function(){return arguments}()),LO=MO?PT:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),RO))?i:DO?PT(e):"Object"==(n=PT(e))&&"function"==typeof e.callee?"Arguments":n},IO=MO?{}.toString:function(){return"[object "+LO(this)+"]"},PO=lA.f,$O=bO("toStringTag"),FO=function(t,e,i,n){if(t){var r=i?t:t.prototype;WT(r,$O)||PO(r,$O,{configurable:!0,value:e}),n&&!MO&&hA(r,"toString",IO)}},NO=SO.IteratorPrototype,BO=function(){return this},jO=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return oA(i),function(t){if(!jT(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),HO=function(t,e,i,n){n&&n.enumerable?t[e]=i:hA(t,e,i)},zO=SO.IteratorPrototype,WO=SO.BUGGY_SAFARI_ITERATORS,VO=bO("iterator"),UO=function(){return this},YO=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=AO(NO,{next:LT(1,i)}),FO(t,n,!1,!0),jA[n]=BO}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!WO&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[VO]||f["@@iterator"]||r&&f[r],g=!WO&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=fO(m.call(new t)),zO!==Object.prototype&&a.next&&(FO(a,u,!0,!0),jA[u]=UO)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[VO]!==g&&hA(f,VO,g),jA[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!WO&&!d&&h in f||HO(f,h,l[h]);else dA({target:e,proto:!0,forced:WO||d},l);return l},GO=lO.set,qO=lO.getterFor("Array Iterator");YO(Array,"Array",function(t,e){GO(this,{type:"Array Iterator",target:BT(t),index:0,kind:e})},function(){var t=qO(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),jA.Arguments=jA.Array;var KO=bO("toStringTag");for(var ZO in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var QO=TT[ZO],XO=QO&&QO.prototype;XO&&LO(XO)!==KO&&hA(XO,KO,ZO),jA[ZO]=jA.Array}var JO=Array.isArray||function(t){return"Array"==PT(t)},tM=bO("species"),eM=function(t,e){var i;return JO(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!JO(i.prototype)?jT(i)&&null===(i=i[tM])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},iM=[].push,nM=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=hO(a),p=FT(f),g=sA(l,h,3),m=bA(p.length),v=0,y=c||eM,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:iM.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},rM={forEach:nM(0),map:nM(1),filter:nM(2),some:nM(3),every:nM(4),find:nM(5),findIndex:nM(6)},sM=function(t,e){var i=[][t];return!!i&&AT(function(){i.call(null,e||function(){throw 1},1)})},oM=Object.defineProperty,aM=function(t){throw t},lM=function(t,e){e||(e={});var i=[][t],n=!!WT(e,"ACCESSORS")&&e.ACCESSORS,r=WT(e,0)?e[0]:aM,s=WT(e,1)?e[1]:void 0;return!!i&&!AT(function(){if(n&&!OT)return!0;var t={length:-1},e=function(e){n?oM(t,e,{enumerable:!0,get:aM}):t[e]=1};e(1),e(2147483646),e(4294967294),i.call(t,r,s)})},hM=rM.forEach,cM=sM("forEach"),uM=lM("forEach"),dM=cM&&uM?[].forEach:function(t){return hM(this,t,arguments.length>1?arguments[1]:void 0)};dA({target:"Array",proto:!0,forced:[].forEach!=dM},{forEach:dM});var fM=function(t){return nA[t+"Prototype"]},pM=fM("Array").forEach,gM=Array.prototype,mM={DOMTokenList:!0,NodeList:!0},vM=function(t){var e=t.forEach;return t===gM||t instanceof Array&&e===gM.forEach||mM.hasOwnProperty(LO(t))?pM:e},yM=KT.f,bM=AT(function(){yM(1)});dA({target:"Object",stat:!0,forced:!OT||bM,sham:!OT},{getOwnPropertyDescriptor:function(t,e){return yM(BT(t),e)}});var _M=CT(function(t){var e=nA.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)}),wM=PA.f,SM={}.toString,kM="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],xM={f:function(t){return kM&&"[object Window]"==SM.call(t)?function(t){try{return wM(t)}catch(t){return kM.slice()}}(t):wM(BT(t))}},CM={f:bO},EM=lA.f,TM=function(t){var e=nA.Symbol||(nA.Symbol={});WT(e,t)||EM(e,t,{value:CM.f(t)})},AM=rM.forEach,OM=JA("hidden"),MM=bO("toPrimitive"),RM=lO.set,DM=lO.getterFor("Symbol"),LM=Object.prototype,IM=TT.Symbol,PM=LA("JSON","stringify"),$M=KT.f,FM=lA.f,NM=xM.f,BM=DT.f,jM=qA("symbols"),HM=qA("op-symbols"),zM=qA("string-to-symbol-registry"),WM=qA("symbol-to-string-registry"),VM=qA("wks"),UM=TT.QObject,YM=!UM||!UM.prototype||!UM.prototype.findChild,GM=OT&&AT(function(){return 7!=AO(FM({},"a",{get:function(){return FM(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=$M(LM,e);n&&delete LM[e],FM(t,e,i),n&&t!==LM&&FM(LM,e,n)}:FM,qM=function(t,e){var i=jM[t]=AO(IM.prototype);return RM(i,{type:"Symbol",tag:t,description:e}),OT||(i.description=e),i},KM=gO?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof IM},ZM=function(t,e,i){t===LM&&ZM(HM,e,i),oA(t);var n=HT(e,!0);return oA(i),WT(jM,n)?(i.enumerable?(WT(t,OM)&&t[OM][n]&&(t[OM][n]=!1),i=AO(i,{enumerable:LT(0,!1)})):(WT(t,OM)||FM(t,OM,LT(1,{})),t[OM][n]=!0),GM(t,n,i)):FM(t,n,i)},QM=function(t,e){oA(t);var i=BT(e),n=OA(i).concat(eR(i));return AM(n,function(e){OT&&!XM.call(i,e)||ZM(t,e,i[e])}),t},XM=function(t){var e=HT(t,!0),i=BM.call(this,e);return!(this===LM&&WT(jM,e)&&!WT(HM,e))&&(!(i||!WT(this,e)||!WT(jM,e)||WT(this,OM)&&this[OM][e])||i)},JM=function(t,e){var i=BT(t),n=HT(e,!0);if(i!==LM||!WT(jM,n)||WT(HM,n)){var r=$M(i,n);return!r||!WT(jM,n)||WT(i,OM)&&i[OM][n]||(r.enumerable=!0),r}},tR=function(t){var e=NM(BT(t)),i=[];return AM(e,function(t){WT(jM,t)||WT(CA,t)||i.push(t)}),i},eR=function(t){var e=t===LM,i=NM(e?HM:BT(t)),n=[];return AM(i,function(t){!WT(jM,t)||e&&!WT(LM,t)||n.push(jM[t])}),n};if(pO||(HO((IM=function(){if(this instanceof IM)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=QA(t),i=function(t){this===LM&&i.call(HM,t),WT(this,OM)&&WT(this[OM],e)&&(this[OM][e]=!1),GM(this,e,LT(1,t))};return OT&&YM&&GM(LM,e,{configurable:!0,set:i}),qM(e,t)}).prototype,"toString",function(){return DM(this).tag}),HO(IM,"withoutSetter",function(t){return qM(QA(t),t)}),DT.f=XM,lA.f=ZM,KT.f=JM,PA.f=xM.f=tR,$A.f=eR,CM.f=function(t){return qM(bO(t),t)},OT&&FM(IM.prototype,"description",{configurable:!0,get:function(){return DM(this).description}})),dA({global:!0,wrap:!0,forced:!pO,sham:!pO},{Symbol:IM}),AM(OA(VM),function(t){TM(t)}),dA({target:"Symbol",stat:!0,forced:!pO},{for:function(t){var e=String(t);if(WT(zM,e))return zM[e];var i=IM(e);return zM[e]=i,WM[i]=e,i},keyFor:function(t){if(!KM(t))throw TypeError(t+" is not a symbol");if(WT(WM,t))return WM[t]},useSetter:function(){YM=!0},useSimple:function(){YM=!1}}),dA({target:"Object",stat:!0,forced:!pO,sham:!OT},{create:function(t,e){return void 0===e?AO(t):QM(AO(t),e)},defineProperty:ZM,defineProperties:QM,getOwnPropertyDescriptor:JM}),dA({target:"Object",stat:!0,forced:!pO},{getOwnPropertyNames:tR,getOwnPropertySymbols:eR}),dA({target:"Object",stat:!0,forced:AT(function(){$A.f(1)})},{getOwnPropertySymbols:function(t){return $A.f(hO(t))}}),PM){var iR=!pO||AT(function(){var t=IM();return"[null]"!=PM([t])||"{}"!=PM({a:t})||"{}"!=PM(Object(t))});dA({target:"JSON",stat:!0,forced:iR},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(jT(e)||void 0!==t)&&!KM(t))return JO(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!KM(e))return e}),r[1]=e,PM.apply(null,r)}})}IM.prototype[MM]||hA(IM.prototype,MM,IM.prototype.valueOf),FO(IM,"Symbol"),CA[OM]=!0;var nR=nA.Object.getOwnPropertySymbols,rR=fM("Array").entries,sR=Array.prototype,oR={DOMTokenList:!0,NodeList:!0},aR=[].slice,lR={},hR=function(t,e,i){if(!(e in lR)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";lR[e]=Function("C,a","return new C("+n.join(",")+")")}return lR[e](t,i)};dA({target:"Function",proto:!0},{bind:Function.bind||function(t){var e=rA(this),i=aR.call(arguments,1),n=function(){var r=i.concat(aR.call(arguments));return this instanceof n?hR(e,r.length,r):e.apply(t,r)};return jT(e.prototype)&&(n.prototype=e.prototype),n}});var cR=fM("Function").bind,uR=Function.prototype,dR=function(t){var e=t.bind;return t===uR||t instanceof Function&&e===uR.bind?cR:e},fR=CT(function(t){var e=function(t){var e,i=Object.prototype,n=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,i,n){var r=Object.create((e&&e.prototype instanceof g?e:g).prototype),s=new T(n||[]);return r._invoke=function(t,e,i){var n=c;return function(r,s){if(n===d)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw s;return O()}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var a=x(o,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=d;var l=h(t,e,i);if("normal"===l.type){if(n=i.done?f:u,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}(t,i,s),r}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",u="suspendedYield",d="executing",f="completed",p={};function g(){}function m(){}function v(){}var y={};y[s]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==i&&n.call(_,s)&&(y=_);var w=v.prototype=g.prototype=Object.create(y);function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(i,r){function s(){return new Promise(function(e,s){!function e(i,r,s,o){var a=h(t[i],t,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,s,o)},function(t){e("throw",t,s,o)}):Promise.resolve(c).then(function(t){l.value=t,s(l)},function(t){return e("throw",t,s,o)})}o(a.arg)}(i,r,e,s)})}return e=e?e.then(s,s):s()}}function x(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,x(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,p;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return m.prototype=w.constructor=v,v.constructor=m,v[a]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(k.prototype),k.prototype[o]=function(){return this},t.AsyncIterator=k,t.async=function(e,i,n,r){var s=new k(l(e,i,n,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(w),w[a]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(l&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;E(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:A(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});TM("iterator");var pR=function(t){return function(e,i){var n,r,s=String(NT(e)),o=vA(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},gR=(pR(!1),pR(!0)),mR=lO.set,vR=lO.getterFor("String Iterator");YO(String,"String",function(t){mR(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=vR(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=gR(i,n),e.index+=t.length,{value:t,done:!1})});var yR=CM.f("iterator"),bR=yR,_R=LA("JSON","stringify"),wR=/[\uD800-\uDFFF]/g,SR=/^[\uD800-\uDBFF]$/,kR=/^[\uDC00-\uDFFF]$/,xR=function(t,e,i){var n=i.charAt(e-1),r=i.charAt(e+1);return SR.test(t)&&!kR.test(r)||kR.test(t)&&!SR.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},CR=AT(function(){return'"\\udf06\\ud834"'!==_R("\udf06\ud834")||'"\\udead"'!==_R("\udead")});_R&&dA({target:"JSON",stat:!0,forced:CR},{stringify:function(t,e,i){var n=_R.apply(null,arguments);return"string"==typeof n?n.replace(wR,xR):n}}),nA.JSON||(nA.JSON={stringify:JSON.stringify});var ER=fA,TR=function(t,e,i){return e in t?ER(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},AR=fM("Array").values,OR=Array.prototype,MR={DOMTokenList:!0,NodeList:!0},RR=function(t){var e=t.values;return t===OR||t instanceof Array&&e===OR.values||MR.hasOwnProperty(LO(t))?AR:e},DR=bO("iterator"),LR=function(t){if(null!=t)return t[DR]||t["@@iterator"]||jA[LO(t)]},IR=function(t){var e=LR(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return oA(e.call(t))},PR=[],$R=PR.sort,FR=AT(function(){PR.sort(void 0)}),NR=AT(function(){PR.sort(null)}),BR=sM("sort");dA({target:"Array",proto:!0,forced:FR||!NR||!BR},{sort:function(t){return void 0===t?$R.call(hO(this)):$R.call(hO(this),rA(t))}});var jR=fM("Array").sort,HR=Array.prototype,zR=function(t){var e=t.sort;return t===HR||t instanceof Array&&e===HR.sort?jR:e},WR=function(t){return function(e,i,n,r){rA(i);var s=hO(e),o=FT(s),a=bA(s.length),l=t?a-1:0,h=t?-1:1;if(n<2)for(;;){if(l in o){r=o[l],l+=h;break}if(l+=h,t?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=h)l in o&&(r=i(r,o[l],l,s));return r}},VR=[WR(!1),WR(!0)][0],UR=sM("reduce"),YR=lM("reduce",{1:0});dA({target:"Array",proto:!0,forced:!UR||!YR},{reduce:function(t){return VR(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var GR=fM("Array").reduce,qR=Array.prototype,KR=fM("Array").keys,ZR=Array.prototype,QR={DOMTokenList:!0,NodeList:!0},XR=function(t){var e=t.keys;return t===ZR||t instanceof Array&&e===ZR.keys||QR.hasOwnProperty(LO(t))?KR:e};dA({target:"Array",stat:!0},{isArray:JO});var JR=nA.Array.isArray,tD=JR,eD=function(t,e,i,n){try{return n?e(oA(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&oA(r.call(t)),e}},iD=bO("iterator"),nD=Array.prototype,rD=function(t){return void 0!==t&&(jA.Array===t||nD[iD]===t)},sD=bO("iterator"),oD=!1;try{var aD=0,lD={next:function(){return{done:!!aD++}},return:function(){oD=!0}};lD[sD]=function(){return this},Array.from(lD,function(){throw 2})}catch(up){}var hD=!function(t,e){if(!oD)return!1;var i=!1;try{var n={};n[sD]=function(){return{next:function(){return{done:i=!0}}}},function(t){Array.from(t)}(n)}catch(t){}return i}();dA({target:"Array",stat:!0,forced:hD},{from:function(t){var e,i,n,r,s,o,a=hO(t),l="function"==typeof this?this:Array,h=arguments.length,c=h>1?arguments[1]:void 0,u=void 0!==c,d=LR(a),f=0;if(u&&(c=sA(c,h>2?arguments[2]:void 0,2)),null==d||l==Array&&rD(d))for(i=new l(e=bA(a.length));e>f;f++)o=u?c(a[f],f):a[f],NA(i,f,o);else for(s=(r=d.call(a)).next,i=new l;!(n=s.call(r)).done;f++)o=u?eD(r,c,[n.value,f],!0):n.value,NA(i,f,o);return i.length=f,i}});var cD,uD,dD=nA.Array.from,fD=bO("iterator"),pD=function(t){var e=Object(t);return void 0!==e[fD]||"@@iterator"in e||jA.hasOwnProperty(LO(e))},gD=function(t){return function(t){if(tD(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(pD(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return dD(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()},mD=LA("navigator","userAgent")||"",vD=TT.process,yD=vD&&vD.versions,bD=yD&&yD.v8;bD?uD=(cD=bD.split("."))[0]+cD[1]:mD&&(!(cD=mD.match(/Edge\/(\d+)/))||cD[1]>=74)&&(cD=mD.match(/Chrome\/(\d+)/))&&(uD=cD[1]);var _D=uD&&+uD,wD=bO("species"),SD=function(t){return _D>=51||!AT(function(){var e=[];return(e.constructor={})[wD]=function(){return{foo:1}},1!==e[t](Boolean).foo})},kD=rM.filter,xD=SD("filter"),CD=lM("filter");dA({target:"Array",proto:!0,forced:!xD||!CD},{filter:function(t){return kD(this,t,arguments.length>1?arguments[1]:void 0)}});var ED=fM("Array").filter,TD=Array.prototype,AD=function(t){var e=t.filter;return t===TD||t instanceof Array&&e===TD.filter?ED:e},OD=bO("isConcatSpreadable"),MD=_D>=51||!AT(function(){var t=[];return t[OD]=!1,t.concat()[0]!==t}),RD=SD("concat"),DD=function(t){if(!jT(t))return!1;var e=t[OD];return void 0!==e?!!e:JO(t)};dA({target:"Array",proto:!0,forced:!MD||!RD},{concat:function(t){var e,i,n,r,s,o=hO(this),a=eM(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(DD(s=-1===e?o:arguments[e])){if(l+(r=bA(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&NA(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");NA(a,l++,s)}return a.length=l,a}});var LD=fM("Array").concat,ID=Array.prototype,PD=function(t){var e=t.concat;return t===ID||t instanceof Array&&e===ID.concat?LD:e},$D=Object.assign,FD=Object.defineProperty,ND=!$D||AT(function(){if(OT&&1!==$D({b:1},$D(FD({},"a",{enumerable:!0,get:function(){FD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=$D({},t)[i]||"abcdefghijklmnopqrst"!=OA($D({},e)).join("")})?function(t,e){for(var i=hO(t),n=arguments.length,r=1,s=$A.f,o=DT.f;n>r;)for(var a,l=FT(arguments[r++]),h=s?OA(l).concat(s(l)):OA(l),c=h.length,u=0;c>u;)a=h[u++],OT&&!o.call(l,a)||(i[a]=l[a]);return i}:$D;dA({target:"Object",stat:!0,forced:Object.assign!==ND},{assign:ND});var BD=nA.Object.assign,jD=rM.some,HD=sM("some"),zD=lM("some");dA({target:"Array",proto:!0,forced:!HD||!zD},{some:function(t){return jD(this,t,arguments.length>1?arguments[1]:void 0)}});var WD=fM("Array").some,VD=Array.prototype,UD=rM.map,YD=SD("map"),GD=lM("map");dA({target:"Array",proto:!0,forced:!YD||!GD},{map:function(t){return UD(this,t,arguments.length>1?arguments[1]:void 0)}});var qD=fM("Array").map,KD=Array.prototype,ZD=function(t){var e=t.map;return t===KD||t instanceof Array&&e===KD.map?qD:e},QD=yR;TM("asyncIterator"),TM("hasInstance"),TM("isConcatSpreadable"),TM("match"),TM("matchAll"),TM("replace"),TM("search"),TM("species"),TM("split"),TM("toPrimitive"),TM("toStringTag"),TM("unscopables"),FO(Math,"Math",!0),FO(TT.JSON,"JSON",!0);var XD=nA.Symbol;TM("asyncDispose"),TM("dispose"),TM("observable"),TM("patternMatch"),TM("replaceAll");var JD=XD,tL=CT(function(t){function e(i){return t.exports=e="function"==typeof JD&&"symbol"==typeof QD?function(t){return typeof t}:function(t){return t&&"function"==typeof JD&&t.constructor===JD&&t!==JD.prototype?"symbol":typeof t},e(i)}t.exports=e}),eL=AT(function(){OA(1)});dA({target:"Object",stat:!0,forced:eL},{keys:function(t){return OA(hO(t))}});var iL=nA.Object.keys,nL=!AT(function(){return Object.isExtensible(Object.preventExtensions({}))}),rL=CT(function(t){var e=lA.f,i=QA("meta"),n=0,r=Object.isExtensible||function(){return!0},s=function(t){e(t,i,{value:{objectID:"O"+ ++n,weakData:{}}})},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!jT(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!WT(t,i)){if(!r(t))return"F";if(!e)return"E";s(t)}return t[i].objectID},getWeakData:function(t,e){if(!WT(t,i)){if(!r(t))return!0;if(!e)return!1;s(t)}return t[i].weakData},onFreeze:function(t){return nL&&o.REQUIRED&&r(t)&&!WT(t,i)&&s(t),t}};CA[i]=!0}),sL=CT(function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,n,r,s){var o,a,l,h,c,u,d,f=sA(i,n,r?2:1);if(s)o=t;else{if("function"!=typeof(a=LR(t)))throw TypeError("Target is not iterable");if(rD(a)){for(l=0,h=bA(t.length);h>l;l++)if((c=r?f(oA(d=t[l])[0],d[1]):f(t[l]))&&c instanceof e)return c;return new e(!1)}o=a.call(t)}for(u=o.next;!(d=u.call(o)).done;)if("object"==typeof(c=eD(o,f,d.value,r))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}}),oL=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},aL=lA.f,lL=rM.forEach,hL=lO.set,cL=lO.getterFor,uL=function(t,e,i){var n,r=-1!==t.indexOf("Map"),s=-1!==t.indexOf("Weak"),o=r?"set":"add",a=TT[t],l=a&&a.prototype,h={};if(OT&&"function"==typeof a&&(s||l.forEach&&!AT(function(){(new a).entries().next()}))){n=e(function(e,i){hL(oL(e,n,t),{type:t,collection:new a}),null!=i&&sL(i,e[o],e,r)});var c=cL(t);lL(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"==t||"set"==t;t in l&&(!s||"clear"!=t)&&hA(n.prototype,t,function(i,n){var r=c(this).collection;if(!e&&s&&!jT(i))return"get"==t&&void 0;var o=r[t](0===i?0:i,n);return e?this:o})}),s||aL(n.prototype,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else n=i.getConstructor(e,t,r,o),rL.REQUIRED=!0;return FO(n,t,!1,!0),h[t]=n,dA({global:!0,forced:!0},h),s||i.setStrong(n,t,r),n},dL=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:HO(t,n,e[n],i);return t},fL=bO("species"),pL=lA.f,gL=rL.fastKey,mL=lO.set,vL=lO.getterFor,yL={getConstructor:function(t,e,i,n){var r=t(function(t,s){oL(t,r,e),mL(t,{type:e,index:AO(null),first:void 0,last:void 0,size:0}),OT||(t.size=0),null!=s&&sL(s,t[n],t,i)}),s=vL(e),o=function(t,e,i){var n,r,o=s(t),l=a(t,e);return l?l.value=i:(o.last=l={index:r=gL(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=l),n&&(n.next=l),OT?o.size++:t.size++,"F"!==r&&(o.index[r]=l)),t},a=function(t,e){var i,n=s(t),r=gL(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return dL(r.prototype,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,OT?t.size=0:this.size=0},delete:function(t){var e=s(this),i=a(this,t);if(i){var n=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),e.first==i&&(e.first=n),e.last==i&&(e.last=r),OT?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=s(this),n=sA(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),dL(r.prototype,i?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),OT&&pL(r.prototype,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=vL(e),s=vL(n);YO(t,e,function(t,e){mL(this,{type:n,target:t,state:r(t),kind:e,last:void 0})},function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},i?"entries":"values",!i,!0),function(t){var e=LA(t);OT&&e&&!e[fL]&&(0,lA.f)(e,fL,{configurable:!0,get:function(){return this}})}(e)}},bL=(uL("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},yL),nA.Map),_L=JR,wL=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function SL(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),ER(t,n.key,n)}}var kL=function(t,e,i){return e&&SL(t.prototype,e),i&&SL(t,i),t},xL=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},CL=function(t,e){return!e||"object"!==tL(e)&&"function"!=typeof e?xL(t):e},EL=AT(function(){fO(1)});dA({target:"Object",stat:!0,forced:EL,sham:!cO},{getPrototypeOf:function(t){return fO(hO(t))}});var TL=nA.Object.getPrototypeOf;dA({target:"Object",stat:!0},{setPrototypeOf:jO});var AL=nA.Object.setPrototypeOf,OL=CT(function(t){function e(i){return t.exports=e=AL?TL:function(t){return t.__proto__||TL(t)},e(i)}t.exports=e});dA({target:"Object",stat:!0,sham:!OT},{create:AO});for(var ML=nA.Object,RL=function(t,e){return ML.create(t,e)},DL=RL,LL=CT(function(t){function e(i,n){return t.exports=e=AL||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e}),IL=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=DL(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LL(t,e)},PL=[],$L=0;$L<256;$L++)PL[$L]=($L+256).toString(16).substr(1);for(var FL=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=new Array(16);return function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}}(),NL=[],BL=0;BL<256;BL++)NL[BL]=(BL+256).toString(16).substr(1);FL();var jL="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function HL(t,e){return t(e={exports:{}},e.exports),e.exports}var zL=function(t){return t&&t.Math==Math&&t},WL=zL("object"==typeof globalThis&&globalThis)||zL("object"==typeof window&&window)||zL("object"==typeof self&&self)||zL("object"==typeof jL&&jL)||Function("return this")(),VL=function(t){try{return!!t()}catch(t){return!0}},UL=!VL(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),YL={}.propertyIsEnumerable,GL=Object.getOwnPropertyDescriptor,qL={f:GL&&!YL.call({1:2},1)?function(t){var e=GL(this,t);return!!e&&e.enumerable}:YL},KL=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ZL={}.toString,QL=function(t){return ZL.call(t).slice(8,-1)},XL="".split,JL=VL(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==QL(t)?XL.call(t,""):Object(t)}:Object,tI=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},eI=function(t){return JL(tI(t))},iI=function(t){return"object"==typeof t?null!==t:"function"==typeof t},nI=function(t,e){if(!iI(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!iI(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!iI(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!iI(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},rI={}.hasOwnProperty,sI=function(t,e){return rI.call(t,e)},oI=WL.document,aI=iI(oI)&&iI(oI.createElement),lI=function(t){return aI?oI.createElement(t):{}},hI=!UL&&!VL(function(){return 7!=Object.defineProperty(lI("div"),"a",{get:function(){return 7}}).a}),cI=Object.getOwnPropertyDescriptor,uI={f:UL?cI:function(t,e){if(t=eI(t),e=nI(e,!0),hI)try{return cI(t,e)}catch(t){}if(sI(t,e))return KL(!qL.f.call(t,e),t[e])}},dI=/#|\.prototype\./,fI=function(t,e){var i=gI[pI(t)];return i==vI||i!=mI&&("function"==typeof e?VL(e):!!e)},pI=fI.normalize=function(t){return String(t).replace(dI,".").toLowerCase()},gI=fI.data={},mI=fI.NATIVE="N",vI=fI.POLYFILL="P",yI=fI,bI={},_I=function(t,e,i){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},wI=function(t){if(!iI(t))throw TypeError(String(t)+" is not an object");return t},SI=Object.defineProperty,kI={f:UL?SI:function(t,e,i){if(wI(t),e=nI(e,!0),wI(i),hI)try{return SI(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},xI=UL?function(t,e,i){return kI.f(t,e,KL(1,i))}:function(t,e,i){return t[e]=i,t},CI=uI.f,EI=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},TI=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?WL:d?WL[c]:(WL[c]||{}).prototype,g=u?bI:bI[c]||(bI[c]={}),m=g.prototype;for(r in e)i=!yI(u?r:c+(d?".":"#")+r,t.forced)&&p&&sI(p,r),o=g[r],i&&(a=t.noTargetGet?(h=CI(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?_I(s,WL):t.wrap&&i?EI(s):f&&"function"==typeof s?_I(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&xI(l,"sham",!0),g[r]=l,f&&(sI(bI,n=c+"Prototype")||xI(bI,n,{}),bI[n][r]=s,t.real&&m&&!m[r]&&xI(m,r,s)))};TI({target:"Object",stat:!0,forced:!UL,sham:!UL},{defineProperty:kI.f}),HL(function(t){var e=bI.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)});var AI=Math.ceil,OI=Math.floor,MI=function(t){return isNaN(t=+t)?0:(t>0?OI:AI)(t)},RI=Math.min,DI=function(t){return t>0?RI(MI(t),9007199254740991):0},LI=Math.max,II=Math.min,PI=function(t,e){var i=MI(t);return i<0?LI(i+e,0):II(i,e)},$I=function(t){return function(e,i,n){var r,s=eI(e),o=DI(s.length),a=PI(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},FI={includes:$I(!0),indexOf:$I(!1)},NI={},BI=FI.indexOf,jI=function(t,e){var i,n=eI(t),r=0,s=[];for(i in n)!sI(NI,i)&&sI(n,i)&&s.push(i);for(;e.length>r;)sI(n,i=e[r++])&&(~BI(s,i)||s.push(i));return s},HI=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zI=Object.keys||function(t){return jI(t,HI)},WI=UL?Object.defineProperties:function(t,e){wI(t);for(var i,n=zI(e),r=n.length,s=0;r>s;)kI.f(t,i=n[s++],e[i]);return t};TI({target:"Object",stat:!0,forced:!UL,sham:!UL},{defineProperties:WI}),HL(function(t){var e=bI.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)});var VI=function(t){return"function"==typeof t?t:void 0},UI=function(t,e){return arguments.length<2?VI(bI[t])||VI(WL[t]):bI[t]&&bI[t][e]||WL[t]&&WL[t][e]},YI=HI.concat("length","prototype"),GI={f:Object.getOwnPropertyNames||function(t){return jI(t,YI)}},qI={f:Object.getOwnPropertySymbols},KI=UI("Reflect","ownKeys")||function(t){var e=GI.f(wI(t)),i=qI.f;return i?e.concat(i(t)):e},ZI=function(t,e,i){var n=nI(e);n in t?kI.f(t,n,KL(0,i)):t[n]=i};TI({target:"Object",stat:!0,sham:!UL},{getOwnPropertyDescriptors:function(t){for(var e,i,n=eI(t),r=uI.f,s=KI(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&ZI(o,e,i);return o}});var QI=uI.f,XI=VL(function(){QI(1)});TI({target:"Object",stat:!0,forced:!UL||XI,sham:!UL},{getOwnPropertyDescriptor:function(t,e){return QI(eI(t),e)}}),HL(function(t){var e=bI.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)});var JI=!!Object.getOwnPropertySymbols&&!VL(function(){return!String(Symbol())}),tP=Array.isArray||function(t){return"Array"==QL(t)},eP=function(t){return Object(tI(t))},iP=UI("document","documentElement"),nP=WL["__core-js_shared__"]||function(t,e){try{xI(WL,t,e)}catch(dp){WL[t]=e}return e}("__core-js_shared__",{}),rP=HL(function(t){(t.exports=function(t,e){return nP[t]||(nP[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.1",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),sP=0,oP=Math.random(),aP=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++sP+oP).toString(36)},lP=rP("keys"),hP=function(t){return lP[t]||(lP[t]=aP(t))},cP=hP("IE_PROTO"),uP=function(){},dP=function(){var t,e=lI("iframe"),i=HI.length;for(e.style.display="none",iP.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),dP=t.F;i--;)delete dP.prototype[HI[i]];return dP()},fP=Object.create||function(t,e){var i;return null!==t?(uP.prototype=wI(t),i=new uP,uP.prototype=null,i[cP]=t):i=dP(),void 0===e?i:WI(i,e)};NI[cP]=!0;var pP=GI.f,gP={}.toString,mP="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vP={f:function(t){return mP&&"[object Window]"==gP.call(t)?function(t){try{return pP(t)}catch(t){return mP.slice()}}(t):pP(eI(t))}},yP=function(t,e,i,n){n&&n.enumerable?t[e]=i:xI(t,e,i)},bP=WL.Symbol,_P=rP("wks"),wP=function(t){return _P[t]||(_P[t]=JI&&bP[t]||(JI?bP:aP)("Symbol."+t))},SP={f:wP},kP=kI.f,xP=function(t){var e=bI.Symbol||(bI.Symbol={});sI(e,t)||kP(e,t,{value:SP.f(t)})},CP=wP("toStringTag"),EP="Arguments"==QL(function(){return arguments}()),TP=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),CP))?i:EP?QL(e):"Object"==(n=QL(e))&&"function"==typeof e.callee?"Arguments":n},AP={};AP[wP("toStringTag")]="z";var OP,MP,RP,DP="[object z]"!==String(AP)?function(){return"[object "+TP(this)+"]"}:AP.toString,LP=kI.f,IP=wP("toStringTag"),PP=DP!=={}.toString,$P=function(t,e,i,n){if(t){var r=i?t:t.prototype;sI(r,IP)||LP(r,IP,{configurable:!0,value:e}),n&&PP&&xI(r,"toString",DP)}},FP=rP("native-function-to-string",Function.toString),NP=WL.WeakMap;if("function"==typeof NP&&/native code/.test(FP.call(NP))){var BP=new(0,WL.WeakMap),jP=BP.get,HP=BP.has,zP=BP.set;OP=function(t,e){return zP.call(BP,t,e),e},MP=function(t){return jP.call(BP,t)||{}},RP=function(t){return HP.call(BP,t)}}else{var WP=hP("state");NI[WP]=!0,OP=function(t,e){return xI(t,WP,e),e},MP=function(t){return sI(t,WP)?t[WP]:{}},RP=function(t){return sI(t,WP)}}var VP={set:OP,get:MP,has:RP,enforce:function(t){return RP(t)?MP(t):OP(t,{})},getterFor:function(t){return function(e){var i;if(!iI(e)||(i=MP(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},UP=wP("species"),YP=function(t,e){var i;return tP(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!tP(i.prototype)?iI(i)&&null===(i=i[UP])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},GP=[].push,qP=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=eP(a),p=JL(f),g=_I(l,h,3),m=DI(p.length),v=0,y=c||YP,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:GP.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},KP={forEach:qP(0),map:qP(1),filter:qP(2),some:qP(3),every:qP(4),find:qP(5),findIndex:qP(6)},ZP=KP.forEach,QP=hP("hidden"),XP=wP("toPrimitive"),JP=VP.set,t$=VP.getterFor("Symbol"),e$=Object.prototype,i$=WL.Symbol,n$=UI("JSON","stringify"),r$=uI.f,s$=kI.f,o$=vP.f,a$=qL.f,l$=rP("symbols"),h$=rP("op-symbols"),c$=rP("string-to-symbol-registry"),u$=rP("symbol-to-string-registry"),d$=rP("wks"),f$=WL.QObject,p$=!f$||!f$.prototype||!f$.prototype.findChild,g$=UL&&VL(function(){return 7!=fP(s$({},"a",{get:function(){return s$(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=r$(e$,e);n&&delete e$[e],s$(t,e,i),n&&t!==e$&&s$(e$,e,n)}:s$,m$=function(t,e){var i=l$[t]=fP(i$.prototype);return JP(i,{type:"Symbol",tag:t,description:e}),UL||(i.description=e),i},v$=JI&&"symbol"==typeof i$.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof i$},y$=function(t,e,i){t===e$&&y$(h$,e,i),wI(t);var n=nI(e,!0);return wI(i),sI(l$,n)?(i.enumerable?(sI(t,QP)&&t[QP][n]&&(t[QP][n]=!1),i=fP(i,{enumerable:KL(0,!1)})):(sI(t,QP)||s$(t,QP,KL(1,{})),t[QP][n]=!0),g$(t,n,i)):s$(t,n,i)},b$=function(t,e){wI(t);var i=eI(e),n=zI(i).concat(k$(i));return ZP(n,function(e){UL&&!_$.call(i,e)||y$(t,e,i[e])}),t},_$=function(t){var e=nI(t,!0),i=a$.call(this,e);return!(this===e$&&sI(l$,e)&&!sI(h$,e))&&(!(i||!sI(this,e)||!sI(l$,e)||sI(this,QP)&&this[QP][e])||i)},w$=function(t,e){var i=eI(t),n=nI(e,!0);if(i!==e$||!sI(l$,n)||sI(h$,n)){var r=r$(i,n);return!r||!sI(l$,n)||sI(i,QP)&&i[QP][n]||(r.enumerable=!0),r}},S$=function(t){var e=o$(eI(t)),i=[];return ZP(e,function(t){sI(l$,t)||sI(NI,t)||i.push(t)}),i},k$=function(t){var e=t===e$,i=o$(e?h$:eI(t)),n=[];return ZP(i,function(t){!sI(l$,t)||e&&!sI(e$,t)||n.push(l$[t])}),n};if(JI||(yP((i$=function(){if(this instanceof i$)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=aP(t),i=function(t){this===e$&&i.call(h$,t),sI(this,QP)&&sI(this[QP],e)&&(this[QP][e]=!1),g$(this,e,KL(1,t))};return UL&&p$&&g$(e$,e,{configurable:!0,set:i}),m$(e,t)}).prototype,"toString",function(){return t$(this).tag}),qL.f=_$,kI.f=y$,uI.f=w$,GI.f=vP.f=S$,qI.f=k$,UL&&s$(i$.prototype,"description",{configurable:!0,get:function(){return t$(this).description}}),SP.f=function(t){return m$(wP(t),t)}),TI({global:!0,wrap:!0,forced:!JI,sham:!JI},{Symbol:i$}),ZP(zI(d$),function(t){xP(t)}),TI({target:"Symbol",stat:!0,forced:!JI},{for:function(t){var e=String(t);if(sI(c$,e))return c$[e];var i=i$(e);return c$[e]=i,u$[i]=e,i},keyFor:function(t){if(!v$(t))throw TypeError(t+" is not a symbol");if(sI(u$,t))return u$[t]},useSetter:function(){p$=!0},useSimple:function(){p$=!1}}),TI({target:"Object",stat:!0,forced:!JI,sham:!UL},{create:function(t,e){return void 0===e?fP(t):b$(fP(t),e)},defineProperty:y$,defineProperties:b$,getOwnPropertyDescriptor:w$}),TI({target:"Object",stat:!0,forced:!JI},{getOwnPropertyNames:S$,getOwnPropertySymbols:k$}),TI({target:"Object",stat:!0,forced:VL(function(){qI.f(1)})},{getOwnPropertySymbols:function(t){return qI.f(eP(t))}}),n$){var x$=!JI||VL(function(){var t=i$();return"[null]"!=n$([t])||"{}"!=n$({a:t})||"{}"!=n$(Object(t))});TI({target:"JSON",stat:!0,forced:x$},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(iI(e)||void 0!==t)&&!v$(t))return tP(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!v$(e))return e}),r[1]=e,n$.apply(null,r)}})}i$.prototype[XP]||xI(i$.prototype,XP,i$.prototype.valueOf),$P(i$,"Symbol"),NI[QP]=!0;var C$,E$,T$,A$={},O$=!VL(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),M$=hP("IE_PROTO"),R$=Object.prototype,D$=O$?Object.getPrototypeOf:function(t){return t=eP(t),sI(t,M$)?t[M$]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?R$:null},L$=(wP("iterator"),!1);[].keys&&("next"in(T$=[].keys())?(E$=D$(D$(T$)))!==Object.prototype&&(C$=E$):L$=!0),null==C$&&(C$={});var I$={IteratorPrototype:C$,BUGGY_SAFARI_ITERATORS:L$},P$=I$.IteratorPrototype,$$=function(){return this},F$=(Object.setPrototypeOf||"__proto__"in{}&&function(){try{Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set.call({},[])}catch(up){}}(),I$.IteratorPrototype),N$=I$.BUGGY_SAFARI_ITERATORS,B$=wP("iterator"),j$=function(){return this},H$=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=fP(P$,{next:KL(1,i)}),$P(t,n,!1,!0),A$[n]=$$}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!N$&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[B$]||f["@@iterator"]||r&&f[r],g=!N$&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=D$(m.call(new t)),F$!==Object.prototype&&a.next&&($P(a,u,!0,!0),A$[u]=j$)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[B$]!==g&&xI(f,B$,g),A$[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!N$&&!d&&h in f||yP(f,h,l[h]);else TI({target:e,proto:!0,forced:N$||d},l);return l},z$=VP.set,W$=VP.getterFor("Array Iterator");H$(Array,"Array",function(t,e){z$(this,{type:"Array Iterator",target:eI(t),index:0,kind:e})},function(){var t=W$(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),A$.Arguments=A$.Array;var V$=wP("toStringTag");for(var U$ in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Y$=WL[U$],G$=Y$&&Y$.prototype;G$&&!G$[V$]&&xI(G$,V$,U$),A$[U$]=A$.Array}var q$=function(t){return function(e,i){var n,r,s=String(tI(e)),o=MI(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},K$=(q$(!1),q$(!0)),Z$=VP.set,Q$=VP.getterFor("String Iterator");H$(String,"String",function(t){Z$(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=Q$(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=K$(i,n),e.index+=t.length,{value:t,done:!1})});var X$=wP("iterator"),J$=function(t){if(null!=t)return t[X$]||t["@@iterator"]||A$[TP(t)]};TI({target:"Object",stat:!0,sham:!UL},{create:fP});var tF=VL(function(){zI(1)});TI({target:"Object",stat:!0,forced:tF},{keys:function(t){return zI(eP(t))}});var eF="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",iF="["+eF+"]",nF=RegExp("^"+iF+iF+"*"),rF=RegExp(iF+iF+"*$"),sF=function(t){return function(e){var i=String(tI(e));return 1&t&&(i=i.replace(nF,"")),2&t&&(i=i.replace(rF,"")),i}},oF={start:sF(1),end:sF(2),trim:sF(3)},aF=oF.trim;TI({target:"String",proto:!0,forced:function(t){return VL(function(){return!!eF[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||eF[t].name!==t})}("trim")},{trim:function(){return aF(this)}});var lF=function(t){return bI[t+"Prototype"]},hF=(lF("String"),function(t,e){var i=[][t];return!i||!VL(function(){i.call(null,e||function(){throw 1},1)})}),cF=KP.forEach,uF=hF("forEach")?function(t){return cF(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;TI({target:"Array",proto:!0,forced:[].forEach!=uF},{forEach:uF}),lF("Array");var dF,fF,pF=UI("navigator","userAgent")||"",gF=WL.process,mF=gF&&gF.versions,vF=mF&&mF.v8;vF?fF=(dF=vF.split("."))[0]+dF[1]:pF&&(!(dF=pF.match(/Edge\/(\d+)/))||dF[1]>=74)&&(dF=pF.match(/Chrome\/(\d+)/))&&(fF=dF[1]);var yF=fF&&+fF,bF=wP("species"),_F=function(t){return yF>=51||!VL(function(){var e=[];return(e.constructor={})[bF]=function(){return{foo:1}},1!==e[t](Boolean).foo})},wF=KP.map;TI({target:"Array",proto:!0,forced:!_F("map")},{map:function(t){return wF(this,t,arguments.length>1?arguments[1]:void 0)}}),lF("Array");var SF=oF.trim,kF=WL.parseInt,xF=/^[+-]?0[Xx]/,CF=8!==kF(eF+"08")||22!==kF(eF+"0x16")?function(t,e){var i=SF(String(t));return kF(i,e>>>0||(xF.test(i)?16:10))}:kF;TI({global:!0,forced:parseInt!=CF},{parseInt:CF});var EF=qL.f,TF=function(t){return function(e){for(var i,n=eI(e),r=zI(n),s=r.length,o=0,a=[];s>o;)i=r[o++],UL&&!EF.call(n,i)||a.push(t?[i,n[i]]:n[i]);return a}},AF=(TF(!0),TF(!1));TI({target:"Object",stat:!0},{values:function(t){return AF(t)}});var OF=KP.filter;TI({target:"Array",proto:!0,forced:!_F("filter")},{filter:function(t){return OF(this,t,arguments.length>1?arguments[1]:void 0)}}),lF("Array");var MF=wP("isConcatSpreadable"),RF=yF>=51||!VL(function(){var t=[];return t[MF]=!1,t.concat()[0]!==t}),DF=_F("concat"),LF=function(t){if(!iI(t))return!1;var e=t[MF];return void 0!==e?!!e:tP(t)};TI({target:"Array",proto:!0,forced:!RF||!DF},{concat:function(t){var e,i,n,r,s,o=eP(this),a=YP(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(LF(s=-1===e?o:arguments[e])){if(l+(r=DI(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&ZI(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ZI(a,l++,s)}return a.length=l,a}}),lF("Array"),TI({target:"Array",stat:!0},{isArray:tP});var IF=bI.Array.isArray,PF=function(t,e,i,n){try{return n?e(wI(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&wI(r.call(t)),e}},$F=wP("iterator"),FF=Array.prototype,NF=function(t){return void 0!==t&&(A$.Array===t||FF[$F]===t)},BF=wP("iterator"),jF=!1;try{var HF=0,zF={next:function(){return{done:!!HF++}},return:function(){jF=!0}};zF[BF]=function(){return this},Array.from(zF,function(){throw 2})}catch(up){}var WF=!function(t,e){if(!jF)return!1;var i=!1;try{var n={};n[BF]=function(){return{next:function(){return{done:i=!0}}}},function(t){Array.from(t)}(n)}catch(t){}return i}();TI({target:"Array",stat:!0,forced:WF},{from:function(t){var e,i,n,r,s,o=eP(t),a="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,u=0,d=J$(o);if(c&&(h=_I(h,l>2?arguments[2]:void 0,2)),null==d||a==Array&&NF(d))for(i=new a(e=DI(o.length));e>u;u++)ZI(i,u,c?h(o[u],u):o[u]);else for(s=(r=d.call(o)).next,i=new a;!(n=s.call(r)).done;u++)ZI(i,u,c?PF(r,h,[n.value,u],!0):n.value);return i.length=u,i}}),wP("iterator");var VF=wP("species"),UF=[].slice,YF=Math.max;TI({target:"Array",proto:!0,forced:!_F("slice")},{slice:function(t,e){var i,n,r,s=eI(this),o=DI(s.length),a=PI(t,o),l=PI(void 0===e?o:e,o);if(tP(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!tP(i.prototype)?iI(i)&&null===(i=i[VF])&&(i=void 0):i=void 0,i===Array||void 0===i))return UF.call(s,a,l);for(n=new(void 0===i?Array:i)(YF(l-a,0)),r=0;a<l;a++,r++)a in s&&ZI(n,r,s[a]);return n.length=r,n}});var GF=lF("Array").slice,qF=Array.prototype,KF=function(t){var e=t.slice;return t===qF||t instanceof Array&&e===qF.slice?GF:e},ZF=VL(function(){D$(1)});TI({target:"Object",stat:!0,forced:ZF,sham:!O$},{getPrototypeOf:function(t){return D$(eP(t))}});var QF=bI.Object.getPrototypeOf,XF=FI.indexOf,JF=[].indexOf,tN=!!JF&&1/[1].indexOf(1,-0)<0,eN=hF("indexOf");TI({target:"Array",proto:!0,forced:tN||eN},{indexOf:function(t){return tN?JF.apply(this,arguments)||0:XF(this,t,arguments.length>1?arguments[1]:void 0)}}),lF("Array");var iN=IF,nN=Object.assign,rN=!nN||VL(function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=nN({},t)[i]||"abcdefghijklmnopqrst"!=zI(nN({},e)).join("")})?function(t,e){for(var i=eP(t),n=arguments.length,r=1,s=qI.f,o=qL.f;n>r;)for(var a,l=JL(arguments[r++]),h=s?zI(l).concat(s(l)):zI(l),c=h.length,u=0;c>u;)a=h[u++],UL&&!o.call(l,a)||(i[a]=l[a]);return i}:nN;TI({target:"Object",stat:!0,forced:Object.assign!==rN},{assign:rN}),xP("iterator");var sN=SP.f("iterator");xP("asyncIterator"),xP("hasInstance"),xP("isConcatSpreadable"),xP("match"),xP("matchAll"),xP("replace"),xP("search"),xP("species"),xP("split"),xP("toPrimitive"),xP("toStringTag"),xP("unscopables"),$P(Math,"Math",!0),$P(WL.JSON,"JSON",!0);var oN=bI.Symbol;xP("asyncDispose"),xP("dispose"),xP("observable"),xP("patternMatch"),xP("replaceAll");for(var aN=oN,lN=HL(function(t){function e(t){return(e="function"==typeof aN&&"symbol"==typeof sN?function(t){return typeof t}:function(t){return t&&"function"==typeof aN&&t.constructor===aN&&t!==aN.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof aN&&"symbol"===e(sN)?function(t){return e(t)}:function(t){return t&&"function"==typeof aN&&t.constructor===aN&&t!==aN.prototype?"symbol":e(t)},i(n)}t.exports=i}),hN=[],cN=0;cN<256;cN++)hN[cN]=(cN+256).toString(16).substr(1);for(var uN=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=new Array(16);return function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}}(),dN=[],fN=0;fN<256;fN++)dN[fN]=(fN+256).toString(16).substr(1);function pN(t){return t instanceof Number||"number"==typeof t}function gN(t){return t instanceof String||"string"==typeof t}function mN(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function vN(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===lN(e[r])&&null!==e[r]&&QF(e[r])===Object.prototype)void 0===t[r]?t[r]=vN({},e[r],i):"object"===lN(t[r])&&null!==t[r]&&QF(t[r])===Object.prototype?vN(t[r],e[r],i):mN(t,e,r,n);else if(iN(e[r])){var s;t[r]=KF(s=e[r]).call(s)}else mN(t,e,r,n);return t}function yN(t){var e=lN(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":iN(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}uN();var bN=CT(function(t,e){t.exports=function(){var e,i;function n(){return e.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)c(e,i)&&(t[i]=e[i]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return ke(t,e,i,n,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function g(t){var e=d(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var m=n.momentProperties=[];function v(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),m.length>0)for(i=0;i<m.length;i++)o(r=e[n=m[i]])||(t[n]=r);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function _(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=w(e)),i}function k(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&o++;return o+s}function x(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return u(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}x(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var E,T={};function A(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),T[t]||(x(e),T[t]=!0)}function O(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var i,n=u({},t);for(i in e)c(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)c(t,i)&&!c(e,i)&&s(t[i])&&(n[i]=u({},n[i]));return n}function R(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)c(t,e)&&i.push(e);return i};var D={};function L(t,e){var i=t.toLowerCase();D[i]=D[i+"s"]=D[e]=t}function I(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function P(t){var e,i,n={};for(i in t)c(t,i)&&(e=I(i))&&(n[e]=t[i]);return n}var $={};function F(t,e){$[t]=e}function N(t,e,i){var n=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},z={};function W(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(z[t]=r),e&&(z[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),i&&(z[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),H[e]=H[e]||function(t){var e,i,n,r=t.match(B);for(e=0,i=r.length;e<i;e++)r[e]=z[r[e]]?z[r[e]]:(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<i;n++)s+=O(r[n])?r[n].call(e,t):r[n];return s}}(e),H[e](t)):t.localeData().invalidDate()}function U(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;i>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,i-=1;return t}var Y=/\d/,G=/\d\d/,q=/\d{3}/,K=/\d{4}/,Z=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,it=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ht(t,e,i){lt[t]=O(e)?e:function(t,n){return t&&i?i:e}}function ct(t,e){return c(lt,t)?lt[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r})))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ft(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),a(e)&&(n=function(t,i){i[e]=S(t)}),i=0;i<t.length;i++)dt[t[i]]=n}function pt(t,e){ft(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function gt(t,e,i){null!=e&&c(dt,t)&&dt[t](e,i._a,i,t)}function mt(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("year",1),ht("Y",rt),ht("YY",Q,G),ht("YYYY",et,K),ht("YYYYY",it,Z),ht("YYYYYY",it,Z),ft(["YYYYY","YYYYYY"],0),ft("YYYY",function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):S(t)}),ft("YY",function(t,e){e[0]=n.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[0]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var yt,bt=_t("FullYear",!0);function _t(t,e){return function(i){return null!=i?(St(this,t,i),n.updateOffset(this,e),this):wt(this,t)}}function wt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function St(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&vt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?vt(t)?29:28:31-i%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),F("month",8),ht("M",Q),ht("MM",Q,G),ht("MMM",function(t,e){return e.monthsShortRegex(t)}),ht("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[1]=S(t)-1}),ft(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[1]=r:f(i).invalidMonth=t});var xt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Tt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))||-1!==(r=yt.call(this._longMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))||-1!==(r=yt.call(this._shortMonthsParse,o))?r:null}function At(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Ot(t){return null!=t?(At(this,t),n.updateOffset(this,!0),this):wt(this,"Month")}var Mt=at,Rt=at;function Dt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)n[e]=ut(n[e]),r[e]=ut(r[e]);for(e=0;e<24;e++)s[e]=ut(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Lt(t,e,i,n,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}function It(t){var e;if(t<100&&t>=0){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Pt(t,e,i){var n=7+e-i;return-(7+It(t,0,n).getUTCDay()-e)%7+n-1}function $t(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+Pt(t,n,r);return a<=0?o=mt(s=t-1)+a:a>mt(t)?(s=t+1,o=a-mt(t)):(s=t,o=a),{year:s,dayOfYear:o}}function Ft(t,e,i){var n,r,s=Pt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Nt(r=t.year()-1,e,i):o>Nt(t.year(),e,i)?(n=o-Nt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Nt(t,e,i){var n=Pt(t,e,i),r=Pt(t+1,e,i);return(mt(t)-n+r)/7}function Bt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("week",5),F("isoWeek",5),ht("w",Q),ht("ww",Q,G),ht("W",Q),ht("WW",Q,G),pt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=S(t)}),W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ht("d",Q),ht("e",Q),ht("E",Q),ht("dd",function(t,e){return e.weekdaysMinRegex(t)}),ht("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ht("dddd",function(t,e){return e.weekdaysRegex(t)}),pt(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:f(i).invalidWeekday=t}),pt(["d","e","E"],function(t,e,i,n){e[n]=S(t)});var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null}var Vt=at,Ut=at,Yt=at;function Gt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),l.push(s),h.push(n),h.push(r),h.push(s);for(o.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=ut(a[e]),l[e]=ut(l[e]),h[e]=ut(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function qt(){return this.hours()%12||12}function Kt(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Zt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,qt),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+qt.apply(this)+N(this.minutes(),2)}),W("hmmss",0,0,function(){return""+qt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),L("hour","h"),F("hour",13),ht("a",Zt),ht("A",Zt),ht("H",Q),ht("h",Q),ht("k",Q),ht("HH",Q,G),ht("hh",Q,G),ht("kk",Q,G),ht("hmm",X),ht("hmmss",J),ht("Hmm",X),ht("Hmmss",J),ft(["H","HH"],3),ft(["k","kk"],function(t,e,i){var n=S(t);e[3]=24===n?0:n}),ft(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),ft(["h","hh"],function(t,e,i){e[3]=S(t),f(i).bigHour=!0}),ft("hmm",function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n)),f(i).bigHour=!0}),ft("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r)),f(i).bigHour=!0}),ft("Hmm",function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n))}),ft("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r))});var Qt,Xt=_t("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:Et,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:zt,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function ne(e){var i=null;if(!te[e]&&t&&t.exports)try{i=Qt._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),re(i)}catch(t){}return te[e]}function re(t,e){var i;return t&&((i=o(e)?oe(t):se(t,e))?Qt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function se(t,e){if(null!==e){var i,n=Jt;if(e.abbr=t,null!=te[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])n=te[e.parentLocale]._config;else{if(null==(i=ne(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;n=i._config}return te[t]=new R(M(n,e)),ee[t]&&ee[t].forEach(function(t){se(t.name,t.config)}),re(t),te[t]}return delete te[t],null}function oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!r(t)){if(e=ne(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=ie(t[s]).split("-")).length,i=(i=ie(t[s+1]))?i.split("-"):null;e>0;){if(n=ne(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(r,i,!0)>=e-1)break;e--}s++}return Qt}(t)}function ae(t){var e,i=t._a;return i&&-2===f(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,f(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),f(t)._overflowWeeks&&-1===e&&(e=7),f(t)._overflowWeekday&&-1===e&&(e=8),f(t).overflow=e),t}function le(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e,i,r,s,o,a=[];if(!t._d){for(r=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=le(e.GG,t._a[0],Ft(xe(),1,4).year),n=le(e.W,1),((r=le(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var h=Ft(xe(),s,o);i=le(e.gg,t._a[0],h.year),n=le(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}n<1||n>Nt(i,s,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=$t(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=le(t._a[0],r[0]),(t._dayOfYear>mt(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),i=It(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:Lt).apply(null,a),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(f(t).weekdayMismatch=!0)}}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function me(t){var e,i,n,r,s,o,a=t._i,l=ce.exec(a)||ue.exec(a);if(l){for(f(t).iso=!0,e=0,i=fe.length;e<i;e++)if(fe[e][1].exec(l[1])){r=fe[e][0],n=!1!==fe[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(l[3])){s=(l[2]||" ")+pe[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!de.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),we(t)}else t._isValid=!1}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ye(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _e(t){var e,i,n,r,s,o,a=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(a){var l=(e=a[3],i=a[2],n=a[5],r=a[6],s=a[7],o=[ye(a[4]),Et.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)],s&&o.push(parseInt(s,10)),o);if(!function(t,e,i){return!t||Ht.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}(a[1],l,t))return;t._a=l,t._tzm=function(t,e,i){if(t)return be[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(a[8],a[9],a[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function we(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],f(t).empty=!0;var e,i,r,s,o,a=""+t._i,l=a.length,h=0;for(r=U(t._f,t._locale).match(B)||[],e=0;e<r.length;e++)(i=(a.match(ct(s=r[e],t))||[])[0])&&((o=a.substr(0,a.indexOf(i))).length>0&&f(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),h+=i.length),z[s]?(i?f(t).empty=!1:f(t).unusedTokens.push(s),gt(s,i,t)):t._strict&&!i&&f(t).unusedTokens.push(s);f(t).charsLeftOver=l-h,a.length>0&&f(t).unusedInput.push(a),t._a[3]<=12&&!0===f(t).bigHour&&t._a[3]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),he(t),ae(t)}else _e(t);else me(t)}function Se(t){var e=t._i,i=t._f;return t._locale=t._locale||oe(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new b(ae(e)):(l(e)?t._d=e:r(i)?function(t){var e,i,n,r,s;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],we(e),p(e)&&(s+=f(e).charsLeftOver,s+=10*f(e).unusedTokens.length,f(e).score=s,(null==n||s<n)&&(n=s,i=e));u(t,i||e)}(t):i?we(t):function(t){var e=t._i;o(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ge.exec(t._i);null===e?(me(t),!1===t._isValid&&(delete t._isValid,_e(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=h(e.slice(0),function(t){return parseInt(t,10)}),he(t)):s(e)?function(t){if(!t._d){var e=P(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),he(t)}}(t):a(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function ke(t,e,i,n,o){var a,l={};return!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=i,l._i=t,l._f=e,l._strict=n,(a=new b(ae(Se(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xe(t,e,i,n){return ke(t,e,i,n,!1)}n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ce=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Ee=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Te(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return xe();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var e=P(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===yt.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Ae.length;++n)if(t[Ae[n]]){if(i)return!1;parseFloat(t[Ae[n]])!==S(t[Ae[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=oe(),this._bubble()}function Me(t){return t instanceof Oe}function Re(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,e){W(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)})}De("Z",":"),De("ZZ",""),ht("Z",ot),ht("ZZ",ot),ft(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ie(ot,t)});var Le=/([\+\-]|\d\d)/gi;function Ie(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Le)||["-",0,0],r=60*n[1]+S(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Pe(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(_(t)||l(t)?t.valueOf():xe(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):xe(t).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ne=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function je(t,e){var i,n,r,s,o,l,h=t,u=null;return Me(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(h={},e?h[e]=t:h.milliseconds=t):(u=Ne.exec(t))?(i="-"===u[1]?-1:1,h={y:0,d:S(u[2])*i,h:S(u[3])*i,m:S(u[4])*i,s:S(u[5])*i,ms:S(Re(1e3*u[6]))*i}):(u=Be.exec(t))?h={y:He(u[2],i="-"===u[1]?-1:1),M:He(u[3],i),w:He(u[4],i),d:He(u[5],i),h:He(u[6],i),m:He(u[7],i),s:He(u[8],i)}:null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(s=xe(h.from),o=xe(h.to),r=s.isValid()&&o.isValid()?(o=Pe(o,s),s.isBefore(o)?l=ze(s,o):((l=ze(o,s)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(h={}).ms=r.milliseconds,h.M=r.months),n=new Oe(h),Me(t)&&c(t,"_locale")&&(n._locale=t._locale),n}function He(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ze(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function We(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Ve(this,je(i="string"==typeof i?+i:i,n),t),this}}function Ve(t,e,i,r){var s=e._milliseconds,o=Re(e._days),a=Re(e._months);t.isValid()&&(r=null==r||r,a&&At(t,wt(t,"Month")+a*i),o&&St(t,"Date",wt(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),r&&n.updateOffset(t,o||a))}je.fn=Oe.prototype,je.invalid=function(){return je(NaN)};var Ue=We(1,"add"),Ye=We(-1,"subtract");function Ge(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=oe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ke=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ze(){return this._locale}var Qe=6e4,Xe=60*Qe,Je=3506328*Xe;function ti(t,e){return(t%e+e)%e}function ei(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-Je:new Date(t,e,i).valueOf()}function ii(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-Je:Date.UTC(t,e,i)}function ni(t,e){W(0,[t,t.length],0,e)}function ri(t,e,i,n,r){var s;return null==t?Ft(this,n,r).year:(e>(s=Nt(t,n,r))&&(e=s),si.call(this,t,e,i,n,r))}function si(t,e,i,n,r){var s=$t(t,e,i,n,r),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ni("gggg","weekYear"),ni("ggggg","weekYear"),ni("GGGG","isoWeekYear"),ni("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ht("G",rt),ht("g",rt),ht("GG",Q,G),ht("gg",Q,G),ht("GGGG",et,K),ht("gggg",et,K),ht("GGGGG",it,Z),ht("ggggg",it,Z),pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=S(t)}),pt(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),L("quarter","Q"),F("quarter",7),ht("Q",Y),ft("Q",function(t,e){e[1]=3*(S(t)-1)}),W("D",["DD",2],"Do","date"),L("date","D"),F("date",9),ht("D",Q),ht("DD",Q,G),ht("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ft(["D","DD"],2),ft("Do",function(t,e){e[2]=S(t.match(Q)[0])});var oi=_t("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("dayOfYear",4),ht("DDD",tt),ht("DDDD",q),ft(["DDD","DDDD"],function(t,e,i){i._dayOfYear=S(t)}),W("m",["mm",2],0,"minute"),L("minute","m"),F("minute",14),ht("m",Q),ht("mm",Q,G),ft(["m","mm"],4);var ai=_t("Minutes",!1);W("s",["ss",2],0,"second"),L("second","s"),F("second",15),ht("s",Q),ht("ss",Q,G),ft(["s","ss"],5);var li,hi=_t("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),F("millisecond",16),ht("S",tt,Y),ht("SS",tt,G),ht("SSS",tt,q),li="SSSS";li.length<=9;li+="S")ht(li,nt);function ci(t,e){e[6]=S(1e3*("0."+t))}for(li="S";li.length<=9;li+="S")ft(li,ci);var ui=_t("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var di=b.prototype;function fi(t){return t}di.add=Ue,di.calendar=function(t,e){var i=t||xe(),r=Pe(i,this).startOf("day"),s=n.calendarFormat(this,r)||"sameElse",o=e&&(O(e[s])?e[s].call(this,i):e[s]);return this.format(o||this.localeData().calendar(s,this,xe(i)))},di.clone=function(){return new b(this)},di.diff=function(t,e,i){var n,r,s;if(!this.isValid())return NaN;if(!(n=Pe(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=I(e)){case"year":s=Ge(this,n)/12;break;case"month":s=Ge(this,n);break;case"quarter":s=Ge(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:w(s)},di.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xe-ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe)-1;break;case"minute":e=this._d.valueOf(),e+=Qe-ti(e,Qe)-1;break;case"second":e=this._d.valueOf(),e+=1e3-ti(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},di.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},di.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||xe(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.fromNow=function(t){return this.from(xe(),t)},di.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||xe(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.toNow=function(t){return this.to(xe(),t)},di.get=function(t){return O(this[t=I(t)])?this[t]():this},di.invalidAt=function(){return f(this).overflow},di.isAfter=function(t,e){var i=_(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},di.isBefore=function(t,e){var i=_(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},di.isBetween=function(t,e,i,n){var r=_(t)?t:xe(t),s=_(e)?e:xe(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},di.isSame=function(t,e){var i,n=_(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},di.isValid=function(){return p(this)},di.lang=Ke,di.locale=qe,di.localeData=Ze,di.max=Ee,di.min=Ce,di.parsingFlags=function(){return u({},f(this))},di.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:$[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=P(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(O(this[t=I(t)]))return this[t](e);return this},di.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe);break;case"minute":e=this._d.valueOf(),e-=ti(e,Qe);break;case"second":e=this._d.valueOf(),e-=ti(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},di.subtract=Ye,di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},di.toDate=function(){return new Date(this.valueOf())},di.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?V(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(i,"Z")):V(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},di.toJSON=function(){return this.isValid()?this.toISOString():null},di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},di.unix=function(){return Math.floor(this.valueOf()/1e3)},di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},di.year=bt,di.isLeapYear=function(){return vt(this.year())},di.weekYear=function(t){return ri.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},di.isoWeekYear=function(t){return ri.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},di.quarter=di.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},di.month=Ot,di.daysInMonth=function(){return kt(this.year(),this.month())},di.week=di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},di.isoWeek=di.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},di.weeksInYear=function(){var t=this.localeData()._week;return Nt(this.year(),t.dow,t.doy)},di.isoWeeksInYear=function(){return Nt(this.year(),1,4)},di.date=oi,di.day=di.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},di.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},di.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},di.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},di.hour=di.hours=Xt,di.minute=di.minutes=ai,di.second=di.seconds=hi,di.millisecond=di.milliseconds=ui,di.utcOffset=function(t,e,i){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ie(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=$e(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?Ve(this,je(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:$e(this)},di.utc=function(t){return this.utcOffset(0,t)},di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this},di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ie(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},di.isLocal=function(){return!!this.isValid()&&!this._isUTC},di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},di.isUtc=Fe,di.isUTC=Fe,di.zoneAbbr=function(){return this._isUTC?"UTC":""},di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},di.dates=C("dates accessor is deprecated. Use date instead.",oi),di.months=C("months accessor is deprecated. Use month instead",Ot),di.years=C("years accessor is deprecated. Use year instead",bt),di.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),di.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Se(t))._a){var e=t._isUTC?d(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var pi=R.prototype;function gi(t,e,i,n){var r=oe(),s=d().set(n,e);return r[i](s,t)}function mi(t,e,i){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return gi(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=gi(t,n,i,"month");return r}function vi(t,e,i,n){"boolean"==typeof t?(a(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,a(e)&&(i=e,e=void 0),e=e||"");var r,s=oe(),o=t?s._week.dow:0;if(null!=i)return gi(e,(i+o)%7,n,"day");var l=[];for(r=0;r<7;r++)l[r]=gi(e,(r+o)%7,n,"day");return l}pi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return O(n)?n.call(e,i):n},pi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},pi.invalidDate=function(){return this._invalidDate},pi.ordinal=function(t){return this._ordinal.replace("%d",t)},pi.preparse=fi,pi.postformat=fi,pi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return O(r)?r(t,e,i,n):r.replace(/%d/i,t)},pi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return O(i)?i(e):i.replace(/%s/i,e)},pi.set=function(t){var e,i;for(i in t)O(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pi.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},pi.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pi.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return Tt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},pi.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Rt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pi.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pi.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},pi.firstDayOfYear=function(){return this._week.doy},pi.firstDayOfWeek=function(){return this._week.dow},pi.weekdays=function(t,e){var i=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Bt(i,this._week.dow):t?i[t.day()]:i},pi.weekdaysMin=function(t){return!0===t?Bt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},pi.weekdaysShort=function(t){return!0===t?Bt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},pi.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return Wt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},pi.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},re("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",re),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",oe);var yi=Math.abs;function bi(t,e,i,n){var r=je(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function _i(t){return t<0?Math.floor(t):Math.ceil(t)}function wi(t){return 4800*t/146097}function Si(t){return 146097*t/4800}function ki(t){return function(){return this.as(t)}}var xi=ki("ms"),Ci=ki("s"),Ei=ki("m"),Ti=ki("h"),Ai=ki("d"),Oi=ki("w"),Mi=ki("M"),Ri=ki("Q"),Di=ki("y");function Li(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ii=Li("milliseconds"),Pi=Li("seconds"),$i=Li("minutes"),Fi=Li("hours"),Ni=Li("days"),Bi=Li("months"),ji=Li("years"),Hi=Math.round,zi={ss:44,s:45,m:45,h:22,d:26,M:11};function Wi(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}var Vi=Math.abs;function Ui(t){return(t>0)-(t<0)||+t}function Yi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Vi(this._milliseconds)/1e3,n=Vi(this._days),r=Vi(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60;var s=w(r/12),o=r%=12,a=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",f=Ui(this._months)!==Ui(u)?"-":"",p=Ui(this._days)!==Ui(u)?"-":"",g=Ui(this._milliseconds)!==Ui(u)?"-":"";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Gi=Oe.prototype;return Gi.isValid=function(){return this._isValid},Gi.abs=function(){var t=this._data;return this._milliseconds=yi(this._milliseconds),this._days=yi(this._days),this._months=yi(this._months),t.milliseconds=yi(t.milliseconds),t.seconds=yi(t.seconds),t.minutes=yi(t.minutes),t.hours=yi(t.hours),t.months=yi(t.months),t.years=yi(t.years),this},Gi.add=function(t,e){return bi(this,t,e,1)},Gi.subtract=function(t,e){return bi(this,t,e,-1)},Gi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+wi(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Si(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Gi.asMilliseconds=xi,Gi.asSeconds=Ci,Gi.asMinutes=Ei,Gi.asHours=Ti,Gi.asDays=Ai,Gi.asWeeks=Oi,Gi.asMonths=Mi,Gi.asQuarters=Ri,Gi.asYears=Di,Gi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Gi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*_i(Si(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=w(s/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,i=w(e/60),l.hours=i%24,o+=w(i/24),a+=r=w(wi(o)),o-=_i(Si(r)),n=w(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},Gi.clone=function(){return je(this)},Gi.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Gi.milliseconds=Ii,Gi.seconds=Pi,Gi.minutes=$i,Gi.hours=Fi,Gi.days=Ni,Gi.weeks=function(){return w(this.days()/7)},Gi.months=Bi,Gi.years=ji,Gi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=je(t).abs(),r=Hi(n.as("s")),s=Hi(n.as("m")),o=Hi(n.as("h")),a=Hi(n.as("d")),l=Hi(n.as("M")),h=Hi(n.as("y")),c=r<=zi.ss&&["s",r]||r<zi.s&&["ss",r]||s<=1&&["m"]||s<zi.m&&["mm",s]||o<=1&&["h"]||o<zi.h&&["hh",o]||a<=1&&["d"]||a<zi.d&&["dd",a]||l<=1&&["M"]||l<zi.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Wi.apply(null,c)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Gi.toISOString=Yi,Gi.toString=Yi,Gi.toJSON=Yi,Gi.locale=qe,Gi.localeData=Ze,Gi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yi),Gi.lang=Ke,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",rt),ht("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,i){i._d=new Date(S(t))}),n.version="2.24.0",e=xe,n.fn=di,n.min=function(){return Te("isBefore",[].slice.call(arguments,0))},n.max=function(){return Te("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(t){return xe(1e3*t)},n.months=function(t,e){return mi(t,e,"months")},n.isDate=l,n.locale=re,n.invalid=g,n.duration=je,n.isMoment=_,n.weekdays=function(t,e,i){return vi(t,e,i,"weekdays")},n.parseZone=function(){return xe.apply(null,arguments).parseZone()},n.localeData=oe,n.isDuration=Me,n.monthsShort=function(t,e){return mi(t,e,"monthsShort")},n.weekdaysMin=function(t,e,i){return vi(t,e,i,"weekdaysMin")},n.defineLocale=se,n.updateLocale=function(t,e){if(null!=e){var i,n,r=Jt;null!=(n=ne(t))&&(r=n._config),(i=new R(e=M(r,e))).parentLocale=te[t],te[t]=i,re(t)}else null!=te[t]&&(null!=te[t].parentLocale?te[t]=te[t].parentLocale:null!=te[t]&&delete te[t]);return te[t]},n.locales=function(){return E(te)},n.weekdaysShort=function(t,e,i){return vi(t,e,i,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(t){return void 0===t?Hi:"function"==typeof t&&(Hi=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==zi[t]&&(void 0===e?zi[t]:(zi[t]=e,"s"===t&&(zi.ss=e-1),!0))},n.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},n.prototype=di,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}),_N=/^\/?Date\((-?\d+)/i;function wN(t){return bN.isMoment(t)}function SN(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return gN(t)&&!isNaN(Date.parse(t))?bN(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(pN(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(wN(t))return new Date(t.valueOf());if(gN(t))return(i=_N.exec(t))?new Date(Number(i[1])):bN(new Date(t)).toDate();throw new Error("Cannot convert object of type "+yN(t)+" to type Date");case"Moment":if(pN(t))return bN(t);if(t instanceof Date)return bN(t.valueOf());if(wN(t))return bN(t);if(gN(t))return i=_N.exec(t),bN(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+yN(t)+" to type Date");case"ISODate":if(pN(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(wN(t))return t.toDate().toISOString();if(gN(t))return(i=_N.exec(t))?new Date(Number(i[1])).toISOString():bN(t).format();throw new Error("Cannot convert object of type "+yN(t)+" to type ISODate");case"ASPDate":if(pN(t))return"/Date("+t+")/";if(t instanceof Date||wN(t))return"/Date("+t.valueOf()+")/";if(gN(t))return"/Date("+((i=_N.exec(t))?new Date(Number(i[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+yN(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function kN(t){return"string"==typeof t||"number"==typeof t}var xN=SD("splice"),CN=lM("splice",{ACCESSORS:!0,0:0,1:2}),EN=Math.max,TN=Math.min;dA({target:"Array",proto:!0,forced:!xN||!CN},{splice:function(t,e){var i,n,r,s,o,a,l=hO(this),h=bA(l.length),c=SA(t,h),u=arguments.length;if(0===u?i=n=0:1===u?(i=0,n=h-c):(i=u-2,n=TN(EN(vA(e),0),h-c)),h+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=eM(l,n),s=0;s<n;s++)(o=c+s)in l&&NA(r,s,l[o]);if(r.length=n,i<n){for(s=c;s<h-n;s++)a=s+i,(o=s+n)in l?l[a]=l[o]:delete l[a];for(s=h;s>h-n+i;s--)delete l[s-1]}else if(i>n)for(s=h-n;s>c;s--)a=s+i-1,(o=s+n-1)in l?l[a]=l[o]:delete l[a];for(s=0;s<i;s++)l[s+c]=arguments[s+2];return l.length=h-n+i,r}});var AN=fM("Array").splice,ON=Array.prototype,MN=[].slice,RN=/MSIE .\./.test(mD),DN=function(t){return function(e,i){var n=arguments.length>2,r=n?MN.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};dA({global:!0,bind:!0,forced:RN},{setTimeout:DN(TT.setTimeout),setInterval:DN(TT.setInterval)});var LN=nA.setTimeout,IN=function(){function t(e){wL(this,t),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(e)}return kL(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=LN(function(){t.flush()},this.delay))}},{key:"flush",value:function(){var t,e;vM(t=function(t){var e=t.splice;return t===ON||t instanceof Array&&e===ON.splice?AN:e}(e=this._queue).call(e,0)).call(t,function(t){t.fn.apply(t.context||t.fn,t.args||[])})}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var o=i.replace[s];r.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:r},n}}]),t}(),PN=function(){function t(){wL(this,t),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=t.prototype.on,this.unsubscribe=t.prototype.off}return kL(t,[{key:"_trigger",value:function(t,e,i){var n,r;if("*"===t)throw new Error("Cannot trigger event *");vM(n=PD(r=[]).call(r,gD(this._subscribers[t]),gD(this._subscribers["*"]))).call(n,function(n){n(t,e,null!=i?i:null)})}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var i;this._subscribers[t]=AD(i=this._subscribers[t]).call(i,function(t){return t!==e})}}]),t}(),$N=(uL("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},yL),nA.Set),FN=RL,NN=function(t,e){return function(t){if(tD(t))return t}(t)||function(t,e){if(pD(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=IR(t);!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()},BN=function(){function t(e){wL(this,t),this._pairs=e}return kL(t,[{key:bR,value:fR.mark(function t(){var e,i,n,r,s,o,a,l;return fR.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=IR(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=NN(s.value,2),a=o[0],l=o[1],t.next=9,[a,l];case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})},{key:"entries",value:fR.mark(function t(){var e,i,n,r,s,o,a,l;return fR.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=IR(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=NN(s.value,2),a=o[0],l=o[1],t.next=9,[a,l];case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})},{key:"keys",value:fR.mark(function t(){var e,i,n,r,s,o,a;return fR.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=IR(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=NN(s.value,1),a=o[0],t.next=9,a;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})},{key:"values",value:fR.mark(function t(){var e,i,n,r,s,o,a;return fR.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=IR(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=NN(s.value,2),a=o[1],t.next=9,a;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})},{key:"toIdArray",value:function(){var t;return ZD(t=gD(this._pairs)).call(t,function(t){return t[0]})}},{key:"toItemArray",value:function(){var t;return ZD(t=gD(this._pairs)).call(t,function(t){return t[1]})}},{key:"toEntryArray",value:function(){return gD(this._pairs)}},{key:"toObjectMap",value:function(){var t=FN(null),e=!0,i=!1,n=void 0;try{for(var r,s=IR(this._pairs);!(e=(r=s.next()).done);e=!0){var o=NN(r.value,2);t[o[0]]=o[1]}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}return t}},{key:"toMap",value:function(){return new bL(this._pairs)}},{key:"toIdSet",value:function(){return new $N(this.toIdArray())}},{key:"toItemSet",value:function(){return new $N(this.toItemArray())}},{key:"cache",value:function(){return new t(gD(this._pairs))}},{key:"distinct",value:function(t){var e=new $N,i=!0,n=!1,r=void 0;try{for(var s,o=IR(this._pairs);!(i=(s=o.next()).done);i=!0){var a=NN(s.value,2);e.add(t(a[1],a[0]))}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"filter",value:function(e){var i=this._pairs;return new t(TR({},bR,fR.mark(function t(){var n,r,s,o,a,l,h,c;return fR.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,s=void 0,t.prev=3,o=IR(i);case 5:if(n=(a=o.next()).done){t.next=13;break}if(l=NN(a.value,2),!e(c=l[1],h=l[0])){t.next=10;break}return t.next=10,[h,c];case 10:n=!0,t.next=5;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),r=!0,s=t.t0;case 19:t.prev=19,t.prev=20,n||null==o.return||o.return();case 22:if(t.prev=22,!r){t.next=25;break}throw s;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}},t,null,[[3,15,19,27],[20,,22,26]])})))}},{key:"forEach",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=IR(this._pairs);!(e=(r=s.next()).done);e=!0){var o=NN(r.value,2);t(o[1],o[0])}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}}},{key:"map",value:function(e){var i=this._pairs;return new t(TR({},bR,fR.mark(function t(){var n,r,s,o,a,l,h,c;return fR.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,s=void 0,t.prev=3,o=IR(i);case 5:if(n=(a=o.next()).done){t.next=12;break}return l=NN(a.value,2),h=l[0],c=l[1],t.next=9,[h,e(c,h)];case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,s=t.t0;case 18:t.prev=18,t.prev=19,n||null==o.return||o.return();case 21:if(t.prev=21,!r){t.next=24;break}throw s;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,null,[[3,14,18,26],[19,,21,25]])})))}},{key:"max",value:function(t){var e=IR(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var s=NN(i.value,2),o=s[1],a=t(o,s[0]);a>r&&(r=a,n=o)}return n}},{key:"min",value:function(t){var e=IR(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var s=NN(i.value,2),o=s[1],a=t(o,s[0]);a<r&&(r=a,n=o)}return n}},{key:"reduce",value:function(t,e){var i=!0,n=!1,r=void 0;try{for(var s,o=IR(this._pairs);!(i=(s=o.next()).done);i=!0){var a=NN(s.value,2);e=t(e,a[1],a[0])}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"sort",value:function(e){var i=this;return new t(TR({},bR,function(){var t;return IR(zR(t=gD(i._pairs)).call(t,function(t,i){var n=NN(t,2),r=n[0],s=n[1],o=NN(i,2);return e(s,o[1],r,o[0])}))}))}}]),t}();function jN(t,e){var i=iL(t);if(nR){var n=nR(t);e&&(n=AD(n).call(n,function(e){return _M(t,e).enumerable})),i.push.apply(i,n)}return i}var HN=function(){console.warn("Type coercion has been deprecated. Please, use data pipes instead. See https://visjs.github.io/vis-data/data/datapipe.html#TypeCoercion for more details with working migration example."),console.trace()},zN=function(t){function e(t,i){var n;if(wL(this,e),n=CL(this,OL(e).call(this)),t&&!_L(t)&&(i=t,t=[]),n._options=i||{},n._data=new bL,n.length=0,n._idProp=n._options.fieldId||"id",n._type={},n._options.type){HN();for(var r=iL(n._options.type),s=0,o=r.length;s<o;s++){var a=r[s],l=n._options.type[a];n._type[a]="Date"==l||"ISODate"==l||"ASPDate"==l?"Date":l}}return t&&t.length&&n.add(t),n.setOptions(i),n}return IL(e,PN),kL(e,[{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=IN.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===tL(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=this,r=[];if(_L(t)){var s=ZD(t).call(t,function(t){return t[n._idProp]});if(function(t){var e=t.some;return t===VD||t instanceof Array&&e===VD.some?WD:e}(s).call(s,function(t){return n._data.has(t)}))throw new Error("A duplicate id was found in the parameter array.");for(var o=0,a=t.length;o<a;o++)i=this._addItem(t[o]),r.push(i)}else{if(!t||"object"!==tL(t))throw new Error("Unknown dataType");i=this._addItem(t),r.push(i)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var i=this,n=[],r=[],s=[],o=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&i._data.has(e)){var l=t,h=BD({},i._data.get(e)),c=i._updateItem(l);r.push(c),o.push(l),s.push(h)}else{var u=i._addItem(t);n.push(u)}};if(_L(t))for(var h=0,c=t.length;h<c;h++)t[h]&&"object"===tL(t[h])?l(t[h]):console.warn("Ignoring input item, which is not an object at index "+h);else{if(!t||"object"!==tL(t))throw new Error("Unknown dataType");l(t)}return n.length&&this._trigger("add",{items:n},e),r.length&&this._trigger("update",{items:r,oldData:s,data:o},e),PD(n).call(n,r)}},{key:"updateOnly",value:function(t,e){var i,n=this;_L(t)||(t=[t]);var r=ZD(i=ZD(t).call(t,function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}})).call(i,function(t){var e=t.oldData,i=t.update,r=e[n._idProp],s=vN(vN({},e),i);return n._data.set(r,s),{id:r,oldData:e,updatedData:s}});if(r.length){var s={items:ZD(r).call(r,function(t){return t.id}),oldData:ZD(r).call(r,function(t){return t.oldData}),data:ZD(r).call(r,function(t){return t.updatedData})};return this._trigger("update",s,e),s.items}return[]}},{key:"get",value:function(t,e){var i=void 0,n=void 0,r=void 0;kN(t)?(i=t,r=e):_L(t)?(n=t,r=e):r=t;var s=r&&"Object"===r.returnType?"Object":"Array",o=r&&r.type||this._options.type,a=r&&AD(r),l=[],h=null,c=null;if(null!=i)(h=this._getItem(i,o))&&a&&!a(h)&&(h=null);else if(null!=n)for(var u=0,d=n.length;u<d;u++)null==(h=this._getItem(n[u],o))||a&&!a(h)||l.push(h);else for(var f,p=0,g=(c=gD(XR(f=this._data).call(f))).length;p<g;p++)null==(h=this._getItem(c[p],o))||a&&!a(h)||l.push(h);if(r&&r.order&&null==i&&this._sort(l,r.order),r&&r.fields){var m=r.fields;if(null!=i&&null!=h)h=this._filterFields(h,m);else for(var v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],m)}if("Object"==s){for(var b={},_=0,w=l.length;_<w;_++){var S=l[_];b[S[this._idProp]]=S}return b}return null!=i?h:l}},{key:"getIds",value:function(t){var e,i,n=this._data,r=t&&AD(t),s=t&&t.order,o=t&&t.type||this._options.type,a=gD(XR(n).call(n)),l=[];if(r)if(s){i=[];for(var h=0,c=a.length;h<c;h++)r(e=this._getItem(a[h],o))&&i.push(e);this._sort(i,s);for(var u=0,d=i.length;u<d;u++)l.push(i[u][this._idProp])}else for(var f=0,p=a.length;f<p;f++)r(e=this._getItem(a[f],o))&&l.push(e[this._idProp]);else if(s){i=[];for(var g=0,m=a.length;g<m;g++)i.push(n.get(a[g]));this._sort(i,s);for(var v=0,y=i.length;v<y;v++)l.push(i[v][this._idProp])}else for(var b=0,_=a.length;b<_;b++)e=n.get(a[b]),l.push(e[this._idProp]);return l}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&AD(e),n=e&&e.type||this._options.type,r=this._data,s=gD(XR(r).call(r));if(e&&e.order)for(var o=this.get(e),a=0,l=o.length;a<l;a++){var h=o[a];t(h,h[this._idProp])}else for(var c=0,u=s.length;c<u;c++){var d=s[c],f=this._getItem(d,n);i&&!i(f)||t(f,d)}}},{key:"map",value:function(t,e){for(var i=e&&AD(e),n=e&&e.type||this._options.type,r=[],s=this._data,o=gD(XR(s).call(s)),a=0,l=o.length;a<l;a++){var h=o[a],c=this._getItem(h,n);i&&!i(c)||r.push(t(c,h))}return e&&e.order&&this._sort(r,e.order),r}},{key:"_filterFields",value:function(t,e){var i;return t?function(t){var e=t.reduce;return t===qR||t instanceof Array&&e===qR.reduce?GR:e}(i=_L(e)?e:iL(e)).call(i,function(e,i){return e[i]=t[i],e},{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var i=e;zR(t).call(t,function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");zR(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var i=[],n=[],r=_L(t)?t:[t],s=0,o=r.length;s<o;s++){var a=this._remove(r[s]);if(a){var l=a[this._idProp];null!=l&&(i.push(l),n.push(a))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}},{key:"_remove",value:function(t){var e;if(kN(t)?e=t:t&&"object"===tL(t)&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}},{key:"clear",value:function(t){for(var e,i=gD(XR(e=this._data).call(e)),n=[],r=0,s=i.length;r<s;r++)n.push(this._data.get(i[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}},{key:"max",value:function(t){var e=null,i=null,n=!0,r=!1,s=void 0;try{for(var o,a=IR(RR(l=this._data).call(l));!(n=(o=a.next()).done);n=!0){var l,h=o.value,c=h[t];"number"==typeof c&&(null==i||c>i)&&(e=h,i=c)}}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return e||null}},{key:"min",value:function(t){var e=null,i=null,n=!0,r=!1,s=void 0;try{for(var o,a=IR(RR(l=this._data).call(l));!(n=(o=a.next()).done);n=!0){var l,h=o.value,c=h[t];"number"==typeof c&&(null==i||c<i)&&(e=h,i=c)}}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return e||null}},{key:"distinct",value:function(t){for(var e=this._data,i=gD(XR(e).call(e)),n=[],r=this._options.type&&this._options.type[t]||null,s=0,o=0,a=i.length;o<a;o++){for(var l=e.get(i[o])[t],h=!1,c=0;c<s;c++)if(n[c]==l){h=!0;break}h||void 0===l||(n[s]=l,s++)}if(r){HN();for(var u=0,d=n.length;u<d;u++)n[u]=SN(n[u],r)}return n}},{key:"_addItem",value:function(t){var e=t[this._idProp];if(null!=e){if(this._data.has(e))throw new Error("Cannot add item: item with id "+e+" already exists")}else e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):void 0,t={});var r=t.random||(t.rng||FL)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[n+s]=r[s];return e||function(t,e){var i=0;return PL[t[i++]]+PL[t[i++]]+PL[t[i++]]+PL[t[i++]]+"-"+PL[t[i++]]+PL[t[i++]]+"-"+PL[t[i++]]+PL[t[i++]]+"-"+PL[t[i++]]+PL[t[i++]]+"-"+PL[t[i++]]+PL[t[i++]]+PL[t[i++]]+PL[t[i++]]+PL[t[i++]]+PL[t[i++]]}(r)}(),t[this._idProp]=e;for(var i={},n=iL(t),r=0,s=n.length;r<s;r++){var o=n[r],a=this._type[o];null!=a&&HN(),i[o]=SN(t[o],a)}return this._data.set(e,i),++this.length,e}},{key:"_getItem",value:function(t,e){var i,n=this._data.get(t);if(!n)return null;var r=iL(n);if(e){HN(),i={};for(var s=0,o=r.length;s<o;s++){var a=r[s];i[a]=SN(n[a],e[a])}}else i=function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)vM(i=jN(Object(n),!0)).call(i,function(e){TR(t,e,n[e])});else if(BA)RA(t,BA(n));else{var r;vM(r=jN(Object(n))).call(r,function(e){pA(t,e,_M(n,e))})}}return t}({},n);return null==i[this._idProp]&&(i[this._idProp]=n.id),i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+function(t,e,i){return nA.JSON.stringify.apply(null,arguments)}(t)+")");var i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=iL(t),r=0,s=n.length;r<s;r++){var o=n[r],a=this._type[o];null!=a&&HN(),i[o]=SN(t[o],a)}return e}},{key:"stream",value:function(t){if(t){var e=this._data;return new BN(TR({},bR,fR.mark(function i(){var n,r,s,o,a,l,h;return fR.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=!0,r=!1,s=void 0,i.prev=3,o=IR(t);case 5:if(n=(a=o.next()).done){i.next=14;break}if(null==(h=e.get(l=a.value))){i.next=11;break}return i.next=11,[l,h];case 11:n=!0,i.next=5;break;case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(3),r=!0,s=i.t0;case 20:i.prev=20,i.prev=21,n||null==o.return||o.return();case 23:if(i.prev=23,!r){i.next=26;break}throw s;case 26:return i.finish(23);case 27:return i.finish(20);case 28:case"end":return i.stop()}},i,null,[[3,16,20,28],[21,,23,27]])})))}var i;return new BN(TR({},bR,dR(i=function(t){var e=t.entries;return t===sR||t instanceof Array&&e===sR.entries||oR.hasOwnProperty(LO(t))?rR:e}(this._data)).call(i,this._data)))}}]),e}(),WN=function(t){function e(t,i){var n,r;return wL(this,e),(r=CL(this,OL(e).call(this))).length=0,r._ids=new $N,r._options=i||{},r._listener=dR(n=r._onEvent).call(n,xL(r)),r.setData(t),r}return IL(e,PN),kL(e,[{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:AD(this._options)}),i=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:AD(this._options)}),r=0,s=n.length;r<s;r++)this._ids.add(n[r]);this.length=n.length,this._trigger("add",{items:n})}else this._data=new zN;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:AD(this._options)}),e=gD(this._ids),i={},n=[],r=[],s=[],o=0,a=t.length;o<a;o++){var l=t[o];i[l]=!0,this._ids.has(l)||(n.push(l),this._ids.add(l))}for(var h=0,c=e.length;h<c;h++){var u=e[h],d=this._data.get(u);null==d?console.error("If you see this, report it please."):i[u]||(r.push(u),s.push(d),this._ids.delete(u))}this.length+=n.length-r.length,n.length&&this._trigger("add",{items:n}),r.length&&this._trigger("remove",{items:r,oldData:s})}},{key:"get",value:function(t,e){if(null==this._data)return null;var i,n=null;kN(t)||_L(t)?(n=t,i=e):i=t;var r=BD({},this._options,i),s=AD(this._options),o=i&&AD(i);return s&&o&&(r.filter=function(t){return s(t)&&o(t)}),null==n?this._data.get(r):this._data.get(n,r)}},{key:"getIds",value:function(t){if(this._data.length){var e=AD(this._options),i=null!=t?AD(t):null;return this._data.getIds({filter:i?e?function(t){return e(t)&&i(t)}:i:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var i,n,r=AD(this._options),s=e&&AD(e);n=s?r?function(t){return r(t)&&s(t)}:s:r,vM(i=this._data).call(i,t,{filter:n,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var i,n,r=AD(this._options),s=e&&AD(e);return n=s?r?function(t){return r(t)&&s(t)}:s:r,ZD(i=this._data).call(i,t,{filter:n,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||TR({},bR,dR(e=XR(this._ids)).call(e,this._ids)))}},{key:"_onEvent",value:function(t,e,i){if(e&&e.items&&this._data){var n=e.items,r=[],s=[],o=[],a=[],l=[],h=[];switch(t){case"add":for(var c=0,u=n.length;c<u;c++){var d=n[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=n.length;f<p;f++){var g=n[f];this.get(g)?this._ids.has(g)?(s.push(g),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(g),r.push(g)):this._ids.has(g)&&(this._ids.delete(g),o.push(g),h.push(e.oldData[f]))}break;case"remove":for(var m=0,v=n.length;m<v;m++){var y=n[m];this._ids.has(y)&&(this._ids.delete(y),o.push(y),h.push(e.oldData[m]))}}this.length+=r.length-o.length,r.length&&this._trigger("add",{items:r},i),s.length&&this._trigger("update",{items:s,oldData:a,data:l},i),o.length&&this._trigger("remove",{items:o,oldData:h},i)}}}]),e}(),VN=Object.freeze({__proto__:null,default:{DataSet:zN,DataView:WN,Queue:IN},DataSet:zN,DataStream:BN,DataView:WN,Queue:IN}),UN=eT;Jp({target:"Object",stat:!0,forced:!mp,sham:!mp},{defineProperties:zS});var YN=dp(function(t){var e=Vp.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)}),GN=jS.concat("length","prototype"),qN={f:Object.getOwnPropertyNames||function(t){return BS(t,GN)}},KN={f:Object.getOwnPropertySymbols},ZN=VS("Reflect","ownKeys")||function(t){var e=qN.f(Gp(t)),i=KN.f;return i?e.concat(i(t)):e};Jp({target:"Object",stat:!0,sham:!mp},{getOwnPropertyDescriptors:function(t){for(var e,i,n=Ep(t),r=$p.f,s=ZN(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&Wk(o,e,i);return o}});var QN=Vp.Object.getOwnPropertyDescriptors,XN=$p.f,JN=gp(function(){XN(1)});Jp({target:"Object",stat:!0,forced:!mp||JN,sham:!mp},{getOwnPropertyDescriptor:function(t,e){return XN(Ep(t),e)}});var tB=dp(function(t){var e=Vp.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)}),eB=tB,iB=Ek.filter,nB=Zk("filter"),rB=Mk("filter");Jp({target:"Array",proto:!0,forced:!nB||!rB},{filter:function(t){return iB(this,t,arguments.length>1?arguments[1]:void 0)}});var sB=ng("Array").filter,oB=Array.prototype,aB=function(t){var e=t.filter;return t===oB||t instanceof Array&&e===oB.filter?sB:e},lB=qN.f,hB={}.toString,cB="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],uB={f:function(t){return cB&&"[object Window]"==hB.call(t)?function(t){try{return lB(t)}catch(t){return cB.slice()}}(t):lB(Ep(t))}},dB={f:xS},fB=Kp.f,pB=function(t){var e=Vp.Symbol||(Vp.Symbol={});Mp(e,t)||fB(e,t,{value:dB.f(t)})},gB=Ek.forEach,mB=nS("hidden"),vB=xS("toPrimitive"),yB=fS.set,bB=fS.getterFor("Symbol"),_B=Object.prototype,wB=pp.Symbol,SB=VS("JSON","stringify"),kB=$p.f,xB=Kp.f,CB=uB.f,EB=bp.f,TB=Xw("symbols"),AB=Xw("op-symbols"),OB=Xw("string-to-symbol-registry"),MB=Xw("symbol-to-string-registry"),RB=Xw("wks"),DB=pp.QObject,LB=!DB||!DB.prototype||!DB.prototype.findChild,IB=mp&&gp(function(){return 7!=ZS(xB({},"a",{get:function(){return xB(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=kB(_B,e);n&&delete _B[e],xB(t,e,i),n&&t!==_B&&xB(_B,e,n)}:xB,PB=function(t,e){var i=TB[t]=ZS(wB.prototype);return yB(i,{type:"Symbol",tag:t,description:e}),mp||(i.description=e),i},$B=_S?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof wB},FB=function(t,e,i){t===_B&&FB(AB,e,i),Gp(t);var n=Ap(e,!0);return Gp(i),Mp(TB,n)?(i.enumerable?(Mp(t,mB)&&t[mB][n]&&(t[mB][n]=!1),i=ZS(i,{enumerable:_p(0,!1)})):(Mp(t,mB)||xB(t,mB,_p(1,{})),t[mB][n]=!0),IB(t,n,i)):xB(t,n,i)},NB=function(t,e){Gp(t);var i=Ep(e),n=HS(i).concat(zB(i));return gB(n,function(e){mp&&!BB.call(i,e)||FB(t,e,i[e])}),t},BB=function(t){var e=Ap(t,!0),i=EB.call(this,e);return!(this===_B&&Mp(TB,e)&&!Mp(AB,e))&&(!(i||!Mp(this,e)||!Mp(TB,e)||Mp(this,mB)&&this[mB][e])||i)},jB=function(t,e){var i=Ep(t),n=Ap(e,!0);if(i!==_B||!Mp(TB,n)||Mp(AB,n)){var r=kB(i,n);return!r||!Mp(TB,n)||Mp(i,mB)&&i[mB][n]||(r.enumerable=!0),r}},HB=function(t){var e=CB(Ep(t)),i=[];return gB(e,function(t){Mp(TB,t)||Mp(rS,t)||i.push(t)}),i},zB=function(t){var e=t===_B,i=CB(e?AB:Ep(t)),n=[];return gB(i,function(t){!Mp(TB,t)||e&&!Mp(_B,t)||n.push(TB[t])}),n};if(bS||(hk((wB=function(){if(this instanceof wB)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=eS(t),i=function(t){this===_B&&i.call(AB,t),Mp(this,mB)&&Mp(this[mB],e)&&(this[mB][e]=!1),IB(this,e,_p(1,t))};return mp&&LB&&IB(_B,e,{configurable:!0,set:i}),PB(e,t)}).prototype,"toString",function(){return bB(this).tag}),hk(wB,"withoutSetter",function(t){return PB(eS(t),t)}),bp.f=BB,Kp.f=FB,$p.f=jB,qN.f=uB.f=HB,KN.f=zB,dB.f=function(t){return PB(xS(t),t)},mp&&xB(wB.prototype,"description",{configurable:!0,get:function(){return bB(this).description}})),Jp({global:!0,wrap:!0,forced:!bS,sham:!bS},{Symbol:wB}),gB(HS(RB),function(t){pB(t)}),Jp({target:"Symbol",stat:!0,forced:!bS},{for:function(t){var e=String(t);if(Mp(OB,e))return OB[e];var i=wB(e);return OB[e]=i,MB[i]=e,i},keyFor:function(t){if(!$B(t))throw TypeError(t+" is not a symbol");if(Mp(MB,t))return MB[t]},useSetter:function(){LB=!0},useSimple:function(){LB=!1}}),Jp({target:"Object",stat:!0,forced:!bS,sham:!mp},{create:function(t,e){return void 0===e?ZS(t):NB(ZS(t),e)},defineProperty:FB,defineProperties:NB,getOwnPropertyDescriptor:jB}),Jp({target:"Object",stat:!0,forced:!bS},{getOwnPropertyNames:HB,getOwnPropertySymbols:zB}),Jp({target:"Object",stat:!0,forced:gp(function(){KN.f(1)})},{getOwnPropertySymbols:function(t){return KN.f(pS(t))}}),SB){var WB=!bS||gp(function(){var t=wB();return"[null]"!=SB([t])||"{}"!=SB({a:t})||"{}"!=SB(Object(t))});Jp({target:"JSON",stat:!0,forced:WB},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(Tp(e)||void 0!==t)&&!$B(t))return wk(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$B(e))return e}),r[1]=e,SB.apply(null,r)}})}wB.prototype[vB]||Zp(wB.prototype,vB,wB.prototype.valueOf),sk(wB,"Symbol"),rS[mB]=!0;var VB=Vp.Object.getOwnPropertySymbols,UB=gp(function(){HS(1)});Jp({target:"Object",stat:!0,forced:UB},{keys:function(t){return HS(pS(t))}});var YB=Vp.Object.keys,GB=function(t,e,i){return e in t?iT(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},qB="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",KB="["+qB+"]",ZB=RegExp("^"+KB+KB+"*"),QB=RegExp(KB+KB+"*$"),XB=function(t){return function(e){var i=String(Cp(e));return 1&t&&(i=i.replace(ZB,"")),2&t&&(i=i.replace(QB,"")),i}},JB={start:XB(1),end:XB(2),trim:XB(3)},tj=JB.trim,ej=pp.parseFloat,ij=1/ej(qB+"-0")!=-1/0?function(t){var e=tj(String(t)),i=ej(e);return 0===i&&"-"==e.charAt(0)?-0:i}:ej;Jp({global:!0,forced:parseFloat!=ij},{parseFloat:ij});var nj=Vp.parseFloat,rj=JB.trim,sj=pp.parseInt,oj=/^[+-]?0[Xx]/,aj=8!==sj(qB+"08")||22!==sj(qB+"0x16")?function(t,e){var i=rj(String(t));return sj(i,e>>>0||(oj.test(i)?16:10))}:sj;Jp({global:!0,forced:parseInt!=aj},{parseInt:aj});var lj=Vp.parseInt,hj=Hk,cj=xS("iterator"),uj=function(t,e){return function(t){if(hj(t))return t}(t)||function(t,e){if(function(t){var e=Object(t);return void 0!==e[cj]||"@@iterator"in e||Vw.hasOwnProperty(ek(e))}(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=yT(t);!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()};pB("iterator");var dj=dB.f("iterator"),fj=xS("isConcatSpreadable"),pj=qk>=51||!gp(function(){var t=[];return t[fj]=!1,t.concat()[0]!==t}),gj=Zk("concat"),mj=function(t){if(!Tp(t))return!1;var e=t[fj];return void 0!==e?!!e:wk(t)};Jp({target:"Array",proto:!0,forced:!pj||!gj},{concat:function(t){var e,i,n,r,s,o=pS(this),a=kk(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(mj(s=-1===e?o:arguments[e])){if(l+(r=DS(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&Wk(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Wk(a,l++,s)}return a.length=l,a}}),pB("asyncIterator"),pB("hasInstance"),pB("isConcatSpreadable"),pB("match"),pB("matchAll"),pB("replace"),pB("search"),pB("species"),pB("split"),pB("toPrimitive"),pB("toStringTag"),pB("unscopables"),sk(Math,"Math",!0),sk(pp.JSON,"JSON",!0);var vj=Vp.Symbol;pB("asyncDispose"),pB("dispose"),pB("observable"),pB("patternMatch"),pB("replaceAll");var yj=vj,bj=dp(function(t){function e(i){return t.exports=e="function"==typeof yj&&"symbol"==typeof dj?function(t){return typeof t}:function(t){return t&&"function"==typeof yj&&t.constructor===yj&&t!==yj.prototype?"symbol":typeof t},e(i)}t.exports=e}),_j=function(){function t(){tT(this,t)}return rT(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],n=!0,r=Hw(e,"chosen");if("boolean"==typeof r)n=r;else if("object"===bj(r)){if(-1===wx(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=Hw(e,["chosen",t]);"boolean"!=typeof s&&"function"!=typeof s||(n=s)}return n}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var r=-i.angle;e={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else e=n}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}(),wj=Zk("slice"),Sj=Mk("slice",{ACCESSORS:!0,0:0,1:2}),kj=xS("species"),xj=[].slice,Cj=Math.max;Jp({target:"Array",proto:!0,forced:!wj||!Sj},{slice:function(t,e){var i,n,r,s=Ep(this),o=DS(s.length),a=PS(t,o),l=PS(void 0===e?o:e,o);if(wk(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!wk(i.prototype)?Tp(i)&&null===(i=i[kj])&&(i=void 0):i=void 0,i===Array||void 0===i))return xj.call(s,a,l);for(n=new(void 0===i?Array:i)(Cj(l-a,0)),r=0;a<l;a++,r++)a in s&&Wk(n,r,s[a]);return n.length=r,n}});var Ej=ng("Array").slice,Tj=Array.prototype,Aj=function(t){var e=t.slice;return t===Tj||t instanceof Array&&e===Tj.slice?Ej:e},Oj=ng("Array").values,Mj=Array.prototype,Rj={DOMTokenList:!0,NodeList:!0},Dj=function(t){var e=t.values;return t===Mj||t instanceof Array&&e===Mj.values||Rj.hasOwnProperty(ek(t))?Oj:e},Lj=Object.assign,Ij=Object.defineProperty,Pj=!Lj||gp(function(){if(mp&&1!==Lj({b:1},Lj(Ij({},"a",{enumerable:!0,get:function(){Ij(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=Lj({},t)[i]||"abcdefghijklmnopqrst"!=HS(Lj({},e)).join("")})?function(t,e){for(var i=pS(t),n=arguments.length,r=1,s=KN.f,o=bp.f;n>r;)for(var a,l=xp(arguments[r++]),h=s?HS(l).concat(s(l)):HS(l),c=h.length,u=0;c>u;)a=h[u++],mp&&!o.call(l,a)||(i[a]=l[a]);return i}:Lj;Jp({target:"Object",stat:!0,forced:Object.assign!==Pj},{assign:Pj});var $j=Vp.Object.assign,Fj=function(){function t(e){tT(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return rT(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var r=this.measureText(n,i),s=$j({},Dj(r));s.text=e,s.width=r.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var r=e.blocks[n];i<r.height&&(i=r.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};$j(n,i),n.blocks=[];for(var r=void 0,s=[],o=0;o<i.blocks.length;o++){var a=i.blocks[o];0!==a.width?s.push(a):void 0===r&&(r=a)}0===s.length&&void 0!==r&&s.push(r),n.blocks=s,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),Nj={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},Bj=function(){function t(e){tT(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return rT(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.prepareRegExp(t),n=uj(i,2),r=n[0],s=n[1],o=r.test(this.text.substr(this.position,s));return o&&e&&(this.position+=s-1),o}},{key:"parseEndTag",value:function(t,e,i){var n=this.mod()===t;return!(!(n="mono"===t?n&&this.mono:n&&!this.mono)||!this.match(e)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var n=Nj[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}]),t}(),jj=function(){function t(e,i,n,r){var s=this;tT(this,t),this.ctx=e,this.parent=i,this.selected=n,this.hover=r,this.lines=new Fj(function(t,i){if(void 0===t)return 0;var o=s.parent.getFormattingValues(e,n,r,i),a=0;return""!==t&&(a=s.ctx.measureText(t).width),{width:a,values:o}})}return rT(t,[{key:"process",value:function(t){if(!_j.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var r=0;r<n;r++){var s=this.splitBlocks(i[r],e.multi);if(void 0!==s)if(0!==s.length){if(e.maxWdt>0)for(var o=0;o<s.length;o++)this.splitStringIntoLines(s[o].text,s[o].mod,!0);else for(var a=0;a<s.length;a++)this.lines.append(s[a].text,s[a].mod);this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var l=0;l<n;l++)this.splitStringIntoLines(i[l]);else for(var h=0;h<n;h++)this.lines.newLine(i[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new Bj(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var n=e.text.charAt(e.position);e.parseWS(n)||/</.test(n)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(n)||e.add(n),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new Bj(t),n=!0,r=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),n=!1)),!0)};i.position<i.text.length;){var s=i.text.charAt(i.position);i.parseWS(s)||r(s)||(n||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(s),n=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(Aj(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var r=this.getLongestFit(n);if(0===r){var s=n[0],o=this.getLongestFitWord(s);this.lines.newLine(Aj(s).call(s,0,o),e),n[0]=Aj(s).call(s,o)}else{var a=r;" "===n[r-1]?r--:" "===n[a]&&a++;var l=Aj(n).call(n,0,r).join("");r==n.length&&i?this.lines.append(l,e):this.lines.newLine(l,e),n=Aj(n).call(n,a)}}}}]),t}(),Hj=["bold","ital","boldital","mono"],zj=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];tT(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return rT(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),_j.isValidLabel(t.label)?this.labelDirty=!0:t.label=void 0,null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===bj(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;lw(Hj,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:lw(e,function(t,e){null!=t&&"object"!==bj(t)&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Hw(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===bj(i)){var n=Hw(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var r=Hw(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var s=Hw(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===bj(s)){var o=Hw(t,["heightConstraint","minimum"]);"number"==typeof o&&(e.minHgt=Number(o));var a=Hw(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),X_(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=_j.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var r=e[n],s={};t.parseFontString(s,r)&&(r=s),lw(r,function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(i[e]=-1!==wx(Hj).call(Hj,e)?{}:t))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var r,s=0;s<e.length;++s){var o=e[s];if(o.hasOwnProperty(i)){if(null==(r=o[i]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),r.hasOwnProperty(n))return r[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],r=0;r<n.length;++r){var s=n[r];i[s]=this.getFontOption(t,e,s)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(t){var n=Hj[t],r=e.fontOptions[n];lw(e.getFontOptions(i,n),function(t,e){r[e]=t}),r.size=Number(r.size),r.vadjust=Number(r.vadjust)},r=0;r<Hj.length;++r)n(r)}},{key:"draw",value:function(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,r,e,i,s),this._drawBackground(t),this._drawText(t,e,this.size.yLine,s,o))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,s=this._setAlignment(t,e,i,n),o=uj(s,2);e=o[0],i=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var l=this.lines[a];if(l&&l.blocks){var h=0;this.isEdgeLabel||"center"===this.fontOptions.align?h+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(h+=this.size.width-l.width);for(var c=0;c<l.blocks.length;c++){var u=l.blocks[c];t.font=u.font;var d=this._getColor(u.color,r,u.strokeColor),f=uj(d,2),p=f[0],g=f[1];u.strokeWidth>0&&(t.lineWidth=u.strokeWidth,t.strokeStyle=g,t.lineJoin="round"),t.fillStyle=p,u.strokeWidth>0&&t.strokeText(u.text,e+h,i+u.vadjust),t.fillText(u.text,e+h,i+u.vadjust),h+=u.width}i+=l.height}}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=bw(n,s),r=bw(r,s)}return[n,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},s={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,e,i));var o="";return void 0!==s.mod&&""!==s.mod&&(o+=s.mod+" "),t.font=(o+=s.size+"px "+s.face).replace(/"/g,""),s.font=t.font,s.height=s.size,s}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new jj(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),Wj=function(t,e){return!e||"object"!==bj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e},Vj=gp(function(){yS(1)});Jp({target:"Object",stat:!0,forced:Vj,sham:!gS},{getPrototypeOf:function(t){return yS(pS(t))}});var Uj=Vp.Object.getPrototypeOf;Jp({target:"Object",stat:!0},{setPrototypeOf:lk});var Yj=Vp.Object.setPrototypeOf,Gj=dp(function(t){function e(i){return t.exports=e=Yj?Uj:function(t){return t.__proto__||Uj(t)},e(i)}t.exports=e}),qj=kx,Kj=dp(function(t){function e(i,n){return t.exports=e=Yj||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e}),Zj=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=qj(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kj(t,e)};Jp({target:"Array",proto:!0},{fill:function(t){for(var e=pS(this),i=DS(e.length),n=arguments.length,r=PS(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,o=void 0===s?i:PS(s,i);o>r;)e[r++]=t;return e}});var Qj=ng("Array").fill,Xj=Array.prototype,Jj=function(t){var e=t.fill;return t===Xj||t instanceof Array&&e===Xj.fill?Qj:e},tH=function(){function t(e,i,n){tT(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return rT(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==bj(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),Jj(t).call(t),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,r){void 0!==i&&this.resize(i,n,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),t}(),eH=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n)))._setMargins(n),r}return Zj(e,tH),rT(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),lg(t,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(),iH=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n))).labelOffset=0,r.selected=!1,r}return Zj(e,tH),rT(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==bj(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),ag(t,e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var n=this._getImagePadding();this.imageObj.drawImageAtPosition(t,i,this.left+n.left,this.top+n.top,this.width-n.left-n.right,this.height-n.top-n.bottom),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,r){var s,o=0;if(void 0!==this.height){o=.5*this.height;var a=this.labelModule.getTextSize(t,n,r);a.lineCount>=1&&(o+=a.height/2)}s=i+o,this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,s,n,r,"hanging")}}]),e}(),nH=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n)))._setMargins(n),r}return Zj(e,iH),rT(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(),rH=function(t){function e(t,i,n,r,s){var o;return tT(this,e),(o=Wj(this,Gj(e).call(this,t,i,n))).setImages(r,s),o}return Zj(e,iH),rT(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),t.save(),t.clip(),this._drawImageAtPosition(t,s),t.restore(),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(),sH=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n)))._setMargins(n),r}return Zj(e,tH),rT(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),cg(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),oH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,tH),rT(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var r=2*n.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,r,s,o,a){var l;this.resize(t,s,o,a),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(l=e,Object.prototype.hasOwnProperty.call(dg,l)?dg[l]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[l].call(t,i)})(t,n,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,r)),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,s,o,n,r,"hanging"),this.labelModule.draw(t,n,r+.5*this.height+.5*this.labelModule.size.height,s,o,"hanging")),this.updateBoundingBox(n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(),aH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"diamond",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),lH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"circle",2,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(),hH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,tH),rT(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,s),hg(t,this.left,this.top,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,e,i,n,r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,r=Math.sin(e)*i,s=Math.cos(e)*n;return i*n/Math.sqrt(r*r+s*s)}}]),e}(),cH=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n)))._setMargins(n),r}return Zj(e,tH),rT(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,r,s),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,r,s){var o=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+o+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,s),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),uH=function(t){function e(t,i,n,r,s){var o;return tT(this,e),(o=Wj(this,Gj(e).call(this,t,i,n))).setImages(r,s),o}return Zj(e,iH),rT(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=Math.min(this.width,(n?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Jj(t).call(t),this.performStroke(t,s),t.closePath()),this._drawImageAtPosition(t,s),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),dH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"square",2,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),fH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"hexagon",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),pH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"star",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),gH=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n)))._setMargins(n),r}return Zj(e,tH),rT(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(t,s),this.updateBoundingBox(e,i,t,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),mH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"triangle",3,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),vH=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,oH),rT(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"triangleDown",3,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),yH=VS("JSON","stringify"),bH=/[\uD800-\uDFFF]/g,_H=/^[\uD800-\uDBFF]$/,wH=/^[\uDC00-\uDFFF]$/,SH=function(t,e,i){var n=i.charAt(e-1),r=i.charAt(e+1);return _H.test(t)&&!wH.test(r)||wH.test(t)&&!_H.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},kH=gp(function(){return'"\\udf06\\ud834"'!==yH("\udf06\ud834")||'"\\udead"'!==yH("\udead")});yH&&Jp({target:"JSON",stat:!0,forced:kH},{stringify:function(t,e,i){var n=yH.apply(null,arguments);return"string"==typeof n?n.replace(bH,SH):n}}),Vp.JSON||(Vp.JSON={stringify:JSON.stringify});var xH,CH=function(t,e,i){return Vp.JSON.stringify.apply(null,arguments)},EH=!1,TH="background: #FFeeee; color: #dd0000",AH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"validate",value:function(e,i,n){EH=!1,xH=i;var r=i;return void 0!==n&&(r=i[n]),t.parse(e,r,[]),EH}},{key:"parse",value:function(e,i,n){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,i,n)}},{key:"check",value:function(e,i,n,r){if(void 0!==n[e]||void 0!==n.__any__){var s=e,o=!0;void 0===n[e]&&void 0!==n.__any__&&(s="__any__",o="object"===t.getType(i[e]));var a=n[s];o&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,s,a,r)}else t.getSuggestion(e,n,r)}},{key:"checkFields",value:function(e,i,n,r,s,o){var a=function(i){console.log("%c"+i+t.printLocation(o,e),TH)},l=t.getType(i[e]),h=s[l];void 0!==h?"array"===t.getType(h)&&-1===wx(h).call(h,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(h)+' not "'+i[e]+'". '),EH=!0):"object"===l&&"__any__"!==r&&(o=ew(o,e),t.parse(i[e],n[r],o)):void 0===s.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(YB(s))+". Received ["+l+'] "'+i[e]+'"'),EH=!0)}},{key:"getType",value:function(t){var e=bj(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":zk(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var r,s=t.findInOptions(e,i,n,!1),o=t.findInOptions(e,xH,[],!0);r=void 0!==s.indexMatch?" in "+t.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':o.distance<=4&&s.distance>o.distance?" in "+t.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,e):". Did you mean one of these: "+t.print(YB(i))+t.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+r,TH),EH=!0}},{key:"findInOptions",value:function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,o="",a=[],l=e.toLowerCase(),h=void 0;for(var c in i){var u=void 0;if(void 0!==i[c].__type__&&!0===r){var d=t.findInOptions(e,i[c],ew(n,c));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,h=d.indexMatch)}else{var f;-1!==wx(f=c.toLowerCase()).call(f,l)&&(h=c),s>(u=t.levenshteinDistance(e,c))&&(o=c,a=iw(n),s=u)}}return{closestMatch:o,path:a,distance:s,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",r=0;r<t.length;r++){for(var s=0;s<r+1;s++)n+="  ";n+=t[r]+": {\n"}for(var o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return CH(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(n=0;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)r[i][n]=e.charAt(i-1)==t.charAt(n-1)?r[i-1][n-1]:Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[e.length][t.length]}}]),t}();function OH(t,e){var i=YB(t);if(VB){var n=VB(t);e&&(n=aB(n).call(n,function(e){return eB(t,e).enumerable})),i.push.apply(i,n)}return i}var MH=function(){function t(e,i,n,r,s,o){tT(this,t),this.options=Iw(s),this.globalOptions=s,this.defaultOptions=o,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new zj(this.body,this.options,!1),this.setOptions(e)}return rT(t,[{key:"attachEdge",value:function(t){var e;-1===wx(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,i,n=wx(e=this.edges).call(e,t);-1!=n&&nx(i=this.edges).call(i,n,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=lj(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=lj(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=nj(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=_j.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){null!=this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)Nk(i=OH(Object(n),!0)).call(i,function(e){GB(t,e,n[e])});else if(QN)YN(t,QN(n));else{var r;Nk(r=OH(Object(n))).call(r,function(e){UN(t,e,eB(n,e))})}}return t}({},e,{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,i,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new eH(this.options,this.body,this.labelModule);break;case"circle":this.shape=new nH(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new rH(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new sH(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new aH(this.options,this.body,this.labelModule);break;case"dot":this.shape=new lH(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new hH(this.options,this.body,this.labelModule);break;case"icon":this.shape=new cH(this.options,this.body,this.labelModule);break;case"image":this.shape=new uH(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new dH(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new fH(this.options,this.body,this.labelModule);break;case"star":this.shape=new pH(this.options,this.body,this.labelModule);break;case"text":this.shape=new gH(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new mH(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new vH(this.options,this.body,this.labelModule);break;default:this.shape=new hH(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&_j.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),_j.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var r=i.get(n),s=["font"];void 0!==e&&void 0!==e.color&&null!=e.color&&s.push("color"),Q_(s,t,r),t.color=ww(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(Q_(o,e,i,n),t.checkMass(i),$w(e,i,"shadow",r),null!=i.color){var a=ww(i.color);G_(e.color,a)}else!0===n&&null===i.color&&(e.color=Iw(r.color));null!=i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=Iw(r.font)),t.updateGroupOptions(e,i,s),void 0!==i.scaling&&$w(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",TH),t.mass=1}}}]),t}(),RH=function(){function t(e,i,n,r){var s,o=this;if(tT(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=og(s=this.create).call(s,this),this.nodesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items,e.data,e.oldData)},remove:function(t,e){o.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Iw(this.defaultOptions),this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("refreshNodes",og(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",og(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",function(){lw(i.nodesListeners,function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(MH.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof zN||t instanceof WN)this.body.data.nodes=t;else if(zk(t))this.body.data.nodes=new zN,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new zN}if(i&&lw(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var n=this;lw(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++){var s=this.body.data.nodes.get(e=t[r]),o=this.create(s);n.push(o),this.body.nodes[e]=o}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,r=!1,s=0;s<t.length;s++){var o=t[s],a=n[o],l=e[s];void 0!==a?a.setOptions(l)&&(r=!0):(r=!0,a=this.create(l),n[o]=a)}r||void 0===i||(r=function(t){var e=t.some;return t===kT||t instanceof Array&&e===kT.some?ST:e}(e).call(e,function(t,e){var n=i[e];return n&&n.level!==t.level})),this.body.emitter.emit(!0===r?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MH;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];lw(this.body.nodes,function(i,n){var r=t.body.data.nodes.get(n);void 0!==r&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(r))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===zk(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodes[this.body.nodeIndices[s]];e[this.body.nodeIndices[s]]={x:Math.round(o.x),y:Math.round(o.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet(),i=!0,n=!1,r=void 0;try{for(var s,o=yT(e.get());!(i=(s=o.next()).done);i=!0){var a=s.value,l=a.id,h=this.body.nodes[l],c=Math.round(h.x),u=Math.round(h.y);a.x===c&&a.y===u||t.push({id:l,x:c,y:u})}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],r={},s=0;s<n.edges.length;s++){var o=n.edges[s];"to"!==e&&o.toId==n.id?void 0===r[o.fromId]&&(i.push(o.fromId),r[o.fromId]=!0):"from"!==e&&o.fromId==n.id&&void 0===r[o.toId]&&(i.push(o.toId),r[o.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),uT(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),DH=tB;Jp({target:"Reflect",stat:!0},{get:function t(e,i){var n,r,s=arguments.length<3?e:arguments[2];return Gp(e)===s?e[i]:(n=$p.f(e,i))?Mp(n,"value")?n.value:void 0===n.get?void 0:n.get.call(s):Tp(r=yS(e))?t(r,i,s):void 0}});var LH=Vp.Reflect.get,IH=dp(function(t){function e(i,n,r){return t.exports=e="undefined"!=typeof Reflect&&LH?LH:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gj(t)););return t}(t,e);if(n){var r=DH(n,e);return r.get?r.get.call(i):r.value}},e(i,n,r||i)}t.exports=e}),PH=Math.hypot,$H=Math.abs,FH=Math.sqrt,NH=!!PH&&PH(1/0,NaN)!==1/0;Jp({target:"Math",stat:!0,forced:NH},{hypot:function(t,e){for(var i,n,r=0,s=0,o=arguments.length,a=0;s<o;)a<(i=$H(arguments[s++]))?(r=r*(n=a/i)*n+1,a=i):r+=i>0?(n=i/a)*n:i;return a===1/0?1/0:a*FH(r)}});var BH=Vp.Math.hypot,jH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"transform",value:function(t,e){zk(t)||(t=[t]);for(var i=e.point.x,n=e.point.y,r=e.angle,s=e.length,o=0;o<t.length;++o){var a=t[o],l=a.x*Math.cos(r)-a.y*Math.sin(r),h=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=i+s*l,a.y=n+s*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),HH=function(t){function e(){return tT(this,e),Wj(this,Gj(e).apply(this,arguments))}return Zj(e,jH),rT(e,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var i=null!=e.imageWidth?e.imageWidth:e.image.width;e.image.drawImageAtPosition(t,1,-i/2,0,i,null!=e.imageHeight?e.imageHeight:e.image.height),t.restore()}return!1}}]),e}(),zH=function(t){function e(){return tT(this,e),Wj(this,Gj(e).apply(this,arguments))}return Zj(e,jH),rT(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),e}(),WH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),VH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};jH.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle-n/2,s=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,s,!1),t.stroke(),!0}}]),t}(),UH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};jH.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle+n/2,s=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,s,!1),t.stroke(),!0}}]),t}(),YH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),GH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),qH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};return jH.transform(i,e),ag(t,i.x,i.y,.4*e.length),!0}}]),t}(),KH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),ZH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),QH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),XH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return jH.transform(i,e),jH.drawPath(t,i),!0}}]),t}(),JH=function(){function t(){tT(this,t)}return rT(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return HH.draw(t,e);case"circle":return qH.draw(t,e);case"box":return ZH.draw(t,e);case"crow":return WH.draw(t,e);case"curve":return VH.draw(t,e);case"diamond":return QH.draw(t,e);case"inv_curve":return UH.draw(t,e);case"triangle":return YH.draw(t,e);case"inv_triangle":return GH.draw(t,e);case"bar":return KH.draw(t,e);case"vee":return XH.draw(t,e);case"arrow":default:return zH.draw(t,e)}}}]),t}();function tz(t,e){var i=YB(t);if(VB){var n=VB(t);e&&(n=aB(n).call(n,function(e){return eB(t,e).enumerable})),i.push.apply(i,n)}return i}var ez=function(){function t(e,i,n){tT(this,t),this._body=i,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return rT(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,i,n,r){if(this.from!=this.to)this._line(t,e,i,n,r);else{var s=this._getCircleData(t),o=uj(s,3);this._circle(t,e,o[0],o[1],o[2])}}},{key:"_drawDashedLine",value:function(t,e,i,n,r){t.lineCap="round";var s=zk(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var o=this._getCircleData(t),a=uj(o,3);this._circle(t,e,a[0],a[1],a[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)ug(t,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var l=this._getCircleData(t),h=uj(l,3);this._circle(t,e,h[0],h[1],h[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,i=Aj(e=this._getCircleData(t)).call(e,0,2),n=uj(i,2),r=n[0],s=n[1];return{from:this._findBorderPositionCircle(this.from,t,{x:r,y:s,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:r,y:s,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e,i,n=this.from,r=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-r):(e=n.x+r,i=n.y-.5*n.shape.height),[e,i,r]}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var n,r=i.x,s=i.y,o=i.low,a=i.high,l=i.direction,h=this.options.selfReferenceSize,c=.5*(o+a),u=0;do{n=this._pointOnCircle(r,s,h,c=.5*(o+a));var d=Math.atan2(t.y-n.y,t.x-n.x),f=t.distanceToBorder(e,d)-Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));if(Math.abs(f)<.05)break;f>0?l>0?o=c:a=c:l>0?a=c:o=c,++u}while(o<=a&&u<10);return function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)Nk(i=tz(Object(n),!0)).call(i,function(e){GB(t,e,n[e])});else if(QN)YN(t,QN(n));else{var r;Nk(r=tz(Object(n))).call(r,function(e){UN(t,e,eB(n,e))})}}return t}({},n,{t:c})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=bw(this.from.options.color.border,e.opacity),r=bw(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,r),i}return bw("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return bw(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,r){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,r,s){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,r,s);var o=this._getCircleData(void 0),a=uj(o,3),l=a[2],h=a[0]-r,c=a[1]-s;return Math.abs(Math.sqrt(h*h+c*c)-l)}},{key:"_getDistanceToLine",value:function(t,e,i,n,r,s){var o=i-t,a=n-e,l=((r-t)*o+(s-e)*a)/(o*o+a*a);l>1?l=1:l<0&&(l=0);var h=t+l*o-r,c=e+l*a-s;return Math.sqrt(h*h+c*c)}},{key:"getArrowData",value:function(t,e,i,n,r,s){var o,a,l,h,c,u,d,f=s.width;"from"===e?(l=this.from,h=this.to,c=s.fromArrowScale<0,u=Math.abs(s.fromArrowScale),d=s.fromArrowType):"to"===e?(l=this.to,h=this.from,c=s.toArrowScale<0,u=Math.abs(s.toArrowScale),d=s.toArrowType):(l=this.to,h=this.from,c=s.middleArrowScale<0,u=Math.abs(s.middleArrowScale),d=s.middleArrowType);var p=15*u+3*f;if(l!=h){var g=p/BH(l.x-h.x,l.y-h.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var m=this._findBorderPosition(l,t,{via:i}),v=this.getPoint(m.t+g*("from"===e?1:-1),i);o=Math.atan2(m.y-v.y,m.x-v.x),a=m}else o=Math.atan2(l.y-h.y,l.x-h.x),a=this._findBorderPosition(l,t);else{var y=(c?-g:g)/2,b=this.getPoint(.5+y,i),_=this.getPoint(.5-y,i);o=Math.atan2(b.y-_.y,b.x-_.x),a=this.getPoint(.5,i)}}else{var w=this._getCircleData(t),S=uj(w,3),k=S[0],x=S[1],C=S[2];if("from"===e){var E=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:.25,high:.6,direction:-1});o=-2*E.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=E}else if("to"===e){var T=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:.6,high:1,direction:1});o=-2*T.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=T}else a=this._pointOnCircle(k,x,C,.175),o=3.9269908169872414}return{point:a,core:{x:a.x-.9*p*Math.cos(o),y:a.y-.9*p*Math.sin(o)},angle:o,length:p,type:d}}},{key:"drawArrowHead",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,JH.draw(t,r)&&(this.enableShadow(t,e),Jj(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var i=zk(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function iz(t,e){var i=YB(t);if(VB){var n=VB(t);e&&(n=aB(n).call(n,function(e){return eB(t,e).enumerable})),i.push.apply(i,n)}return i}function nz(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)Nk(i=iz(Object(n),!0)).call(i,function(e){GB(t,e,n[e])});else if(QN)YN(t,QN(n));else{var r;Nk(r=iz(Object(n))).call(r,function(e){UN(t,e,eB(n,e))})}}return t}var rz=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,ez),rT(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=10,o=.2,a=!1,l=1,h=0,c=this.to;t.id===this.from.id&&(c=this.from,a=!0);var u=0;do{i=this.getPoint(n=.5*(h+l),r);var d=Math.atan2(c.y-i.y,c.x-i.x),f=c.distanceToBorder(e,d),p=Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2)),g=f-p;if(Math.abs(g)<o)break;g<0?!1===a?h=n:l=n:!1===a?l=n:h=n,++u}while(h<=l&&u<s);return nz({},i,{t:n})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,s,o){var a,l,h,c,u,d=1e9,f=t,p=e;for(l=1;l<10;l++)h=.1*l,c=Math.pow(1-h,2)*t+2*h*(1-h)*o.x+Math.pow(h,2)*i,u=Math.pow(1-h,2)*e+2*h*(1-h)*o.y+Math.pow(h,2)*n,l>0&&(d=(a=this._getDistanceToLine(f,p,c,u,r,s))<d?a:d),f=c,p=u;return d}},{key:"_bezierCurve",value:function(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(),sz=function(t){function e(t,i,n){var r;return tT(this,e),(r=Wj(this,Gj(e).call(this,t,i,n))).via=r.via,r._boundFunction=function(){r.positionBezierNode()},r._body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return Zj(e,rz),rT(e,[{key:"setOptions",value:function(t){IH(Gj(e.prototype),"setOptions",this).call(this,t);var i=!1;this.options.physics!==t.physics&&(i=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===i&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var i=this._getCircleData(),n=uj(i,3),r=n[0],s=n[1],o=n[2],a=2*Math.PI*(1-t);return{x:r+o*Math.sin(a),y:s+o-o*(1-Math.cos(a))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){return this._getDistanceToBezierEdge(t,e,i,n,r,s,this.via)}}]),e}(),oz=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,rz),rT(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var o,a;o=a=r<=s?i*s:i*r,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(a=-a);var l=this.from.x+o,h=this.from.y+a;return"discrete"===n&&(r<=s?l=r<i*s?this.from.x:l:h=s<i*r?this.from.y:h),{x:l,y:h}}if("straightCross"===n){var c=(1-i)*r,u=(1-i)*s;return r<=s?(c=0,this.from.y<this.to.y&&(u=-u)):(this.from.x<this.to.x&&(c=-c),u=0),{x:this.to.x+c,y:this.to.y+u}}if("horizontal"===n){var d=(1-i)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===n){var f=(1-i)*s;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===n){r=this.to.x-this.from.x,s=this.from.y-this.to.y;var p=Math.sqrt(r*r+s*s),g=Math.PI,m=(Math.atan2(s,r)+(.5*i+.5)*g)%(2*g);return{x:this.from.x+(.5*i+.5)*p*Math.sin(m),y:this.from.y+(.5*i+.5)*p*Math.cos(m)}}if("curvedCCW"===n){r=this.to.x-this.from.x,s=this.from.y-this.to.y;var v=Math.sqrt(r*r+s*s),y=Math.PI,b=(Math.atan2(s,r)+(.5*-i+.5)*y)%(2*y);return{x:this.from.x+(.5*i+.5)*v*Math.sin(b),y:this.from.y+(.5*i+.5)*v*Math.cos(b)}}t=e=r<=s?i*s:i*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var _=this.from.x+t,w=this.from.y+e;return r<=s?_=this.from.x<=this.to.x?this.to.x<_?this.to.x:_:this.to.x>_?this.to.x:_:w=this.from.y>=this.to.y?this.to.y>w?this.to.y:w:this.to.y<w?this.to.y:w,{x:_,y:w}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,r,s,o)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:r}}}]),e}(),az=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,rz),rT(e,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,n,r,s,o,a){for(var l=1e9,h=t,c=e,u=[0,0,0,0],d=1;d<10;d++){var f=.1*d;u[0]=Math.pow(1-f,3),u[1]=3*f*Math.pow(1-f,2),u[2]=3*Math.pow(f,2)*(1-f),u[3]=Math.pow(f,3);var p=u[0]*t+u[1]*o.x+u[2]*a.x+u[3]*i,g=u[0]*e+u[1]*o.y+u[2]*a.y+u[3]*n;if(d>0){var m=this._getDistanceToLine(h,c,p,g,r,s);l=m<l?m:l}h=p,c=g}return l}}]),e}(),lz=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,az),rT(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i[0],i[1])}},{key:"_getViaCoordinates",value:function(){var t,e,i,n,r=this.from.x-this.to.x,s=this.from.y-this.to.y,o=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(s)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,n=this.to.y,t=this.from.x-o*r,i=this.to.x+o*r):(e=this.from.y-o*s,n=this.to.y+o*s,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=uj(o,2),l=a[0],h=a[1];return this._getDistanceToBezierEdge2(t,e,i,n,r,s,l,h)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=uj(e,2),n=i[0],r=i[1],s=t,o=[Math.pow(1-s,3),3*s*Math.pow(1-s,2),3*Math.pow(s,2)*(1-s),Math.pow(s,3)],a=o[0]*this.fromPoint.x+o[1]*n.x+o[2]*r.x+o[3]*this.toPoint.x,l=o[0]*this.fromPoint.y+o[1]*n.y+o[2]*r.y+o[3]*this.toPoint.y;return{x:a,y:l}}}]),e}(),hz=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,ez),rT(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var r=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,o=i.y-n.y,a=Math.sqrt(s*s+o*o),l=(a-t.distanceToBorder(e,r))/a;return{x:(1-l)*n.x+l*i.x,y:(1-l)*n.y+l*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){return this._getDistanceToLine(t,e,i,n,r,s)}}]),e}(),cz=function(){function t(e,i,n,r,s){if(tT(this,t),void 0===i)throw new Error("No body provided");this.options=Iw(r),this.globalOptions=r,this.defaultOptions=s,this.body=i,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new zj(this.body,this.options,!0),this.setOptions(e)}return rT(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;return t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=nj(e.value)),this.chooser=_j.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var i=this.options.selectionWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var n=this.options.hoverWidth;"function"==typeof n?e.width=n(e.width):"number"==typeof n&&(e.width+=n),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0)));else e.shadow=this.options.shadow.enabled,e.width=Math.max(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof sz&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof lz&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof oz&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof hz&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new sz(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new lz(this.options,this.body,this.labelModule):new oz(this.options,this.body,this.labelModule):this.edgeType=new hz(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save();var s=this._getRotation(t);0!=s.angle&&(t.translate(s.x,s.y),t.rotate(s.angle)),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover),t.restore()}else{var o,a;this.labelModule.pointToSelf=!0;var l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(o=i.x+.5*i.shape.width,a=i.y-l):(o=i.x+l,a=i.y-.5*i.shape.height),r=this._pointOnCircle(o,a,l,.125),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();_j.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.x-this.to.x,s=Math.atan2(this.from.y-this.to.y,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),n.angle=s,n}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(Z_(s,t,e,i),_j.isValidLabel(e.label)?t.label=e.label:_j.isValidLabel(t.label)||(t.label=void 0),$w(t,e,"smooth",n),$w(t,e,"shadow",n),$w(t,e,"background",n),null!=e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=xx(n.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),$w(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=xx(n.scaling)),null!=e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=wx(o).call(o,"to"),t.arrows.middle.enabled=-1!=wx(o).call(o,"middle"),t.arrows.from.enabled=-1!=wx(o).call(o,"from")}else{if("object"!==bj(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+CH(e.arrows));$w(t.arrows,e.arrows,"to",n.arrows),$w(t.arrows,e.arrows,"middle",n.arrows),$w(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=xx(n.arrows));if(null!=e.color){var a=W_(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,l=t.color;if(r)X_(l,n.color,!1,i);else for(var h in l)l.hasOwnProperty(h)&&delete l[h];if(W_(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,void 0===a.opacity&&(l.opacity=1);else{var c=!1;void 0!==a.color&&(l.color=a.color,c=!0),void 0!==a.highlight&&(l.highlight=a.highlight,c=!0),void 0!==a.hover&&(l.hover=a.hover,c=!0),void 0!==a.inherit&&(l.inherit=a.inherit),void 0!==a.opacity&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),!0===c?l.inherit=!1:void 0===l.inherit&&(l.inherit="from")}}else!0===i&&null===e.color&&(t.color=Iw(n.color));!0===i&&null===e.font&&(t.font=Iw(n.font))}}]),t}(),uz=function(){function t(e,i,n){var r,s=this;tT(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=og(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items)},remove:function(t,e){s.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},X_(this.options,this.defaultOptions),this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var n=!1;for(var r in i.body.edges)if(i.body.edges.hasOwnProperty(r)){var s=i.body.edges[r],o=i.body.data.edges.get(r);if(null!=o){var a=o.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(s.setOptions(void 0===t?{smooth:!1}:{smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){i.reconnectEdges()}),this.body.emitter.on("refreshEdges",og(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",og(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",function(){lw(i.edgesListeners,function(t,e){i.body.data.edges&&i.body.data.edges.off(e,t)}),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){cz.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(t instanceof zN||t instanceof WN)this.body.data.edges=t;else if(zk(t))this.body.data.edges=new zN,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new zN}if(n&&lw(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){lw(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<t.length;r++){var s=t[r],o=i[s];o&&o.disconnect();var a=n.get(s,{showInternalIds:!0});i[s]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<t.length;r++){var s=t[r],o=i.get(s),a=e[s];void 0!==a?(a.disconnect(),n=a.setOptions(o)||n,a.connect()):(this.body.edges[s]=this.create(o),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;lw(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;lw(this.body.edges,function(e,i){var n=t.body.data.edges.get(i);void 0!==n&&e.setOptions(n)})}},{key:"create",value:function(t){return new cz(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];lw(this.body.edges,function(i,n){var r=t.body.nodes[i.toId],s=t.body.nodes[i.fromId];void 0!==r&&!0===r.isCluster||void 0!==s&&!0===s.isCluster||void 0!==r&&void 0!==s||e.push(n)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];Nk(t).call(t,function(t,n){void 0===e[n]&&i.push(n)}),this.add(i,!0)}}}]),t}();Jp({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var dz=Vp.Date.now,fz=function(){function t(e,i,n){tT(this,t),this.body=e,this.physicsBody=i,this.setOptions(n),this.randomSeed=5}return rT(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(var s=0;s<n;s++)(t=e[i[s]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,n,r;t.childrenCount>0&&(i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,(r=Math.sqrt(i*i+n*n))*t.calcSize>this.thetaInversed?this._calculateForces(r,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,n,e,t))}},{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var s=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(t,3),o=i*s;this.physicsBody.forces[n.id].x+=e*s,this.physicsBody.forces[n.id].y+=o}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,n=e.length,r=t[e[0]].x,s=t[e[0]].y,o=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var h=t[e[l]],c=h.x,u=h.y;h.options.mass>0&&(c<r&&(r=c),c>o&&(o=c),u<s&&(s=u),u>a&&(a=u))}var d=Math.abs(o-r)-Math.abs(a-s);d>0?(s-=.5*d,a+=.5*d):(r+=.5*d,o-=.5*d);var f=Math.max(1e-5,Math.abs(o-r)),p=.5*f,g=.5*(r+o),m=.5*(s+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-p,maxX:g+p,minY:m-p,maxY:m+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<n;y++)(i=t[e[y]]).options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,r=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=n;var s=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n=t.children.NW.range;this._placeInRegion(t,e,n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,n,r,s,o=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+o,r=t.range.minY,s=t.range.minY+o;break;case"NE":i=t.range.minX+o,n=t.range.maxX,r=t.range.minY,s=t.range.minY+o;break;case"SW":i=t.range.minX,n=t.range.minX+o,r=t.range.minY+o,s=t.range.maxY;break;case"SE":i=t.range.minX+o,n=t.range.maxX,r=t.range.minY+o,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),pz=function(){function t(e,i,n){tT(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rT(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,s,o,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,u=this.options.nodeDistance,d=-2/3/u,f=0;f<h.length-1;f++){o=l[h[f]];for(var p=f+1;p<h.length;p++)t=(a=l[h[p]]).x-o.x,e=a.y-o.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*u&&(s=i<.5*u?1:d*i+4/3,n=t*(s/=i),r=e*s,c[o.id].x-=n,c[o.id].y-=r,c[a.id].x+=n,c[a.id].y+=r)}}}]),t}(),gz=function(t){throw new Error('"'+t+'" is read-only')},mz=function(){function t(e,i,n){tT(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rT(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var s=t[e[r]],o=r+1;o<e.length;o++){var a=t[e[o]];if(s.level===a.level){var l=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(a.shape.radius||0)/2),h=a.x-s.x,c=a.y-s.y,u=Math.sqrt(h*h+c*c),d=void 0;d=u<l?-Math.pow(.05*u,2)+Math.pow(.05*l,2):0,0===u?(gz("distance"),u=.01):d/=u;var f=h*d,p=c*d;i[s.id].x-=f,i[s.id].y-=p,i[a.id].x+=f,i[a.id].y+=p}}}}]),t}(),vz=function(){function t(e,i,n){tT(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rT(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.physicsBody.physicsEdgeIndices,s=this.body.edges,o=0;o<r.length;o++)!0===(e=s[r[o]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(n=e.from,this._calculateSpringForce(e.to,i=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(i,n,.5*t)):this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,r=t.y-e.y,s=Math.max(Math.sqrt(n*n+r*r),.01),o=this.options.springConstant*(i-s)/s,a=n*o,l=r*o;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}(),yz=function(){function t(e,i,n){tT(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rT(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,s,o,a,l,h,c=this.body.edges,u=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,p=0;p<d.length;p++){var g=d[p];f[g].springFx=0,f[g].springFy=0}for(var m=0;m<u.length;m++)!0===(e=c[u[m]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=0===(a=Math.sqrt(i*i+n*n))?.01:a,r=i*(o=this.options.springConstant*(t-a)/a),s=n*o,e.to.level!=e.from.level?(void 0!==f[e.toId]&&(f[e.toId].springFx-=r,f[e.toId].springFy-=s),void 0!==f[e.fromId]&&(f[e.fromId].springFx+=r,f[e.fromId].springFy+=s)):(void 0!==f[e.toId]&&(f[e.toId].x-=.5*r,f[e.toId].y-=.5*s),void 0!==f[e.fromId]&&(f[e.fromId].x+=.5*r,f[e.fromId].y+=.5*s)));o=1;for(var v=0;v<d.length;v++){var y=d[v];l=Math.min(o,Math.max(-o,f[y].springFx)),h=Math.min(o,Math.max(-o,f[y].springFy)),f[y].x+=l,f[y].y+=h}for(var b=0,_=0,w=0;w<d.length;w++){var S=d[w];b+=f[S].x,_+=f[S].y}for(var k=b/d.length,x=_/d.length,C=0;C<d.length;C++){var E=d[C];f[E].x-=k,f[E].y-=x}}}]),t}(),bz=function(){function t(e,i,n){tT(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rT(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.body.nodes,s=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,a=0;a<s.length;a++)t=-(n=r[s[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,o,n)}},{key:"_calculateForces",value:function(t,e,i,n,r){var s=0===t?0:this.options.centralGravity/t;n[r.id].x=e*s,n[r.id].y=i*s}}]),t}(),_z=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,fz),rT(e,[{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var s=this.options.gravitationalConstant*r.mass*n.options.mass*(n.edges.length+1)/Math.pow(t,2),o=i*s;this.physicsBody.forces[n.id].x+=e*s,this.physicsBody.forces[n.id].y+=o}}]),e}(),wz=function(t){function e(t,i,n){return tT(this,e),Wj(this,Gj(e).call(this,t,i,n))}return Zj(e,bz),rT(e,[{key:"_calculateForces",value:function(t,e,i,n,r){if(t>0){var s=this.options.centralGravity*(r.edges.length+1)*r.options.mass;n[r.id].x=e*s,n[r.id].y=i*s}}}]),e}(),Sz=function(){function t(e){tT(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},q_(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,Q_(["stabilization"],this.options,t),$w(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new _z(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new vz(this.body,this.physicsBody,t),this.gravitySolver=new wz(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new pz(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new vz(this.body,this.physicsBody,t),this.gravitySolver=new bz(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new mz(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new yz(this.body,this.physicsBody,t),this.gravitySolver=new bz(this.body,this.physicsBody,t)):(this.nodesSolver=new fz(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new vz(this.body,this.physicsBody,t),this.gravitySolver=new bz(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=og(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=dz();this.physicsTick(),(dz()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&uT(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var s=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var o in this.physicsBody.velocities)void 0===t[o]&&delete this.physicsBody.velocities[o]}},{key:"revert",value:function(){var t=YB(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var r=t[n];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e=this.body.nodes,i=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==e[n]&&(t=e[n].y-i[n].positions.y,Math.sqrt(Math.pow(e[n].x-i[n].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var r=this._performStep(t[n]);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,uT(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;i(),e()?uT(og(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],r=this.physicsBody.forces[i],s=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),o=Math.min(Math.max(5,s),15),a=3*o,l=Aw((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),h={x:n.x+20*r.x,y:n.y+20*r.y};t.lineWidth=o,t.strokeStyle=l,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(h.x,h.y),t.stroke();var c=Math.atan2(r.y,r.x);t.fillStyle=l,JH.draw(t,{type:"arrow",point:h,angle:c,length:a}),Jj(t).call(t)}}}]),t}(),kz=[].reverse,xz=[1,2];Jp({target:"Array",proto:!0,forced:String(xz)===String(xz.reverse())},{reverse:function(){return wk(this)&&(this.length=this.length),kz.call(this)}});var Cz=ng("Array").reverse,Ez=Array.prototype,Tz=function(t){var e=t.reverse;return t===Ez||t instanceof Array&&e===Ez.reverse?Cz:e},Az=function(){function t(){tT(this,t)}return rT(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,o=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).shape.boundingBox.left&&(s=e.shape.boundingBox.left),o<e.shape.boundingBox.right&&(o=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===o&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:r}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,o=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).x&&(s=e.x),o<e.x&&(o=e.x),n>e.y&&(n=e.y),r<e.y&&(r=e.y);return 1e9===s&&-1e9===o&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(X_(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):X_(i,t.options,!0),i}}]),t}(),Oz=function(t){function e(t,i,n,r,s,o){var a;return tT(this,e),(a=Wj(this,Gj(e).call(this,t,i,n,r,s,o))).isCluster=!0,a.containedNodes={},a.containedEdges={},a}return Zj(e,MH),rT(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],lw(i.edges,function(t){delete e.containedEdges[t.id]}),lw(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},lw(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},lw(i.edges,function(t){lw(e.edges,function(i){var n,r,s=wx(n=i.clusteringEdgeReplacingIds).call(n,t.id);-1!==s&&(lw(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),nx(r=i.clusteringEdgeReplacingIds).call(r,s,1))})}),i.edges=[]}}]),e}(),Mz=function(){function t(e){var i=this;tT(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},q_(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return rT(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===bj(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=t&&i.push(r.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},r={};lw(this.body.nodes,function(i,s){i.options&&!0===e.joinCondition(i.options)&&(n[s]=i,lw(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)}))}),this._cluster(n,r,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,s,o,a=[],l={},h=function(n){var h={},c={},f=i.body.nodeIndices[n],p=i.body.nodes[f];if(void 0===l[f]){o=0,s=[];for(var g=0;g<p.edges.length;g++)void 0===i.clusteredEdges[(r=p.edges[g]).id]&&(r.toId!==r.fromId&&o++,s.push(r));if(o===t){u=function(t){if(null==e.joinCondition)return!0;var i=Az.cloneOptions(t);return e.joinCondition(i)};for(var m=!0,v=0;v<s.length;v++){var y=i._getConnectedId(r=s[v],f);if(!u(p)){m=!1;break}c[r.id]=r,h[f]=p,h[y]=i.body.nodes[y],l[f]=!0}if(YB(h).length>0&&YB(c).length>0&&!0===m)if(void 0!==(d=function(){for(var t=0;t<a.length;++t)for(var e in h)if(void 0!==a[t].nodes[e])return a[t]}())){for(var b in h)void 0===d.nodes[b]&&(d.nodes[b]=h[b]);for(var _ in c)void 0===d.edges[_]&&(d.edges[_]=c[_])}else a.push({nodes:h,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var u,d;h(c)}for(var f=0;f<a.length;f++)this._cluster(a[f].nodes,a[f].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var s={},o={},a=r.id,l=Az.cloneOptions(r);s[a]=r;for(var h=0;h<r.edges.length;h++){var c=r.edges[h];if(void 0===this.clusteredEdges[c.id]){var u=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[u])if(u!==a)if(void 0===e.joinCondition)o[c.id]=c,s[u]=this.body.nodes[u];else{var d=Az.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(l,d)&&(o[c.id]=c,s[u]=this.body.nodes[u])}else o[c.id]=c}}var f=lC(i=YB(s)).call(i,function(t){return s[t].id});for(p in s)if(s.hasOwnProperty(p))for(var p=s[p],g=0;g<p.edges.length;g++){var m=p.edges[g];wx(f).call(f,this._getConnectedId(m,p.id))>-1&&(o[m.id]=m)}this._cluster(s,o,e,n)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var r,s,o,a,l,h,c=YB(t),u=[],d=0;d<c.length;d++){o=t[s=c[d]];for(var f=0;f<o.edges.length;f++)void 0===this.clusteredEdges[(r=o.edges[f]).id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(a=i.id,h=l=r.fromId):(l=i.id,h=a=r.toId),void 0===t[h]&&u.push({edge:r,fromId:l,toId:a}))}for(var p=[],g=function(t){for(var e=0;e<p.length;e++){var i=p[e];if(t.fromId===i.fromId&&t.toId===i.toId||t.fromId===i.toId&&t.toId===i.fromId)return i}return null},m=0;m<u.length;m++){var v=u[m],y=v.edge,b=g(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,n),p.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var o=0;o<r.length;++o)delete t[r[o]];if(0!=YB(t).length&&(1!=YB(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=X_({},i.clusterNodeProperties);if(void 0!==i.processProperties){var l=[];for(var h in t)if(t.hasOwnProperty(h)){var c=Az.cloneOptions(t[h]);l.push(c)}var u=[];for(var d in e)if(e.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var f=Az.cloneOptions(e[d],"edge");u.push(f)}if(!(a=i.processProperties(a,l,u)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+I_());var p=a.id;void 0===a.label&&(a.label="cluster");var g=void 0;void 0===a.x&&(g=this._getClusterPosition(t),a.x=g.x),void 0===a.y&&(void 0===g&&(g=this._getClusterPosition(t)),a.y=g.y),a.id=p;var m=this.body.functions.createNode(a,Oz);m.containedNodes=t,m.containedEdges=e,m.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=m,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=YB(t),n=t[i[0]].x,r=t[i[0]].x,s=t[i[0]].y,o=t[i[0]].y,a=1;a<i.length;a++)n=(e=t[i[a]]).x<n?e.x:n,r=e.x>r?e.x:r,s=e.y<s?e.y:s,o=e.y>o?e.y:o;return{x:.5*(n+r),y:.5*(s+o)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),s=wx(r).call(r,t)-1;if(s>=0){var o=r[s],a=this.body.nodes[o];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var l=n.containedNodes,h=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var c={},u={x:n.x,y:n.y};for(var d in l)if(l.hasOwnProperty(d)){var f=this.body.nodes[d];c[d]={x:f.x,y:f.y}}var p=e.releaseFunction(u,c);for(var g in l)if(l.hasOwnProperty(g)){var m=this.body.nodes[g];void 0!==p[g]&&(m.x=void 0===p[g].x?n.x:p[g].x,m.y=void 0===p[g].y?n.y:p[g].y)}}else lw(l,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(var v in l)if(l.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=n.vx,y.vy=n.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],_=0;_<n.edges.length;_++)b.push(n.edges[_]);for(var w=0;w<b.length;w++){for(var S=b[w],k=this._getConnectedId(S,t),x=this.clusteredNodes[k],C=0;C<S.clusteringEdgeReplacingIds.length;C++){var E=S.clusteringEdgeReplacingIds[C],T=this.body.edges[E];if(void 0!==T)if(void 0!==x){var A=this.body.nodes[x.clusterId];A.containedEdges[T.id]=T,delete h[T.id];var O=T.fromId,M=T.toId;T.toId==k?M=x.clusterId:O=x.clusterId,this._createClusteredEdge(O,M,T,A.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(T)}S.remove()}for(var R in h)h.hasOwnProperty(R)&&this._restoreEdge(h[R]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],n=0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),Tz(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return Tz(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],r=0;e.length>0&&r<100;){var s=e.pop();if(void 0!==s){var o=this.body.edges[s];if(void 0!==o){r++;var a=o.clusteringEdgeReplacingIds;if(void 0===a)n.push(s);else for(var l=0;l<a.length;++l){var h=a[l];-1===wx(e).call(e,a)&&-1===wx(i).call(i,a)&&e.push(h)}i.push(s)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];s.edges.length>n&&(n=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i;var o=(e/=i)-Math.pow(t,2),a=Math.sqrt(o),l=Math.floor(t+2*a);return l>n&&(l=n),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,r){var s=Az.cloneOptions(i,"edge");X_(s,n),s.from=t,s.to=e,s.id="clusterEdge:"+I_(),void 0!==r&&X_(s,r);var o=this.body.functions.createEdge(s);return o.clusteringEdgeReplacingIds=[i.id],o.connect(),this.body.edges[o.id]=o,o}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof cz){var r={};r[e.id]=e,e=r}if(t instanceof MH){var s={};s[t.id]=t,t=s}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var o in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(e.hasOwnProperty(o)&&void 0!==this.body.edges[o]){var a=this.body.edges[o];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var l in t)t.hasOwnProperty(l)&&(this.clusteredNodes[l]={clusterId:i.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return lw(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t,e=this,i=[],n={},r=function(t){lw(e.body.nodes,function(e){!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(t)&&void 0===this.body.nodes[t]&&i.push(t);r(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];lw(this.clusteredEdges,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(n[t]=t)}),r(function(t){lw(t.containedEdges,function(t,e){t.endPointsValid()||n[e]||(n[e]=e)})}),lw(this.body.edges,function(t,i){var r=!0,s=t.clusteringEdgeReplacingIds;if(void 0!==s){var o=0;lw(s,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(o+=1)}),r=o>0}t.endPointsValid()&&r||(n[i]=i)}),r(function(t){lw(n,function(i){delete t.containedEdges[i],lw(t.edges,function(r,s){r.id!==i?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,function(t){return!n[t]}):t.edges[s]=null}),t.edges=e._filter(t.edges,function(t){return null!==t})})}),lw(n,function(t){delete e.clusteredEdges[t]}),lw(n,function(t){delete e.body.edges[t]}),lw(YB(this.body.edges),function(t){var i=e.body.edges[t],n=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(n!==e._isClusteredEdge(i.id))if(n){var r=e._getClusterNodeForNode(i.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[i.fromId],i,r);var s=e._getClusterNodeForNode(i.toId);void 0!==s&&e._clusterEdges(e.body.nodes[i.toId],i,s)}else delete e._clusterEdges[t],e._restoreEdge(i)});for(var o=!1,a=!0,l=function(){var t=[];r(function(e){var i=YB(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)});for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);a=t.length>0,o=o||a};a;)l();o&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),Rz=function(){function t(e,i){var n;tT(this,t),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(t){t()}:n,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},q_(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=window.setTimeout(function(){var t;e.zooming=!1,og(t=e._requestRedraw).call(t,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===e.renderingActive&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",og(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&Z_(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(og(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var n in i)i.hasOwnProperty(n)&&((e=i[n]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,s=[],o=20,a=this.canvas.DOMtoCanvas({x:-o,y:-o}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+o,y:this.canvas.frame.canvas.clientHeight+o}),h={top:a.y,left:a.x,bottom:l.y,right:l.x},c=0;c<r.length;c++)(e=n[r[c]]).isSelected()?s.push(r[c]):!0===i||!0===e.isBoundingBoxOverlappingWith(h)?e.draw(t):e.updateBoundingBox(t,e.selected);for(var u=0;u<s.length;u++)(e=n[s[u]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e,i=this.body.edges,n=this.body.edgeIndices,r=0;r<n.length;r++)!0===(e=i[n[r]]).connected&&e.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=wx(t).call(t,"msie 9.0")||-1!=wx(t).call(t,"safari")&&wx(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}(),Dz=Vp.setInterval,Lz=dp(function(t,e){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}}),Iz=function(){function t(e){var i;tT(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=og(i=this._onResize).call(i,this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},q_(this.options,this.defaultOptions),this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",og(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(t){var e,i=this;void 0!==t&&Z_(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=Dz(function(){!0===i.setSize()&&i.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=og(e=this._onResize).call(e,this),dw(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),fw(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==wx(t).call(t,"%")||-1!==wx(t).call(t,"px"))return t;if(-1===wx(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new KE(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:KE.DIRECTION_ALL}),Lz.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new KE(this.frame),Lz.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(s),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===o&&this.frame.canvas.height===a||this._getCameraState(s),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),Pz=pp.isFinite;Jp({target:"Number",stat:!0},{isFinite:Number.isFinite||function(t){return"number"==typeof t&&Pz(t)}});var $z=Vp.Number.isFinite,Fz=function(){function t(e,i){var n,r,s=this;tT(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",og(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",function(){s.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",og(r=this.releaseNode).call(r,this))}return rT(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==(i=$j({},i)).nodes&&0!==i.nodes.length||(i.nodes=this.body.nodeIndices);var r=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(0===r||0===s)e=1,t=Az.getRange(this.body.nodes,i.nodes);else if(!0===n){var o=0;for(var a in this.body.nodes)if(this.body.nodes.hasOwnProperty(a)){var l=this.body.nodes[a];!0===l.predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(i,!1);t=Az.getRange(this.body.nodes,i.nodes);var h=this.body.nodeIndices.length;e=12.662/(h+7.4147)+.0964822;var c=Math.min(r/600,s/600);e*=c}else{this.body.emitter.emit("_resizeNodes"),t=Az.getRange(this.body.nodes,i.nodes);var u=1.1*Math.abs(t.maxX-t.minX),d=1.1*Math.abs(t.maxY-t.minY),f=r/u,p=s/d;e=f<=p?f:p}(e>1||0===e)&&(e=1);var g=Az.findCenter(t),m={position:g,scale:e,animation:i.animation};this.moveTo(m)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!$z(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!$z(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!$z(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!$z(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,i,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(n.x-t.position.x)*this.targetScale+t.offset.x,y:this.sourceTranslation.y+(n.y-t.position.y)*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=og(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=og(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=this.body.view.translation;this.body.view.translation={x:n.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+(i.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,i=Bw[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=og(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}(),Nz=function(){function t(e,i){var n=this;tT(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return rT(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r,s,o=new KE(this.navigationDOM[e[n]]);Lz.onTouch(o,"_fit"===i[n]?og(r=this._fit).call(r,this):og(s=this.bindToRedraw).call(s,this,i[n])),this.navigationHammers.push(o)}var a=new KE(this.canvas.frame);Lz.onRelease(a,function(){t._stopMovement()}),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=og(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,i,n,r,s,o,a,l,h,c,u,d,f,p,g,m,v,y,b,_,w,S,k,x=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=uC(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(og(t=this.keycharm).call(t,"up",function(){x.bindToRedraw("_moveUp")},"keydown"),og(e=this.keycharm).call(e,"down",function(){x.bindToRedraw("_moveDown")},"keydown"),og(i=this.keycharm).call(i,"left",function(){x.bindToRedraw("_moveLeft")},"keydown"),og(n=this.keycharm).call(n,"right",function(){x.bindToRedraw("_moveRight")},"keydown"),og(r=this.keycharm).call(r,"=",function(){x.bindToRedraw("_zoomIn")},"keydown"),og(s=this.keycharm).call(s,"num+",function(){x.bindToRedraw("_zoomIn")},"keydown"),og(o=this.keycharm).call(o,"num-",function(){x.bindToRedraw("_zoomOut")},"keydown"),og(a=this.keycharm).call(a,"-",function(){x.bindToRedraw("_zoomOut")},"keydown"),og(l=this.keycharm).call(l,"[",function(){x.bindToRedraw("_zoomOut")},"keydown"),og(h=this.keycharm).call(h,"]",function(){x.bindToRedraw("_zoomIn")},"keydown"),og(c=this.keycharm).call(c,"pageup",function(){x.bindToRedraw("_zoomIn")},"keydown"),og(u=this.keycharm).call(u,"pagedown",function(){x.bindToRedraw("_zoomOut")},"keydown"),og(d=this.keycharm).call(d,"up",function(){x.unbindFromRedraw("_moveUp")},"keyup"),og(f=this.keycharm).call(f,"down",function(){x.unbindFromRedraw("_moveDown")},"keyup"),og(p=this.keycharm).call(p,"left",function(){x.unbindFromRedraw("_moveLeft")},"keyup"),og(g=this.keycharm).call(g,"right",function(){x.unbindFromRedraw("_moveRight")},"keyup"),og(m=this.keycharm).call(m,"=",function(){x.unbindFromRedraw("_zoomIn")},"keyup"),og(v=this.keycharm).call(v,"num+",function(){x.unbindFromRedraw("_zoomIn")},"keyup"),og(y=this.keycharm).call(y,"num-",function(){x.unbindFromRedraw("_zoomOut")},"keyup"),og(b=this.keycharm).call(b,"-",function(){x.unbindFromRedraw("_zoomOut")},"keyup"),og(_=this.keycharm).call(_,"[",function(){x.unbindFromRedraw("_zoomOut")},"keyup"),og(w=this.keycharm).call(w,"]",function(){x.unbindFromRedraw("_zoomIn")},"keyup"),og(S=this.keycharm).call(S,"pageup",function(){x.unbindFromRedraw("_zoomIn")},"keyup"),og(k=this.keycharm).call(k,"pagedown",function(){x.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}(),Bz=function(){function t(e,i){tT(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return rT(t,[{key:"setPosition",value:function(t,e){this.x=lj(t),this.y=lj(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,s=0,o=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>r-this.padding&&(a=!0),s=a?this.x-i:this.x,o=l?this.y-e:this.y}else(o=this.y-e)+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding),(s=this.x)+i+this.padding>r&&(s=r-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),jz=function(){function t(e,i,n){var r,s,o,a,l,h,c,u,d,f,p,g,m;tT(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new Nz(e,i),this.body.eventListeners.onTap=og(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=og(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=og(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=og(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=og(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=og(h=this.onDrag).call(h,this),this.body.eventListeners.onDragEnd=og(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=og(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=og(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=og(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=og(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=og(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=og(m=this.getPointer).call(m,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},q_(this.options,this.defaultOptions),this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(Q_(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),$w(this.options,t,"keyboard"),t.tooltip&&(q_(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=ww(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-nw(this.canvas.frame.canvas),y:t.y-sw(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),r=!1;r=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var s=this.selectionHandler.getSelection(),o=this._determineDifference(n,s),a=this._determineDifference(s,n);o.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),r=!0),o.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),r=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];-1===wx(e).call(e,r)&&i.push(r)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=q_({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n],s={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var r=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;Nk(n).call(n,function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(Nk(e).call(e,function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,s=t/i,o=(1-s)*e.x+r.x*s,a=(1-s)*e.y+r.y*s;if(this.body.view.scale=t,this.body.view.translation={x:o,y:a},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+.1*this.options.zoomSpeed*(t.deltaY<0?1:-1);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=uT(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,o="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,h=this.body.nodes,c=[],u=0;u<l.length;u++)!0===(a=h[l[u]]).isOverlappingWith(n)&&(s=!0,void 0!==a.getTitle()&&c.push(l[u]));c.length>0&&(this.popupObj=h[c[c.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var d,f=this.body.edgeIndices,p=this.body.edges,g=[],m=0;m<f.length;m++)!0===(d=p[f[m]]).isOverlappingWith(n)&&!0===d.connected&&void 0!==d.getTitle()&&g.push(f[m]);g.length>0&&(this.popupObj=p[g[g.length-1]],o="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new Bz(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),Hz=function(){function t(e,i){var n=this;tT(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},q_(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return rT(t,[{key:"setOptions",value:function(t){void 0!==t&&Z_(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(e,i);if(!0===r)s.nodes=[],s.edges=[];else{var o=this.getSelection();s.nodes=o.nodes,s.edges=o.edges}void 0!==n&&(s.previousSelection=n),"click"==t&&(s.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(s.controlEdge=e.controlEdge),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof MH&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,r=null,s=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var a=this.body.edgeIndices[o],l=s[a];if(l.connected){var h=l.from.x,c=l.from.y,u=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(h,c,u,d,i.x,i.y);f<n&&(r=a,n=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function(t){t instanceof MH?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof MH?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof MH?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof MH?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof MH?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===i||i instanceof MH&&i.id!=r||i instanceof cz)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var s in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(s)&&(!0===n?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof cz&&i.id!=s||i instanceof MH&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(void 0!==i){var o=YB(this.hoverObj.edges).length,a=YB(this.hoverObj.nodes).length;(n||i instanceof cz&&0===o&&0===a||i instanceof MH&&0===o&&0===a)&&(n=this.emitHoverEvent(t,e,i)),i instanceof MH&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((n.unselectAll||void 0===n.unselectAll)&&this.unselectAll(),t.nodes)for(e=0;e<t.nodes.length;e++){var r=this.body.nodes[i=t.nodes[e]];if(!r)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(r,n.highlightEdges)}if(t.edges)for(e=0;e<t.edges.length;e++){var s=this.body.edges[i=t.edges[e]];if(!s)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,r=this.body.nodes,s=n.length-1;s>=0;s--){var o=r[n[s]].getItemsOnPoint(e);i.push.apply(i,o)}for(var a=this.body.edgeIndices,l=this.body.edges,h=a.length-1;h>=0;h--){var c=l[a[h]].getItemsOnPoint(e);i.push.apply(i,c)}return i}}]),t}(),zz=!gp(function(){return Object.isExtensible(Object.preventExtensions({}))}),Wz=dp(function(t){var e=Kp.f,i=eS("meta"),n=0,r=Object.isExtensible||function(){return!0},s=function(t){e(t,i,{value:{objectID:"O"+ ++n,weakData:{}}})},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!Tp(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Mp(t,i)){if(!r(t))return"F";if(!e)return"E";s(t)}return t[i].objectID},getWeakData:function(t,e){if(!Mp(t,i)){if(!r(t))return!0;if(!e)return!1;s(t)}return t[i].weakData},onFreeze:function(t){return zz&&o.REQUIRED&&r(t)&&!Mp(t,i)&&s(t),t}};rS[i]=!0}),Vz=xS("iterator"),Uz=Array.prototype,Yz=function(t,e,i,n){try{return n?e(Gp(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&Gp(r.call(t)),e}},Gz=dp(function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,n,r,s){var o,a,l,h,c,u,d,f,p=Yp(i,n,r?2:1);if(s)o=t;else{if("function"!=typeof(a=vT(t)))throw TypeError("Target is not iterable");if(void 0!==(f=a)&&(Vw.Array===f||Uz[Vz]===f)){for(l=0,h=DS(t.length);h>l;l++)if((c=r?p(Gp(d=t[l])[0],d[1]):p(t[l]))&&c instanceof e)return c;return new e(!1)}o=a.call(t)}for(u=o.next;!(d=u.call(o)).done;)if("object"==typeof(c=Yz(o,p,d.value,r))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}}),qz=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},Kz=Kp.f,Zz=Ek.forEach,Qz=fS.set,Xz=fS.getterFor,Jz=function(t,e,i){var n,r=-1!==t.indexOf("Map"),s=-1!==t.indexOf("Weak"),o=r?"set":"add",a=pp[t],l=a&&a.prototype,h={};if(mp&&"function"==typeof a&&(s||l.forEach&&!gp(function(){(new a).entries().next()}))){n=e(function(e,i){Qz(qz(e,n,t),{type:t,collection:new a}),null!=i&&Gz(i,e[o],e,r)});var c=Xz(t);Zz(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"==t||"set"==t;t in l&&(!s||"clear"!=t)&&Zp(n.prototype,t,function(i,n){var r=c(this).collection;if(!e&&s&&!Tp(i))return"get"==t&&void 0;var o=r[t](0===i?0:i,n);return e?this:o})}),s||Kz(n.prototype,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else n=i.getConstructor(e,t,r,o),Wz.REQUIRED=!0;return sk(n,t,!1,!0),h[t]=n,Jp({global:!0,forced:!0},h),s||i.setStrong(n,t,r),n},tW=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:hk(t,n,e[n],i);return t},eW=xS("species"),iW=Kp.f,nW=Wz.fastKey,rW=fS.set,sW=fS.getterFor,oW={getConstructor:function(t,e,i,n){var r=t(function(t,s){qz(t,r,e),rW(t,{type:e,index:ZS(null),first:void 0,last:void 0,size:0}),mp||(t.size=0),null!=s&&Gz(s,t[n],t,i)}),s=sW(e),o=function(t,e,i){var n,r,o=s(t),l=a(t,e);return l?l.value=i:(o.last=l={index:r=nW(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=l),n&&(n.next=l),mp?o.size++:t.size++,"F"!==r&&(o.index[r]=l)),t},a=function(t,e){var i,n=s(t),r=nW(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return tW(r.prototype,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,mp?t.size=0:this.size=0},delete:function(t){var e=s(this),i=a(this,t);if(i){var n=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),e.first==i&&(e.first=n),e.last==i&&(e.last=r),mp?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=s(this),n=Yp(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),tW(r.prototype,i?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),mp&&iW(r.prototype,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=sW(e),s=sW(n);pk(t,e,function(t,e){rW(this,{type:n,target:t,state:r(t),kind:e,last:void 0})},function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},i?"entries":"values",!i,!0),function(t){var e=VS(t);mp&&e&&!e[eW]&&(0,Kp.f)(e,eW,{configurable:!0,get:function(){return this}})}(e)}},aW=(Jz("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},oW),Vp.Map),lW=function(t){return function(e,i,n,r){Up(i);var s=pS(e),o=xp(s),a=DS(s.length),l=t?a-1:0,h=t?-1:1;if(n<2)for(;;){if(l in o){r=o[l],l+=h;break}if(l+=h,t?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=h)l in o&&(r=i(r,o[l],l,s));return r}},hW=[lW(!1),lW(!0)][0],cW=Tk("reduce"),uW=Mk("reduce",{1:0});Jp({target:"Array",proto:!0,forced:!cW||!uW},{reduce:function(t){return hW(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var dW=ng("Array").reduce,fW=Array.prototype,pW=[],gW=pW.sort,mW=gp(function(){pW.sort(void 0)}),vW=gp(function(){pW.sort(null)}),yW=Tk("sort");Jp({target:"Array",proto:!0,forced:mW||!vW||!yW},{sort:function(t){return void 0===t?gW.call(pS(this)):gW.call(pS(this),Up(t))}});var bW,_W=ng("Array").sort,wW=Array.prototype,SW=function(t){var e=t.sort;return t===wW||t instanceof Array&&e===wW.sort?_W:e},kW=dp(function(t,e){!function(t){t.__esModule=!0,t.sort=function(t,i,n,a){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");i?"function"!=typeof i&&(a=n,n=i,i=r):i=r,n||(n=0),a||(a=t.length);var l=a-n;if(!(l<2)){var c=0;if(l<e)return void o(t,n,a,n+(c=s(t,n,a,i)),i);var u=new h(t,i),d=function(t){for(var i=0;t>=e;)i|=1&t,t>>=1;return t+i}(l);do{if((c=s(t,n,a,i))<d){var f=l;f>d&&(f=d),o(t,n,n+f,n+c,i),c=f}u.pushRun(n,c),u.mergeRuns(),l-=c,n+=c}while(0!==l);u.forceMergeRuns()}};var e=32,i=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function n(t){return t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9}function r(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(0===t||0===e)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}var r=n(t),s=n(e),o=0;return r<s?(t*=i[s-r-1],e/=10,o=-1):r>s&&(e*=i[r-s-1],t/=10,o=1),t===e?o:t<e?-1:1}var a=String(t),l=String(e);return a===l?0:a<l?-1:1}function s(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;!function(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&n(t[r],t[r-1])>=0;)r++;return r-e}function o(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var s=t[n],o=e,a=n;o<a;){var l=o+a>>>1;r(s,t[l])<0?a=l:o=l+1}var h=n-o;switch(h){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;h>0;)t[o+h]=t[o+h-1],h--}t[o]=s}}function a(t,e,i,n,r,s){var o=0,a=0,l=1;if(s(t,e[i+r])>0){for(a=n-r;l<a&&s(t,e[i+r+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),o+=r,l+=r}else{for(a=r+1;l<a&&s(t,e[i+r-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var h=o;o=r-l,l=r-h}for(o++;o<l;){var c=o+(l-o>>>1);s(t,e[i+c])>0?o=c+1:l=c}return l}function l(t,e,i,n,r,s){var o=0,a=0,l=1;if(s(t,e[i+r])<0){for(a=r+1;l<a&&s(t,e[i+r-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var h=o;o=r-l,l=r-h}else{for(a=n-r;l<a&&s(t,e[i+r+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);s(t,e[i+c])<0?l=c:o=c+1}return l}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=e,this.compare=i,this.length=e.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return t.prototype.pushRun=function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;if(t>=1&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||t>=2&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;t>0&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var e=this.compare,i=this.array,n=this.runStart[t],r=this.runLength[t],s=this.runStart[t+1],o=this.runLength[t+1];this.runLength[t]=r+o,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var h=l(i[s],i,n,r,0,e);n+=h,0!=(r-=h)&&0!==(o=a(i[n+r-1],i,s,o,o-1,e))&&(r<=o?this.mergeLow(n,r,s,o):this.mergeHigh(n,r,s,o))},t.prototype.mergeLow=function(t,e,i,n){var r=this.compare,s=this.array,o=this.tmp,h=0;for(h=0;h<e;h++)o[h]=s[t+h];var c=0,u=i,d=t;if(s[d++]=s[u++],0!=--n)if(1!==e){for(var f=this.minGallop;;){var p=0,g=0,m=!1;do{if(r(s[u],o[c])<0){if(s[d++]=s[u++],g++,p=0,0==--n){m=!0;break}}else if(s[d++]=o[c++],p++,g=0,1==--e){m=!0;break}}while((p|g)<f);if(m)break;do{if(0!==(p=l(s[u],o,c,e,0,r))){for(h=0;h<p;h++)s[d+h]=o[c+h];if(d+=p,c+=p,(e-=p)<=1){m=!0;break}}if(s[d++]=s[u++],0==--n){m=!0;break}if(0!==(g=a(o[c],s,u,n,0,r))){for(h=0;h<g;h++)s[d+h]=s[u+h];if(d+=g,u+=g,0==(n-=g)){m=!0;break}}if(s[d++]=o[c++],1==--e){m=!0;break}f--}while(p>=7||g>=7);if(m)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===e){for(h=0;h<n;h++)s[d+h]=s[u+h];s[d+n]=o[c]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(h=0;h<e;h++)s[d+h]=o[c+h]}}else{for(h=0;h<n;h++)s[d+h]=s[u+h];s[d+n]=o[c]}else for(h=0;h<e;h++)s[d+h]=o[c+h]},t.prototype.mergeHigh=function(t,e,i,n){var r=this.compare,s=this.array,o=this.tmp,h=0;for(h=0;h<n;h++)o[h]=s[i+h];var c=t+e-1,u=n-1,d=i+n-1,f=0,p=0;if(s[d--]=s[c--],0!=--e)if(1!==n){for(var g=this.minGallop;;){var m=0,v=0,y=!1;do{if(r(o[u],s[c])<0){if(s[d--]=s[c--],m++,v=0,0==--e){y=!0;break}}else if(s[d--]=o[u--],v++,m=0,1==--n){y=!0;break}}while((m|v)<g);if(y)break;do{if(0!=(m=e-l(o[u],s,t,e,e-1,r))){for(e-=m,p=1+(d-=m),f=1+(c-=m),h=m-1;h>=0;h--)s[p+h]=s[f+h];if(0===e){y=!0;break}}if(s[d--]=o[u--],1==--n){y=!0;break}if(0!=(v=n-a(s[c],o,0,n,n-1,r))){for(n-=v,p=1+(d-=v),f=1+(u-=v),h=0;h<v;h++)s[p+h]=o[f+h];if(n<=1){y=!0;break}}if(s[d--]=s[c--],0==--e){y=!0;break}g--}while(m>=7||v>=7);if(y)break;g<0&&(g=0),g+=2}if(this.minGallop=g,g<1&&(this.minGallop=1),1===n){for(p=1+(d-=e),f=1+(c-=e),h=e-1;h>=0;h--)s[p+h]=s[f+h];s[d]=o[u]}else{if(0===n)throw new Error("mergeHigh preconditions were not respected");for(f=d-(n-1),h=0;h<n;h++)s[f+h]=o[h]}}else{for(p=1+(d-=e),f=1+(c-=e),h=e-1;h>=0;h--)s[p+h]=s[f+h];s[d]=o[u]}else for(f=d-(n-1),h=0;h<n;h++)s[f+h]=o[h]},t}()}(e)});(bW=kW)&&bW.__esModule&&Object.prototype.hasOwnProperty.call(bW,"default");var xW=kW,CW=xW.sort,EW=function(){function t(){tT(this,t)}return rT(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),TW=function(t){function e(t){var i;return tT(this,e),(i=Wj(this,Gj(e).call(this))).layout=t,i}return Zj(e,EW),rT(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){CW(t,function(t,e){return t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),AW=function(t){function e(t){var i;return tT(this,e),(i=Wj(this,Gj(e).call(this))).layout=t,i}return Zj(e,EW),rT(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){CW(t,function(t,e){return t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(),OW=Ek.every,MW=Tk("every"),RW=Mk("every");Jp({target:"Array",proto:!0,forced:!MW||!RW},{every:function(t){return OW(this,t,arguments.length>1?arguments[1]:void 0)}});var DW=ng("Array").every,LW=Array.prototype,IW=function(t){var e=t.every;return t===LW||t instanceof Array&&e===LW.every?DW:e},PW=(Jz("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},oW),Vp.Set);function $W(t,e){var i=new PW;return Nk(t).call(t,function(t){var e;Nk(e=t.edges).call(e,function(t){t.connected&&i.add(t)})}),Nk(i).call(i,function(t){var i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)}),e}function FW(t,e,i,n,r){var s=n.size,o=i+"Id",a="to"===i?1:-1,l=!0,h=!1,c=void 0;try{for(var u,d=function(){var l=uj(u.value,2),h=l[0],c=l[1];if(!n.has(h)||!t(c))return"continue";r[h]=0;for(var d=[c],f=0,p=void 0,g=function(){var t,l;if(!n.has(h))return"continue";var c=r[p.id]+a;if(Nk(t=aB(l=p.edges).call(l,function(t){return t.connected&&t.to!==t.from&&t[i]!==p&&n.has(t.toId)&&n.has(t.fromId)})).call(t,function(t){var n=t[o],s=r[n];(null==s||e(c,s))&&(r[n]=c,d.push(t[i]))}),f>s)return{v:{v:$W(n,r)}};++f};p=d.pop();){var m=g();switch(m){case"continue":continue;default:if("object"===bj(m))return m.v}}},f=yT(n);!(l=(u=f.next()).done);l=!0){var p=d();switch(p){case"continue":continue;default:if("object"===bj(p))return p.v}}}catch(t){h=!0,c=t}finally{try{l||null==f.return||f.return()}finally{if(h)throw c}}return r}var NW=function(){function t(){tT(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return rT(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var r=e.levels[n];if(e.childrenReference[n]){var s=e.childrenReference[n];if(s.length>0)for(var o=0;o<s.length;o++)r=Math.max(r,t(s[o]))}return i[n]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,r=1e9,s=-1e9;for(var o in this.trees)if(this.trees.hasOwnProperty(o)&&this.trees[o]===e){var a=t[o];i=Math.min(a.x,i),n=Math.max(a.x,n),r=Math.min(a.y,r),s=Math.max(a.y,s)}return{min_x:i,max_x:n,min_y:r,max_y:s}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var r=0;r<i.length;r++)for(var s=0;s<n.length;s++)if(i[r]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return YB(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var r in n)if(n[r]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),BW=function(){function t(e){tT(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},q_(this.options,this.defaultOptions),this.bindEventListeners()}return rT(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(Z_(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),$w(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),X_(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===bj(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],r=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(r)),void 0===n.y&&(n.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,r=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var o=t.length;t.length>r&&n<=10;){var a=t.length;if((n+=1)%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),a==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<t.length;l++){var h=this.body.nodes[t[l]];!1===h.predefinedPosition&&(h.x+=70*(.5-this.seededRandom()),h.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=Az.getRangeCore(this.body.nodes,this.body.nodeIndices),e=Az.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new NW,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.hierarchical.ensureLevel(s);var o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var r in n)n.hasOwnProperty(r)&&n[r]===e&&t.direction.shift(r,i)},r=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var r=t.hierarchical.childrenReference[i.id];if(r.length>0)for(var s=0;s<r.length;s++)e(t.body.nodes[r[s]],n)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,s=1e9,o=-1e9;for(var a in e)if(e.hasOwnProperty(a)){var l=t.body.nodes[a],h=t.hierarchical.levels[l.id],c=t.direction.getPosition(l),u=t._getSpaceAroundNode(l,e),d=uj(u,2),f=d[0],p=d[1];n=Math.min(f,n),r=Math.min(p,r),h<=i&&(s=Math.min(c,s),o=Math.max(c,o))}return[s,o,n,r]},o=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(i.id);return Math.min(n,r)},a=function(e,i,n){for(var r=t.hierarchical,s=0;s<i.length;s++){var o=r.distributionOrdering[i[s]];if(o.length>1)for(var a=0;a<o.length-1;a++){var l=o[a],h=o[a+1];r.hasSameParent(l,h)&&r.inSameSubNetwork(l,h)&&e(l,h,n)}}},l=function(i,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t.direction.getPosition(i),h=t.direction.getPosition(n),c=Math.abs(h-l),u=t.options.hierarchical.nodeSpacing;if(c>u){var d={},f={};r(i,d),r(n,f);var p=o(i,n),g=s(d,p),m=s(f,p),v=g[1],y=m[0],b=m[2],_=Math.abs(v-y);if(_>u){var w=v-y+u;w<-b+u&&(w=-b+u),w<0&&(t._shiftBlock(n.id,w),e=!0,!0===a&&t._centerParent(n))}}},h=function(n,o){for(var a=o.id,l=o.edges,h=t.hierarchical.levels[o.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,u={},d=[],f=0;f<l.length;f++){var p=l[f];if(p.toId!=p.fromId){var g=p.toId==a?p.from:p.to;u[l[f].id]=g,t.hierarchical.levels[g.id]<h&&d.push(p)}}var m=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==u[i[r].id]){var s=t.direction.getPosition(u[i[r].id])-e;n+=s/Math.sqrt(s*s+c)}return n},v=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==u[i[r].id]){var s=t.direction.getPosition(u[i[r].id])-e;n-=c*Math.pow(s*s+c,-1.5)}return n},y=function(e,i){for(var n=t.direction.getPosition(o),r={},s=0;s<e;s++){var a=m(n,i),l=v(n,i);if(void 0!==r[n-=Math.max(-40,Math.min(40,Math.round(a/l)))])break;r[n]=s}return n},b=y(n,d);!function(n){var a=t.direction.getPosition(o);if(void 0===i[o.id]){var l={};r(o,l),i[o.id]=l}var h=s(i[o.id]),c=h[2],u=n-a,d=0;u>0?d=Math.min(u,h[3]-t.options.hierarchical.nodeSpacing):u<0&&(d=-Math.min(-u,c-t.options.hierarchical.nodeSpacing)),0!=d&&(t._shiftBlock(o.id,d),e=!0)}(b),function(i){var n=t.direction.getPosition(o),r=t._getSpaceAroundNode(o),s=uj(r,2),a=s[0],l=i-n,h=n;l>0?h=Math.min(n+(s[1]-t.options.hierarchical.nodeSpacing),i):l<0&&(h=Math.max(n-(a-t.options.hierarchical.nodeSpacing),i)),h!==n&&(t.direction.setPosition(o,h),e=!0)}(b=y(n,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=Tz(n).call(n);for(var r=0;r<5&&(e=!1,a(l,n,!0),!0===e);r++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=Tz(n).call(n);for(var r=0;r<20;r++){e=!1;for(var s=0;s<n.length;s++)for(var o=t.hierarchical.distributionOrdering[n[s]],a=0;a<o.length;a++)h(1e3,o[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=Tz(e).call(e);for(var i=0;i<e.length;i++)for(var n=t.hierarchical.distributionOrdering[e[i]],r=0;r<n.length;r++)t._centerParent(n[r])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,r=0;r<e.length-1;r++)n(r+1,i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[t.id],s=this.direction.getPosition(t),o=this.hierarchical.distributionOrdering[n],a=1e9,l=1e9;if(0!==r){var h=o[r-1];(!0===i&&void 0===e[h.id]||!1===i)&&(a=s-this.direction.getPosition(h))}if(r!=o.length-1){var c=o[r+1];if(!0===i&&void 0===e[c.id]||!1===i){var u=this.direction.getPosition(c);l=Math.min(l,u-s)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],r=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var o=this._getCenterPosition(s),a=this.direction.getPosition(r),l=this._getSpaceAroundNode(r),h=uj(l,2),c=h[0],u=h[1],d=a-o;(d<0&&Math.abs(d)<u-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,o)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i,n=YB(t[e]);n=this._indexArrayToNodes(n),SW(i=this.direction).call(i,n);for(var r=0,s=0;s<n.length;s++){var o=n[s];if(void 0===this.positionedNodes[o.id]){var a=this.options.hierarchical.nodeSpacing,l=a*r;r>0&&(l=this.direction.getPosition(n[s-1])+a),this.direction.setPosition(o,l,e),this._validatePositionAndContinue(o,e,l),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i,n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var r=[],s=0;s<n.length;s++)r.push(this.body.nodes[n[s]]);SW(i=this.direction).call(i,r);for(var o=0;o<r.length;o++){var a=r[o],l=this.hierarchical.levels[a.id];if(!(l>e&&void 0===this.positionedNodes[a.id]))return;var h,c=this.options.hierarchical.nodeSpacing;h=0===o?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[o-1])+c,this.direction.setPosition(a,h,l),this._validatePositionAndContinue(a,l,h)}var u=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],u,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){var n=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e=this.body.nodes[t],n),void 0===i[n]&&(i[n]={}),i[n][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return lw(t.edges,function(t){var n;-1!==wx(n=e.body.edgeIndices).call(n,t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={};lw(this.body.nodeIndices,function(i){var n=t._getActiveEdges(t.body.nodes[i]).length;e[n]=!0});var i=[];return lw(e,function(t){i.push(Number(t))}),SW(xW).call(xW,i,function(t,e){return e-t}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(n){var r=i[n];if(0===r)return"break";lw(t.body.nodeIndices,function(i){r===t._getActiveEdges(t.body.nodes[i]).length&&t._crawlNetwork(e,i)})},r=0;r<i.length&&"break"!==n(r);++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(e,i,n){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var s=(Az.cloneOptions(e,"node"),Az.cloneOptions(i,"node"),void Az.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=r+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,i=function(t){var e=t.reduce;return t===fW||t instanceof Array&&e===fW.reduce?dW:e}(t=this.body.nodeIndices).call(t,function(t,i){return t.set(i,e.body.nodes[i]),t},new aW),n=this.hierarchical.levels;this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xx(null);return FW(function(e){var i,n;return IW(i=aB(n=e.edges).call(n,function(e){return t.has(e.toId)})).call(i,function(t){return t.from===e})},function(t,e){return e<t},"to",t,e)}(i,n):function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xx(null);return FW(function(e){var i,n;return IW(i=aB(n=e.edges).call(n,function(e){return t.has(e.toId)})).call(i,function(t){return t.to===e})},function(t,e){return e>t},"from",t,e)}(i,n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,n={},r=function i(r,s){if(void 0===n[r.id]){var o;t.hierarchical.setTreeIndex(r,s),n[r.id]=!0;for(var a=t._getActiveEdges(r),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&r.id!=(o=h.toId==r.id?h.from:h.to).id&&(e(r,o,h),i(o,s))}}};if(void 0===i)for(var s=0,o=0;o<this.body.nodeIndices.length;o++){var a=this.body.nodeIndices[o];if(void 0===n[a]){var l=this.body.nodes[a];r(l,s),s+=1}}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);r(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(r){if(!n[r]){n[r]=!0,i.direction.shift(r,e);var s=i.hierarchical.childrenReference[r];if(void 0!==s)for(var o=0;o<s.length;o++)t(s[o])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var s=0;s<r.length;s++){var o=r[s];e[o]=!0,t(e,o)}}(n,t),function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var s=0;s<r.length;s++){var o=r[s];if(void 0!==e[o])return{foundParent:o,withChild:n};var a=t(e,o);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new TW(this):new AW(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var r=this.direction.getPosition(void 0!==t[n].id?t[n]:this.body.nodes[t[n]]);e=Math.min(e,r),i=Math.max(i,r)}return.5*(e+i)}}]),t}(),jW=function(){function t(e,i,n,r){var s,o,a=this;tT(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},q_(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",og(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",og(o=this._restore).call(o,this))}return rT(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:i.locale,this.options.locales=void 0!==e.locales?e.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,X_(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler._getSelectedNodeCount(),n=this.selectionHandler._getSelectedEdgeCount(),r=i+n,s=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(s)),1===i&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(s)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(s)),0!==r&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===o&&this._createSeperator(4),this._createDeleteButton(s)),this._bindHammerToDiv(this.closeDiv,og(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",og(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,og(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",og(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=X_({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,i,n,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s,o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,og(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",og(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",og(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",og(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",og(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",og(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==bj(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,og(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var i,n,r,s,o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",og(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",og(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",og(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",og(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var e=o.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===l.selected&&(l.x=e.to.x,l.y=e.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var h=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(h.from.id,h.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var s={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(s,function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=X_({},this.options.controlNodeStyle);i.id="targetNode"+I_(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},z_(this.editModeDiv);var e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,og(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(z_(this.editModeDiv),z_(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),z_(this.manipulationDiv),z_(this.editModeDiv),z_(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,i=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,og(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,i=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,og(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,i=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,og(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,i=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,og(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,i=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,og(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,i=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,og(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+CH(YB(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new KE(t,{});Lz.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,n=wx(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==n&&nx(i=this.body.edgeIndices).call(i,n,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var s;delete this.body.nodes[this.temporaryIds.nodes[r]];var o,a=wx(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[r]);-1!==a&&nx(o=this.body.nodeIndices).call(o,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=q_({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=i.isOverlappingWith(e),o=n.isOverlappingWith(e);!0===s?(this.selectedControlNode=i,r.edgeType.from=i):!0===o&&(this.selectedControlNode=n,r.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;o>=0;o--)if(r[o]!==this.selectedControlNode.id){s=this.body.nodes[r[o]];break}void 0!==s&&void 0!==this.selectedControlNode?!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id):(n.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=q_({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(e.x,e.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var n=this.body.functions.createEdge({id:"connectionEdge"+I_(),from:e.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;o>=0;o--){var a;if(-1===wx(a=this.temporaryIds.nodes).call(a,r[o])){s=this.body.nodes[r[o]];break}}if(t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(e.x),l.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;o>=0;o--){var a;if(-1===wx(a=this.temporaryIds.nodes).call(a,r[o])){s=this.body.nodes[r[o]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(n,s.id)),t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:I_(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===bj(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),HW={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},zW=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;tT(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return rT(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return HW[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===W_(t)){if(!0===Rw(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===Dw(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===Mw(t)){var o=yw(t);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+CH(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=q_({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",uT(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=q_({},t)),this.color=t;var i=Sw(t.r,t.g,t.b),n=2*Math.PI,r=this.r*i.s,s=this.centerCoordinates.x+r*Math.sin(n*i.h),o=this.centerCoordinates.y+r*Math.cos(n*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=Sw(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=Tw(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=Sw(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Jj(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=og(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=og(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=og(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=og(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new KE(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Lz.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,i,n,r,s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,s,o),this.centerCoordinates={x:.5*s,y:.5*o},this.r=.49*s;var a,l=2*Math.PI/360,h=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(l*n),i=this.centerCoordinates.y+r*Math.cos(l*n),a=Tw(n*(1/360),r*h,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,s,o)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,r=t.center.x-e.left-n,s=t.center.y-e.top-i,o=Math.atan2(r,s),a=.98*Math.min(Math.sqrt(r*r+s*s),n),l=Math.cos(o)*a+i,h=Math.sin(o)*a+n;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var c=o/(2*Math.PI);c=c<0?c+1:c;var u=a/this.r,d=Sw(this.color.r,this.color.g,this.color.b);d.h=c,d.s=u;var f=Tw(d.h,d.s,d.v);f.a=this.color.a,this.color=f,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}(),WW=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;tT(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},q_(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new zW(r),this.wrapper=void 0}return rT(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(t instanceof Array)this.options.filter=t.join();else if("object"===bj(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==aB(t)&&(this.options.filter=aB(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===aB(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=aB(this.options),e=0,i=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==t&&-1===wx(t).call(t,n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Nk(n).call(n,function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==wx(t).call(t,e)&&(r=wx(t).call(t,e));for(var s=0;s<t.length;s++){var o=document.createElement("option");o.value=t[s],s===r&&(o.selected="selected"),o.innerHTML=t[s],n.appendChild(o)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],r=t[1],s=t[2],o=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=s}catch(t){}a.step=o;var l="",h=0;void 0!==e?(e<0&&1.2*e<r?(a.min=Math.ceil(1.2*e),h=a.min,l="range increased"):e/1.2<r&&(a.min=Math.ceil(e/1.2),h=a.min,l="range increased"),1.2*e>s&&1!==s&&(a.max=Math.ceil(1.2*e),h=a.max,l="range increased"),a.value=e):a.value=n;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var u=this;a.onchange=function(){c.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};var d=this._makeLabel(i[i.length-1],i),f=this._makeItem(i,d,a,c);""!==l&&this.popupHistory[f]!==h&&(this.popupHistory[f]=h,this._setupPopup(l,f))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=uT(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=uT(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===bj(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var r=this;n.onchange=function(){r._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,r=t[1],s=document.createElement("div");"none"!==(e=void 0===e?r:e)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,s.onclick=function(){n._showColorPicker(e,s,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,s)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,n._update(r,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=aB(this.options),s=!1;for(var o in t)if(t.hasOwnProperty(o)){n=!0;var a=t[o],l=ew(e,o);if("function"==typeof r&&!1===(n=r(o,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==n){s=!0;var h=this._getValue(l);if(a instanceof Array)this._handleArray(a,h,l);else if("string"==typeof a)this._makeTextInput(a,h,l);else if("boolean"==typeof a)this._makeCheckbox(a,h,l);else if(a instanceof Object){var c=!0;if(-1!==wx(e).call(e,"physics")&&this.moduleOptions.physics.solver!==o&&(c=!1),!0===c)if(void 0!==a.enabled){var u=ew(l,"enabled"),d=this._getValue(u);if(!0===d){var f=this._makeLabel(o,l,!0);this._makeItem(l,f),s=this._handleObject(a,l)||s}else this._makeCheckbox(a,d,l)}else{var p=this._makeLabel(o,l,!0);this._makeItem(l,p),s=this._handleObject(a,l)||s}}else console.error("dont know how to handle",a,o,l)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===n[e[r]]&&(n[e[r]]={}),r!==e.length-1?n=n[e[r]]:n[e[r]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+CH(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),VW="string",UW="boolean",YW="number",GW="object",qW=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],KW={configure:{enabled:{boolean:UW},filter:{boolean:UW,string:VW,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:UW},__type__:{object:GW,boolean:UW,string:VW,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:UW},scaleFactor:{number:YW},type:{string:qW},imageHeight:{number:YW},imageWidth:{number:YW},src:{string:VW},__type__:{object:GW,boolean:UW}},middle:{enabled:{boolean:UW},scaleFactor:{number:YW},type:{string:qW},imageWidth:{number:YW},imageHeight:{number:YW},src:{string:VW},__type__:{object:GW,boolean:UW}},from:{enabled:{boolean:UW},scaleFactor:{number:YW},type:{string:qW},imageWidth:{number:YW},imageHeight:{number:YW},src:{string:VW},__type__:{object:GW,boolean:UW}},__type__:{string:["from","to","middle"],object:GW}},arrowStrikethrough:{boolean:UW},background:{enabled:{boolean:UW},color:{string:VW},size:{number:YW},dashes:{boolean:UW,array:"array"},__type__:{object:GW,boolean:UW}},chosen:{label:{boolean:UW,function:"function"},edge:{boolean:UW,function:"function"},__type__:{object:GW,boolean:UW}},color:{color:{string:VW},highlight:{string:VW},hover:{string:VW},inherit:{string:["from","to","both"],boolean:UW},opacity:{number:YW},__type__:{object:GW,string:VW}},dashes:{boolean:UW,array:"array"},font:{color:{string:VW},size:{number:YW},face:{string:VW},background:{string:VW},strokeWidth:{number:YW},strokeColor:{string:VW},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:YW},multi:{boolean:UW,string:VW},bold:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},boldital:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},ital:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},mono:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},__type__:{object:GW,string:VW}},hidden:{boolean:UW},hoverWidth:{function:"function",number:YW},label:{string:VW,undefined:"undefined"},labelHighlightBold:{boolean:UW},length:{number:YW,undefined:"undefined"},physics:{boolean:UW},scaling:{min:{number:YW},max:{number:YW},label:{enabled:{boolean:UW},min:{number:YW},max:{number:YW},maxVisible:{number:YW},drawThreshold:{number:YW},__type__:{object:GW,boolean:UW}},customScalingFunction:{function:"function"},__type__:{object:GW}},selectionWidth:{function:"function",number:YW},selfReferenceSize:{number:YW},shadow:{enabled:{boolean:UW},color:{string:VW},size:{number:YW},x:{number:YW},y:{number:YW},__type__:{object:GW,boolean:UW}},smooth:{enabled:{boolean:UW},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:YW},forceDirection:{string:["horizontal","vertical","none"],boolean:UW},__type__:{object:GW,boolean:UW}},title:{string:VW,undefined:"undefined"},width:{number:YW},widthConstraint:{maximum:{number:YW},__type__:{object:GW,boolean:UW,number:YW}},value:{number:YW,undefined:"undefined"},__type__:{object:GW}},groups:{useDefaultGroups:{boolean:UW},__any__:"get from nodes, will be overwritten below",__type__:{object:GW}},interaction:{dragNodes:{boolean:UW},dragView:{boolean:UW},hideEdgesOnDrag:{boolean:UW},hideEdgesOnZoom:{boolean:UW},hideNodesOnDrag:{boolean:UW},hover:{boolean:UW},keyboard:{enabled:{boolean:UW},speed:{x:{number:YW},y:{number:YW},zoom:{number:YW},__type__:{object:GW}},bindToWindow:{boolean:UW},__type__:{object:GW,boolean:UW}},multiselect:{boolean:UW},navigationButtons:{boolean:UW},selectable:{boolean:UW},selectConnectedEdges:{boolean:UW},hoverConnectedEdges:{boolean:UW},tooltipDelay:{number:YW},zoomView:{boolean:UW},zoomSpeed:{number:YW},__type__:{object:GW}},layout:{randomSeed:{undefined:"undefined",number:YW},improvedLayout:{boolean:UW},clusterThreshold:{number:YW},hierarchical:{enabled:{boolean:UW},levelSeparation:{number:YW},nodeSpacing:{number:YW},treeSpacing:{number:YW},blockShifting:{boolean:UW},edgeMinimization:{boolean:UW},parentCentralization:{boolean:UW},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:GW,boolean:UW}},__type__:{object:GW}},manipulation:{enabled:{boolean:UW},initiallyActive:{boolean:UW},addNode:{boolean:UW,function:"function"},addEdge:{boolean:UW,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:GW,boolean:UW,function:"function"}},deleteNode:{boolean:UW,function:"function"},deleteEdge:{boolean:UW,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:GW,boolean:UW}},nodes:{borderWidth:{number:YW},borderWidthSelected:{number:YW,undefined:"undefined"},brokenImage:{string:VW,undefined:"undefined"},chosen:{label:{boolean:UW,function:"function"},node:{boolean:UW,function:"function"},__type__:{object:GW,boolean:UW}},color:{border:{string:VW},background:{string:VW},highlight:{border:{string:VW},background:{string:VW},__type__:{object:GW,string:VW}},hover:{border:{string:VW},background:{string:VW},__type__:{object:GW,string:VW}},__type__:{object:GW,string:VW}},fixed:{x:{boolean:UW},y:{boolean:UW},__type__:{object:GW,boolean:UW}},font:{align:{string:VW},color:{string:VW},size:{number:YW},face:{string:VW},background:{string:VW},strokeWidth:{number:YW},strokeColor:{string:VW},vadjust:{number:YW},multi:{boolean:UW,string:VW},bold:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},boldital:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},ital:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},mono:{color:{string:VW},size:{number:YW},face:{string:VW},mod:{string:VW},vadjust:{number:YW},__type__:{object:GW,string:VW}},__type__:{object:GW,string:VW}},group:{string:VW,number:YW,undefined:"undefined"},heightConstraint:{minimum:{number:YW},valign:{string:VW},__type__:{object:GW,boolean:UW,number:YW}},hidden:{boolean:UW},icon:{face:{string:VW},code:{string:VW},size:{number:YW},color:{string:VW},weight:{string:VW,number:YW},__type__:{object:GW}},id:{string:VW,number:YW},image:{selected:{string:VW,undefined:"undefined"},unselected:{string:VW,undefined:"undefined"},__type__:{object:GW,string:VW}},imagePadding:{top:{number:YW},right:{number:YW},bottom:{number:YW},left:{number:YW},__type__:{object:GW,number:YW}},label:{string:VW,undefined:"undefined"},labelHighlightBold:{boolean:UW},level:{number:YW,undefined:"undefined"},margin:{top:{number:YW},right:{number:YW},bottom:{number:YW},left:{number:YW},__type__:{object:GW,number:YW}},mass:{number:YW},physics:{boolean:UW},scaling:{min:{number:YW},max:{number:YW},label:{enabled:{boolean:UW},min:{number:YW},max:{number:YW},maxVisible:{number:YW},drawThreshold:{number:YW},__type__:{object:GW,boolean:UW}},customScalingFunction:{function:"function"},__type__:{object:GW}},shadow:{enabled:{boolean:UW},color:{string:VW},size:{number:YW},x:{number:YW},y:{number:YW},__type__:{object:GW,boolean:UW}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:UW,array:"array"},borderRadius:{number:YW},interpolation:{boolean:UW},useImageSize:{boolean:UW},useBorderWithImage:{boolean:UW},__type__:{object:GW}},size:{number:YW},title:{string:VW,dom:"dom",undefined:"undefined"},value:{number:YW,undefined:"undefined"},widthConstraint:{minimum:{number:YW},maximum:{number:YW},__type__:{object:GW,boolean:UW,number:YW}},x:{number:YW},y:{number:YW},__type__:{object:GW}},physics:{enabled:{boolean:UW},barnesHut:{gravitationalConstant:{number:YW},centralGravity:{number:YW},springLength:{number:YW},springConstant:{number:YW},damping:{number:YW},avoidOverlap:{number:YW},__type__:{object:GW}},forceAtlas2Based:{gravitationalConstant:{number:YW},centralGravity:{number:YW},springLength:{number:YW},springConstant:{number:YW},damping:{number:YW},avoidOverlap:{number:YW},__type__:{object:GW}},repulsion:{centralGravity:{number:YW},springLength:{number:YW},springConstant:{number:YW},nodeDistance:{number:YW},damping:{number:YW},__type__:{object:GW}},hierarchicalRepulsion:{centralGravity:{number:YW},springLength:{number:YW},springConstant:{number:YW},nodeDistance:{number:YW},damping:{number:YW},avoidOverlap:{number:YW},__type__:{object:GW}},maxVelocity:{number:YW},minVelocity:{number:YW},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:UW},iterations:{number:YW},updateInterval:{number:YW},onlyDynamicEdges:{boolean:UW},fit:{boolean:UW},__type__:{object:GW,boolean:UW}},timestep:{number:YW},adaptiveTimestep:{boolean:UW},__type__:{object:GW,boolean:UW}},autoResize:{boolean:UW},clickToUse:{boolean:UW},locale:{string:VW},locales:{__any__:{any:"any"},__type__:{object:GW}},height:{string:VW},width:{string:VW},__type__:{object:GW}};KW.groups.__any__=KW.nodes,KW.manipulation.controlNodeStyle=KW.nodes;var ZW={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}},QW=Object.freeze({__proto__:null,allOptions:KW,configureOptions:ZW}),XW=function(){function t(){tT(this,t)}return rT(t,[{key:"getDistances",value:function(t,e,i){for(var n={},r=t.edges,s=0;s<e.length;s++){var o={};n[e[s]]=o;for(var a=0;a<e.length;a++)o[e[a]]=s==a?0:1e9}for(var l=0;l<i.length;l++){var h=r[i[l]];!0===h.connected&&void 0!==n[h.fromId]&&void 0!==n[h.toId]&&(n[h.fromId][h.toId]=1,n[h.toId][h.fromId]=1)}for(var c=e.length,u=0;u<c;u++)for(var d=e[u],f=n[d],p=0;p<c-1;p++)for(var g=e[p],m=n[g],v=p+1;v<c;v++){var y=e[v],b=n[y],_=Math.min(m[y],m[d]+f[y]);m[y]=_,b[g]=_}return n}}]),t}(),JW=function(){function t(e,i,n){tT(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new XW}return rT(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=.01,s=1,o=0,a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,h=1e9,c=0,u=0,d=0,f=0,p=0;h>r&&o<a;){o+=1;var g=this._getHighestEnergyNode(i),m=uj(g,4);for(c=m[0],u=m[2],d=m[3],f=h=m[1],p=0;f>s&&p<l;){p+=1,this._moveNode(c,u,d);var v=this._getEnergy(c),y=uj(v,3);f=y[0],u=y[1],d=y[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,r=e[0],s=0,o=0,a=0;a<e.length;a++){var l=e[a];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var h=this._getEnergy(l),c=uj(h,3),u=c[0];n<u&&(n=u,r=l,s=c[1],o=c[2])}}return[r,n,s,o]}},{key:"_getEnergy",value:function(t){var e=uj(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,r=this.body.nodes,s=0,o=0,a=0,l=r[t].x,h=r[t].y,c=this.K_matrix[t],u=this.L_matrix[t],d=0;d<n.length;d++){var f=n[d];if(f!==t){var p=r[f].x,g=r[f].y,m=c[f],v=u[f],y=1/Math.pow(Math.pow(l-p,2)+Math.pow(h-g,2),1.5);s+=m*(1-v*Math.pow(h-g,2)*y),o+=m*(v*(l-p)*(h-g)*y),a+=m*(1-v*Math.pow(l-p,2)*y)}}var b=(e/s+i/o)/(o/s-a/o);r[t].x+=-(o*b+e)/s,r[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[n]][e[r]]=i*t[e[n]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[n]][e[r]]=i*Math.pow(t[e[n]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var r=t[n],s=e[r].x,o=e[r].y,a=0,l=0,h=n;h<t.length;h++){var c=t[h];if(c!==r){var u=e[c].x,d=e[c].y,f=1/Math.sqrt(Math.pow(s-u,2)+Math.pow(o-d,2));this.E_matrix[r][h]=[this.K_matrix[r][c]*(s-u-this.L_matrix[r][c]*(s-u)*f),this.K_matrix[r][c]*(o-d-this.L_matrix[r][c]*(o-d)*f)],this.E_matrix[c][n]=this.E_matrix[r][h],a+=this.E_matrix[r][h][0],l+=this.E_matrix[r][h][1]}}this.E_sums[r]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],r=this.K_matrix[t],s=this.L_matrix[t],o=i[t].x,a=i[t].y,l=0,h=0,c=0;c<e.length;c++){var u=e[c];if(u!==t){var d=n[c],f=d[0],p=d[1],g=i[u].x,m=i[u].y,v=1/Math.sqrt(Math.pow(o-g,2)+Math.pow(a-m,2)),y=r[u]*(o-g-s[u]*(o-g)*v),b=r[u]*(a-m-s[u]*(a-m)*v);n[c]=[y,b],l+=y,h+=b;var _=this.E_sums[u];_[0]+=y-f,_[1]+=b-p}}this.E_sums[t]=[l,h]}}]),t}();function tV(t,e,i){var n,r,s,o,a=this;if(!(this instanceof tV))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:JE,clickToUse:!1},q_(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:og(n=this.on).call(n,this),off:og(r=this.off).call(r,this),emit:og(s=this.emit).call(s,this),once:og(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new oT(function(){return a.body.emitter.emit("_requestRedraw")}),this.groups=new aT,this.canvas=new Iz(this.body),this.selectionHandler=new Hz(this.body,this.canvas),this.interactionHandler=new jz(this.body,this.canvas,this.selectionHandler),this.view=new Fz(this.body,this.canvas),this.renderer=new Rz(this.body,this.canvas),this.physics=new Sz(this.body),this.layoutEngine=new BW(this.body),this.clustering=new Mz(this.body),this.manipulation=new jW(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new RH(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new uz(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new JW(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}fg(tV.prototype),tV.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===AH.validate(t,KW)&&console.log("%cErrors have been found in the supplied options object.",TH),Z_(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new WW(this,this.body.container,ZW,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};X_(i.nodes,this.nodesHandler.options),X_(i.edges,this.edgesHandler.options),X_(i.layout,this.layoutEngine.options),X_(i.interaction,this.selectionHandler.options),X_(i.interaction,this.renderer.options),X_(i.interaction,this.interactionHandler.options),X_(i.manipulation,this.manipulation.options),X_(i.physics,this.physics.options),X_(i.global,this.canvas.options),X_(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new XE(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},tV.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],s=t[r.fromId],o=t[r.toId],a=void 0!==s&&void 0!==o;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&a&&!1===s.options.hidden&&!1===o.options.hidden&&this.body.edgeIndices.push(r.id)}},tV.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},tV.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=eC.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=hC(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},tV.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];z_(this.body.container)},tV.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,r=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),n=void 0===n?s:Math.max(s,n),r+=s)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,r)},tV.prototype.isActive=function(){return!this.activator||this.activator.active},tV.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},tV.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},tV.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},tV.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},tV.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},tV.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},tV.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},tV.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},tV.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},tV.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},tV.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},tV.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},tV.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},tV.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},tV.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},tV.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},tV.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},tV.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},tV.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},tV.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},tV.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},tV.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},tV.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},tV.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},tV.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},tV.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},tV.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},tV.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},tV.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},tV.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},tV.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},tV.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},tV.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},tV.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},tV.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},tV.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},tV.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},tV.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},tV.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},tV.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},tV.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},tV.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},tV.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},tV.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},tV.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},tV.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},tV.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},tV.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},tV.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},tV.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},tV.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var eV=dp(function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var r;return e.hasOwnProperty(t)?e[t].redundant.length>0?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0!==n?i.insertBefore(r,n):i.appendChild(r)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(r,n):i.appendChild(r)),e[t].used.push(r),r},e.drawPoint=function(t,i,n,r,s,o){var a;if("circle"==n.style?((a=e.getSVGElement("circle",r,s)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):((a=e.getSVGElement("rect",r,s)).setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),o){var l=e.getSVGElement("text",r,s);o.xOffset&&(t+=o.xOffset),o.yOffset&&(i+=o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,r,s,o,a,l){if(0!=r){r<0&&(i-=r*=-1);var h=e.getSVGElement("rect",o,a);h.setAttributeNS(null,"x",t-.5*n),h.setAttributeNS(null,"y",i),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",r),h.setAttributeNS(null,"class",s),l&&h.setAttributeNS(null,"style",l)}}}),iV=Object.freeze({__proto__:null,default:eV,__moduleExports:eV,prepareElements:eV.prepareElements,cleanupElements:eV.cleanupElements,resetElements:eV.resetElements,getSVGElement:eV.getSVGElement,getDOMElement:eV.getDOMElement,drawPoint:eV.drawPoint,drawBar:eV.drawBar}),nV=dp(function(t,e){t.exports=function(){var e,i;function n(){return e.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)c(e,i)&&(t[i]=e[i]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return ke(t,e,i,n,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function g(t){var e=d(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var m=n.momentProperties=[];function v(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),m.length>0)for(i=0;i<m.length;i++)o(r=e[n=m[i]])||(t[n]=r);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function _(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=w(e)),i}function k(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&o++;return o+s}function x(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return u(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}x(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var E,T={};function A(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),T[t]||(x(e),T[t]=!0)}function O(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var i,n=u({},t);for(i in e)c(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)c(t,i)&&!c(e,i)&&s(t[i])&&(n[i]=u({},n[i]));return n}function R(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)c(t,e)&&i.push(e);return i};var D={};function L(t,e){var i=t.toLowerCase();D[i]=D[i+"s"]=D[e]=t}function I(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function P(t){var e,i,n={};for(i in t)c(t,i)&&(e=I(i))&&(n[e]=t[i]);return n}var $={};function F(t,e){$[t]=e}function N(t,e,i){var n=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},z={};function W(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(z[t]=r),e&&(z[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),i&&(z[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),H[e]=H[e]||function(t){var e,i,n,r=t.match(B);for(e=0,i=r.length;e<i;e++)r[e]=z[r[e]]?z[r[e]]:(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<i;n++)s+=O(r[n])?r[n].call(e,t):r[n];return s}}(e),H[e](t)):t.localeData().invalidDate()}function U(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;i>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,i-=1;return t}var Y=/\d/,G=/\d\d/,q=/\d{3}/,K=/\d{4}/,Z=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,it=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ht(t,e,i){lt[t]=O(e)?e:function(t,n){return t&&i?i:e}}function ct(t,e){return c(lt,t)?lt[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r})))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ft(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),a(e)&&(n=function(t,i){i[e]=S(t)}),i=0;i<t.length;i++)dt[t[i]]=n}function pt(t,e){ft(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function gt(t,e,i){null!=e&&c(dt,t)&&dt[t](e,i._a,i,t)}function mt(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("year",1),ht("Y",rt),ht("YY",Q,G),ht("YYYY",et,K),ht("YYYYY",it,Z),ht("YYYYYY",it,Z),ft(["YYYYY","YYYYYY"],0),ft("YYYY",function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):S(t)}),ft("YY",function(t,e){e[0]=n.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[0]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var yt,bt=_t("FullYear",!0);function _t(t,e){return function(i){return null!=i?(St(this,t,i),n.updateOffset(this,e),this):wt(this,t)}}function wt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function St(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&vt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?vt(t)?29:28:31-i%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),F("month",8),ht("M",Q),ht("MM",Q,G),ht("MMM",function(t,e){return e.monthsShortRegex(t)}),ht("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[1]=S(t)-1}),ft(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[1]=r:f(i).invalidMonth=t});var xt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Tt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))||-1!==(r=yt.call(this._longMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))||-1!==(r=yt.call(this._shortMonthsParse,o))?r:null}function At(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Ot(t){return null!=t?(At(this,t),n.updateOffset(this,!0),this):wt(this,"Month")}var Mt=at,Rt=at;function Dt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)n[e]=ut(n[e]),r[e]=ut(r[e]);for(e=0;e<24;e++)s[e]=ut(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Lt(t,e,i,n,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}function It(t){var e;if(t<100&&t>=0){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Pt(t,e,i){var n=7+e-i;return-(7+It(t,0,n).getUTCDay()-e)%7+n-1}function $t(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+Pt(t,n,r);return a<=0?o=mt(s=t-1)+a:a>mt(t)?(s=t+1,o=a-mt(t)):(s=t,o=a),{year:s,dayOfYear:o}}function Ft(t,e,i){var n,r,s=Pt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Nt(r=t.year()-1,e,i):o>Nt(t.year(),e,i)?(n=o-Nt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Nt(t,e,i){var n=Pt(t,e,i),r=Pt(t+1,e,i);return(mt(t)-n+r)/7}function Bt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("week",5),F("isoWeek",5),ht("w",Q),ht("ww",Q,G),ht("W",Q),ht("WW",Q,G),pt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=S(t)}),W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ht("d",Q),ht("e",Q),ht("E",Q),ht("dd",function(t,e){return e.weekdaysMinRegex(t)}),ht("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ht("dddd",function(t,e){return e.weekdaysRegex(t)}),pt(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:f(i).invalidWeekday=t}),pt(["d","e","E"],function(t,e,i,n){e[n]=S(t)});var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null}var Vt=at,Ut=at,Yt=at;function Gt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),l.push(s),h.push(n),h.push(r),h.push(s);for(o.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=ut(a[e]),l[e]=ut(l[e]),h[e]=ut(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function qt(){return this.hours()%12||12}function Kt(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Zt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,qt),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+qt.apply(this)+N(this.minutes(),2)}),W("hmmss",0,0,function(){return""+qt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),L("hour","h"),F("hour",13),ht("a",Zt),ht("A",Zt),ht("H",Q),ht("h",Q),ht("k",Q),ht("HH",Q,G),ht("hh",Q,G),ht("kk",Q,G),ht("hmm",X),ht("hmmss",J),ht("Hmm",X),ht("Hmmss",J),ft(["H","HH"],3),ft(["k","kk"],function(t,e,i){var n=S(t);e[3]=24===n?0:n}),ft(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),ft(["h","hh"],function(t,e,i){e[3]=S(t),f(i).bigHour=!0}),ft("hmm",function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n)),f(i).bigHour=!0}),ft("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r)),f(i).bigHour=!0}),ft("Hmm",function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n))}),ft("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r))});var Qt,Xt=_t("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:Et,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:zt,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function ne(e){var i=null;if(!te[e]&&t&&t.exports)try{i=Qt._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),re(i)}catch(t){}return te[e]}function re(t,e){var i;return t&&((i=o(e)?oe(t):se(t,e))?Qt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function se(t,e){if(null!==e){var i,n=Jt;if(e.abbr=t,null!=te[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])n=te[e.parentLocale]._config;else{if(null==(i=ne(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;n=i._config}return te[t]=new R(M(n,e)),ee[t]&&ee[t].forEach(function(t){se(t.name,t.config)}),re(t),te[t]}return delete te[t],null}function oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!r(t)){if(e=ne(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=ie(t[s]).split("-")).length,i=(i=ie(t[s+1]))?i.split("-"):null;e>0;){if(n=ne(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(r,i,!0)>=e-1)break;e--}s++}return Qt}(t)}function ae(t){var e,i=t._a;return i&&-2===f(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,f(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),f(t)._overflowWeeks&&-1===e&&(e=7),f(t)._overflowWeekday&&-1===e&&(e=8),f(t).overflow=e),t}function le(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e,i,r,s,o,a=[];if(!t._d){for(r=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=le(e.GG,t._a[0],Ft(xe(),1,4).year),n=le(e.W,1),((r=le(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var h=Ft(xe(),s,o);i=le(e.gg,t._a[0],h.year),n=le(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}n<1||n>Nt(i,s,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=$t(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=le(t._a[0],r[0]),(t._dayOfYear>mt(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),i=It(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:Lt).apply(null,a),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(f(t).weekdayMismatch=!0)}}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function me(t){var e,i,n,r,s,o,a=t._i,l=ce.exec(a)||ue.exec(a);if(l){for(f(t).iso=!0,e=0,i=fe.length;e<i;e++)if(fe[e][1].exec(l[1])){r=fe[e][0],n=!1!==fe[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(l[3])){s=(l[2]||" ")+pe[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!de.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),we(t)}else t._isValid=!1}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ye(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _e(t){var e,i,n,r,s,o,a=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(a){var l=(e=a[3],i=a[2],n=a[5],r=a[6],s=a[7],o=[ye(a[4]),Et.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)],s&&o.push(parseInt(s,10)),o);if(!function(t,e,i){return!t||Ht.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}(a[1],l,t))return;t._a=l,t._tzm=function(t,e,i){if(t)return be[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(a[8],a[9],a[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function we(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],f(t).empty=!0;var e,i,r,s,o,a=""+t._i,l=a.length,h=0;for(r=U(t._f,t._locale).match(B)||[],e=0;e<r.length;e++)(i=(a.match(ct(s=r[e],t))||[])[0])&&((o=a.substr(0,a.indexOf(i))).length>0&&f(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),h+=i.length),z[s]?(i?f(t).empty=!1:f(t).unusedTokens.push(s),gt(s,i,t)):t._strict&&!i&&f(t).unusedTokens.push(s);f(t).charsLeftOver=l-h,a.length>0&&f(t).unusedInput.push(a),t._a[3]<=12&&!0===f(t).bigHour&&t._a[3]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),he(t),ae(t)}else _e(t);else me(t)}function Se(t){var e=t._i,i=t._f;return t._locale=t._locale||oe(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new b(ae(e)):(l(e)?t._d=e:r(i)?function(t){var e,i,n,r,s;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],we(e),p(e)&&(s+=f(e).charsLeftOver,s+=10*f(e).unusedTokens.length,f(e).score=s,(null==n||s<n)&&(n=s,i=e));u(t,i||e)}(t):i?we(t):function(t){var e=t._i;o(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ge.exec(t._i);null===e?(me(t),!1===t._isValid&&(delete t._isValid,_e(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=h(e.slice(0),function(t){return parseInt(t,10)}),he(t)):s(e)?function(t){if(!t._d){var e=P(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),he(t)}}(t):a(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function ke(t,e,i,n,o){var a,l={};return!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=i,l._i=t,l._f=e,l._strict=n,(a=new b(ae(Se(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xe(t,e,i,n){return ke(t,e,i,n,!1)}n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ce=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Ee=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Te(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return xe();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var e=P(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===yt.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Ae.length;++n)if(t[Ae[n]]){if(i)return!1;parseFloat(t[Ae[n]])!==S(t[Ae[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=oe(),this._bubble()}function Me(t){return t instanceof Oe}function Re(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,e){W(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)})}De("Z",":"),De("ZZ",""),ht("Z",ot),ht("ZZ",ot),ft(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ie(ot,t)});var Le=/([\+\-]|\d\d)/gi;function Ie(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Le)||["-",0,0],r=60*n[1]+S(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Pe(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(_(t)||l(t)?t.valueOf():xe(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):xe(t).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ne=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function je(t,e){var i,n,r,s,o,l,h=t,u=null;return Me(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(h={},e?h[e]=t:h.milliseconds=t):(u=Ne.exec(t))?(i="-"===u[1]?-1:1,h={y:0,d:S(u[2])*i,h:S(u[3])*i,m:S(u[4])*i,s:S(u[5])*i,ms:S(Re(1e3*u[6]))*i}):(u=Be.exec(t))?h={y:He(u[2],i="-"===u[1]?-1:1),M:He(u[3],i),w:He(u[4],i),d:He(u[5],i),h:He(u[6],i),m:He(u[7],i),s:He(u[8],i)}:null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(s=xe(h.from),o=xe(h.to),r=s.isValid()&&o.isValid()?(o=Pe(o,s),s.isBefore(o)?l=ze(s,o):((l=ze(o,s)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(h={}).ms=r.milliseconds,h.M=r.months),n=new Oe(h),Me(t)&&c(t,"_locale")&&(n._locale=t._locale),n}function He(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ze(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function We(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Ve(this,je(i="string"==typeof i?+i:i,n),t),this}}function Ve(t,e,i,r){var s=e._milliseconds,o=Re(e._days),a=Re(e._months);t.isValid()&&(r=null==r||r,a&&At(t,wt(t,"Month")+a*i),o&&St(t,"Date",wt(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),r&&n.updateOffset(t,o||a))}je.fn=Oe.prototype,je.invalid=function(){return je(NaN)};var Ue=We(1,"add"),Ye=We(-1,"subtract");function Ge(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=oe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ke=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ze(){return this._locale}var Qe=6e4,Xe=60*Qe,Je=3506328*Xe;function ti(t,e){return(t%e+e)%e}function ei(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-Je:new Date(t,e,i).valueOf()}function ii(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-Je:Date.UTC(t,e,i)}function ni(t,e){W(0,[t,t.length],0,e)}function ri(t,e,i,n,r){var s;return null==t?Ft(this,n,r).year:(e>(s=Nt(t,n,r))&&(e=s),si.call(this,t,e,i,n,r))}function si(t,e,i,n,r){var s=$t(t,e,i,n,r),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ni("gggg","weekYear"),ni("ggggg","weekYear"),ni("GGGG","isoWeekYear"),ni("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ht("G",rt),ht("g",rt),ht("GG",Q,G),ht("gg",Q,G),ht("GGGG",et,K),ht("gggg",et,K),ht("GGGGG",it,Z),ht("ggggg",it,Z),pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=S(t)}),pt(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),L("quarter","Q"),F("quarter",7),ht("Q",Y),ft("Q",function(t,e){e[1]=3*(S(t)-1)}),W("D",["DD",2],"Do","date"),L("date","D"),F("date",9),ht("D",Q),ht("DD",Q,G),ht("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ft(["D","DD"],2),ft("Do",function(t,e){e[2]=S(t.match(Q)[0])});var oi=_t("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("dayOfYear",4),ht("DDD",tt),ht("DDDD",q),ft(["DDD","DDDD"],function(t,e,i){i._dayOfYear=S(t)}),W("m",["mm",2],0,"minute"),L("minute","m"),F("minute",14),ht("m",Q),ht("mm",Q,G),ft(["m","mm"],4);var ai=_t("Minutes",!1);W("s",["ss",2],0,"second"),L("second","s"),F("second",15),ht("s",Q),ht("ss",Q,G),ft(["s","ss"],5);var li,hi=_t("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),F("millisecond",16),ht("S",tt,Y),ht("SS",tt,G),ht("SSS",tt,q),li="SSSS";li.length<=9;li+="S")ht(li,nt);function ci(t,e){e[6]=S(1e3*("0."+t))}for(li="S";li.length<=9;li+="S")ft(li,ci);var ui=_t("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var di=b.prototype;function fi(t){return t}di.add=Ue,di.calendar=function(t,e){var i=t||xe(),r=Pe(i,this).startOf("day"),s=n.calendarFormat(this,r)||"sameElse",o=e&&(O(e[s])?e[s].call(this,i):e[s]);return this.format(o||this.localeData().calendar(s,this,xe(i)))},di.clone=function(){return new b(this)},di.diff=function(t,e,i){var n,r,s;if(!this.isValid())return NaN;if(!(n=Pe(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=I(e)){case"year":s=Ge(this,n)/12;break;case"month":s=Ge(this,n);break;case"quarter":s=Ge(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:w(s)},di.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xe-ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe)-1;break;case"minute":e=this._d.valueOf(),e+=Qe-ti(e,Qe)-1;break;case"second":e=this._d.valueOf(),e+=1e3-ti(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},di.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},di.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||xe(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.fromNow=function(t){return this.from(xe(),t)},di.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||xe(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.toNow=function(t){return this.to(xe(),t)},di.get=function(t){return O(this[t=I(t)])?this[t]():this},di.invalidAt=function(){return f(this).overflow},di.isAfter=function(t,e){var i=_(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},di.isBefore=function(t,e){var i=_(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},di.isBetween=function(t,e,i,n){var r=_(t)?t:xe(t),s=_(e)?e:xe(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},di.isSame=function(t,e){var i,n=_(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},di.isValid=function(){return p(this)},di.lang=Ke,di.locale=qe,di.localeData=Ze,di.max=Ee,di.min=Ce,di.parsingFlags=function(){return u({},f(this))},di.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:$[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=P(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(O(this[t=I(t)]))return this[t](e);return this},di.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe);break;case"minute":e=this._d.valueOf(),e-=ti(e,Qe);break;case"second":e=this._d.valueOf(),e-=ti(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},di.subtract=Ye,di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},di.toDate=function(){return new Date(this.valueOf())},di.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?V(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(i,"Z")):V(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},di.toJSON=function(){return this.isValid()?this.toISOString():null},di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},di.unix=function(){return Math.floor(this.valueOf()/1e3)},di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},di.year=bt,di.isLeapYear=function(){return vt(this.year())},di.weekYear=function(t){return ri.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},di.isoWeekYear=function(t){return ri.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},di.quarter=di.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},di.month=Ot,di.daysInMonth=function(){return kt(this.year(),this.month())},di.week=di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},di.isoWeek=di.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},di.weeksInYear=function(){var t=this.localeData()._week;return Nt(this.year(),t.dow,t.doy)},di.isoWeeksInYear=function(){return Nt(this.year(),1,4)},di.date=oi,di.day=di.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},di.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},di.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},di.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},di.hour=di.hours=Xt,di.minute=di.minutes=ai,di.second=di.seconds=hi,di.millisecond=di.milliseconds=ui,di.utcOffset=function(t,e,i){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ie(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=$e(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?Ve(this,je(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:$e(this)},di.utc=function(t){return this.utcOffset(0,t)},di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this},di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ie(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},di.isLocal=function(){return!!this.isValid()&&!this._isUTC},di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},di.isUtc=Fe,di.isUTC=Fe,di.zoneAbbr=function(){return this._isUTC?"UTC":""},di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},di.dates=C("dates accessor is deprecated. Use date instead.",oi),di.months=C("months accessor is deprecated. Use month instead",Ot),di.years=C("years accessor is deprecated. Use year instead",bt),di.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),di.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Se(t))._a){var e=t._isUTC?d(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var pi=R.prototype;function gi(t,e,i,n){var r=oe(),s=d().set(n,e);return r[i](s,t)}function mi(t,e,i){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return gi(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=gi(t,n,i,"month");return r}function vi(t,e,i,n){"boolean"==typeof t?(a(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,a(e)&&(i=e,e=void 0),e=e||"");var r,s=oe(),o=t?s._week.dow:0;if(null!=i)return gi(e,(i+o)%7,n,"day");var l=[];for(r=0;r<7;r++)l[r]=gi(e,(r+o)%7,n,"day");return l}pi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return O(n)?n.call(e,i):n},pi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},pi.invalidDate=function(){return this._invalidDate},pi.ordinal=function(t){return this._ordinal.replace("%d",t)},pi.preparse=fi,pi.postformat=fi,pi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return O(r)?r(t,e,i,n):r.replace(/%d/i,t)},pi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return O(i)?i(e):i.replace(/%s/i,e)},pi.set=function(t){var e,i;for(i in t)O(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pi.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},pi.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pi.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return Tt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},pi.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Rt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pi.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pi.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},pi.firstDayOfYear=function(){return this._week.doy},pi.firstDayOfWeek=function(){return this._week.dow},pi.weekdays=function(t,e){var i=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Bt(i,this._week.dow):t?i[t.day()]:i},pi.weekdaysMin=function(t){return!0===t?Bt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},pi.weekdaysShort=function(t){return!0===t?Bt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},pi.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return Wt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},pi.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},re("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",re),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",oe);var yi=Math.abs;function bi(t,e,i,n){var r=je(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function _i(t){return t<0?Math.floor(t):Math.ceil(t)}function wi(t){return 4800*t/146097}function Si(t){return 146097*t/4800}function ki(t){return function(){return this.as(t)}}var xi=ki("ms"),Ci=ki("s"),Ei=ki("m"),Ti=ki("h"),Ai=ki("d"),Oi=ki("w"),Mi=ki("M"),Ri=ki("Q"),Di=ki("y");function Li(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ii=Li("milliseconds"),Pi=Li("seconds"),$i=Li("minutes"),Fi=Li("hours"),Ni=Li("days"),Bi=Li("months"),ji=Li("years"),Hi=Math.round,zi={ss:44,s:45,m:45,h:22,d:26,M:11};function Wi(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}var Vi=Math.abs;function Ui(t){return(t>0)-(t<0)||+t}function Yi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Vi(this._milliseconds)/1e3,n=Vi(this._days),r=Vi(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60;var s=w(r/12),o=r%=12,a=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",f=Ui(this._months)!==Ui(u)?"-":"",p=Ui(this._days)!==Ui(u)?"-":"",g=Ui(this._milliseconds)!==Ui(u)?"-":"";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Gi=Oe.prototype;return Gi.isValid=function(){return this._isValid},Gi.abs=function(){var t=this._data;return this._milliseconds=yi(this._milliseconds),this._days=yi(this._days),this._months=yi(this._months),t.milliseconds=yi(t.milliseconds),t.seconds=yi(t.seconds),t.minutes=yi(t.minutes),t.hours=yi(t.hours),t.months=yi(t.months),t.years=yi(t.years),this},Gi.add=function(t,e){return bi(this,t,e,1)},Gi.subtract=function(t,e){return bi(this,t,e,-1)},Gi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+wi(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Si(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Gi.asMilliseconds=xi,Gi.asSeconds=Ci,Gi.asMinutes=Ei,Gi.asHours=Ti,Gi.asDays=Ai,Gi.asWeeks=Oi,Gi.asMonths=Mi,Gi.asQuarters=Ri,Gi.asYears=Di,Gi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Gi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*_i(Si(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=w(s/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,i=w(e/60),l.hours=i%24,o+=w(i/24),a+=r=w(wi(o)),o-=_i(Si(r)),n=w(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},Gi.clone=function(){return je(this)},Gi.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Gi.milliseconds=Ii,Gi.seconds=Pi,Gi.minutes=$i,Gi.hours=Fi,Gi.days=Ni,Gi.weeks=function(){return w(this.days()/7)},Gi.months=Bi,Gi.years=ji,Gi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=je(t).abs(),r=Hi(n.as("s")),s=Hi(n.as("m")),o=Hi(n.as("h")),a=Hi(n.as("d")),l=Hi(n.as("M")),h=Hi(n.as("y")),c=r<=zi.ss&&["s",r]||r<zi.s&&["ss",r]||s<=1&&["m"]||s<zi.m&&["mm",s]||o<=1&&["h"]||o<zi.h&&["hh",o]||a<=1&&["d"]||a<zi.d&&["dd",a]||l<=1&&["M"]||l<zi.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Wi.apply(null,c)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Gi.toISOString=Yi,Gi.toString=Yi,Gi.toJSON=Yi,Gi.locale=qe,Gi.localeData=Ze,Gi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yi),Gi.lang=Ke,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",rt),ht("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,i){i._d=new Date(S(t))}),n.version="2.24.0",e=xe,n.fn=di,n.min=function(){return Te("isBefore",[].slice.call(arguments,0))},n.max=function(){return Te("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(t){return xe(1e3*t)},n.months=function(t,e){return mi(t,e,"months")},n.isDate=l,n.locale=re,n.invalid=g,n.duration=je,n.isMoment=_,n.weekdays=function(t,e,i){return vi(t,e,i,"weekdays")},n.parseZone=function(){return xe.apply(null,arguments).parseZone()},n.localeData=oe,n.isDuration=Me,n.monthsShort=function(t,e){return mi(t,e,"monthsShort")},n.weekdaysMin=function(t,e,i){return vi(t,e,i,"weekdaysMin")},n.defineLocale=se,n.updateLocale=function(t,e){if(null!=e){var i,n,r=Jt;null!=(n=ne(t))&&(r=n._config),(i=new R(e=M(r,e))).parentLocale=te[t],te[t]=i,re(t)}else null!=te[t]&&(null!=te[t].parentLocale?te[t]=te[t].parentLocale:null!=te[t]&&delete te[t]);return te[t]},n.locales=function(){return E(te)},n.weekdaysShort=function(t,e,i){return vi(t,e,i,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(t){return void 0===t?Hi:"function"==typeof t&&(Hi=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==zi[t]&&(void 0===e?zi[t]:(zi[t]=e,"s"===t&&(zi.ss=e-1),!0))},n.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},n.prototype=di,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}),rV="undefined"!=typeof window&&window.moment||nV,sV=Object.freeze({__proto__:null,default:rV,__moduleExports:rV});Object.freeze({__proto__:null,network:{Images:oT,dotparser:iC,gephiParser:cC,allOptions:QW,convertDot:tC,convertGephi:hC},DOMutil:iV,util:Ww,data:VN,moment:sV,Hammer:ZE,keycharm:dC,DataSet:zN,DataView:WN,Queue:IN,Network:tV}),cp.define("ace/mode/progLin_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,i){const n=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"keyword",regex:"max"},{token:"keyword",regex:"min"},{token:"keyword",regex:"sujeito a:"},{token:"keyword",regex:"st:"},{token:"constant.numeric",regex:/\d+/},{token:"keyword.operator",regex:/>=|==|<=|=|\+|\-|\*|\//},{token:"variable",regex:/\w+/}]},this.normalizeRules()};n.inherits(s,r),e.ProgLinHighlightRules=s}),cp.define("ace/mode/progLin",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/progLin_highlight_rules"],function(t,e,i){const n=t("../lib/oop"),r=t("./text").Mode,s=t("./progLin_highlight_rules").ProgLinHighlightRules,o=function(){this.HighlightRules=s,this.$behaviour=this.$defaultBehaviour};n.inherits(o,r),e.Mode=o}),i(9416);const oV=t=>({numerator:""+t.numerator,denominator:""+t.denominator});function aV(t){return new y(e=>{const n=new Worker(new URL(i.p+i.u(2),i.b),{type:void 0});return n.onmessage=({data:t})=>{e.next(t),e.complete(),n.terminate()},n.postMessage(t),()=>{n.terminate()}})}function lV(t,e){return new y(e?i=>e.schedule(hV,0,{error:t,subscriber:i}):e=>e.error(t))}function hV({error:t,subscriber:e}){e.error(t)}var cV=i(3272);function uV(t){return console.error(t),lV("The code reached an unexpected path")}const dV=BigInt(1);function fV(t){return new cV.iA(BigInt(t.numerator),BigInt(t.denominator))}function pV(t,e){const i=document.createElement("div");i.style.display="grid",i.style.gridTemplateColumns="";for(let n=0;n<e.length;n++){const{numerator:r,denominator:s}=t[n],o=document.createElement("div");o.style.marginLeft="1em",o.style.marginRight=".5em",o.innerText=e[n]+":";const a=document.createElement("div");if("1"===s)a.innerText=r;else{const t=document.createElement("div");t.innerText=r;const e=document.createElement("div");e.style.borderTop="1px solid",e.innerText=s,a.appendChild(t),a.appendChild(e)}i.append(o),i.appendChild(a),i.style.gridTemplateColumns+=" auto auto"}return i}let gV=0;function mV(t){let e;do{e="g_"+gV++}while(-1!==t.indexOf(e));return e}function vV(t,e){return{numerator:t,denominator:e}}const yV=vV("0","1"),bV=vV("1","1"),_V=vV("-1","1");function wV(t){try{const e=(0,cV.Qc)(t),i=e.toFPI(),n=e.objective.getVars(),r=function(t){const{a:e,b:i,c:n,vars:r}=t.toMatrix();return{A:e.map(t=>t.map(oV)),B:i.map(oV),C:n.map(oV),vars:r}}(i),s={node:"",value:Number.NEGATIVE_INFINITY};return aV(r).pipe(Dc(t=>SV(s,e.type,r,n,t,"1")),Bc({type:"subproblem",id:"1",mat:r,parentId:void 0,edgeLabel:void 0}),Bc({type:"start"}))}catch(e){return bc(e instanceof cV.gW?{type:"parserError",annotations:[{column:e.location.start.column-1,row:e.location.start.line-1,text:e.message,type:"error"}]}:{type:"error",message:e.message})}}function SV(t,e,i,n,r,s){switch(r.type){case"ILIMITED":case"INFEASIBLE":return bc({type:"subresult",id:s,res:r,fracIdx:-1,value:"max"===e?fV(r.value):fV(r.value).multiply(cV.hL)});case"LIMITED":const o=r.solution.findIndex((t,e)=>n.has(r.vars[e])&&!function(t){return fV(t).denominator===dV}(t)),a=Number(r.value.numerator)/Number(r.value.denominator),l={type:"subresult",id:s,res:r,fracIdx:o,value:"max"===e?fV(r.value):fV(r.value).multiply(cV.hL)};return-1!==o&&a>t.value?function(t,e,i,n,r,s,o){let a=BigInt(r.solution[o].numerator)/BigInt(r.solution[o].denominator);return"number"==typeof a&&(a=Math.floor(a)),U((()=>{const l=s+".1",h=r.vars[o]+" <= "+a,c=[...r.state.A.map(t=>[...t,yV]),[...r.state.C.map((t,e)=>e===o?bV:yV),bV]],u=[...r.state.B,vV(""+a,"1")],d=i.C.slice();for(;d.length<=r.state.C.length;)d.push(yV);const f={A:c,B:u,C:d,vars:[...r.vars,mV(r.vars)]};return aV(f).pipe(Dc(r=>SV(t,e,i,n,r,l)),Bc({type:"subproblem",id:l,mat:f,parentId:s,edgeLabel:h}))})(),(()=>{const l=s+".2",h=r.vars[o]+" >= "+(a+BigInt(1)),c=[...r.state.A.map(t=>[...t,yV]),[...r.state.C.map((t,e)=>e===o?bV:yV),_V]],u=[...r.state.B,vV(""+(a+BigInt(1)),"1")],d=i.C.slice();for(;d.length<=r.state.C.length;)d.push(yV);const f={A:c,B:u,C:d,vars:[...r.vars,mV(r.vars)]};return aV(f).pipe(Dc(r=>SV(t,e,i,n,r,l)),Bc({type:"subproblem",id:l,mat:f,parentId:s,edgeLabel:h}))})())}(t,e,i,n,r,s,o).pipe(Bc(l)):a>t.value?(t.node=s,t.value=a,bc({type:"optimal",value:l.value,id:l.id},l)):bc(l);default:return uV(r.type)}}function kV(t){return null!=t&&"false"!=`${t}`}function xV(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function CV(t){return Array.isArray(t)?t:[t]}function EV(t){return null==t?"":"string"==typeof t?t:`${t}px`}function TV(t){return t instanceof $o?t.nativeElement:t}function AV(t,e,i,r){return n(i)&&(r=i,i=void 0),r?AV(t,e,i).pipe(E(t=>l(t)?r(...t):r(t))):new y(n=>{OV(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,i)})}function OV(t,e,i,n,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const n=t;t.addEventListener(e,i,r),s=()=>n.removeEventListener(e,i,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const n=t;t.on(e,i),s=()=>n.off(e,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const n=t;t.addListener(e,i),s=()=>n.removeListener(e,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)OV(t[s],e,i,n,r)}n.add(s)}void 0===typeof BigInt&&(BigInt=t=>parseInt(t,10));class MV extends u{constructor(t,e){super()}schedule(t,e=0){return this}}class RV extends MV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,n=!1;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let DV=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class LV extends DV{constructor(t,e=DV.now){super(t,()=>LV.delegate&&LV.delegate!==this?LV.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return LV.delegate&&LV.delegate!==this?LV.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}class IV{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new PV(t,this.compare,this.keySelector))}}class PV extends p{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:t}=this;i=t(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}const $V=new LV(RV);class FV{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new NV(t,this.durationSelector))}}class NV extends N{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:e}=this;i=e(t)}catch(e){return this.destination.error(e)}const n=B(i,new F(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function BV(t){return!l(t)&&t-parseFloat(t)+1>=0}function jV(t=0,e,i){let n=-1;return BV(e)?n=Number(e)<1?1:Number(e):C(e)&&(i=e),C(i)||(i=$V),new y(e=>{const r=BV(t)?t:+t-i.now();return i.schedule(HV,r,{index:0,period:n,subscriber:e})})}function HV(t){const{index:e,period:i,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===i)return n.complete();t.index=e+1,this.schedule(t,i)}}function zV(t,e=$V){return i=()=>jV(t,e),function(t){return t.lift(new FV(i))};var i}function WV(t){return e=>e.lift(new VV(t))}class VV{constructor(t){this.notifier=t}call(t,e){const i=new UV(t),n=B(this.notifier,new F(i));return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}class UV extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class YV extends RV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}}class GV extends LV{}const qV=new GV(YV);let KV,ZV=(()=>{class t{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return bc(this.value);case"E":return lV(this.error);case"C":return Mc()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class QV extends p{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(QV.dispatch,this.delay,new XV(t,this.destination)))}_next(t){this.scheduleMessage(ZV.createNext(t))}_error(t){this.scheduleMessage(ZV.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(ZV.createComplete()),this.unsubscribe()}}class XV{constructor(t,e){this.notification=t,this.destination=e}}class JV extends k{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new tU(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,r=i.length;let s;if(this.closed)throw new _;if(this.isStopped||this.hasError?s=u.EMPTY:(this.observers.push(t),s=new w(this,t)),n&&t.add(t=new QV(t,n)),e)for(let o=0;o<r&&!t.closed;o++)t.next(i[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(i[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||qV).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,r=n.length;let s=0;for(;s<r&&!(t-n[s].time<i);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&n.splice(0,s),n}}class tU{constructor(t,e){this.time=t,this.value=e}}function eU(t,e,i){let n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:i},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let r,s,o=0,a=!1,l=!1;return function(h){let c;o++,!r||a?(a=!1,r=new JV(t,e,n),c=r.subscribe(this),s=h.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):c=r.subscribe(this),this.add(()=>{o--,c.unsubscribe(),c=void 0,s&&!l&&i&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(n))}try{KV="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(vS){KV=!1}let iU,nU,rU,sU=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KV)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(nn(dl))},t.\u0275prov=ut({factory:function(){return new t(nn(dl))},token:t,providedIn:"root"}),t})(),oU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({}),t})();function aU(t){return function(){if(null==iU&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iU=!0}))}finally{iU=iU||!1}return iU}()?t:!!t.capture}function lU(){if(null==nU){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nU=!1,nU;if("scrollBehavior"in document.documentElement.style)nU=!0;else{const t=Element.prototype.scrollTo;nU=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return nU}const hU=new Bi("cdk-dir-doc",{providedIn:"root",factory:function(){return rn(oh)}});let cU=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new ja,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(nn(hU,8))},t.\u0275prov=ut({factory:function(){return new t(nn(hU,8))},token:t,providedIn:"root"}),t})(),uU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({}),t})(),dU=(()=>{class t{constructor(t,e,i){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new y(e=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(zV(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Wc(t=>!t||i.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,t)&&e.push(n)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let i=TV(e),n=t.getElementRef().nativeElement;do{if(i==n)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>AV(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(nn(Tl),nn(sU),nn(oh,8))},t.\u0275prov=ut({factory:function(){return new t(nn(Tl),nn(sU),nn(oh,8))},token:t,providedIn:"root"}),t})(),fU=(()=>{class t{constructor(t,e,i){this._platform=t,this._change=new k,this._changeListener=t=>{this._change.next(t)},this._document=i,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),i=t.documentElement,n=i.getBoundingClientRect();return{top:-n.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-n.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(zV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(nn(sU),nn(Tl),nn(oh,8))},t.\u0275prov=ut({factory:function(){return new t(nn(sU),nn(Tl),nn(oh,8))},token:t,providedIn:"root"}),t})(),pU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({}),t})(),gU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[uU,oU,pU],uU,pU]}),t})();class mU{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class vU extends mU{constructor(t,e,i,n){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n}}class yU extends mU{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class bU extends mU{constructor(t){super(),this.element=t instanceof $o?t.nativeElement:t}}class _U{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof vU?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yU?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof bU?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wU extends _U{constructor(t,e,i,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=t=>{const e=t.element,i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=e.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(t=>this.outletElement.appendChild(t)),i.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(i);-1!==t&&e.remove(t)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let SU=(()=>{class t extends _U{constructor(t,e,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new ja,this.attachDomPortal=t=>{const e=t.element,i=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(i,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Is(Do),Is(_a),Is(oh))},t.\u0275dir=qt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ys]}),t})(),kU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({}),t})();function xU(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const CU=lU();class EU{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=EV(-this._previousScrollPosition.left),t.style.top=EV(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,i=this._document.body.style,n=e.scrollBehavior||"",r=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),CU&&(e.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CU&&(e.scrollBehavior=n,i.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class TU{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AU{enable(){}disable(){}attach(){}}function OU(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function MU(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class RU{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();OU(t,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let DU=(()=>{class t{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this.noop=()=>new AU,this.close=t=>new TU(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new EU(this._viewportRuler,this._document),this.reposition=t=>new RU(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=n}}return t.\u0275fac=function(e){return new(e||t)(nn(dU),nn(fU),nn(Tl),nn(oh))},t.\u0275prov=ut({factory:function(){return new t(nn(dU),nn(fU),nn(Tl),nn(oh))},token:t,providedIn:"root"}),t})();class LU{constructor(t){if(this.scrollStrategy=new AU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class IU{constructor(t,e,i,n,r){this.offsetX=i,this.offsetY=n,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class PU{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $U=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(nn(oh))},t.\u0275prov=ut({factory:function(){return new t(nn(oh))},token:t,providedIn:"root"}),t})(),FU=(()=>{class t extends $U{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let i=e.length-1;i>-1;i--)if(e[i]._keydownEvents.observers.length>0){e[i]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(nn(oh))},t.\u0275prov=ut({factory:function(){return new t(nn(oh))},token:t,providedIn:"root"}),t})(),NU=(()=>{class t extends $U{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,i=this._attachedOverlays.slice();for(let n=i.length-1;n>-1;n--){const r=i[n];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(nn(oh),nn(sU))},t.\u0275prov=ut({factory:function(){return new t(nn(oh),nn(sU))},token:t,providedIn:"root"}),t})();const BU=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let jU=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||BU){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),BU?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(nn(oh),nn(sU))},t.\u0275prov=ut({factory:function(){return new t(nn(oh),nn(sU))},token:t,providedIn:"root"}),t})();class HU{constructor(t,e,i,n,r,s,o,a,l){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=u.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new k,this._outsidePointerEvents=new k,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe($c(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=EV(this._config.width),t.height=EV(this._config.height),t.minWidth=EV(this._config.minWidth),t.minHeight=EV(this._config.minHeight),t.maxWidth=EV(this._config.maxWidth),t.maxHeight=EV(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const n=t.classList;CV(e).forEach(t=>{t&&(i?n.add(t):n.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(WV(U(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const zU=/([A-Za-z%]+)$/;class WU{constructor(t,e,i,n,r){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,i)?n.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(n.length){let t=null,e=-1;for(const i of n){const n=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);n>e&&(e=n,t=i)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&VU(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,n;if("center"==e.originX)i=t.left+t.width/2;else{const n=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;i="start"==e.originX?n:r}return n="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:n}}_getOverlayPoint(t,e,i){let n,r;return n="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+n,y:t.y+r}}_getOverlayFit(t,e,i,n){const r=YU(e);let{x:s,y:o}=t,a=this._getOffset(n,"x"),l=this._getOffset(n,"y");a&&(s+=a),l&&(o+=l);let h=0-o,c=o+r.height-i.height,u=this._subtractOverflows(r.width,0-s,s+r.width-i.width),d=this._subtractOverflows(r.height,h,c),f=u*d;return{visibleArea:f,isCompletelyWithinViewport:r.width*r.height===f,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:u==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const n=i.bottom-e.y,r=i.right-e.x,s=UU(this._overlayRef.getConfig().minHeight),o=UU(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=n)&&a}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=YU(e),r=this._viewportRect,s=Math.max(t.x+n.width-r.width,0),o=Math.max(t.y+n.height-r.height,0),a=Math.max(r.top-i.top-t.y,0),l=Math.max(r.left-i.left-t.x,0);let h=0,c=0;return h=n.width<=r.width?l||-s:t.x<this._viewportMargin?r.left-i.left-t.x:0,c=n.height<=r.height?a||-o:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:h,y:c},{x:t.x+h,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new PU(t,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,n=this._isRtl();let r,s,o,a,l,h;if("top"===e.overlayY)s=t.y,r=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=i.height-t.y+2*this._viewportMargin,r=i.height-o+this._viewportMargin;else{const e=Math.min(i.bottom-t.y+i.top,t.y),n=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>n&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-n/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)h=i.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)l=t.x,a=i.right-t.x;else{const e=Math.min(i.right-t.x+i.left,t.x),n=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>n&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-n/2)}return{top:s,left:l,bottom:o,right:h,width:a,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;n.height=EV(i.height),n.top=EV(i.top),n.bottom=EV(i.bottom),n.width=EV(i.width),n.left=EV(i.left),n.right=EV(i.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(n.maxHeight=EV(t)),r&&(n.maxWidth=EV(r))}this._lastBoundingBoxSize=i,VU(this._boundingBox.style,n)}_resetBoundingBoxStyles(){VU(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){VU(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},n=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){const n=this._viewportRuler.getViewportScrollPosition();VU(i,this._getExactOverlayY(e,t,n)),VU(i,this._getExactOverlayX(e,t,n))}else i.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),i.transform=o.trim(),s.maxHeight&&(n?i.maxHeight=EV(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=EV(s.maxWidth):r&&(i.maxWidth="")),VU(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":n.top=EV(r.y),n}_getExactOverlayX(t,e,i){let n,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),n=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===n?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=EV(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MU(t,i),isOriginOutsideView:OU(t,i),isOverlayClipped:MU(e,i),isOverlayOutsideView:OU(e,i)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&CV(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof $o)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function VU(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function UU(t){if("number"!=typeof t&&null!=t){const[e,i]=t.split(zU);return i&&"px"!==i?null:parseFloat(e)}return t||null}function YU(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class GU{constructor(t,e,i,n,r,s,o){this._preferredPositions=[],this._positionStrategy=new WU(i,n,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,n){const r=new IU(t,e,i,n);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class qU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:r,maxWidth:s,maxHeight:o}=i,a=!("100%"!==n&&"100vw"!==n||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let KU=(()=>{class t{constructor(t,e,i,n){this._viewportRuler=t,this._document=e,this._platform=i,this._overlayContainer=n}global(){return new qU}connectedTo(t,e,i){return new GU(e,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new WU(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(nn(fU),nn(oh),nn(sU),nn(jU))},t.\u0275prov=ut({factory:function(){return new t(nn(fU),nn(oh),nn(sU),nn(jU))},token:t,providedIn:"root"}),t})(),ZU=0,QU=(()=>{class t{constructor(t,e,i,n,r,s,o,a,l,h,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=i,this._positionBuilder=n,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=h,this._outsideClickDispatcher=c}create(t){const e=this._createHostElement(),i=this._createPaneElement(e),n=this._createPortalOutlet(i),r=new LU(t);return r.direction=r.direction||this._directionality.value,new HU(n,e,i,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+ZU++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ql)),new wU(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(nn(DU),nn(jU),nn(Do),nn(KU),nn(FU),nn(ms),nn(Tl),nn(oh),nn(cU),nn(wh),nn(NU))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const XU={provide:new Bi("cdk-connected-overlay-scroll-strategy"),deps:[QU],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let JU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:[QU,XU],imports:[[uU,kU,gU],gU]}),t})();function tY(t,e=$V){return i=>i.lift(new eY(t,e))}class eY{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new iY(t,this.dueTime,this.scheduler))}}class iY extends p{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nY,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function nY(t){t.debouncedNext()}let rY=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})(),sY=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=TV(t);return new y(t=>{const i=this._observeElement(e).subscribe(t);return()=>{i.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new k,i=this._mutationObserverFactory.create(t=>e.next(t));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:i}=this._observedElements.get(t);e&&e.disconnect(),i.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(nn(rY))},t.\u0275prov=ut({factory:function(){return new t(nn(rY))},token:t,providedIn:"root"}),t})(),oY=(()=>{class t{constructor(t,e,i){this._contentObserver=t,this._elementRef=e,this._ngZone=i,this.event=new ja,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=kV(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=xV(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(tY(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Is(sY),Is($o),Is(Tl))},t.\u0275dir=qt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),aY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:[rY]}),t})();class lY extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new k,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new k,this.change=new k,t instanceof za&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(lu(t=>this._pressedLetters.push(t)),tY(t),Wc(()=>this._pressedLetters.length>0),E(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let i=1;i<e.length+1;i++){const n=(this._activeItemIndex+i)%e.length,r=e[n];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(n);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||xU(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),n=e[i];this._activeItem=null==n?null:n,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const n=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof za?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let hY=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(vS){return null}}((i=t).ownerDocument&&i.ownerDocument.defaultView||window);var i;if(e){if(-1===uY(e))return!1;if(!this.isVisible(e))return!1}let n=t.nodeName.toLowerCase(),r=uY(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==n&&"object"!==n&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),i="input"===e&&t.type;return"text"===i||"password"===i||"select"===e||"textarea"===e}(t))&&("audio"===n?!!t.hasAttribute("controls")&&-1!==r:"video"===n?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||cY(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(nn(sU))},t.\u0275prov=ut({factory:function(){return new t(nn(sU))},token:t,providedIn:"root"}),t})();function cY(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function uY(t){if(!cY(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class dY{constructor(t,e,i,n,r=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe($c(1)).subscribe(t)}}let fY=(()=>{class t{constructor(t,e,i){this._checker=t,this._ngZone=e,this._document=i}create(t,e=!1){return new dY(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(nn(hY),nn(Tl),nn(oh))},t.\u0275prov=ut({factory:function(){return new t(nn(hY),nn(Tl),nn(oh))},token:t,providedIn:"root"}),t})();function pY(t){return 0===t.buttons}function gY(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const mY=new Bi("cdk-focus-monitor-default-options"),vY=aU({passive:!0,capture:!0});let yY=(()=>{class t{constructor(t,e,i,n){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=pY(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{gY(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=bY(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=bY(t),i="focus"===t.type?this._onFocus:this._onBlur;for(let n=e;n;n=n.parentElement)i.call(this,t,n)},this._document=i,this._detectionMode=(null==n?void 0:n.detectionMode)||0}monitor(t,e=!1){const i=TV(t);if(!this._platform.isBrowser||1!==i.nodeType)return bc(null);const n=function(t){if(function(){if(null==rU){const t="undefined"!=typeof document?document.head:null;rU=!(!t||!t.createShadowRoot&&!t.attachShadow)}return rU}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),r=this._elementInfo.get(i);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new k,rootNode:n};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=TV(t),i=this._elementInfo.get(e);i&&(i.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(i))}focusVia(t,e,i){const n=TV(t);n===this._getDocument().activeElement?this._getClosestElementsInfo(n).forEach(([t,i])=>this._originChanged(t,e,i)):(this._setOriginForCurrentEventQueue(e),"function"==typeof n.focus&&n.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,i){i?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=bY(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const i=this._elementInfo.get(e);i&&(i.checkChildren||e===bY(t))&&this._originChanged(e,this._getFocusOrigin(t),i)}_onBlur(t,e){const i=this._elementInfo.get(e);!i||i.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(i.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,i=this._rootNodeFocusListenerCount.get(e)||0;i||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,vY),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,vY)}),this._rootNodeFocusListenerCount.set(e,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,vY),t.addEventListener("mousedown",this._documentMousedownListener,vY),t.addEventListener("touchstart",this._documentTouchstartListener,vY),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vY),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vY),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,vY),t.removeEventListener("mousedown",this._documentMousedownListener,vY),t.removeEventListener("touchstart",this._documentTouchstartListener,vY),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,i){this._setClasses(t,e),this._emitOrigin(i.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((i,n)=>{(n===t||i.checkChildren&&n.contains(t))&&e.push([n,i])}),e}}return t.\u0275fac=function(e){return new(e||t)(nn(Tl),nn(sU),nn(oh,8),nn(mY,8))},t.\u0275prov=ut({factory:function(){return new t(nn(Tl),nn(sU),nn(oh,8),nn(mY,8))},token:t,providedIn:"root"}),t})();function bY(t){return t.composedPath?t.composedPath()[0]:t.target}let _Y=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new ja}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(yY))},t.\u0275dir=qt({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),wY=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,i=e&&e.getComputedStyle?e.getComputedStyle(t):null,n=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),n){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black"),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(nn(sU),nn(oh))},t.\u0275prov=ut({factory:function(){return new t(nn(sU),nn(oh))},token:t,providedIn:"root"}),t})(),SY=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(nn(wY))},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[oU,aY]]}),t})();const kY=new zo("12.0.1");class xY{}function CY(t,e){return{type:7,name:t,definitions:e,options:{}}}function EY(t,e=null){return{type:4,styles:e,timings:t}}function TY(t,e=null){return{type:2,steps:t,options:e}}function AY(t){return{type:6,styles:t,offset:null}}function OY(t,e,i){return{type:0,name:t,styles:e,options:i}}function MY(t,e,i=null){return{type:1,expr:t,animation:e,options:i}}function RY(t){Promise.resolve(null).then(t)}class DY{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RY(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class LY{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,n=0;const r=this.players.length;0==r?RY(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++i==r&&this._onDestroy()}),t.onStart(()=>{++n==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const i=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(i)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function IY(){return"undefined"!=typeof window&&void 0!==window.document}function PY(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $Y(t){switch(t.length){case 0:return new DY;case 1:return t[0];default:return new LY(t)}}function FY(t,e,i,n,r={},s={}){const o=[],a=[];let l=-1,h=null;if(n.forEach(t=>{const i=t.offset,n=i==l,c=n&&h||{};Object.keys(t).forEach(i=>{let n=i,a=t[i];if("offset"!==i)switch(n=e.normalizePropertyName(n,o),a){case"!":a=r[i];break;case"*":a=s[i];break;default:a=e.normalizeStyleValue(i,n,a,o)}c[n]=a}),n||a.push(c),h=c,l=i}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function NY(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&BY(i,"start",t)));break;case"done":t.onDone(()=>n(i&&BY(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&BY(i,"destroy",t)))}}function BY(t,e,i){const n=i.totalTime,r=jY(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==n?t.totalTime:n,!!i.disabled),s=t._data;return null!=s&&(r._data=s),r}function jY(t,e,i,n,r="",s=0,o){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function HY(t,e,i){let n;return t instanceof Map?(n=t.get(e),n||t.set(e,n=i)):(n=t[e],n||(n=t[e]=i)),n}function zY(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let WY=(t,e)=>!1,VY=(t,e)=>!1,UY=(t,e,i)=>[];const YY=PY();(YY||"undefined"!=typeof Element)&&(WY=IY()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),VY=(()=>{if(YY||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):VY}})(),UY=(t,e,i)=>{let n=[];if(i){const i=t.querySelectorAll(e);for(let t=0;t<i.length;t++)n.push(i[t])}else{const i=t.querySelector(e);i&&n.push(i)}return n});let GY=null,qY=!1;function KY(t){GY||(GY=("undefined"!=typeof document?document.body:null)||{},qY=!!GY.style&&"WebkitAppearance"in GY.style);let e=!0;return GY.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in GY.style,!e&&qY)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in GY.style),e}const ZY=VY,QY=WY,XY=UY;function JY(t){const e={};return Object.keys(t).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=t[i]}),e}let tG=(()=>{class t{validateStyleProperty(t){return KY(t)}matchesElement(t,e){return ZY(t,e)}containsElement(t,e){return QY(t,e)}query(t,e,i){return XY(t,e,i)}computeStyle(t,e,i){return i||""}animate(t,e,i,n,r,s=[],o){return new DY(i,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),eG=(()=>{class t{}return t.NOOP=new tG,t})();function iG(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nG(parseFloat(e[1]),e[2])}function nG(t,e){switch(e){case"s":return 1e3*t;default:return t}}function rG(t,e,i){return t.hasOwnProperty("duration")?t:function(t,e,i){let n,r=0,s="";if("string"==typeof t){const i=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};n=nG(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(r=nG(parseFloat(o),i[4]));const a=i[5];a&&(s=a)}else n=t;if(!i){let i=!1,s=e.length;n<0&&(e.push("Duration values below 0 are not allowed for this animation step."),i=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:n,delay:r,easing:s}}(t,e,i)}function sG(t,e={}){return Object.keys(t).forEach(i=>{e[i]=t[i]}),e}function oG(t,e,i={}){if(e)for(let n in t)i[n]=t[n];else sG(t,i);return i}function aG(t,e,i){return i?e+":"+i+";":""}function lG(t){let e="";for(let i=0;i<t.style.length;i++){const n=t.style.item(i);e+=aG(0,n,t.style.getPropertyValue(n))}for(const i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=aG(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function hG(t,e,i){t.style&&(Object.keys(e).forEach(n=>{const r=vG(n);i&&!i.hasOwnProperty(n)&&(i[n]=t.style[r]),t.style[r]=e[n]}),PY()&&lG(t))}function cG(t,e){t.style&&(Object.keys(e).forEach(e=>{const i=vG(e);t.style[i]=""}),PY()&&lG(t))}function uG(t){return Array.isArray(t)?1==t.length?t[0]:TY(t):t}const dG=new RegExp("{{\\s*(.+?)\\s*}}","g");function fG(t){let e=[];if("string"==typeof t){let i;for(;i=dG.exec(t);)e.push(i[1]);dG.lastIndex=0}return e}function pG(t,e,i){const n=t.toString(),r=n.replace(dG,(t,n)=>{let r=e[n];return e.hasOwnProperty(n)||(i.push(`Please provide a value for the animation param ${n}`),r=""),r.toString()});return r==n?t:r}function gG(t){const e=[];let i=t.next();for(;!i.done;)e.push(i.value),i=t.next();return e}const mG=/-+([a-z0-9])/g;function vG(t){return t.replace(mG,(...t)=>t[1].toUpperCase())}function yG(t,e){return 0===t||0===e}function bG(t,e,i){const n=Object.keys(i);if(n.length&&e.length){let s=e[0],o=[];if(n.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=i[t]}),o.length)for(var r=1;r<e.length;r++){let i=e[r];o.forEach(function(e){i[e]=wG(t,e)})}}return e}function _G(t,e,i){switch(e.type){case 7:return t.visitTrigger(e,i);case 0:return t.visitState(e,i);case 1:return t.visitTransition(e,i);case 2:return t.visitSequence(e,i);case 3:return t.visitGroup(e,i);case 4:return t.visitAnimate(e,i);case 5:return t.visitKeyframes(e,i);case 6:return t.visitStyle(e,i);case 8:return t.visitReference(e,i);case 9:return t.visitAnimateChild(e,i);case 10:return t.visitAnimateRef(e,i);case 11:return t.visitQuery(e,i);case 12:return t.visitStagger(e,i);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function wG(t,e){return window.getComputedStyle(t)[e]}function SG(t,e){const i=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,i){if(":"==t[0]){const n=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,i);if("function"==typeof n)return void e.push(n);t=n}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${t}" is not supported`),e;const r=n[1],s=n[2],o=n[3];e.push(CG(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(CG(o,r))}(t,i,e)):i.push(t),i}const kG=new Set(["true","1"]),xG=new Set(["false","0"]);function CG(t,e){const i=kG.has(t)||xG.has(t),n=kG.has(e)||xG.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&i&&"boolean"==typeof r&&(o=r?kG.has(t):xG.has(t)),!a&&n&&"boolean"==typeof s&&(a=s?kG.has(e):xG.has(e)),o&&a}}const EG=new RegExp("s*:selfs*,?","g");function TG(t,e,i){return new AG(t).build(e,i)}class AG{constructor(t){this._driver=t}build(t,e){const i=new OG(e);return this._resetContextStyleTimingState(i),_G(this,uG(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const i=t,n=i.name;n.toString().split(/\s*,\s*/).forEach(t=>{i.name=t,r.push(this.visitState(i,e))}),i.name=n}else if(1==t.type){const r=this.visitTransition(t,e);i+=r.queryCount,n+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,s=n||{};if(i.styles.forEach(t=>{if(MG(t)){const e=t;Object.keys(e).forEach(t=>{fG(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const i=gG(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=_G(this,uG(t.animation),e);return{type:1,matchers:SG(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:RG(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>_G(this,t,e)),options:RG(t.options)}}visitGroup(t,e){const i=e.currentTime;let n=0;const r=t.steps.map(t=>{e.currentTime=i;const r=_G(this,t,e);return n=Math.max(n,e.currentTime),r});return e.currentTime=n,{type:3,steps:r,options:RG(t.options)}}visitAnimate(t,e){const i=function(t,e){let i=null;if(t.hasOwnProperty("duration"))i=t;else if("number"==typeof t)return DG(rG(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=DG(0,0,"");return t.dynamic=!0,t.strValue=n,t}return i=i||rG(n,e),DG(i.duration,i.delay,i.easing)}(t.timings,e.errors);let n;e.currentAnimateTimings=i;let r=t.styles?t.styles:AY({});if(5==r.type)n=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};i.easing&&(t.easing=i.easing),r=AY(t)}e.currentTime+=i.duration+i.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,n=o}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?i.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):i.push(t)}):i.push(t.styles);let n=!1,r=null;return i.forEach(t=>{if(MG(t)){const e=t,i=e.easing;if(i&&(r=i,delete e.easing),!n)for(let t in e)if(e[t].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let n=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void e.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[i];let a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(e.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${n}ms"`),a=!1),r=o.startTime),a&&(s[i]={startTime:r,endTime:n}),e.options&&function(t,e,i){const n=e.params||{},r=fG(t);r.length&&r.forEach(t=>{n.hasOwnProperty(t)||i.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[i],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const i=this._makeStyleAst(t,e);let l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(MG(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(MG(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}return e}(i.styles),h=0;return null!=l&&(n++,h=i.offset=l),o=o||h<0||h>1,s=s||h<a,a=h,r.push(h),i});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const h=t.steps.length;let c=0;n>0&&n<h?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(c=1/(h-1));const u=h-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,n)=>{const s=c>0?n==u?1:c*n:r[n],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,i.styles.push(t)}),i}visitReference(t,e){return{type:8,animation:_G(this,uG(t.animation),e),options:RG(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:RG(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:RG(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(EG,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,HY(e.collectedStyles,e.currentQuerySelector,{});const o=_G(this,uG(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:RG(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:rG(t.timings,e.errors,!0);return{type:12,animation:_G(this,uG(t.animation),e),timings:i,options:null}}}class OG{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function MG(t){return!Array.isArray(t)&&"object"==typeof t}function RG(t){var e;return t?(t=sG(t)).params&&(t.params=(e=t.params)?sG(e):null):t={},t}function DG(t,e,i){return{duration:t,delay:e,easing:i}}function LG(t,e,i,n,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class IG{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const PG=new RegExp(":enter","g"),$G=new RegExp(":leave","g");function FG(t,e,i,n,r,s={},o={},a,l,h=[]){return(new NG).buildKeyframes(t,e,i,n,r,s,o,a,l,h)}class NG{buildKeyframes(t,e,i,n,r,s,o,a,l,h=[]){l=l||new IG;const c=new jG(t,e,l,n,r,h,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),_G(this,i,c);const u=c.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[LG(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const n=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let n=e.currentTimeline.currentTime;const r=null!=i.duration?iG(i.duration):null,s=null!=i.delay?iG(i.delay):null;return 0!==r&&t.forEach(t=>{const i=e.appendInstructionToTimeline(t,r,s);n=Math.max(n,i.duration+i.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),_G(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let n=e;const r=t.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=BG);const t=iG(r.delay);n.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>_G(this,t,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let n=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?iG(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),_G(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return rG(e.params?pG(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,n=e.currentTimeline.duration,r=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,n=t.options||{},r=n.delay?iG(n.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=BG);let s=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((i,n)=>{e.currentQueryIndex=n;const o=e.createSubContext(t.options,i);r&&o.delayNextStep(r),i===e.element&&(a=o.currentTimeline),_G(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,n=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const h=l.currentTime;_G(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-h+(n.startTime-i.currentTimeline.startTime)}}const BG={};class jG{constructor(t,e,i,n,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BG,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new HG(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let n=this.options;null!=i.duration&&(n.duration=iG(i.duration)),null!=i.delay&&(n.delay=iG(i.delay));const r=i.params;if(r){let t=n.params;t||(t=this.options.params={}),Object.keys(r).forEach(i=>{e&&t.hasOwnProperty(i)||(t[i]=pG(r[i],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(t=>{i[t]=e[t]})}}return t}createSubContext(t=null,e,i){const n=e||this.element,r=new jG(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=BG,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new zG(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,r,s){let o=[];if(n&&o.push(this.element),t.length>0){t=(t=t.replace(PG,"."+this._enterClassName)).replace($G,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=i);0!==i&&(e=i<0?e.slice(e.length+i,e.length):e.slice(0,i)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class HG{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new HG(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&(this._previousKeyframe.easing=e);const r=n&&n.params||{},s=function(t,e){const i={};let n;return t.forEach(t=>{"*"===t?(n=n||Object.keys(e),n.forEach(t=>{i[t]="*"})):oG(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=pG(s[t],r,i);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],n=t._styleSummary[e];(!i||n.time>i.time)&&this._updateStyle(e,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((r,s)=>{const o=oG(r,!0);Object.keys(o).forEach(i=>{const n=o[i];"!"==n?t.add(i):"*"==n&&e.add(i)}),i||(o.offset=s/this.duration),n.push(o)});const r=t.size?gG(t.values()):[],s=e.size?gG(e.values()):[];if(i){const t=n[0],e=sG(t);t.offset=0,e.offset=1,n=[t,e]}return LG(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}}class zG extends HG{constructor(t,e,i,n,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=i+e,o=e/s,a=oG(t[0],!1);a.offset=0,r.push(a);const l=oG(t[0],!1);l.offset=WG(o),r.push(l);const h=t.length-1;for(let n=1;n<=h;n++){let o=oG(t[n],!1);o.offset=WG((e+o.offset*i)/s),r.push(o)}i=s,e=0,n="",t=r}return LG(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}}function WG(t,e=3){const i=Math.pow(10,e-1);return Math.round(t*i)/i}class VG{}class UG extends VG{normalizePropertyName(t,e){return vG(t)}normalizeStyleValue(t,e,i,n){let r="";const s=i.toString().trim();if(YG[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(`Please provide a CSS unit value for ${t}:${i}`)}return s+r}}const YG=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GG(t,e,i,n,r,s,o,a,l,h,c,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:u,errors:d}}const qG={};class KG{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return function(t,e,i,n,r){return t.some(t=>t(e,i,n,r))}(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){const n=this._stateStyles["*"],r=this._stateStyles[t],s=n?n.buildStyles(e,i):{};return r?r.buildStyles(e,i):s}build(t,e,i,n,r,s,o,a,l,h){const c=[],u=this.ast.options&&this.ast.options.params||qG,d=this.buildStyles(i,o&&o.params||qG,c),f=a&&a.params||qG,p=this.buildStyles(n,f,c),g=new Set,m=new Map,v=new Map,y="void"===n,b={params:Object.assign(Object.assign({},u),f)},_=h?[]:FG(t,e,this.ast.animation,r,s,d,p,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return GG(e,this._triggerName,i,n,y,d,p,[],[],m,v,w,c);_.forEach(t=>{const i=t.element,n=HY(m,i,{});t.preStyleProps.forEach(t=>n[t]=!0);const r=HY(v,i,{});t.postStyleProps.forEach(t=>r[t]=!0),i!==e&&g.add(i)});const S=gG(g.values());return GG(e,this._triggerName,i,n,y,d,p,_,S,m,v,w)}}class ZG{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const i={},n=sG(this.defaultParams);return Object.keys(t).forEach(e=>{const i=t[e];null!=i&&(n[e]=i)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=pG(s,n,e)),i[t]=s})}}),i}}class QG{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ZG(t.style,t.options&&t.options.params||{})}),XG(this.states,"true","1"),XG(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new KG(t,e,this.states))}),this.fallbackTransition=new KG(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(r=>r.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function XG(t,e,i){t.hasOwnProperty(e)?t.hasOwnProperty(i)||(t[i]=t[e]):t.hasOwnProperty(i)&&(t[e]=t[i])}const JG=new IG;class tq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],n=TG(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=n}_buildPlayer(t,e,i){const n=t.element,r=FY(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const n=[],r=this._animations[t];let s;const o=new Map;if(r?(s=FG(this._driver,e,r,"ng-enter","ng-leave",{},{},i,JG,n),s.forEach(t=>{const e=HY(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),s=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(i=>{t[i]=this._driver.computeStyle(e,i,"*")})});const a=$Y(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,n){const r=jY(e,"","","");return NY(this._getPlayer(t),i,r,n),()=>{}}command(t,e,i,n){if("register"==i)return void this.register(t,n[0]);if("create"==i)return void this.create(t,e,n[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const eq=[],iq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class rq{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const e=sG(t);delete e.value,this.options=e}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(i=>{null==t[i]&&(t[i]=e[i])})}}}const sq=new rq("void");class oq{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fq(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=i)&&"done"!=r)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var r;const s=HY(this._elementListeners,t,[]),o={name:e,phase:i,callback:n};s.push(o);const a=HY(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(fq(t,"ng-trigger"),fq(t,"ng-trigger-"+e),a[e]=sq),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,n=!0){const r=this._getTrigger(e),s=new lq(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(fq(t,"ng-trigger"),fq(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new rq(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=sq),"void"!==l.value&&a.value===l.value){if(!function(t,e){const i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){const n=i[r];if(!e.hasOwnProperty(n)||t[n]!==e[n])return!1}return!0}(a.params,l.params)){const e=[],i=r.matchStyles(a.value,a.params,e),n=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{cG(t,i),hG(t,n)})}return}const h=HY(this._engine.playersByElement,t,[]);h.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),u=!1;if(!c){if(!n)return;c=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(fq(t,"ng-animate-queued"),s.onStart(()=>{pq(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const i=this._engine.playersByElement.get(t);if(i){let t=i.indexOf(s);t>=0&&i.splice(t,1)}}),this.players.push(s),h.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(t=>{if(t.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(t);i.size?i.forEach(i=>i.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,i,n){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const i=this.trigger(t,e,"void",n);i&&s.push(i)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&$Y(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const s=this._triggers[r].fallbackTransition,o=i[r]||sq,a=new rq("void"),l=new lq(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){const e=i.players.length?i.playersByQueriedElement.get(t):[];if(e&&e.length)n=!0;else{let e=t;for(;e=e.parentNode;)if(i.statesByElement.get(e)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{const n=t.__ng_removed;n&&n!==iq||(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){fq(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const r=i.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==i.triggerName){const n=jY(r,i.triggerName,i.fromState.value,i.toState.value);n._data=t,NY(i.player,e.phase,n,e.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((t,e)=>{const i=t.transition.ast.depCount,n=e.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class aq{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const i=new oq(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(i);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const t=Object.keys(i);for(let n=0;n<t.length;n++){const r=i[t[n]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,i,n){if(hq(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!hq(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const n=this._fetchNamespace(t);n&&n.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fq(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pq(t,"ng-animate-disabled"))}removeNode(t,e,i,n){if(hq(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),i){const i=this.namespacesByHostElement.get(e);i&&i.id!==t&&i.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,i,n){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,n,r){return hq(e)?this._fetchNamespace(t).listen(e,i,n,r):()=>{}}_buildInstruction(t,e,i,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $Y(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=iq,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)fq(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let t=0;t<i.length;t++)i[t]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?$Y(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new IG,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let i=0;i<e.length;i++)h.add(e[i])});const c=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=dq(u,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const i="ng-enter"+p++;f.set(e,i),t.forEach(t=>fq(t,i))});const g=[],m=new Set,v=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){const t=this.collectedLeaveElements[M],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):v.add(t))}const y=new Map,b=dq(u,Array.from(m));b.forEach((t,e)=>{const i="ng-leave"+p++;y.set(e,i),t.forEach(t=>fq(t,i))}),t.push(()=>{d.forEach((t,e)=>{const i=f.get(e);t.forEach(t=>pq(t,i))}),b.forEach((t,e)=>{const i=y.get(e);t.forEach(t=>pq(t,i))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const h=!c||!this.driver.containsElement(c,r),u=y.get(r),d=f.get(r),p=this._buildInstruction(t,i,d,u,h);if(p.errors&&p.errors.length)w.push(p);else{if(h)return e.onStart(()=>cG(r,p.fromStyles)),e.onDestroy(()=>hG(r,p.toStyles)),void n.push(e);if(t.isFallbackTransition)return e.onStart(()=>cG(r,p.fromStyles)),e.onDestroy(()=>hG(r,p.toStyles)),void n.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),i.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>HY(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const i=Object.keys(t);if(i.length){let t=a.get(e);t||a.set(e,t=new Set),i.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const i=Object.keys(t);let n=l.get(e);n||l.set(e,n=new Set),i.forEach(t=>n.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,k=new Map;s.forEach(t=>{const e=t.element;i.has(e)&&(k.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),n.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{HY(S,e,[]).push(t),t.destroy()})});const x=g.filter(t=>vq(t,a,l)),C=new Map;uq(C,this.driver,v,l,"*").forEach(t=>{vq(t,a,l)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{uq(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=C.get(t),i=E.get(t);C.set(t,Object.assign(Object.assign({},e),i))});const T=[],A=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(i.has(e)){if(h.has(e))return s.onDestroy(()=>hG(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let t=O;if(k.size>1){let i=e;const n=[];for(;i=i.parentNode;){const e=k.get(i);if(e){t=e;break}n.push(i)}n.forEach(e=>k.set(e,t))}const i=this._buildAnimation(s.namespaceId,o,S,r,E,C);if(s.setRealPlayer(i),t===O)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=$Y(e)),n.push(s)}}else cG(e,o.fromStyles),s.onDestroy(()=>hG(e,o.toStyles)),A.push(s),h.has(e)&&n.push(s)}),A.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const i=$Y(e);t.setRealPlayer(i)}}),n.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let M=0;M<g.length;M++){const t=g[M],e=t.__ng_removed;if(pq(t,"ng-leave"),e&&e.hasAnimation)continue;let i=[];if(o.size){let e=o.get(t);e&&e.length&&i.push(...e);let n=this.driver.query(t,".ng-animating",!0);for(let t=0;t<n.length;t++){let e=o.get(n[t]);e&&e.length&&i.push(...e)}}const n=i.filter(t=>!t.destroyed);n.length?gq(this,t,n):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let i=!1;const n=e.__ng_removed;return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==n)&&s.push(e)})}}return(i||n)&&(s=s.filter(t=>!(i&&i!=t.namespaceId||n&&n!=t.triggerName))),s}_beforeAnimationBuild(t,e,i){const n=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==n,l=HY(i,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}cG(n,e.fromStyles)}_buildAnimation(t,e,i,n,r,s){const o=e.triggerName,a=e.element,l=[],h=new Set,c=new Set,u=e.timelines.map(e=>{const u=e.element;h.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new DY(e.duration,e.delay);const f=u!==a,p=function(t){const e=[];return mq(t,e),e}((i.get(u)||eq).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),g=r.get(u),m=s.get(u),v=FY(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,v,p);if(e.subTimeline&&n&&c.add(u),f){const e=new lq(t,o,u);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{HY(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,i){let n;if(t instanceof Map){if(n=t.get(e),n){if(n.length){const t=n.indexOf(i);n.splice(t,1)}0==n.length&&t.delete(e)}}else if(n=t[e],n){if(n.length){const t=n.indexOf(i);n.splice(t,1)}0==n.length&&delete t[e]}return n}(this.playersByQueriedElement,t.element,t))}),h.forEach(t=>fq(t,"ng-animating"));const d=$Y(u);return d.onDestroy(()=>{h.forEach(t=>pq(t,"ng-animating")),hG(a,e.toStyles)}),c.forEach(t=>{HY(n,t,[]).push(d)}),d}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new DY(t.duration,t.delay)}}class lq{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new DY,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>NY(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){HY(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hq(t){return t&&1===t.nodeType}function cq(t,e){const i=t.style.display;return t.style.display=null!=e?e:"none",i}function uq(t,e,i,n,r){const s=[];i.forEach(t=>s.push(cq(t)));const o=[];n.forEach((i,n)=>{const s={};i.forEach(t=>{const i=s[t]=e.computeStyle(n,t,r);i&&0!=i.length||(n.__ng_removed=nq,o.push(n))}),t.set(n,s)});let a=0;return i.forEach(t=>cq(t,s[a++])),o}function dq(t,e){const i=new Map;if(t.forEach(t=>i.set(t,[])),0==e.length)return i;const n=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=i.has(o)?o:n.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&i.get(e).push(t)}),i}function fq(t,e){if(t.classList)t.classList.add(e);else{let i=t.$$classes;i||(i=t.$$classes={}),i[e]=!0}}function pq(t,e){if(t.classList)t.classList.remove(e);else{let i=t.$$classes;i&&delete i[e]}}function gq(t,e,i){$Y(i).onDone(()=>t.processLeaveNode(e))}function mq(t,e){for(let i=0;i<t.length;i++){const n=t[i];n instanceof LY?mq(n.players,e):e.push(n)}}function vq(t,e,i){const n=i.get(t);if(!n)return!1;let r=e.get(t);return r?n.forEach(t=>r.add(t)):e.set(t,n),i.delete(t),!0}class yq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new aq(t,e,i),this._timelineEngine=new tq(t,e,i),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,i,n,r){const s=t+"-"+n;let o=this._triggerCache[s];if(!o){const t=[],e=TG(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new QG(t,e)}(n,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,n,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i,n){this._transitionEngine.removeNode(t,e,n||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if("@"==i.charAt(0)){const[t,r]=zY(i);this._timelineEngine.command(t,e,r,n)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,r){if("@"==i.charAt(0)){const[t,n]=zY(i);return this._timelineEngine.listen(t,e,n,r)}return this._transitionEngine.listen(t,e,i,n,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bq(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=wq(e[0]),e.length>1&&(n=wq(e[e.length-1]))):e&&(i=wq(e)),i||n?new _q(t,i,n):null}let _q=(()=>{class t{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hG(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hG(this._element,this._initialStyles),this._endStyles&&(hG(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(cG(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cG(this._element,this._endStyles),this._endStyles=null),hG(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function wq(t){let e=null;const i=Object.keys(t);for(let n=0;n<i.length;n++){const r=i[n];Sq(r)&&(e=e||{},e[r]=t[r])}return e}function Sq(t){return"display"===t||"position"===t}class kq{constructor(t,e,i,n,r,s,o){this._element=t,this._name=e,this._duration=i,this._delay=n,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const i=Oq(t,"").trim();i.length&&(function(t,e){let i=0;for(let n=0;n<t.length;n++)","===t.charAt(n)&&i++}(i),e=`${i}, ${e}`),Aq(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tq(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xq(this._element,this._name,"paused")}resume(){xq(this._element,this._name,"running")}setPosition(t){const e=Cq(this._element,this._name);this._position=t*this._duration,Aq(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tq(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const i=Oq(t,"").split(","),n=Eq(i,e);n>=0&&(i.splice(n,1),Aq(t,"",i.join(",")))}(this._element,this._name))}}function xq(t,e,i){Aq(t,"PlayState",i,Cq(t,e))}function Cq(t,e){const i=Oq(t,"");return i.indexOf(",")>0?Eq(i.split(","),e):Eq([i],e)}function Eq(t,e){for(let i=0;i<t.length;i++)if(t[i].indexOf(e)>=0)return i;return-1}function Tq(t,e,i){i?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Aq(t,e,i,n){const r="animation"+e;if(null!=n){const e=t.style[r];if(e.length){const t=e.split(",");t[n]=i,i=t.join(",")}}t.style[r]=i}function Oq(t,e){return t.style["animation"+e]||""}class Mq{constructor(t,e,i,n,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=i,this._duration=n,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=n+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kq(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:wG(this.element,i))})}this.currentSnapshot=t}}class Rq extends DY{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=JY(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Dq{constructor(){this._count=0}validateStyleProperty(t){return KY(t)}matchesElement(t,e){return ZY(t,e)}containsElement(t,e){return QY(t,e)}query(t,e,i){return XY(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(t=>JY(t));let n=`@keyframes ${e} {\n`,r="";i.forEach(t=>{r=" ";const e=parseFloat(t.offset);n+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const i=t[e];switch(e){case"offset":return;case"easing":return void(i&&(n+=`${r}animation-timing-function: ${i};\n`));default:return void(n+=`${r}${e}: ${i};\n`)}}),n+=`${r}}\n`}),n+="}\n";const s=document.createElement("style");return s.textContent=n,s}animate(t,e,i,n,r,s=[],o){const a=s.filter(t=>t instanceof Mq),l={};yG(i,n)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(i=>{"offset"!=i&&"easing"!=i&&(e[i]=t[i])})}),e}(e=bG(t,e,l));if(0==i)return new Rq(t,h);const c="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,c,e);(function(t){var e;const i=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(t).appendChild(u);const d=bq(t,e),f=new Mq(t,e,c,i,n,r,h,d);return f.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),f}}class Lq{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:wG(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Iq{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Pq().toString()),this._cssKeyframesDriver=new Dq}validateStyleProperty(t){return KY(t)}matchesElement(t,e){return ZY(t,e)}containsElement(t,e){return QY(t,e)}query(t,e,i){return XY(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,n,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,n,r,s);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(a.easing=r);const l={},h=s.filter(t=>t instanceof Lq);yG(i,n)&&h.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=bq(t,e=bG(t,e=e.map(t=>oG(t,!1)),l));return new Lq(t,e,a,c)}}function Pq(){return IY()&&Element.prototype.animate||{}}let $q=(()=>{class t extends xY{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Et.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?TY(t):t;return Bq(this._renderer,null,e,"register",[i]),new Fq(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(nn(No),nn(oh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Fq extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Nq(this._id,t,e||{},this._renderer)}}class Nq{constructor(t,e,i,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Bq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Bq(t,e,i,n,r){return t.setProperty(e,`@@${i}:${n}`,r)}let jq=(()=>{class t{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(i);return t||(t=new Hq("",i,this.engine),this._rendererCache.set(i,t)),t}const n=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(n,r,t,e.name,e)};return e.data.animation.forEach(s),new zq(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){t>=0&&t<this._microtaskId?this._zone.run(()=>e(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,i]=t;e(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(nn(No),nn(yq),nn(Tl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Hq{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class zq extends Hq{constructor(t,e,i,n){super(e,i,n),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const n=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,i,t)})}return this.delegate.listen(t,e,i)}}let Wq=(()=>{class t extends yq{constructor(t,e,i){super(t.body,e,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(nn(oh),nn(eG),nn(VG))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Vq=new Bi("AnimationModuleType"),Uq=[{provide:xY,useClass:$q},{provide:VG,useFactory:function(){return new UG}},{provide:yq,useClass:Wq},{provide:No,useFactory:function(t,e,i){return new jq(t,e,i)},deps:[oc,yq,Tl]}],Yq=[{provide:eG,useFactory:function(){return"function"==typeof Pq()?new Iq:new Dq}},{provide:Vq,useValue:"BrowserAnimations"},...Uq],Gq=[{provide:eG,useClass:tG},{provide:Vq,useValue:"NoopAnimations"},...Uq];let qq=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Gq:Yq}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:Yq,imports:[yc]}),t})();const Kq=new zo("12.0.1"),Zq=new Bi("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Qq,Xq=(()=>{class t{constructor(t,e,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Hl()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Kq.full!==kY.full&&console.warn("The Angular Material version ("+Kq.full+") does not match the Angular CDK version ("+kY.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(nn(wY),nn(Zq,8),nn(oh))},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[uU],uU]}),t})();function Jq(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=kV(t)}}}function tK(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function eK(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=kV(t)}}}try{Qq="undefined"!=typeof Intl}catch(vS){Qq=!1}class iK{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nK={enterDuration:450,exitDuration:400},rK=aU({passive:!0}),sK=["mousedown","touchstart"],oK=["mouseup","mouseleave","touchend","touchcancel"];class aK{constructor(t,e,i,n){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=TV(i))}fadeInRipple(t,e,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},nK),i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);const s=i.radius||function(t,e,i){const n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}(t,e,n),o=t-n.left,a=e-n.top,l=r.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=o-s+"px",h.style.top=a-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const c=new iK(this,h,i);return c.state=0,this._activeRipples.add(c),i.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,i.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,n=Object.assign(Object.assign({},nK),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},n.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=TV(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(sK))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(oK),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=pY(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||i||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!gY(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,rK)})})}_removeTriggerEvents(){this._triggerElement&&(sK.forEach(t=>{this._triggerElement.removeEventListener(t,this,rK)}),this._pointerUpEventsRegistered&&oK.forEach(t=>{this._triggerElement.removeEventListener(t,this,rK)}))}}const lK=new Bi("mat-ripple-global-options");let hK=(()=>{class t{constructor(t,e,i,n,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=n||{},this._rippleRenderer=new aK(this,e,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(Tl),Is(sU),Is(lK,8),Is(Vq,8))},t.\u0275dir=qt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&no("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),cK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[Xq,oU],Xq]}),t})();function uK(t,e){}class dK{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const fK={dialogContainer:CY("dialogContainer",[OY("void, exit",AY({opacity:0,transform:"scale(0.7)"})),OY("enter",AY({transform:"none"})),MY("* => enter",EY("150ms cubic-bezier(0, 0, 0.2, 1)",AY({transform:"none",opacity:1}))),MY("* => void, * => exit",EY("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",AY({opacity:0})))])};let pK=(()=>{class t extends _U{constructor(t,e,i,n,r,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=i,this._config=r,this._focusMonitor=s,this._animationStateChanged=new ja,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=n}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(fY),Is(la),Is(oh,8),Is(dK),Is(yY))},t.\u0275dir=qt({type:t,viewQuery:function(t,e){if(1&t&&Ja(SU,7),2&t){let t;Xa(t=el())&&(e._portalOutlet=t.first)}},features:[ys]}),t})(),gK=(()=>{class t extends pK{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(i){return(e||(n=t,e=xt(()=>{const t=n.prototype.constructor,e=t[Bt]||Fi(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const t=r[Bt]||Fi(r);if(t&&t!==e)return t;r=Object.getPrototypeOf(r)}return t=>new t})))(i||t);var n}}(),t.\u0275cmp=zt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Gs("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(fo("id",e._id),Rs("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),po("@dialogContainer",e._state))},features:[ys],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Ds(0,uK,0,0,"ng-template",0)},directives:[SU],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[fK.dialogContainer]}}),t})(),mK=0;class vK{constructor(t,e,i="mat-dialog-"+mK++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,e._id=i,e._animationStateChanged.pipe(Wc(t=>"opened"===t.state),$c(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Wc(t=>"closed"===t.state),$c(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Wc(t=>27===t.keyCode&&!this.disableClose&&!xU(t))).subscribe(t=>{t.preventDefault(),yK(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():yK(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Wc(t=>"closing"===t.state),$c(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function yK(t,e,i){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(i)}const bK=new Bi("MatDialogData"),_K=new Bi("mat-dialog-default-options"),wK=new Bi("mat-dialog-scroll-strategy"),SK={provide:wK,deps:[QU],useFactory:function(t){return()=>t.scrollStrategies.block()}};let kK=(()=>{class t{constructor(t,e,i,n,r,s,o,a,l){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=n,this._overlayContainer=r,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=Rc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bc(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new dK)).id&&this.getDialogById(e.id);const i=this._createOverlay(e),n=this._attachDialogContainer(i,e),r=this._attachDialogContent(t,n,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),n._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new LU({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const i=ms.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:dK,useValue:e}]}),n=new vU(this._dialogContainerType,e.viewContainerRef,i,e.componentFactoryResolver);return t.attach(n).instance}_attachDialogContent(t,e,i,n){const r=new this._dialogRefConstructor(i,e,n.id);if(t instanceof fa)e.attachTemplatePortal(new yU(t,null,{$implicit:n.data,dialogRef:r}));else{const i=this._createInjector(n,r,e),s=e.attachComponentPortal(new vU(t,n.viewContainerRef,i));r.componentInstance=s.instance}return r.updateSize(n.width,n.height).updatePosition(n.position),r}_createInjector(t,e,i){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||n&&n.get(cU,null)||r.push({provide:cU,useValue:{value:t.direction,change:bc()}}),ms.create({parent:n||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let n=e[i];n===t||"SCRIPT"===n.nodeName||"STYLE"===n.nodeName||n.hasAttribute("aria-live")||(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Is(QU),Is(ms),Is(void 0),Is(void 0),Is(jU),Is(void 0),Is(Hi),Is(Hi),Is(Bi))},t.\u0275dir=qt({type:t}),t})(),xK=(()=>{class t extends kK{constructor(t,e,i,n,r,s,o){super(t,e,n,s,o,r,vK,gK,bK)}}return t.\u0275fac=function(e){return new(e||t)(nn(QU),nn(ms),nn(wh,8),nn(_K,8),nn(wK),nn(t,12),nn(jU))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),CK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({providers:[xK,SK],imports:[[JU,kU,Xq],Xq]}),t})();function EK(t,e){1&t&&to(0)}const TK=["*"];function AK(t,e){}const OK=function(t){return{animationDuration:t}},MK=function(t,e){return{value:t,params:e}},RK=["tabBodyWrapper"],DK=["tabHeader"];function LK(t,e){}function IK(t,e){1&t&&Ds(0,LK,0,0,"ng-template",9),2&t&&Ps("cdkPortalOutlet",Qs().$implicit.templateLabel)}function PK(t,e){1&t&&lo(0),2&t&&ho(Qs().$implicit.textLabel)}function $K(t,e){if(1&t){const t=zs();Fs(0,"div",6),Ys("click",function(){const e=Oe(t),i=e.$implicit,n=e.index,r=Qs(),s=Ls(1);return r._handleClick(i,s,n)})("cdkFocusChange",function(e){const i=Oe(t).index;return Qs()._tabFocusChanged(e,i)}),Fs(1,"div",7),Ds(2,IK,1,1,"ng-template",8),Ds(3,PK,1,1,"ng-template",8),Ns(),Ns()}if(2&t){const t=e.$implicit,i=e.index,n=Qs();no("mat-tab-label-active",n.selectedIndex==i),Ps("id",n._getTabLabelId(i))("disabled",t.disabled)("matRippleDisabled",t.disabled||n.disableRipple),Rs("tabIndex",n._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),rr(2),Ps("ngIf",t.templateLabel),rr(1),Ps("ngIf",!t.templateLabel)}}function FK(t,e){if(1&t){const t=zs();Fs(0,"mat-tab-body",10),Ys("_onCentered",function(){return Oe(t),Qs()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return Oe(t),Qs()._setTabBodyWrapperHeight(e)}),Ns()}if(2&t){const t=e.$implicit,i=e.index,n=Qs();no("mat-tab-body-active",n.selectedIndex==i),Ps("id",n._getTabContentId(i))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",n.animationDuration),Rs("aria-labelledby",n._getTabLabelId(i))}}const NK=["tabListContainer"],BK=["tabList"],jK=["nextPaginator"],HK=["previousPaginator"],zK=new Bi("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let WK=(()=>{class t{constructor(t,e,i,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=i,this._animationMode=n}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=e.left,i.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(Tl),Is(zK),Is(Vq,8))},t.\u0275dir=qt({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&no("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const VK=new Bi("MatTabContent"),UK=new Bi("MatTabLabel");class YK{}const GK=Jq(YK),qK=new Bi("MAT_TAB_GROUP");let KK=(()=>{class t extends GK{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new k,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new yU(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(Is(_a),Is(qK))},t.\u0275cmp=zt({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,i){if(1&t&&(tl(i,UK,5),tl(i,VK,7,fa)),2&t){let t;Xa(t=el())&&(e.templateLabel=t.first),Xa(t=el())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&Ja(fa,7),2&t){let t;Xa(t=el())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[ys,oe],ngContentSelectors:TK,decls:1,vars:0,template:function(t,e){1&t&&(Js(),Ds(0,EK,1,0,"ng-template"))},encapsulation:2}),t})();const ZK={translateTab:CY("translateTab",[OY("center, void, left-origin-center, right-origin-center",AY({transform:"none"})),OY("left",AY({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),OY("right",AY({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),MY("* => left, * => right, left => center, right => center",EY("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),MY("void => left-origin-center",[AY({transform:"translate3d(-100%, 0, 0)"}),EY("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),MY("void => right-origin-center",[AY({transform:"translate3d(100%, 0, 0)"}),EY("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let QK=(()=>{class t extends SU{constructor(t,e,i,n){super(t,e,n),this._host=i,this._centeringSub=u.EMPTY,this._leavingSub=u.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Bc(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Is(Do),Is(_a),Is(rt(()=>JK)),Is(oh))},t.\u0275dir=qt({type:t,selectors:[["","matTabBodyHost",""]],features:[ys]}),t})(),XK=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._dir=e,this._dirChangeSubscription=u.EMPTY,this._translateTabComplete=new k,this._onCentering=new ja,this._beforeCentering=new ja,this._afterLeavingCenter=new ja,this._onCentered=new ja(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),i.markForCheck()})),this._translateTabComplete.pipe(function(t,e){return e=>e.lift(new IV(t,undefined))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(cU,8),Is(la))},t.\u0275dir=qt({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),JK=(()=>{class t extends XK{constructor(t,e,i){super(t,e,i)}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(cU,8),Is(la))},t.\u0275cmp=zt({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&Ja(SU,5),2&t){let t;Xa(t=el())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[ys],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){var i,n;1&t&&(Fs(0,"div",0,1),Ys("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),Ds(2,AK,0,0,"ng-template",2),Ns()),2&t&&Ps("@translateTab",function(t,e,i,n,r){return function(t,e,i,n,r,s,o){const a=e+i;return Ms(t,a,r,s)?As(t,a+2,o?n.call(o,r,s):n(r,s)):Pa(t,a+2)}(Te(),Fe(),t,e,i,n,r)}(3,MK,e._position,(1,i=OK,n=e.animationDuration,$a(Te(),Fe(),1,i,n,undefined))))},directives:[QK],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[ZK.translateTab]}}),t})();const tZ=new Bi("MAT_TABS_CONFIG");let eZ=0;class iZ{}class nZ{constructor(t){this._elementRef=t}}const rZ=tK(eK(nZ),"primary");let sZ=(()=>{class t extends rZ{constructor(t,e,i,n){super(t),this._changeDetectorRef=e,this._animationMode=n,this._tabs=new za,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=u.EMPTY,this._tabLabelSubscription=u.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new ja,this.focusChange=new ja,this.animationDone=new ja,this.selectedTabChange=new ja(!0),this._groupId=eZ++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=kV(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=xV(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));const e=this._tabBodyWrapper.nativeElement;e.style.minHeight=e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((e,i)=>e.isActive=i===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,i)=>{e.position=i-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Bc(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const e=this._tabHeader;e&&(e.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new iZ;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=U(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,i){t.disabled||(this.selectedIndex=e.focusIndex=i)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(la),Is(tZ,8),Is(Vq,8))},t.\u0275dir=qt({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[ys]}),t})(),oZ=(()=>{class t extends sZ{constructor(t,e,i,n){super(t,e,i,n)}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(la),Is(tZ,8),Is(Vq,8))},t.\u0275cmp=zt({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,i){if(1&t&&tl(i,KK,5),2&t){let t;Xa(t=el())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(Ja(RK,5),Ja(DK,5)),2&t){let t;Xa(t=el())&&(e._tabBodyWrapper=t.first),Xa(t=el())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&no("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Oo([{provide:qK,useExisting:t}]),ys],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(Fs(0,"mat-tab-header",0,1),Ys("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),Ds(2,$K,4,14,"div",2),Ns(),Fs(3,"div",3,4),Ds(5,FK,1,8,"mat-tab-body",5),Ns()),2&t&&(Ps("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),rr(2),Ps("ngForOf",e._tabs),rr(1),no("_mat-animation-noopable","NoopAnimations"===e._animationMode),rr(2),Ps("ngForOf",e._tabs))},directives:function(){return[fZ,Ah,hZ,hK,_Y,Mh,SU,JK]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class aZ{}const lZ=Jq(aZ);let hZ=(()=>{class t extends lZ{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(Is($o))},t.\u0275dir=qt({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(Rs("aria-disabled",!!e.disabled),no("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[ys]}),t})();const cZ=aU({passive:!0});let uZ=(()=>{class t{constructor(t,e,i,n,r,s,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=i,this._dir=n,this._ngZone=r,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new k,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new k,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ja,this.indexFocused=new ja,r.runOutsideAngular(()=>{AV(t.nativeElement,"mouseleave").pipe(WV(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=xV(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){AV(this._previousPaginator.nativeElement,"touchstart",cZ).pipe(WV(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),AV(this._nextPaginator.nativeElement,"touchstart",cZ).pipe(WV(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:bc("ltr"),e=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new lY(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),U(t,e,this._items.changes).pipe(WV(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(i)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(WV(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!xU(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,i=this._getLayoutDirection();e.scrollLeft="ltr"==i?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=n,o=s+r):(o=this._tabList.nativeElement.offsetWidth-n,s=o-r);const a=this.scrollDistance,l=this.scrollDistance+i;s<a?this.scrollDistance-=a-s+60:o>l&&(this.scrollDistance+=o-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),jV(650,100).pipe(WV(U(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:i}=this._scrollHeader(t);(0===i||i>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(la),Is(fU),Is(cU,8),Is(Tl),Is(sU),Is(Vq,8))},t.\u0275dir=qt({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),dZ=(()=>{class t extends uZ{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=kV(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(la),Is(fU),Is(cU,8),Is(Tl),Is(sU),Is(Vq,8))},t.\u0275dir=qt({type:t,inputs:{disableRipple:"disableRipple"},features:[ys]}),t})(),fZ=(()=>{class t extends dZ{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s,o)}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(la),Is(fU),Is(cU,8),Is(Tl),Is(sU),Is(Vq,8))},t.\u0275cmp=zt({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,i){if(1&t&&tl(i,hZ,4),2&t){let t;Xa(t=el())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(Ja(WK,7),Ja(NK,7),Ja(BK,7),Ja(jK,5),Ja(HK,5)),2&t){let t;Xa(t=el())&&(e._inkBar=t.first),Xa(t=el())&&(e._tabListContainer=t.first),Xa(t=el())&&(e._tabList=t.first),Xa(t=el())&&(e._nextPaginator=t.first),Xa(t=el())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&no("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ys],ngContentSelectors:TK,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(Js(),Fs(0,"div",0,1),Ys("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),Bs(2,"div",2),Ns(),Fs(3,"div",3,4),Ys("keydown",function(t){return e._handleKeydown(t)}),Fs(5,"div",5,6),Ys("cdkObserveContent",function(){return e._onContentChanges()}),Fs(7,"div",7),to(8),Ns(),Bs(9,"mat-ink-bar"),Ns(),Ns(),Fs(10,"div",8,9),Ys("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),Bs(12,"div",2),Ns()),2&t&&(no("mat-tab-header-pagination-disabled",e._disableScrollBefore),Ps("matRippleDisabled",e._disableScrollBefore||e.disableRipple),rr(5),no("_mat-animation-noopable","NoopAnimations"===e._animationMode),rr(5),no("mat-tab-header-pagination-disabled",e._disableScrollAfter),Ps("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[hK,oY,WK],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),pZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[Bh,Xq,kU,cK,aY,SY],Xq]}),t})();function gZ(t,e){1&t&&(js(0),lo(1," 0\n"),Hs())}function mZ(t,e){if(1&t&&(js(0),lo(1),Hs()),2&t){const t=Qs(2);rr(1),co(" ",null==t.value?null:t.value.numerator," ")}}function vZ(t,e){if(1&t&&Ds(0,mZ,2,1,"ng-container",0),2&t){const t=Qs(),e=Ls(4);Ps("ngIf","1"==(null==t.value?null:t.value.denominator))("ngIfElse",e)}}function yZ(t,e){if(1&t&&lo(0),2&t){const t=Qs();uo(" ",null==t.value?null:t.value.numerator,"/",null==t.value?null:t.value.denominator,"\n")}}let bZ=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-fraction"]],inputs:{value:"value"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["valutemp",""],["realfrac",""]],template:function(t,e){if(1&t&&(Ds(0,gZ,2,0,"ng-container",0),Ds(1,vZ,1,2,"ng-template",null,1,sl),Ds(3,yZ,1,2,"ng-template",null,2,sl)),2&t){const t=Ls(2);Ps("ngIf","0"==(null==e.value?null:e.value.numerator))("ngIfElse",t)}},directives:[Mh],styles:["[_nghost-%COMP%]{display:inline-grid;justify-content:center}"]}),t})();function _Z(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",10),Hs()),2&t){const t=e.$implicit;rr(1),Ps("value",t)}}function wZ(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",10),Hs()),2&t){const t=e.$implicit;rr(1),Ps("value",t)}}function SZ(t,e){if(1&t&&(js(0),Ds(1,wZ,2,1,"ng-container",2),Hs()),2&t){const t=e.$implicit;rr(1),Ps("ngForOf",t)}}function kZ(t,e){if(1&t&&(Fs(0,"span"),lo(1),Ns()),2&t){const t=e.$implicit;rr(1),co(" ",t," ")}}function xZ(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",10),Hs()),2&t){const t=e.$implicit;rr(1),Ps("value",t)}}function CZ(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",9),Hs()),2&t){const t=e.$implicit,i=e.last;rr(1),no("br",i),Ps("value",t)}}function EZ(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",9),Hs()),2&t){const t=e.$implicit,i=e.last;rr(1),no("br",i),Ps("value",t)}}function TZ(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",10),Hs()),2&t){const t=e.$implicit,i=e.last;rr(1),no("br",i),Ps("value",t)}}function AZ(t,e){if(1&t&&(js(0),Bs(1,"app-fraction",10),Hs()),2&t){const t=e.$implicit,i=e.last;rr(1),no("br",i),Ps("value",t)}}function OZ(t,e){if(1&t&&(js(0),Ds(1,TZ,2,3,"ng-container",2),Ds(2,AZ,2,3,"ng-container",2),js(3),Bs(4,"app-fraction",10),Hs(),Hs()),2&t){const t=e.$implicit,i=e.index,n=Qs();rr(1),Ps("ngForOf",t),rr(1),Ps("ngForOf",n.res.state.A[i]),rr(2),Ps("value",n.res.state.B[i])}}let MZ=(()=>{class t{constructor({mat:t,res:e}){this.mat=t,this.res=e,console.log(t,e),this.columns$=bc({"grid-template-columns":`repeat(${t.C.length}, auto)`}).pipe(eU(1)),this.tabloidStyle$=bc({"grid-template-columns":`repeat(${e.state.C.length+e.state.certificate.length+1}, auto)`}).pipe(eU(1))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(Is(bK))},t.\u0275cmp=zt({type:t,selectors:[["app-view-pl"]],decls:27,vars:17,consts:[["label","Subproblem"],[1,"C",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"restrictions"],[1,"A",3,"ngStyle"],[1,"X"],[1,"B"],["label","Results"],[1,"tabloid",3,"ngStyle"],[1,"bb",3,"value"],[3,"value"]],template:function(t,e){1&t&&(Fs(0,"mat-tab-group"),Fs(1,"mat-tab",0),lo(2," max ("),Fs(3,"span",1),Fa(4,"async"),Ds(5,_Z,2,1,"ng-container",2),Ns(),lo(6,") X "),Fs(7,"div",3),Fs(8,"span"),lo(9,"st:"),Ns(),Fs(10,"div",4),Fa(11,"async"),Ds(12,SZ,2,1,"ng-container",2),Ns(),Fs(13,"div",5),Ds(14,kZ,2,1,"span",2),Ns(),Fs(15,"span"),lo(16,"="),Ns(),Fs(17,"div",6),Ds(18,xZ,2,1,"ng-container",2),Ns(),Ns(),Ns(),Fs(19,"mat-tab",7),Fs(20,"div",8),Fa(21,"async"),Ds(22,CZ,2,3,"ng-container",2),Ds(23,EZ,2,3,"ng-container",2),js(24),Bs(25,"app-fraction",9),Hs(),Ds(26,OZ,5,3,"ng-container",2),Ns(),Ns(),Ns()),2&t&&(rr(3),Ps("ngStyle",Na(4,11,e.columns$)),rr(2),Ps("ngForOf",e.mat.C),rr(5),Ps("ngStyle",Na(11,13,e.columns$)),rr(2),Ps("ngForOf",e.mat.A),rr(2),Ps("ngForOf",e.mat.vars),rr(4),Ps("ngForOf",e.mat.B),rr(2),Ps("ngStyle",Na(21,15,e.tabloidStyle$)),rr(2),Ps("ngForOf",e.res.state.certificate),rr(1),Ps("ngForOf",e.res.state.C),rr(2),Ps("value",e.res.state.v),rr(1),Ps("ngForOf",e.res.state.certificateMatrix))},directives:[oZ,KK,Lh,Ah,bZ],pipes:[Nh],styles:[".A[_ngcontent-%COMP%], .B[_ngcontent-%COMP%], .X[_ngcontent-%COMP%]{border:1px solid #fff;border-top:none;border-bottom:none;border-radius:10px;margin:.5em;padding:.5em;text-align:center}.A[_ngcontent-%COMP%], .B[_ngcontent-%COMP%], .C[_ngcontent-%COMP%], .X[_ngcontent-%COMP%]{display:inline-grid;grid-column-gap:.5em;-moz-column-gap:.5em;column-gap:.5em}.restrictions[_ngcontent-%COMP%]{display:flex}.restrictions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.tabloid[_ngcontent-%COMP%]{display:grid}.bb[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.br[_ngcontent-%COMP%]{border-right:1px solid #fff}"]}),t})();const RZ=["mat-button",""],DZ=["*"],LZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class IZ{constructor(t){this._elementRef=t}}const PZ=tK(Jq(eK(IZ)));let $Z=(()=>{class t extends PZ{constructor(t,e,i){super(t),this._focusMonitor=e,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const n of LZ)this._hasHostAttributes(n)&&this._getHostElement().classList.add(n);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Is($o),Is(yY),Is(Vq,8))},t.\u0275cmp=zt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&Ja(hK,5),2&t){let t;Xa(t=el())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(Rs("disabled",e.disabled||null),no("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ys],attrs:RZ,ngContentSelectors:DZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Js(),Fs(0,"span",0),to(1),Ns(),Bs(2,"span",1),Bs(3,"span",2)),2&t&&(rr(2),no("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ps("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[hK],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),FZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=dt({imports:[[cK,Xq],Xq]}),t})();const NZ=["editor"],BZ=["graphDiv"];function jZ(t,e){if(1&t&&(Fs(0,"div",12),lo(1),Ns()),2&t){const t=e.ngIf;rr(1),ho(t)}}function HZ(t,e){if(1&t&&(js(0),lo(1),Hs()),2&t){const t=Qs();rr(1),co(" (",t.optimal,") ")}}let zZ=(()=>{class t{constructor(t){this.matDialog=t,this.nodes=new zN,this.edges=new zN,this.error=new _c(""),this.results=new Map,this.subproblems=new Map,this.error$=this.error.asObservable(),this.optimalId=null,this.optimal=null}ngOnInit(){const t=this.inputEditor=(0,cp.edit)(this.editor.nativeElement);t.setTheme("ace/theme/monokai"),t.getSession().setMode("ace/mode/progLin");const e=new _c("");t.addEventListener("change",()=>{e.next(t.getValue())}),t.setValue("max (4a - b)\n    st:\n    7a - 2b <= 14\n    b <= 3\n    3a - 2b <= 3\n    a >= 0\n    b >= 0\n    "),t.clearSelection(),this.network=new tV(this.graphDiv.nativeElement,{},{physics:!0,edges:{smooth:{enabled:!0,type:"continuous",forceDirection:"horizontal",roundness:.6},arrows:{to:!0},font:{color:"white",strokeColor:"black"}},nodes:{image:"assets/spinner.svg",shape:"circularImage",color:{background:"white"},font:{size:16}},layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed"}},interaction:{hover:!0}}),this.network.on("click",t=>{const e=t.nodes;if(1===e.length){const t=e[0],i=this.subproblems.get(t),n=this.results.get(t);this.matDialog.open(MZ,{data:{mat:i,res:n}})}}),e.pipe(Dc(t=>wV(t))).subscribe(e=>{switch(e.type){case"parserError":t.getSession().setAnnotations(e.annotations),this.error.next("");break;case"error":t.getSession().clearAnnotations(),this.error.next(e.message);break;case"start":this.optimal=null,this.optimalId=null,this.results=new Map,this.subproblems=new Map,t.getSession().clearAnnotations(),this.error.next(""),this.nodes=new zN,this.edges=new zN,this.network.setData({nodes:this.nodes,edges:this.edges}),setTimeout(()=>{const t=this.network.body.container.getBoundingClientRect();this.network.focus("1",{scale:1,locked:!0,offset:{x:0,y:83-t.height/2}})});break;case"subproblem":this.subproblems.set(e.id,e.mat),this.nodes.add({id:e.id,label:"Subproblem #"+e.id}),e.parentId&&this.edges.add({from:e.parentId,label:e.edgeLabel,to:e.id});break;case"subresult":this.results.set(e.id,e.res),this.nodes.update("ILIMITED"===e.res.type||"INFEASIBLE"===e.res.type?{id:e.id,label:"Subproblem #"+e.id+"\n"+e.res.type,shape:"circle"}:{id:e.id,label:"Subproblem #"+e.id+"\n"+(-1!==e.fracIdx?"fractional":"integer")+"\nvalue: "+e.value,shape:"circle",title:pV(e.res.solution,e.res.vars)});break;case"optimal":this.optimal=e.value,this.optimalId=e.id;break;default:uV(e)}})}ngOnDestroy(){this.network.destroy(),this.inputEditor.destroy(),this.branchAndBoundSubscription.unsubscribe()}fit(){this.network.fit()}focusOptimal(){this.optimalId&&this.network.focus(this.optimalId)}}return t.\u0275fac=function(e){return new(e||t)(Is(xK))},t.\u0275cmp=zt({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&(Ja(NZ,7),Ja(BZ,7)),2&t){let t;Xa(t=el())&&(e.editor=t.first),Xa(t=el())&&(e.graphDiv=t.first)}},decls:31,vars:5,consts:[["id","instructions"],["href","https://jeronimonunes.github.io/simplex-web/"],["id","fade-out"],["id","editor",1,"mat-elevation-z12"],["editor",""],["class","error",4,"ngIf"],["id","graph"],[2,"grid-area","graph"],["graphDiv",""],["mat-button","","mat-raised-button","","color","primary",3,"click"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"error"]],template:function(t,e){1&t&&(Fs(0,"header"),Fs(1,"h1"),lo(2,"Branch and Bound"),Ns(),Ns(),Fs(3,"div",0),Fs(4,"p"),lo(5,"This page aims to provide an easy to understand visualization of Branch and Bound algorithm"),Ns(),Fs(6,"p"),lo(7,"The linear programming will be calculated using the "),Fs(8,"a",1),lo(9,"Simplex"),Ns(),lo(10," and then new restrictions are going to be added to make the result integer"),Ns(),Fs(11,"p"),lo(12,"All the calculations are done within your browser page, so, if you close the app while the calculations are running, you will loose the progress."),Ns(),Fs(13,"p"),lo(14,"Down below you may write your Linear Program, use the example as a basis to understand the sintax. Simple mathematical expressions like *, +, -, /, are going to be interpreted before running simplex. "),Ns(),Bs(15,"div",2),Ns(),Fs(16,"div",3),Fs(17,"h2"),lo(18,"Input:"),Ns(),Bs(19,"div",null,4),Ns(),Ds(21,jZ,2,1,"div",5),Fa(22,"async"),Fs(23,"div",6),Bs(24,"div",7,8),Fs(26,"button",9),Ys("click",function(){return e.fit()}),lo(27,"Fit"),Ns(),Fs(28,"button",10),Ys("click",function(){return e.focusOptimal()}),lo(29," Focus optimal "),Ds(30,HZ,2,1,"ng-container",11),Ns(),Ns()),2&t&&(rr(21),Ps("ngIf",Na(22,3,e.error$)),rr(7),Ps("disabled",!e.optimalId),rr(2),Ps("ngIf",e.optimal))},directives:[Mh,$Z],pipes:[Nh],styles:['[_nghost-%COMP%]{display:grid;width:100vw;height:100vh;grid-template-columns:1fr 1fr;grid-template-rows:auto auto 1fr auto;grid-template-areas:"header        header" "instructions  graph" "editor        graph" "error         graph"}.error[_ngcontent-%COMP%]{grid-area:error;color:#d80418;background-color:#ffd1d6;position:relative;padding:.75rem 1.25rem;margin:1em 1em 1rem;border:3px solid #6f2121;border-radius:.4rem}#instructions[_ngcontent-%COMP%]{position:relative;grid-area:instructions;overflow:auto;padding:1em 1em 0}#editor[_ngcontent-%COMP%]{grid-area:editor;display:grid;grid-template-rows:auto 1fr}#editor[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-left:.5em;margin-bottom:0}#graph[_ngcontent-%COMP%]{grid-area:graph;display:grid;grid-template-areas:"graph graph" "button button";grid-template-rows:1fr auto;grid-column-gap:1em;-moz-column-gap:1em;column-gap:1em}button[_ngcontent-%COMP%]{margin:calc(-1em - 36px) 1em 1em}header[_ngcontent-%COMP%]{grid-area:header;background-color:#3f51b5;display:flex;padding:1em}header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:0}@media (max-width:700px){#fade-out[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,transparent,#000);left:0;right:0;height:10vh;position:sticky;margin:-1em;bottom:-2px}[_nghost-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto 20vh 1fr auto 2fr;grid-template-areas:"header" "instructions" "editor" "error" "graph"}}']}),t})(),WZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t,bootstrap:[zZ]}),t.\u0275inj=dt({providers:[],imports:[[yc,FZ,CK,pZ,hp,qq]]}),t})();(function(){if(jl)throw new Error("Cannot enable prod mode after platform setup.");Bl=!1})(),mc().bootstrapModule(WZ).catch(t=>console.error(t))}},function(t){"use strict";t(t.s=8353)}]);