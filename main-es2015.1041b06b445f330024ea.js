(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,i){t.exports=i("zUnb")},"2QA8":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));let n=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},"61Ir":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("K6c1");e.Fpi=class{constructor(t,e,i){this.objective=t,this.restrictions=e,this.vars=i}toMatrix(){const t=this.vars.map(t=>this.objective.getCoefficient(t).multiply(n.NEG));return{a:this.restrictions.map(t=>this.vars.map(e=>t.getCoefficient(e))),b:this.restrictions.map(t=>t.getIndependent()),c:t,vars:this.vars}}toString(){let t=`max(${this.objective})\n`;t+="\tst:\n";for(const e of this.restrictions)t+=`\t${e};\n`;return t+="\n\t"+this.vars.join(",")+" >= 0\n",t}}},"7o/Q":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("n6bG"),r=i("gRHU"),s=i("quSY"),o=i("2QA8"),a=i("2fFW"),l=i("NJ4a");class h extends s.a{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof h?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,i)}}[o.a](){return this}static create(t,e,i){const n=new h(t,e,i);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends h{constructor(t,e,i,s){let o;super(),this._parentSubscriber=t;let a=this;Object(n.a)(e)?o=e:e&&(o=e.next,i=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(n.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=a.a;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw i;Object(l.a)(i)}}__tryOrSetError(t,e,i){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(n){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(Object(l.a)(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"82Dv":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("iOVO"),r=i("K6c1"),s=i("MUAA"),o=i("Pmfo");e.CanonicalSmaller=class extends n.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return 1===this.left.length&&this.left[0].factor.isNegative()&&this.right.isZero()}turnIntoEquality(t){let e=1;for(;t.has("f_"+e);)e++;t.add("f_"+e);const i=new s.Variable(r.ONE,"f_"+e);return new o.CanonicalEquality([i,...this.left],this.right)}}},B9Yq:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},CNy6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("LhP/"),r=i("K6c1"),s=i("V9eS"),o=i("Pmfo"),a=i("MUAA");e.Equality=class extends n.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof r.Fraction?t=new s.CanonicalAddition(t,[]):t instanceof a.Variable&&(t=new s.CanonicalAddition(r.ZERO,[t]));let e=this.right.canonify();return e instanceof r.Fraction?e=new s.CanonicalAddition(e,[]):e instanceof a.Variable&&(e=new s.CanonicalAddition(r.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=r.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(r.NEG))),e.terms=[],new o.CanonicalEquality(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},DH7j:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DNg2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("LhP/"),r=i("K6c1"),s=i("V9eS"),o=i("b5Bw"),a=i("MUAA");e.Greater=class extends n.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof r.Fraction?t=new s.CanonicalAddition(t,[]):t instanceof a.Variable&&(t=new s.CanonicalAddition(r.ZERO,[t]));let e=this.right.canonify();return e instanceof r.Fraction?e=new s.CanonicalAddition(e,[]):e instanceof a.Variable&&(e=new s.CanonicalAddition(r.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=r.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(r.NEG))),e.terms=[],new o.CanonicalGreater(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}},HDdC:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("7o/Q"),r=i("2QA8"),s=i("gRHU"),o=i("kJWO"),a=i("mCNh"),l=i("2fFW");let h=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(t,e,i){const{operator:o}=this,a=function(t,e,i){if(t){if(t instanceof n.a)return t;if(t[r.a])return t[r.a]()}return t||e||i?new n.a(t,e,i):new n.a(s.a)}(t,e,i);if(a.add(o?o.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:i,isStopped:r}=t;if(e||r)return!1;t=i&&i instanceof n.a?i:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,i)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(r){i(r),n&&n.unsubscribe()}},i,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=c(t))((t,e)=>{let i;this.subscribe(t=>i=t,t=>e(t),()=>t(i))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},K6c1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP");"undefined"==typeof BigInt&&(BigInt=Number);const r=BigInt(0),s=BigInt(1),o=BigInt(-1);class a extends n.Expression{constructor(t,e){if(super(),t===r)this.numerator=r,this.denominator=s;else{const i=function t(e,i){return i===r?e:t(i,e%i)}(t,e);this.numerator=t/i,this.denominator=e/i,this.denominator<r&&(this.numerator*=o,this.denominator*=o)}}isZero(){return this.numerator===BigInt(0)}add(t){return new a(this.numerator*t.denominator+this.denominator*t.numerator,this.denominator*t.denominator)}sub(t){return new a(this.numerator*t.denominator-this.denominator*t.numerator,this.denominator*t.denominator)}isPositive(){return this.numerator>0&&this.denominator>0||this.numerator<0&&this.denominator<0}isNegative(){return this.numerator>0&&this.denominator<0||this.numerator<0&&this.denominator>0}invert(){return this.isZero()?e.ZERO:new a(this.denominator,this.numerator)}multiply(t){return new a(this.numerator*t.numerator,this.denominator*t.denominator)}getVars(t=new Set){return t}canonify(){return this}toString(t=!0){let e;return e=this.denominator===BigInt(1)?this.numerator.toString():this.numerator===BigInt(0)?"0":this.numerator+"/"+this.denominator,t||"-"!==e[0]?e:e.substring(1)}}e.Fraction=a,e.ONE=new a(BigInt(1),BigInt(1)),e.NEG=new a(BigInt(-1),BigInt(1)),e.ZERO=new a(BigInt(0),BigInt(1))},"LhP/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Restriction=class{}},MUAA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP");class r extends n.Expression{constructor(t,e){super(),this.factor=t,this.label=e}add(t){if(t.label===this.label)return new r(this.factor.add(t.factor),t.label);throw new Error("Can not perform addition of: "+this+" and "+t)}multiply(t){return new r(this.factor.multiply(t),this.label)}canonify(){return this}getVars(t=new Set){return t.add(this.label),t}invert(){throw new Error("You cannot put a variable in the denominator")}toString(t=!0){let e=this.factor.toString(t);return-1!==e.indexOf("/")&&(e="("+e+")"),e+this.label}}e.Variable=r},NJ4a:function(t,e,i){"use strict";function n(t){setTimeout(()=>{throw t},0)}i.d(e,"a",(function(){return n}))},NlPq:function(t,e,i){"use strict";(function(t){i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return o}));var n=i("HDdC");const r=t=>({numerator:""+t.numerator,denominator:""+t.denominator});function s(t){const{a:e,b:i,c:n,vars:s}=t.toMatrix();return{A:e.map(t=>t.map(r)),B:i.map(r),C:n.map(r),vars:s}}function o(e){return new n.a(i=>{const n=new Worker(t);return n.onmessage=({data:t})=>{i.next(t),i.complete(),n.terminate()},n.postMessage(e),()=>{n.terminate()}})}}).call(this,i("PPfN"))},NoKw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP"),r=i("YBbj");e.Multiplication=class extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const t=this.terms[0].canonify();let e;e=t instanceof r.Addition?t:new r.Addition([t]);for(let i=1;i<this.terms.length;i++){const t=this.terms[i].canonify();e=e.multiply(t)}return e.canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},NtZL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("NoKw"),r=i("K6c1"),s=i("V9eS"),o=i("MUAA"),a=i("61Ir"),l=i("YBbj"),h=i("CNy6");e.ProgLin=class{constructor(t,e,i){this.type=t,this.objective=e,this.restrictions=i}toFPI(){const t=new Set,e=this.objective.canonify();let i;i=e instanceof r.Fraction?new s.CanonicalAddition(e,[]):e instanceof o.Variable?new s.CanonicalAddition(r.ZERO,[e]):e,i.getVars(t),"min"===this.type&&(i=new n.Multiplication([r.NEG,i]).canonify());const c=new Set,u=[];for(const n of this.restrictions){n.getVars(t);const e=n.canonify();e.isNonNegativity()?n.getVars().forEach(t=>c.add(t)):u.push(e)}let d=u.map(t=>t.turnIntoEquality(c));const f=[];for(const n of t)if(!c.has(n)){c.add(n+"p"),c.add(n+"n");const t=[new o.Variable(r.ONE,n+"p"),new o.Variable(r.NEG,n+"n")];f.push(new h.Equality(new o.Variable(r.ONE,n),new l.Addition(t))),i=i.replaceVar(n,t),d=d.map(e=>e.replaceVar(n,t))}return new a.Fpi(i,d,[...c])}}},PPfN:function(t,e,i){t.exports=i.p+"0-es2015.a43f19d4ba8f01719d70.worker.js"},Pmfo:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("iOVO"),r=i("K6c1");class s extends n.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return!1}turnIntoEquality(t){return this}getCoefficient(t){for(const e of this.left)if(e.label===t)return e.factor;return r.ZERO}getIndependent(){return this.right}toString(){let t="";for(const e of this.left)t&&(e.factor.isPositive()||e.factor.isZero()?t+=" + ":t+=" - "),t+=e.toString(!1);return`${t} == ${this.right}`}replaceVar(t,e){const i=new Array;for(const n of this.left)n.label===t?i.push(...e.map(t=>t.multiply(n.factor))):i.push(n);return new s(i,this.right)}}e.CanonicalEquality=s},SpAZ:function(t,e,i){"use strict";function n(t){return t}i.d(e,"a",(function(){return n}))},V9eS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("K6c1"),r=i("zCoP");class s extends r.Expression{constructor(t,e){super(),this.independent=t,this.terms=e}canonify(){return this}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}getCoefficient(t){for(const e of this.terms)if(e.label===t)return e.factor;return n.ZERO}multiply(t){return new s(this.independent.multiply(t),this.terms.map(e=>e.multiply(t)))}toString(){let t="";this.independent.isZero()||(t+=this.independent);for(const e of this.terms)e.factor.isZero()||(e.factor.isPositive()?t&&(t+=" + "):t+=t?" - ":"-"),t+=e.toString(!1);return t}replaceVar(t,e){const i=new Array;for(const n of this.terms)n.label===t?i.push(...e.map(t=>t.multiply(n.factor))):i.push(n);return new s(this.independent,i)}}e.CanonicalAddition=s},XoHu:function(t,e,i){"use strict";function n(t){return null!==t&&"object"==typeof t}i.d(e,"a",(function(){return n}))},YBbj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP"),r=i("K6c1"),s=i("MUAA"),o=i("jLWv"),a=i("V9eS");class l extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const t=this.terms.slice(),e={};let i=r.ZERO;for(let n=t.pop();n;n=t.pop()){const l=n.canonify();l instanceof r.Fraction?i=i.add(l):l instanceof s.Variable?e[l.label]=e[l.label]?e[l.label].add(l):l:l instanceof a.CanonicalAddition?(t.push(l.independent),t.push(...l.terms)):o.unexhaustive(l)}return new a.CanonicalAddition(i,Object.values(e))}multiply(t){if(t instanceof r.Fraction)return new l(this.terms.map(e=>e.canonify().multiply(t)));if(t instanceof s.Variable)return new l(this.terms.map(e=>{const i=e.canonify();if(i instanceof r.Fraction)return t.multiply(i);if(i instanceof s.Variable)throw Error("In linear progarmming you can't have two variables multiplying each other");if(i instanceof a.CanonicalAddition){if(0===i.terms.length)return t.multiply(i.independent);throw Error("In linear progarmming you can't have two variables multiplying each other")}return o.unexhaustive(i)}));if(t instanceof l){const e=this.terms.reduce((e,i)=>{const n=t.multiply(i.canonify());return e.push(...n.terms),e},new Array);return new l(e)}return t instanceof a.CanonicalAddition?this.multiply(new l([t.independent,...t.terms])):o.unexhaustive(t)}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}e.Addition=l},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},b5Bw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("iOVO"),r=i("K6c1"),s=i("MUAA"),o=i("Pmfo");e.CanonicalGreater=class extends n.CanonicalRestriction{constructor(t,e){super(),this.left=t,this.right=e}isNonNegativity(){return 1===this.left.length&&this.left[0].factor.isPositive()&&this.right.isZero()}turnIntoEquality(t){let e=1;for(;t.has("f_"+e);)e++;t.add("f_"+e);const i=new s.Variable(r.NEG,"f_"+e);return new o.CanonicalEquality([i,...this.left],this.right)}}},"bU/s":function(t,e,i){(function(t){!function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var e=function(t,i,n){"string"==typeof t?(2==arguments.length&&(n=i),e.modules[t]||(e.payloads[t]=n,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};e.modules={},e.payloads={};var i,n=function(t,e,i){if("string"==typeof e){var n=o(t,e);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(e)){for(var s=[],a=0,l=e.length;a<l;++a){var h=o(t,e[a]);if(null==h&&r.original)return;s.push(h)}return i&&i.apply(null,s)||!0}},r=function(t,e){var i=n("",t,e);return null==i&&r.original?r.original.apply(this,arguments):i},s=function(t,e){if(-1!==e.indexOf("!")){var i=e.split("!");return s(t,i[0])+"!"+s(t,i[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&n!=e;){var n=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},o=function(t,i){i=s(t,i);var r=e.modules[i];if(!r){if("function"==typeof(r=e.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0},l=r((function(t,e){return n(i,t,e)}),o,a);e.modules[i]=o=l||a.exports,delete e.payloads[i]}r=e.modules[i]=o||r}return r};i=t,t.ace||(t.ace={}),(i=t.ace).define&&i.define.packaged||(e.original=i.define,i.define=e,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(t,e,i){"use strict";var n,r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===r.exec.call(/()??/,"")[1],o=(r.test.call(n=/^/g,""),!n.lastIndex);function a(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function l(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e,i);for(var n=i||0;n<t.length;n++)if(t[n]===e)return n;return-1}o&&s||(RegExp.prototype.exec=function(t){var e,i,n=r.exec.apply(this,arguments);if("string"==typeof t&&n){if(!s&&n.length>1&&l(n,"")>-1&&(i=RegExp(this.source,r.replace.call(a(this),"g","")),r.replace.call(t.slice(n.index),i,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(n[t]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var h=1;h<n.length;h++)(e=this._xregexp.captureNames[h-1])&&(n[e]=n[h]);!o&&this.global&&!n[0].length&&this.lastIndex>n.index&&this.lastIndex--}return n},o||(RegExp.prototype.test=function(t){var e=r.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(t,e,i){function n(){}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var i=u.call(arguments,1),r=function(){if(this instanceof r){var n=e.apply(this,i.concat(u.call(arguments)));return Object(n)===n?n:this}return e.apply(t,i.concat(u.call(arguments)))};return e.prototype&&(n.prototype=e.prototype,r.prototype=new n,n.prototype=null),r});var r,s,o,a,l,h=Function.prototype.call,c=Object.prototype,u=Array.prototype.slice,d=h.bind(c.toString),f=h.bind(c.hasOwnProperty);if((l=f(c,"__defineGetter__"))&&(r=h.bind(c.__defineGetter__),s=h.bind(c.__defineSetter__),o=h.bind(c.__lookupGetter__),a=h.bind(c.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,i=[];if(i.splice.apply(i,t(20)),i.splice.apply(i,t(26)),e=i.length,i.splice(5,0,"XXX"),e+1==i.length)return!0}()){var p=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?p.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(u.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var i=this.length;t>0?t>i&&(t=i):null==t?t=0:t<0&&(t=Math.max(i+t,0)),t+e<i||(e=i-t);var n=this.slice(t,t+e),r=u.call(arguments,2),s=r.length;if(t===i)s&&this.push.apply(this,r);else{var o=Math.min(e,i-t),a=t+o,l=a+s-o,h=i-a,c=i-o;if(l<a)for(var d=0;d<h;++d)this[l+d]=this[a+d];else if(l>a)for(d=h;d--;)this[l+d]=this[a+d];if(s&&t===c)this.length=c,this.push.apply(this,r);else for(this.length=c+s,d=0;d<s;++d)this[t+d]=r[d]}return n};Array.isArray||(Array.isArray=function(t){return"[object Array]"==d(t)});var g,m,v=Object("a"),y="a"!=v[0]||!(0 in v);function b(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=R(this),i=y&&"[object String]"==d(this)?this.split(""):e,n=arguments[1],r=-1,s=i.length>>>0;if("[object Function]"!=d(t))throw new TypeError;for(;++r<s;)r in i&&t.call(n,i[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=R(this),i=y&&"[object String]"==d(this)?this.split(""):e,n=i.length>>>0,r=Array(n),s=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;o<n;o++)o in i&&(r[o]=t.call(s,i[o],o,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,i=R(this),n=y&&"[object String]"==d(this)?this.split(""):i,r=n.length>>>0,s=[],o=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var a=0;a<r;a++)a in n&&t.call(o,e=n[a],a,i)&&s.push(e);return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=R(this),i=y&&"[object String]"==d(this)?this.split(""):e,n=i.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;s<n;s++)if(s in i&&!t.call(r,i[s],s,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=R(this),i=y&&"[object String]"==d(this)?this.split(""):e,n=i.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;s<n;s++)if(s in i&&t.call(r,i[s],s,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=R(this),i=y&&"[object String]"==d(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in i){r=i[s++];break}if(++s>=n)throw new TypeError("reduce of empty array with no initial value")}for(;s<n;s++)s in i&&(r=t.call(void 0,r,i[s],s,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=R(this),i=y&&"[object String]"==d(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in i){r=i[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}do{s in this&&(r=t.call(void 0,r,i[s],s,e))}while(s--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=y&&"[object String]"==d(this)?this.split(""):R(this),i=e.length>>>0;if(!i)return-1;var n=0;for(arguments.length>1&&(n=M(arguments[1])),n=n>=0?n:Math.max(0,i+n);n<i;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=y&&"[object String]"==d(this)?this.split(""):R(this),i=e.length>>>0;if(!i)return-1;var n=i-1;for(arguments.length>1&&(n=Math.min(n,M(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:c)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+t);if(f(t,e)){var i;if(i={enumerable:!0,configurable:!0},l){var n=t.__proto__;t.__proto__=c;var r=o(t,e),s=a(t,e);if(t.__proto__=n,r||s)return r&&(i.get=r),s&&(i.set=s),i}return i.value=t[e],i}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var i;if(null===t)i=g();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,(i=new n).__proto__=t}return void 0!==e&&Object.defineProperties(i,e),i}),Object.defineProperty){var w=b({}),_="undefined"==typeof document||b(document.createElement("div"));if(!w||!_)var S=Object.defineProperty}Object.defineProperty&&!S||(Object.defineProperty=function(t,e,i){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.defineProperty called on non-object: "+t);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Property description must be an object: "+i);if(S)try{return S.call(Object,t,e,i)}catch(h){}if(f(i,"value"))if(l&&(o(t,e)||a(t,e))){var n=t.__proto__;t.__proto__=c,delete t[e],t[e]=i.value,t.__proto__=n}else t[e]=i.value;else{if(!l)throw new TypeError("getters & setters can not be defined on this javascript engine");f(i,"get")&&r(t,e,i.get),f(i,"set")&&s(t,e,i.set)}return t}),Object.defineProperties||(Object.defineProperties=function(t,e){for(var i in e)f(e,i)&&Object.defineProperty(t,i,e[i]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze((function(){}))}catch(D){Object.freeze=(m=Object.freeze,function(t){return"function"==typeof t?t:m(t)})}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";f(t,e);)e+="?";t[e]=!0;var i=f(t,e);return delete t[e],i}),!Object.keys){var k=!0,x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],C=x.length;for(var E in{toString:null})k=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var i in t)f(t,i)&&e.push(i);if(k)for(var n=0,r=C;n<r;n++){var s=x[n];f(t,s)&&e.push(s)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var T="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim){T="["+T+"]";var O=new RegExp("^"+T+T+"*"),A=new RegExp(T+T+"*$");String.prototype.trim=function(){return String(this).replace(O,"").replace(A,"")}}function M(t){return(t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}var R=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(t,e,i){"use strict";t("./regexp"),t("./es5-shim"),"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(t,e,i){"use strict";e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),s=n.userAgent||"",o=n.appName||"";e.isWin="win"==r,e.isMac="mac"==r,e.isLinux="linux"==r,e.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=s.match(/ Gecko\/\d+/),e.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,e.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,e.isAIR=s.indexOf("AdobeAIR")>=0,e.isAndroid=s.indexOf("Android")>=0,e.isChromeOS=s.indexOf(" CrOS ")>=0,e.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,e.isIOS&&(e.isMac=!0),e.isMobile=e.isIOS||e.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("./useragent");if(e.buildDom=function t(e,i,n){if("string"==typeof e&&e){var r=document.createTextNode(e);return i&&i.appendChild(r),r}if(!Array.isArray(e))return e;if("string"!=typeof e[0]||!e[0]){for(var s=[],o=0;o<e.length;o++){var a=t(e[o],i,n);a&&s.push(a)}return s}var l=document.createElement(e[0]),h=e[1],c=1;for(h&&"object"==typeof h&&!Array.isArray(h)&&(c=2),o=c;o<e.length;o++)t(e[o],l,n);return 2==c&&Object.keys(h).forEach((function(t){var e=h[t];"class"===t?l.className=Array.isArray(e)?e.join(" "):e:"function"==typeof e||"value"==t?l[t]=e:"ref"===t?n&&(n[e]=l):null!=e&&l.setAttribute(t,e)})),i&&i.appendChild(l),l},e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},e.removeChildren=function(t){t.innerHTML=""},e.createTextNode=function(t,e){return(e?e.ownerDocument:document).createTextNode(t)},e.createFragment=function(t){return(t?t.ownerDocument:document).createDocumentFragment()},e.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},e.addCssClass=function(t,i){e.hasCssClass(t,i)||(t.className+=" "+i)},e.removeCssClass=function(t,e){for(var i=t.className.split(/\s+/g);;){var n=i.indexOf(e);if(-1==n)break;i.splice(n,1)}t.className=i.join(" ")},e.toggleCssClass=function(t,e){for(var i=t.className.split(/\s+/g),n=!0;;){var r=i.indexOf(e);if(-1==r)break;n=!1,i.splice(r,1)}return n&&i.push(e),t.className=i.join(" "),n},e.setCssClass=function(t,i,n){n?e.addCssClass(t,i):e.removeCssClass(t,i)},e.hasCssString=function(t,e){var i,n=0;if(i=(e=e||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===t)return!0},e.importCssString=function(t,i,n){var r=n;n&&n.getRootNode&&(r=n.getRootNode())&&r!=n||(r=document);var s=r.ownerDocument||r;if(i&&e.hasCssString(i,r))return null;i&&(t+="\n/*# sourceURL=ace/css/"+i+" */");var o=e.createElement("style");o.appendChild(s.createTextNode(t)),i&&(o.id=i),r==s&&(r=e.getDocumentHead(s)),r.insertBefore(o,r.firstChild)},e.importCssStylsheet=function(t,i){e.buildDom(["link",{rel:"stylesheet",href:t}],e.getDocumentHead(i))},e.scrollbarWidth=function(t){var i=e.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=e.createElement("ace_outer"),r=n.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",n.appendChild(i);var s=t.documentElement;s.appendChild(n);var o=i.offsetWidth;r.overflow="scroll";var a=i.offsetWidth;return o==a&&(a=n.clientWidth),s.removeChild(n),o-a},"undefined"==typeof document&&(e.importCssString=function(){}),e.computedStyle=function(t,e){return window.getComputedStyle(t,"")||{}},e.setStyle=function(t,e,i){t[e]!==i&&(t[e]=i)},e.HAS_CSS_ANIMATION=!1,e.HAS_CSS_TRANSFORMS=!1,e.HI_DPI=!n.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var r=document.createElement("div");e.HI_DPI&&void 0!==r.style.transform&&(e.HAS_CSS_TRANSFORMS=!0),n.isEdge||void 0===r.style.animationName||(e.HAS_CSS_ANIMATION=!0),r=null}e.translate=e.HAS_CSS_TRANSFORMS?function(t,e,i){t.style.transform="translate("+Math.round(e)+"px, "+Math.round(i)+"px)"}:function(t,e,i){t.style.top=Math.round(i)+"px",t.style.left=Math.round(e)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(t,e,i){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var i in e)t[i]=e[i];return t},e.implement=function(t,i){e.mixin(t,i)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(t,e,i){"use strict";var n=t("./oop"),r=function(){var t,e,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in i.FUNCTION_KEYS)t=i.FUNCTION_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);for(e in i.PRINTABLE_KEYS)t=i.PRINTABLE_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)i.KEY_MODS[e]=t.filter((function(t){return e&i.KEY_MODS[t]})).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("./keys"),r=t("./useragent"),s=null,o=0;e.addListener=function(t,e,i){if(t.addEventListener)return t.addEventListener(e,i,!1);if(t.attachEvent){var n=function(){i.call(t,window.event)};i._wrapper=n,t.attachEvent("on"+e,n)}},e.removeListener=function(t,e,i){if(t.removeEventListener)return t.removeEventListener(e,i,!1);t.detachEvent&&t.detachEvent("on"+e,i._wrapper||i)},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||r.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,i,n){function r(t){i&&i(t),n&&n(t),e.removeListener(document,"mousemove",i,!0),e.removeListener(document,"mouseup",r,!0),e.removeListener(document,"dragstart",r,!0)}return e.addListener(document,"mousemove",i,!0),e.addListener(document,"mouseup",r,!0),e.addListener(document,"dragstart",r,!0),r},e.addMouseWheelListener=function(t,i){"onmousewheel"in t?e.addListener(t,"mousewheel",(function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),i(t)})):"onwheel"in t?e.addListener(t,"wheel",(function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}i(t)})):e.addListener(t,"DOMMouseScroll",(function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),i(t)}))},e.addMultiMouseDownListener=function(t,i,n,s){var o,a,l,h=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};function u(t){if(0!==e.getButton(t)?h=0:t.detail>1?++h>4&&(h=1):h=1,r.isIE){var u=Math.abs(t.clientX-o)>5||Math.abs(t.clientY-a)>5;l&&!u||(h=1),l&&clearTimeout(l),l=setTimeout((function(){l=null}),i[h-1]||600),1==h&&(o=t.clientX,a=t.clientY)}if(t._clicks=h,n[s]("mousedown",t),h>4)h=0;else if(h>1)return n[s](c[h],t)}function d(t){h=2,l&&clearTimeout(l),l=setTimeout((function(){l=null}),i[h-1]||600),n[s]("mousedown",t),n[s](c[h],t)}Array.isArray(t)||(t=[t]),t.forEach((function(t){e.addListener(t,"mousedown",u),r.isOldIE&&e.addListener(t,"dblclick",d)}))};var a=r.isMac&&r.isOpera&&!("KeyboardEvent"in window)?function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)}:function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};function l(t,e,i){var l=a(e);if(!r.isMac&&s){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(l|=8),s.altGr){if(3==(3&l))return;s.altGr=0}if(18===i||17===i){var h="location"in e?e.location:e.keyLocation;17===i&&1===h?1==s[i]&&(o=e.timeStamp):18===i&&3===l&&2===h&&e.timeStamp-o<50&&(s.altGr=!0)}}if(i in n.MODIFIER_KEYS&&(i=-1),l||13!==i||3!==(h="location"in e?e.location:e.keyLocation)||(t(e,l,-i),!e.defaultPrevented)){if(r.isChromeOS&&8&l){if(t(e,l,i),e.defaultPrevented)return;l&=-9}return!!(l||i in n.FUNCTION_KEYS||i in n.PRINTABLE_KEYS)&&t(e,l,i)}}function h(){s=Object.create(null)}if(e.getModifierString=function(t){return n.KEY_MODS[a(t)]},e.addCommandKeyListener=function(t,i){var n=e.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var o=null;n(t,"keydown",(function(t){o=t.keyCode})),n(t,"keypress",(function(t){return l(i,t,o)}))}else{var a=null;n(t,"keydown",(function(t){s[t.keyCode]=(s[t.keyCode]||0)+1;var e=l(i,t,t.keyCode);return a=t.defaultPrevented,e})),n(t,"keypress",(function(t){a&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),a=null)})),n(t,"keyup",(function(t){s[t.keyCode]=null})),s||(h(),n(window,"focus",h))}},"object"==typeof window&&window.postMessage&&!r.isOldIE){var c=1;e.nextTick=function(t,i){i=i||window;var n="zero-timeout-message-"+c++,r=function(s){s.data==n&&(e.stopPropagation(s),e.removeListener(i,"message",r),t())};e.addListener(i,"message",r),i.postMessage(n,"*")}}e.$idleBlocked=!1,e.onIdle=function(t,i){return setTimeout((function i(){e.$idleBlocked?setTimeout(i,100):t()}),i)},e.$idleBlockId=null,e.blockIdle=function(t){e.$idleBlockId&&clearTimeout(e.$idleBlockId),e.$idleBlocked=!0,e.$idleBlockId=setTimeout((function(){e.$idleBlocked=!1}),t||100)},e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame=e.nextFrame?e.nextFrame.bind(window):function(t){setTimeout(t,17)}})),ace.define("ace/range",["require","exports","module"],(function(t,e,i){"use strict";var n=function(t,e,i,n){this.start={row:t,column:e},this.end={row:i,column:n}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,i=t.end,n=t.start;return 1==(e=this.compare(i.row,i.column))?1==(e=this.compare(n.row,n.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(n.row,n.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)&&!this.isStart(t,e)},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var i={row:e+1,column:0};else this.end.row<t&&(i={row:t,column:0});if(this.start.row>e)var r={row:e+1,column:0};else this.start.row<t&&(r={row:t,column:0});return n.fromPoints(r||this.start,i||this.end)},this.extend=function(t,e){var i=this.compare(t,e);if(0==i)return this;if(-1==i)var r={row:t,column:e};else var s={row:t,column:e};return n.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return new n(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),i=t.documentToScreenPosition(this.end);return new n(e.row,e.column,i.row,i.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(n.prototype),n.fromPoints=function(t,e){return new n(t.row,t.column,e.row,e.column)},n.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},n.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=n})),ace.define("ace/lib/lang",["require","exports","module"],(function(t,e,i){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var i="";e>0;)1&e&&(i+=t),(e>>=1)&&(t+=t);return i};var n=/^\s\s*/,r=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(r,"")},e.copyObject=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.copyArray=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e[i]=t[i]&&"object"==typeof t[i]?this.copyObject(t[i]):t[i];return e},e.deepCopy=function t(e){if("object"!=typeof e||!e)return e;var i;if(Array.isArray(e)){i=[];for(var n=0;n<e.length;n++)i[n]=t(e[n]);return i}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var n in i={},e)i[n]=t(e[n]);return i},e.arrayToMap=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var i in t)e[i]=t[i];return e},e.arrayRemove=function(t,e){for(var i=0;i<=t.length;i++)e===t[i]&&t.splice(i,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return(""+t).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var i=[];return t.replace(e,(function(t){i.push({offset:arguments[arguments.length-2],length:t.length})})),i},e.deferredCall=function(t){var e=null,i=function(){e=null,t()},n=function(t){return n.cancel(),e=setTimeout(i,t||0),n};return n.schedule=n,n.call=function(){return this.cancel(),t(),n},n.cancel=function(){return clearTimeout(e),e=null,n},n.isPending=function(){return e},n},e.delayedCall=function(t,e){var i=null,n=function(){i=null,t()},r=function(t){null==i&&(i=setTimeout(n,t||e))};return r.delay=function(t){i&&clearTimeout(i),i=setTimeout(n,t||e)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){i&&clearTimeout(i),i=null},r.isPending=function(){return i},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(t,e,i){"use strict";var n;i.exports={lineMode:!1,pasteCancelled:function(){return!!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(t,e,i){"use strict";var n=t("../lib/event"),r=t("../lib/useragent"),s=t("../lib/dom"),o=t("../lib/lang"),a=t("../clipboard"),l=r.isChrome<18,h=r.isIE,c=r.isChrome>63,u=t("../lib/keys"),d=u.KEY_MODS,f=r.isIOS,p=f?/\s/:/\n/;e.TextInput=function(t,e){var i=s.createElement("textarea");i.className="ace_text-input",i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.style.opacity="0",t.insertBefore(i,t.firstChild);var g=!1,m=!1,v=!1,y=!1,b="";r.isMobile||(i.style.fontSize="1px");var w=!1,_=!1,S="",k=0,x=0,C=0;try{var E=document.activeElement===i}catch(V){}n.addListener(i,"blur",(function(t){_||(e.onBlur(t),E=!1)})),n.addListener(i,"focus",(function(t){if(!_){if(E=!0,r.isEdge)try{if(!document.hasFocus())return}catch(t){}e.onFocus(t),r.isEdge?setTimeout(T):T()}})),this.$focusScroll=!1,this.focus=function(){if(b||c||"browser"==this.$focusScroll)return i.focus({preventScroll:!0});var t=i.style.top;i.style.position="fixed",i.style.top="0px";try{var e=0!=i.getBoundingClientRect().top}catch(V){return}var n=[];if(e)for(var r=i.parentElement;r&&1==r.nodeType;)n.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;i.focus({preventScroll:!0}),e&&n.forEach((function(t){t.removeAttribute("ace_nocontext")})),setTimeout((function(){i.style.position="","0px"==i.style.top&&(i.style.top=t)}),0)},this.blur=function(){i.blur()},this.isFocused=function(){return E},e.on("beforeEndOperation",(function(){e.curOp&&"insertstring"==e.curOp.command.name||(v&&(S=i.value="",N()),T())}));var T=f?function(t){if(E&&(!g||t)&&!y){t||(t="");var n="\n ab"+t+"cde fg\n";n!=i.value&&(i.value=S=n);var r=4+(t.length||(e.selection.isEmpty()?0:1));4==k&&x==r||i.setSelectionRange(4,r),k=4,x=r}}:function(){if(!v&&!y&&(E||A)){v=!0;var t=e.selection,n=t.getRange(),r=t.cursor.row,s=n.start.column,o=n.end.column,a=e.session.getLine(r);if(n.start.row!=r){var l=e.session.getLine(r-1);s=n.start.row<r-1?0:s,o+=l.length+1,a=l+"\n"+a}else if(n.end.row!=r){var h=e.session.getLine(r+1);o=n.end.row>r+1?h.length:o,o+=a.length+1,a=a+"\n"+h}a.length>400&&(s<400&&o<400?a=a.slice(0,400):(a="\n",s=0,o=1));var c=a+"\n\n";if(c!=S&&(i.value=S=c,k=x=c.length),A&&(k=i.selectionStart,x=i.selectionEnd),x!=o||k!=s||i.selectionEnd!=x)try{i.setSelectionRange(s,o),k=s,x=o}catch(V){}v=!1}};E&&e.onFocus();var O=null;this.setInputHandler=function(t){O=t},this.getInputHandler=function(){return O};var A=!1,M=function(t,n){if(A&&(A=!1),m)return T(),t&&e.onPaste(t),m=!1,"";for(var r=i.selectionStart,s=i.selectionEnd,o=k,a=S.length-x,l=t,h=t.length-r,c=t.length-s,u=0;o>0&&S[u]==t[u];)u++,o--;for(l=l.slice(u),u=1;a>0&&S.length-u>k-1&&S[S.length-u]==t[t.length-u];)u++,a--;h-=u-1,c-=u-1;var d=l.length-u+1;return d<0&&(o=-d,d=0),l=l.slice(0,d),n||l||h||o||a||c?(y=!0,l&&!o&&!a&&!h&&!c||w?e.onTextInput(l):e.onTextInput(l,{extendLeft:o,extendRight:a,restoreStart:h,restoreEnd:c}),y=!1,S=t,k=r,x=s,C=c,l):""},R=function(t){if(v)return F();if(t&&t.inputType){if("historyUndo"==t.inputType)return e.execCommand("undo");if("historyRedo"==t.inputType)return e.execCommand("redo")}var n=i.value,r=M(n,!0);(n.length>500||p.test(r))&&T()},D=function(t,e,i){var n=t.clipboardData||window.clipboardData;if(n&&!l){var r=h||i?"Text":"text/plain";try{return e?!1!==n.setData(r,e):n.getData(r)}catch(t){if(!i)return D(t,e,!0)}}},L=function(t,r){var s=e.getCopyText();if(!s)return n.preventDefault(t);D(t,s)?(f&&(T(s),g=s,setTimeout((function(){g=!1}),10)),r?e.onCut():e.onCopy(),n.preventDefault(t)):(g=!0,i.value=s,i.select(),setTimeout((function(){g=!1,T(),r?e.onCut():e.onCopy()})))},I=function(t){L(t,!0)},P=function(t){L(t,!1)},$=function(t){var s=D(t);a.pasteCancelled()||("string"==typeof s?(s&&e.onPaste(s,t),r.isIE&&setTimeout(T),n.preventDefault(t)):(i.value="",m=!0))};n.addCommandKeyListener(i,e.onCommandKey.bind(e)),n.addListener(i,"select",(function(t){v||(g?g=!1:function(t){return 0===t.selectionStart&&t.selectionEnd>=S.length&&t.value===S&&S&&t.selectionEnd!==x}(i)&&(e.selectAll(),T()))})),n.addListener(i,"input",R),n.addListener(i,"cut",I),n.addListener(i,"copy",P),n.addListener(i,"paste",$),"oncut"in i&&"oncopy"in i&&"onpaste"in i||n.addListener(t,"keydown",(function(t){if((!r.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:P(t);break;case 86:$(t);break;case 88:I(t)}}));var F=function(){if(v&&e.onCompositionUpdate&&!e.$readOnly){if(w)return B();v.useTextareaForIME?e.onCompositionUpdate(i.value):(M(i.value),v.markerRange&&(v.context&&(v.markerRange.start.column=v.selectionStart=v.context.compositionStartOffset),v.markerRange.end.column=v.markerRange.start.column+x-v.selectionStart+C))}},N=function(t){e.onCompositionEnd&&!e.$readOnly&&(v=!1,e.onCompositionEnd(),e.off("mousedown",B),t&&R())};function B(){_=!0,i.blur(),i.focus(),_=!1}var j,H=o.delayedCall(F,50).schedule.bind(null,null);function z(){clearTimeout(j),j=setTimeout((function(){b&&(i.style.cssText=b,b=""),e.renderer.$isMousePressed=!1,e.renderer.$keepTextAreaAtCursor&&e.renderer.$moveTextAreaToCursor()}),0)}n.addListener(i,"compositionstart",(function(t){if(!v&&e.onCompositionStart&&!e.$readOnly&&(v={},!w)){setTimeout(F,0),e.on("mousedown",B);var n=e.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,v.markerRange=n,v.selectionStart=k,e.onCompositionStart(v),v.useTextareaForIME?(i.value="",S="",k=0,x=0):(i.msGetInputContext&&(v.context=i.msGetInputContext()),i.getInputContext&&(v.context=i.getInputContext()))}})),n.addListener(i,"compositionupdate",F),n.addListener(i,"keyup",(function(t){27==t.keyCode&&i.value.length<i.selectionStart&&(v||(S=i.value),k=x=-1,T()),H()})),n.addListener(i,"keydown",H),n.addListener(i,"compositionend",N),this.getElement=function(){return i},this.setCommandMode=function(t){w=t,i.readOnly=!1},this.setReadOnly=function(t){w||(i.readOnly=t)},this.setCopyWithEmptySelection=function(t){},this.onContextMenu=function(t){A=!0,T(),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,o){b||(b=i.style.cssText),i.style.cssText=(o?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(k+x)*e.renderer.characterWidth*.5+"px;";var a=e.container.getBoundingClientRect(),l=s.computedStyle(e.container),h=a.top+(parseInt(l.borderTopWidth)||0),c=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-h-i.clientHeight-2,d=function(t){s.translate(i,t.clientX-c-2,Math.min(t.clientY-h-2,u))};d(t),"mousedown"==t.type&&(e.renderer.$isMousePressed=!0,clearTimeout(j),r.isWin&&n.capture(e.container,d,z))},this.onContextMenuClose=z;var W=function(t){e.textInput.onContextMenu(t),z()};n.addListener(i,"mouseup",W),n.addListener(i,"mousedown",(function(t){t.preventDefault(),z()})),n.addListener(e.renderer.scroller,"contextmenu",W),n.addListener(i,"contextmenu",W),f&&function(t,e,i){var n=null,r=!1;i.addEventListener("keydown",(function(t){n&&clearTimeout(n),r=!0}),!0),i.addEventListener("keyup",(function(t){n=setTimeout((function(){r=!1}),100)}),!0);var s=function(t){if(document.activeElement===i&&!(r||v||e.$mouseHandler.isMousePressed||g)){var n=i.selectionStart,s=i.selectionEnd,o=null,a=0;if(0==n?o=u.up:1==n?o=u.home:s>x&&"\n"==S[s]?o=u.end:n<k&&" "==S[n-1]?(o=u.left,a=d.option):n<k||n==k&&x!=k&&n==s?o=u.left:s>x&&S.slice(0,s).split("\n").length>2?o=u.down:s>x&&" "==S[s-1]?(o=u.right,a=d.option):(s>x||s==x&&x!=k&&n==s)&&(o=u.right),n!==s&&(a|=d.shift),o){if(!e.onCommandKey({},a,o)&&e.commands){o=u.keyCodeToString(o);var l=e.commands.findKeyCommand(a,o);l&&e.execCommand(l)}k=n,x=s,T("")}}};document.addEventListener("selectionchange",s),e.on("destroy",(function(){document.removeEventListener("selectionchange",s)}))}(0,e,i)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("../lib/useragent");function r(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(e){t[e]=this[e]}),this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function s(t,e){if(t.start.row==t.end.row)var i=2*e.column-t.start.column-t.end.column;else i=t.start.row!=t.end.row-1||t.start.column||t.end.column?2*e.row-t.start.row-t.end.row:e.column-4;return i<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}(function(){this.onMouseDown=function(t){var e=t.inSelection(),i=t.getDocumentPosition();this.mousedownEvent=t;var r=this.editor,s=t.getButton();return 0!==s?((r.getSelectionRange().isEmpty()||1==s)&&r.selection.moveToPosition(i),void(2==s&&(r.textInput.onContextMenu(t.domEvent),n.isMozilla||t.preventDefault()))):(this.mousedownEvent.time=Date.now(),!e||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(i,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t)))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(t):e||i.selection.moveToPosition(t),e||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var t,e=this.editor,i=e.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)t=this.$clickSelection.end;else if(1==n)t=this.$clickSelection.start;else{var r=s(this.$clickSelection,i);i=r.cursor,t=r.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(i),e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),r=i.selection[t](n.row,n.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==o&&a<=0)e=this.$clickSelection.end,r.end.row==n.row&&r.end.column==n.column||(n=r.start);else if(1==a&&o>=0)e=this.$clickSelection.start,r.start.row==n.row&&r.start.column==n.column||(n=r.end);else if(-1==o&&1==a)n=r.end,e=r.start;else{var l=s(this.$clickSelection,n);n=l.cursor,e=l.anchor}i.selection.setSelectionAnchor(e.row,e.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,e,i=(t=this.mousedownEvent.y,e=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(e-t,2))),n=Date.now();(i>0||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(e);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(e.row,e.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=t.domEvent.timeStamp,r=n-i.t,s=r?t.wheelX/r:i.vx,o=r?t.wheelY/r:i.vy;r<550&&(s=(s+i.vx)/2,o=(o+i.vy)/2);var a=Math.abs(s/o),l=!1;return a>=1&&e.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(l=!0),a<=1&&e.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(l=!0),l?i.allowed=n:n-i.allowed<550&&(Math.abs(s)<=1.5*Math.abs(i.vx)&&Math.abs(o)<=1.5*Math.abs(i.vy)?(l=!0,i.allowed=n):i.allowed=0),i.t=n,i.vx=s,i.vy=o,l?(e.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}}).call(r.prototype),e.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(t,e,i){"use strict";t("./lib/oop");var n=t("./lib/dom");function r(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){this.getElement().textContent=t},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){n.addCssClass(this.getElement(),t)},this.show=function(t,e,i){null!=t&&this.setText(t),null!=e&&null!=i&&this.setPosition(e,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),e.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(t,e,i){"use strict";var n=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/event"),o=t("../tooltip").Tooltip;function a(t){o.call(this,t)}r.inherits(a,o),(function(){this.setPosition=function(t,e){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(t+=15)+r>i&&(t-=t+r-i),(e+=15)+s>n&&(e-=20+s),o.prototype.setPosition.call(this,t,e)}}).call(a.prototype),e.GutterHandler=function(t){var e,i,r,o=t.editor,l=o.renderer.$gutterLayer,h=new a(o.container);function c(){e&&(e=clearTimeout(e)),r&&(h.hide(),r=null,o._signal("hideGutterTooltip",h),o.removeEventListener("mousewheel",c))}function u(t){h.setPosition(t.x,t.y)}t.editor.setDefaultHandler("guttermousedown",(function(e){if(o.isFocused()&&0==e.getButton()&&"foldWidgets"!=l.getRegion(e)){var i=e.getDocumentPosition().row,n=o.session.selection;if(e.getShiftKey())n.selectTo(i,0);else{if(2==e.domEvent.detail)return o.selectAll(),e.preventDefault();t.$clickSelection=o.selection.getLineRange(i)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}})),t.editor.setDefaultHandler("guttermousemove",(function(s){if(n.hasCssClass(s.domEvent.target||s.domEvent.srcElement,"ace_fold-widget"))return c();r&&t.$tooltipFollowsMouse&&u(s),i=s,e||(e=setTimeout((function(){e=null,i&&!t.isMousePressed?function(){var e=i.getDocumentPosition().row,n=l.$annotations[e];if(!n)return c();if(e==o.session.getLength()){var s=o.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(s>o.session.documentToScreenRow(a.row,a.column))return c()}if(r!=n)if(r=n.text.join("<br/>"),h.setHtml(r),h.show(),o._signal("showGutterTooltip",h),o.on("mousewheel",c),t.$tooltipFollowsMouse)u(i);else{var d=i.domEvent.target.getBoundingClientRect(),f=h.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():c()}),50))})),s.addListener(o.renderer.$gutter,"mouseout",(function(t){i=null,r&&!e&&(e=setTimeout((function(){e=null,c()}),50))})),o.on("changeSession",c)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("../lib/event"),r=t("../lib/useragent"),s=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("../lib/dom"),r=t("../lib/event"),s=t("../lib/useragent");function o(t){var e=t.editor,i=n.createElement("img");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(i.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(e){t[e]=this[e]}),this),e.addEventListener("mousedown",this.onMouseDown.bind(t));var o,l,h,c,u,d,f,p,g,m,v,y=e.container,b=0;function w(){var t=d;(function(t,i){var n=Date.now();m&&i&&t.row==i.row&&i&&t.column==i.column?a(v.x,v.y,l,h)>5?m=null:n-m>=200&&(e.renderer.scrollCursorIntoView(),m=null):(e.moveCursorToPosition(t),m=n,v={x:l,y:h})})(d=e.renderer.screenToTextCoordinates(l,h),t),function(t,i){var n=Date.now(),r=e.renderer.layerConfig.lineHeight,s=e.renderer.layerConfig.characterWidth,o=e.renderer.scroller.getBoundingClientRect(),a={x:{left:l-o.left,right:o.right-l},y:{top:h-o.top,bottom:o.bottom-h}},c=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),d={row:t.row,column:t.column};c/s<=2&&(d.column+=a.x.left<a.x.right?-3:2),u/r<=1&&(d.row+=a.y.top<a.y.bottom?-1:1),t.row!=d.row||t.column!=d.column&&i&&t.row==i.row?g?n-g>=200&&e.renderer.scrollCursorIntoView(d):g=n:g=null}(d,t)}function _(){u=e.selection.toOrientedRange(),o=e.session.addMarker(u,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),w(),c=setInterval(w,20),b=0,r.addListener(document,"mousemove",x)}function S(){clearInterval(c),e.session.removeMarker(o),o=null,e.selection.fromOrientedRange(u),e.isFocused()&&!p&&e.$resetCursorStyle(),u=null,d=null,b=0,g=null,m=null,r.removeListener(document,"mousemove",x)}this.onDragStart=function(t){if(this.cancelDrag||!y.draggable){var n=this;return setTimeout((function(){n.startSelect(),n.captureMouse(t)}),0),t.preventDefault()}u=e.getSelectionRange();var r=t.dataTransfer;r.effectAllowed=e.getReadOnly()?"copy":"copyMove",s.isOpera&&(e.container.appendChild(i),i.scrollTop=0),r.setDragImage&&r.setDragImage(i,0,0),s.isOpera&&e.container.removeChild(i),r.clearData(),r.setData("Text",e.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(t){y.draggable=!1,p=!1,this.setState(null),e.getReadOnly()||(f||"move"!=t.dataTransfer.dropEffect||e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!e.getReadOnly()&&C(t.dataTransfer))return l=t.clientX,h=t.clientY,o||_(),b++,t.dataTransfer.dropEffect=f=E(t),r.preventDefault(t)},this.onDragOver=function(t){if(!e.getReadOnly()&&C(t.dataTransfer))return l=t.clientX,h=t.clientY,o||(_(),b++),null!==k&&(k=null),t.dataTransfer.dropEffect=f=E(t),r.preventDefault(t)},this.onDragLeave=function(t){if(--b<=0&&o)return S(),f=null,r.preventDefault(t)},this.onDrop=function(t){if(d){var i=t.dataTransfer;if(p)switch(f){case"move":u=u.contains(d.row,d.column)?{start:d,end:d}:e.moveText(u,d);break;case"copy":u=e.moveText(u,d,!0)}else{var n=i.getData("Text");u={start:d,end:e.session.insert(d,n)},e.focus(),f=null}return S(),r.preventDefault(t)}},r.addListener(y,"dragstart",this.onDragStart.bind(t)),r.addListener(y,"dragend",this.onDragEnd.bind(t)),r.addListener(y,"dragenter",this.onDragEnter.bind(t)),r.addListener(y,"dragover",this.onDragOver.bind(t)),r.addListener(y,"dragleave",this.onDragLeave.bind(t)),r.addListener(y,"drop",this.onDrop.bind(t));var k=null;function x(){null==k&&(k=setTimeout((function(){null!=k&&o&&S()}),20))}function C(t){var e=t.types;return!e||Array.prototype.some.call(e,(function(t){return"text/plain"==t||"Text"==t}))}function E(t){var e=["copy","copymove","all","uninitialized"],i=s.isMac?t.altKey:t.ctrlKey,n="uninitialized";try{n=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return i&&e.indexOf(n)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(n)>=0?r="move":e.indexOf(n)>=0&&(r="copy"),r}}function a(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging"),t.renderer.setCursorStyle(s.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;s.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&e.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,i=t.inSelection(),n=t.getButton();if(1===(t.domEvent.detail||1)&&0===n&&i){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),e.getDragDelay()?(s.isWebKit&&(this.cancelDrag=!0,e.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(o.prototype),e.DragdropHandler=o})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/dom"],(function(t,e,i){"use strict";var n=t("./mouse_event").MouseEvent,r=t("../lib/dom");e.addTouchListeners=function(t,e){var i,s,o,a,l,h,c,u,d,f="scroll",p=0,g=0,m=0,v=0;function y(){var t,i,n;d||(t=window.navigator&&window.navigator.clipboard,i=!1,n=function(n){var s,o,a=n.target.getAttribute("action");if("more"==a||!i)return i=!i,s=e.getCopyText(),o=e.session.getUndoManager().hasUndo(),void d.replaceChild(r.buildDom(i?["span",!s&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],s&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],s&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],t&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],o&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),d.firstChild);"paste"==a?t.readText().then((function(t){e.execCommand(a,t)})):a&&("cut"!=a&&"copy"!=a||(t?t.writeText(e.getCopyText()):document.execCommand("copy")),e.execCommand(a)),d.firstChild.style.display="none",i=!1,"openCommandPallete"!=a&&e.focus()},d=r.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(t){f="menu",t.stopPropagation(),t.preventDefault(),e.textInput.focus()},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),n(t)},onclick:n},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],e.container));var s=e.selection.cursor,o=e.renderer.textToScreenCoordinates(s.row,s.column),a=e.container.getBoundingClientRect();d.style.top=o.pageY-a.top-3+"px",d.style.right="10px",d.style.display="",d.firstChild.style.display="none",e.on("input",b)}function b(t){d&&(d.style.display="none"),e.off("input",b)}function w(){l=null,clearTimeout(l);var t=e.selection.getRange(),i=t.contains(c.row,c.column);!t.isEmpty()&&i||(e.selection.moveToPosition(c),e.selection.selectWord()),f="wait",y()}t.addEventListener("contextmenu",(function(t){u&&e.textInput.getElement().focus()})),t.addEventListener("touchstart",(function(t){var r=t.touches;if(l||r.length>1)return clearTimeout(l),l=null,o=-1,void(f="zoom");u=e.$mouseHandler.isMousePressed=!0;var h=e.renderer.layerConfig.lineHeight,d=e.renderer.layerConfig.lineHeight,y=t.timeStamp;a=y;var b=r[0],_=b.clientX,S=b.clientY;Math.abs(i-_)+Math.abs(s-S)>h&&(o=-1),i=t.clientX=_,s=t.clientY=S,m=v=0;var k=new n(t,e);if(c=k.getDocumentPosition(),y-o<500&&1==r.length&&!p)g++,t.preventDefault(),t.button=0,function(){l=null,clearTimeout(l),e.selection.moveToPosition(c);var t=g>=2?e.selection.getLineRange(c.row):e.session.getBracketRange(c);t&&!t.isEmpty()?e.selection.setRange(t):e.selection.selectWord(),f="wait"}();else{g=0;var x=e.selection.cursor,C=e.selection.isEmpty()?x:e.selection.anchor,E=e.renderer.$cursorLayer.getPixelPosition(x,!0),T=e.renderer.$cursorLayer.getPixelPosition(C,!0),O=e.renderer.scroller.getBoundingClientRect(),A=function(t,e){return(t/=d)*t+(e=e/h-.75)*e};if(t.clientX<O.left)return void(f="zoom");var M=A(t.clientX-O.left-E.left,t.clientY-O.top-E.top),R=A(t.clientX-O.left-T.left,t.clientY-O.top-T.top);M<3.5&&R<3.5&&(f=M>R?"cursor":"anchor"),f=R<3.5?"anchor":M<3.5?"cursor":"scroll",l=setTimeout(w,450)}o=y})),t.addEventListener("touchend",(function(t){u=e.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==f?(f="",p=0):l?(e.selection.moveToPosition(c),p=0,y()):"scroll"==f?(p+=60,h=setInterval((function(){p--<=0&&(clearInterval(h),h=null),Math.abs(m)<.01&&(m=0),Math.abs(v)<.01&&(v=0),p<20&&(m*=.9),p<20&&(v*=.9);var t=e.session.getScrollTop();e.renderer.scrollBy(10*m,10*v),t==e.session.getScrollTop()&&(p=0)}),10),t.preventDefault(),b()):y(),clearTimeout(l),l=null})),t.addEventListener("touchmove",(function(t){l&&(clearTimeout(l),l=null);var r=t.touches;if(!(r.length>1||"zoom"==f)){var o=r[0],h=i-o.clientX,c=s-o.clientY;if("wait"==f){if(!(h*h+c*c>4))return t.preventDefault();f="cursor"}i=o.clientX,s=o.clientY,t.clientX=o.clientX,t.clientY=o.clientY;var u=t.timeStamp,d=u-a;if(a=u,"scroll"==f){var p=new n(t,e);p.speed=1,p.wheelX=h,p.wheelY=c,10*Math.abs(h)<Math.abs(c)&&(h=0),10*Math.abs(c)<Math.abs(h)&&(c=0),0!=d&&(m=h/d,v=c/d),e._emit("mousewheel",p),p.propagationStopped||(m=v=0)}else{var g=new n(t,e).getDocumentPosition();"cursor"==f?e.selection.moveCursorToPosition(g):"anchor"==f&&e.selection.setSelectionAnchor(g.row,g.column),e.renderer.scrollCursorIntoView(g),t.preventDefault()}}}))}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(t,e,i){"use strict";var n=t("./dom");e.get=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&e(i.responseText)},i.send(null)},e.loadScript=function(t,e){var i=n.getDocumentHead(),r=document.createElement("script");r.src=t,i.appendChild(r),r.onload=r.onreadystatechange=function(t,i){!i&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,i||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(t,e,i){"use strict";var n={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[t]||[],n=this._defaultHandlers[t];if(i.length||n){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=r),e.preventDefault||(e.preventDefault=s),i=i.slice();for(var o=0;o<i.length&&(i[o](e,this),!e.propagationStopped);o++);return n&&!e.defaultPrevented?n(e,this):void 0}},n._signal=function(t,e){var i=(this._eventRegistry||{})[t];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](e,this)}},n.once=function(t,e){var i=this;if(this.addEventListener(t,(function n(){i.removeEventListener(t,n),e.apply(null,arguments)})),!e)return new Promise((function(t){e=t}))},n.setDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[t]){var n=i[t],r=i._disabled_[t];r||(i._disabled_[t]=r=[]),r.push(n);var s=r.indexOf(e);-1!=s&&r.splice(s,1)}i[t]=e},n.removeDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i){var n=i._disabled_[t];if(i[t]==e)n&&this.setDefaultHandler(t,n.pop());else if(n){var r=n.indexOf(e);-1!=r&&n.splice(r,1)}}},n.on=n.addEventListener=function(t,e,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];return n||(n=this._eventRegistry[t]=[]),-1==n.indexOf(e)&&n[i?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];if(i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=n})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,i){var n=t("./oop"),r=t("./event_emitter").EventEmitter,s={setOptions:function(t){Object.keys(t).forEach((function(e){this.setOption(e,t[e])}),this)},getOptions:function(t){var e={};if(t)Array.isArray(t)||(e=t,t=Object.keys(e));else{var i=this.$options;t=Object.keys(i).filter((function(t){return!i[t].hidden}))}return t.forEach((function(t){e[t]=this.getOption(t)}),this),e},setOption:function(t,e){if(this["$"+t]!==e){var i=this.$options[t];if(!i)return o('misspelled option "'+t+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(t,e);i.handlesSet||(this["$"+t]=e),i&&i.set&&i.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:o('misspelled option "'+t+'"')}};function o(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(t,e){var i=new Error(t);i.data=e,"object"==typeof console&&console.error&&console.error(i),setTimeout((function(){throw i}))}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,r),this.defineOptions=function(t,e,i){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(i).forEach((function(e){var n=i[e];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=e),t.$options[n.name]=n,"initialValue"in n&&(t["$"+n.name]=n.initialValue)})),n.implement(t,s),this},this.resetOptions=function(t){Object.keys(t.$options).forEach((function(e){var i=t.$options[e];"value"in i&&t.setOption(e,i.value)}))},this.setDefaultValue=function(t,e,i){if(!t){for(t in this.$defaultOptions)if(this.$defaultOptions[t][e])break;if(!this.$defaultOptions[t][e])return!1}var n=this.$defaultOptions[t]||(this.$defaultOptions[t]={});n[e]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,e,i):n[e].value=i)},this.setDefaultValues=function(t,e){Object.keys(e).forEach((function(i){this.setDefaultValue(t,i,e[i])}),this)},this.warn=o,this.reportError=a}).call(l.prototype),e.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(t,e,n){var r=t("./lib/lang"),s=(t("./lib/oop"),t("./lib/net")),o=t("./lib/app_config").AppConfig;n.exports=e=new o;var a=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};e.get=function(t){if(!l.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return l[t]},e.set=function(t,e){if(l.hasOwnProperty(t))l[t]=e;else if(0==this.setDefaultValue("",t,e))throw new Error("Unknown config key: "+t)},e.all=function(){return r.copyObject(l)},e.$modes={},e.moduleUrl=function(t,e){if(l.$moduleUrls[t])return l.$moduleUrls[t];var i=t.split("/"),n="snippets"==(e=e||i[i.length-2]||"")?"/":"-",r=i[i.length-1];if("worker"==e&&"-"==n){var s=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(s,"")}(!r||r==e)&&i.length>1&&(r=i[i.length-2]);var o=l[e+"Path"];return null==o?o=l.basePath:"/"==n&&(e=n=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+e+n+r+this.get("suffix")},e.setModuleUrl=function(t,e){return l.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(i,n){var r,o;Array.isArray(i)&&(o=i[0],i=i[1]);try{r=t(i)}catch(l){}if(r&&!e.$loading[i])return n&&n(r);if(e.$loading[i]||(e.$loading[i]=[]),e.$loading[i].push(n),!(e.$loading[i].length>1)){var a=function(){t([i],(function(t){e._emit("load.module",{name:i,module:t});var n=e.$loading[i];e.$loading[i]=null,n.forEach((function(e){e&&e(t)}))}))};if(!e.get("packaged"))return a();s.loadScript(e.moduleUrl(i,o),a),h()}};var h=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};function c(r){if(a&&a.document){l.packaged=r||t.packaged||n.packaged||a.define&&i("B9Yq").packaged;for(var s,o={},h="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),d=0;d<u.length;d++){var f=u[d],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,m=0,v=g.length;m<v;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[(s=y.name.replace(/^data-ace-/,""),s.replace(/-(.)/g,(function(t,e){return e.toUpperCase()})))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(h=b[1])}}for(var w in h&&(o.base=o.base||h,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[w]&&e.set(w,o[w])}}c(!0),e.init=c,e.version="1.4.7"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(t,e,i){"use strict";var n=t("../lib/event"),r=t("../lib/useragent"),s=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,a=t("./mouse_event").MouseEvent,l=t("./dragdrop_handler").DragdropHandler,h=t("./touch_handler").addTouchListeners,c=t("../config"),u=function(t){var e=this;this.editor=t,new s(this),new o(this),new l(this);var i=function(e){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},a=t.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click")),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([a,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),h(t.container,t);var c=t.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(a,"mousedown",i),n.addListener(c,"mousedown",i),r.isIE&&t.renderer.scrollBarV&&(n.addListener(t.renderer.scrollBarV.element,"mousedown",i),n.addListener(t.renderer.scrollBarH.element,"mousedown",i)),t.on("mousemove",(function(i){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var n=t.renderer.screenToTextCoordinates(i.x,i.y),r=t.session.selection.getRange(),s=t.renderer;!r.isEmpty()&&r.insideStart(n.row,n.column)?s.setCursorStyle("default"):s.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new a(e,this.editor))},this.onMouseMove=function(t,e){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(t,new a(e,this.editor))},this.onMouseWheel=function(t,e){var i=new a(e,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=e.wheelX,i.wheelY=e.wheelY,this.editor._emit(t,i)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var i=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,l=function(t){if(t){if(r.isWebKit&&!t.which&&o.releaseMouse)return o.releaseMouse();o.x=t.clientX,o.y=t.clientY,e&&e(t),o.mouseEvent=new a(t,o.editor),o.$mouseMoved=!0}},h=function(t){i.off("beforeEndOperation",u),clearInterval(d),c(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t),i.endOperation()},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout((function(){h(t)}));var u=function(t){o.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};i.on("beforeEndOperation",u),i.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=l,o.releaseMouse=n.capture(this.editor.container,l,h);var d=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=(function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&n.stopEvent(e.domEvent))}).bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(t,e,i){"use strict";var n=t("../lib/dom");e.FoldHandler=function(t){t.on("click",(function(e){var i=e.getDocumentPosition(),r=t.session,s=r.getFoldAt(i.row,i.column,1);s&&(e.getAccelKey()?r.removeFold(s):r.expandFold(s),e.stop());var o=e.domEvent&&e.domEvent.target;o&&n.hasCssClass(o,"ace_inline_button")&&n.hasCssClass(o,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),t.renderer.scrollCursorIntoView())})),t.on("gutterclick",(function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var i=e.getDocumentPosition().row,n=t.session;n.foldWidgets&&n.foldWidgets[i]&&t.session.onFoldWidgetClick(i,e),t.isFocused()||t.focus(),e.stop()}})),t.on("gutterdblclick",(function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var i=e.getDocumentPosition().row,n=t.session,r=n.getParentFoldRangeData(i,!0),s=r.range||r.firstRange;if(s){var o=n.getFoldAt(i=s.start.row,n.getLine(i).length,1);o?n.removeFold(o):(n.addFold("...",s),t.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(t,e,i){"use strict";var n=t("../lib/keys"),r=t("../lib/event"),s=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var i=this.$handlers.indexOf(t);-1!=i&&this.$handlers.splice(i,1),null==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==i&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map((function(i){return i.getStatusText&&i.getStatusText(e,t)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,i,n){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((s=this.$handlers[l].handleKeyboard(this.$data,t,e,i,n))&&s.command&&((o="null"==s.command||a.exec(s.command,this.$editor,s.args,n))&&n&&-1!=t&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(n),o)););return o||-1!=t||(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,e)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(t,e,i){var r=n.keyCodeToString(i);return this.$callKeyboardHandlers(e,r,i,t)},this.onTextInput=function(t){return this.$callKeyboardHandlers(-1,t)}}).call(s.prototype),e.KeyBinding=s})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(t,e,i){"use strict";var n=0,r=0,s=!1,o=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],u=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function d(t,e,i){if(!(r<t))if(1!=t||1!=n||o)for(var s,a,l,h,c=i.length,u=0;u<c;){if(e[u]>=t){for(s=u+1;s<c&&e[s]>=t;)s++;for(a=u,l=s-1;a<l;a++,l--)h=i[a],i[a]=i[l],i[l]=h;u=s}u++}else i.reverse()}function f(t,e,i,r){var l,h,c,u,d=e[r];switch(d){case 0:case 1:s=!1;case 4:case 3:return d;case 2:return s?3:2;case 7:return s=!0,1;case 8:return 4;case 9:return r<1||r+1>=e.length||2!=(l=i[r-1])&&3!=l||2!=(h=e[r+1])&&3!=h?4:(s&&(h=3),h==l?h:4);case 10:return 2==(l=r>0?i[r-1]:5)&&r+1<e.length&&2==e[r+1]?2:4;case 11:if(r>0&&2==i[r-1])return 2;if(s)return 4;for(u=r+1,c=e.length;u<c&&11==e[u];)u++;return u<c&&2==e[u]?2:4;case 12:for(c=e.length,u=r+1;u<c&&12==e[u];)u++;if(u<c){var f=t[r];if(l=e[u],(f>=1425&&f<=2303||64286==f)&&(1==l||7==l))return 1}return r<1||5==(l=e[r-1])?4:i[r-1];case 5:return s=!1,o=!0,n;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:s=!1;case 18:return 4}}function p(t){var e=t.charCodeAt(0),i=e>>8;return 0==i?e>191?0:c[e]:5==i?/[\u0591-\u05f4]/.test(t)?1:0:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?12:/[\u0660-\u0669\u066b-\u066c]/.test(t)?3:1642==e?11:/[\u06f0-\u06f9]/.test(t)?2:7:32==i&&e<=8287?u[255&e]:254==i&&e>=65136?7:4}e.L=0,e.R=1,e.EN=2,e.ON_R=3,e.AN=4,e.R_H=5,e.B=6,e.RLE=7,e.DOT="\xb7",e.doBidiReorder=function(t,i,c){if(t.length<2)return{};var u=t.split(""),g=new Array(u.length),m=new Array(u.length),v=[];n=c?1:0,function(t,e,i,c){var u=n?h:l,d=null,g=null,m=null,v=0,y=null,b=-1,w=null,_=null,S=[];if(!c)for(w=0,c=[];w<i;w++)c[w]=p(t[w]);for(r=n,s=!1,o=!1,a=!1,_=0;_<i;_++){if(d=v,S[_]=g=f(t,c,S,_),y=240&(v=u[d][g]),e[_]=m=u[v&=15][5],y>0)if(16==y){for(w=b;w<_;w++)e[w]=1;b=-1}else b=-1;if(u[v][6])-1==b&&(b=_);else if(b>-1){for(w=b;w<_;w++)e[w]=m;b=-1}5==c[_]&&(e[_]=0),r|=m}if(a)for(w=0;w<i;w++)if(6==c[w]){e[w]=n;for(var k=w-1;k>=0&&8==c[k];k--)e[k]=n}}(u,v,u.length,i);for(var y=0;y<g.length;g[y]=y,y++);for(d(2,v,g),d(1,v,g),y=0;y<g.length-1;y++)3===i[y]?v[y]=e.AN:1===v[y]&&(i[y]>7&&i[y]<13||4===i[y]||18===i[y])?v[y]=e.ON_R:y>0&&"\u0644"===u[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(u[y])&&(v[y-1]=v[y]=e.R_H,y++);for(u[u.length-1]===e.DOT&&(v[u.length-1]=e.B),"\u202b"===u[0]&&(v[0]=e.RLE),y=0;y<g.length;y++)m[y]=v[g[y]];return{logicalFromVisual:g,bidiLevels:m}},e.hasBidiCharacters=function(t,e){for(var i=!1,n=0;n<t.length;n++)e[n]=p(t.charAt(n)),i||1!=e[n]&&7!=e[n]&&3!=e[n]||(i=!0);return i},e.getVisualFromLogicalIdx=function(t,e){for(var i=0;i<e.logicalFromVisual.length;i++)if(e.logicalFromVisual[i]==t)return i;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(t,e,i){"use strict";var n=t("./lib/bidiutil"),r=t("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(t.getValue())};(function(){this.isBidiRow=function(t,e,i){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&s.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var i=this.session.$getRowCacheIndex(e,this.currentRow);i>=0&&(t=this.session.$docRowCache[i])}return t},this.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var i,n=this.session.$getRowCacheIndex(e,this.currentRow);this.currentRow-t>0&&(i=this.session.$getRowCacheIndex(e,this.currentRow-t-1))===n;)n=i,t++;else t=this.currentRow;return t},this.updateRowLine=function(t,e){void 0===t&&(t=this.getDocumentRow());var i=t===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[t];s&&(void 0===e&&(e=this.getSplitIndex()),e>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=e<s.length?this.line.substring(s[e-1],s[e]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[e])),e==s.length&&(this.line+=this.showInvisibles?i:n.DOT)}else this.line+=this.showInvisibles?i:n.DOT;var o,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(t,e){return"\t"===t||a.isFullWidth(t.charCodeAt(0))?(o="\t"===t?a.getScreenTabSize(e+l):2,l+=o-1,r.stringRepeat(n.DOT,o)):t})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var t=[];this.bidiMap=n.hasBidiCharacters(this.line,t)||this.isRtlDir?n.doBidiReorder(this.line,t,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var e=this.characterWidth=t.$characterSize.width,i=t.$measureCharWidth("\u05d4");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=e,this.charWidths[n.R]=this.charWidths[n.AN]=i,this.charWidths[n.R_H]=.45*i,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setContentWidth=function(t){this.contentWidth=t},this.isRtlLine=function(t){return!!this.$isRtl||(null!=t?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(t,e){for(var i=t.getCursorPosition(),n=t.selection.getSelectionAnchor().row;n<=i.row;n++)e||t.session.getLine(n).charAt(0)!==t.session.$bidiHandler.RLE?e&&t.session.getLine(n).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:n},t.session.$bidiHandler.RLE):t.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(t){t-=this.wrapIndent;var e=this.line.charAt(0)===this.RLE?1:0,i=t>e?this.session.getOverwrite()?t:t-1:e,r=n.getVisualFromLogicalIdx(i,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&t<=e&&s[r]%2!=0&&r++;for(var a=0;a<r;a++)o+=this.charWidths[s[a]];return!this.session.getOverwrite()&&t>e&&s[r]%2==0&&(o+=this.charWidths[s[r]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(t,e){var i,n=this.bidiMap,r=n.bidiLevels,s=[],o=0,a=Math.min(t,e)-this.wrapIndent,l=Math.max(t,e)-this.wrapIndent,h=!1,c=!1,u=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<r.length;f++)i=r[f],(h=(d=n.logicalFromVisual[f])>=a&&d<l)&&!c?u=o:!h&&c&&s.push({left:u,width:o-u}),o+=this.charWidths[i],c=h;if(h&&f===r.length&&s.push({left:u,width:o-u}),this.isRtlDir)for(var p=0;p<s.length;p++)s[p].left+=this.rtlLineOffset;return s},this.offsetToCol=function(t){this.isRtlDir&&(t-=this.rtlLineOffset);var e=0,i=(t=Math.max(t,0),0),n=0,r=this.bidiMap.bidiLevels,s=this.charWidths[r[n]];for(this.wrapIndent&&(t-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);t>i+s/2;){if(i+=s,n===r.length-1){s=0;break}s=this.charWidths[r[++n]]}return n>0&&r[n-1]%2!=0&&r[n]%2==0?(t<i&&n--,e=this.bidiMap.logicalFromVisual[n]):n>0&&r[n-1]%2==0&&r[n]%2!=0?e=1+(t>i?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===r.length-1&&0===s&&r[n-1]%2==0||!this.isRtlDir&&0===n&&r[n]%2!=0?e=1+this.bidiMap.logicalFromVisual[n]:(n>0&&r[n-1]%2!=0&&0!==s&&n--,e=this.bidiMap.logicalFromVisual[n]),0===e&&this.isRtlDir&&e++,e+this.wrapIndent}}).call(o.prototype),e.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/lang"),s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",(function(t){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),e.$isEmpty||e.$silent||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)})),this.anchor.on("change",(function(){e.$anchorChanged=!0,e.$isEmpty||e.$silent||e._emit("changeSelection")}))};(function(){n.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?o.fromPoints(e,e):this.isBackwards()?o.fromPoints(e,t):o.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var i=e?t.end:t.start,n=e?t.start:t.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(t,e,i,n){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(i,n),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection((function(){this.moveCursorTo(t,e)}))},this.selectToPosition=function(t){this.$moveSelection((function(){this.moveCursorToPosition(t)}))},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var i=t||this.lead;t=i.row,e=i.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var i,n="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(n);return r?(n=r.start.row,i=r.end.row):i=n,!0===e?new o(n,0,i,this.session.getLine(i).length):new o(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,i){var n=t.column,r=t.column+e;return i<0&&(n=t.column-e,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(n,r).split(" ").length-1==e},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(e=this.lead,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,i=this.session.documentToScreenRow(t,e),n=this.session.screenToDocumentPosition(i,0),r=this.session.getDisplayLine(t,null,n.row,n.column).match(/^\s*/);r[0].length==e||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var i=this.session.getLine(e.row);if(e.column==i.length){var n=i.search(/\s+$/);n>0&&(e.column=n)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,i=this.doc.getLine(t),n=i.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(n)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(e)),e>=i.length)return this.moveCursorTo(t,i.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)}},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(e,i,-1))this.moveCursorTo(t.start.row,t.start.column);else{var n=this.session.getFoldStringAt(e,i,-1);null==n&&(n=this.doc.getLine(e).substring(0,i));var s=r.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(i-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,i)}},this.$shortWordEndIndex=function(t){var e,i=0,n=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(e=t[i])&&n.test(e);)i++;if(i<1)for(r.lastIndex=0;(e=t[i])&&!r.test(e);)if(r.lastIndex=0,i++,n.test(e)){if(i>2){i--;break}for(;(e=t[i])&&n.test(e);)i++;if(i>2)break}}return r.lastIndex=0,i},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,i=this.doc.getLine(t),n=i.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==i.length){var s=this.doc.getLength();do{t++,n=this.doc.getLine(t)}while(t<s&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),e=0}var o=this.$shortWordEndIndex(n);this.moveCursorTo(t,e+o)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(e,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getLine(e).substring(0,i);if(0===i){do{e--,n=this.doc.getLine(e)}while(e>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var s=r.stringReverse(n),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,i-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(0!==t&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+t,n.column,i);0!==t&&0===e&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||t>0)&&r.row++,this.moveCursorTo(r.row,r.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,i){var n=this.session.getFoldAt(t,e,1);n&&(t=n.start.row,e=n.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,i){var n=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var i=this.getCursor();return o.fromPoints(e,i)}catch(n){return o.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map((function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e}));else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var e=t.length;e--;){var i=o.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(t,e,i){"use strict";var n=t("./config"),r=2e3,s=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[e],n=[],r=0,s=this.matchMappings[e]={defaultToken:"text"},o="g",a=[],l=0;l<i.length;l++){var h=i[l];if(h.defaultToken&&(s.defaultToken=h.defaultToken),h.caseInsensitive&&(o="gi"),null!=h.regex){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var c=h.regex,u=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(h.token)?1==h.token.length||1==u?h.token=h.token[0]:u-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:u-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):"function"!=typeof h.token||h.onMatch||(h.onMatch=u>1?this.$applyToken:h.token),u>1&&(/\\\d/.test(h.regex)?c=h.regex.replace(/\\([0-9]+)/g,(function(t,e){return"\\"+(parseInt(e,10)+r+1)})):(u=1,c=this.removeCapturingGroups(h.regex)),h.splitRegex||"string"==typeof h.token||a.push(h)),s[r]=l,r+=u,n.push(c),h.onMatch||(h.onMatch=null)}}n.length||(s[0]=0,n.push("$")),a.forEach((function(t){t.splitRegex=this.createSplitterRegexp(t.regex,o)}),this),this.regExps[e]=new RegExp("("+n.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(t){r=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),i=this.token.apply(this,e);if("string"==typeof i)return[{type:i,value:t}];for(var n=[],r=0,s=i.length;r<s;r++)e[r]&&(n[n.length]={type:i[r],value:e[r]});return n},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var i=[],n=this.tokenArray,r=0,s=n.length;r<s;r++)e[r+1]&&(i[i.length]={type:n[r],value:e[r+1]});return i},this.removeCapturingGroups=function(t){return t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(t,e){return e?"(?:":t}))},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var i=0,n=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(t,e,s,o,a,l){return n?n="]"!=a:a?n=!0:o?(i==r.stack&&(r.end=l+1,r.stack=-1),i--):s&&(i++,1!=s.length&&(r.stack=i,r.start=l)),t})),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var i=e.slice(0);"#tmp"===(e=i[0])&&(i.shift(),e=i.shift())}else i=[];var n=e||"start",s=this.states[n];s||(s=this.states[n="start"]);var o=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,h=[],c=0,u=0,d={type:null,value:""};l=a.exec(t);){var f=o.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>c){var v=t.substring(c,m-g.length);d.type==f?d.value+=v:(d.type&&h.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=(p=s[o[y]]).onMatch?p.onMatch(g,n,i,t):p.token,p.next&&(n="string"==typeof p.next?p.next:p.next(n,i),(s=this.states[n])||(this.reportError("state doesn't exist",n),s=this.states[n="start"]),o=this.matchMappings[n],c=m,(a=this.regExps[n]).lastIndex=m),p.consumeLineEnd&&(c=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&h.push(d),d={type:f,value:g}):d.value+=g;else if(f)for(d.type&&h.push(d),d={type:null,value:""},y=0;y<f.length;y++)h.push(f[y]);if(c==t.length)break;if(c=m,u++>r){for(u>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});c<t.length;)d.type&&h.push(d),d={value:t.substring(c,c+=500),type:"overflow"};n="start",i=[];break}}return d.type&&h.push(d),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:h,state:i.length?i:n}},this.reportError=n.reportError}).call(s.prototype),e.Tokenizer=s})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(t,e,i){"use strict";var n=t("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var i in t){for(var n=t[i],r=0;r<n.length;r++){var s=n[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(e)&&(s.next=e+s.next),s.nextState&&0!==s.nextState.indexOf(e)&&(s.nextState=e+s.nextState))}this.$rules[e+i]=n}else for(var i in t)this.$rules[i]=t[i]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,i,r,s){var o="function"==typeof t?(new t).getRules():t;if(r)for(var a=0;a<r.length;a++)r[a]=e+r[a];else for(var l in r=[],o)r.push(e+l);if(this.addRules(o,e),i){var h=Array.prototype[s?"push":"unshift"];for(a=0;a<r.length;a++)h.apply(this.$rules[r[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach((function r(s){var o=n[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],h=null;Array.isArray(l)&&(h=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),n[u]&&(u+=i++)),n[u]=c,l.next=u,r(u)}else"pop"==c&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var d in l.rules)n[d]?n[d].push&&n[d].push.apply(n[d],l.rules[d]):n[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(h=Array.isArray(f)?f.map((function(t){return n[t]})):n[f]),h){var p=[a,1].concat(h);l.noEscape&&(p=p.filter((function(t){return!t.next}))),o.splice.apply(o,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(t,e,i,n){var r=Object.create(null);return Object.keys(t).forEach((function(e){var s=t[e];i&&(s=s.toLowerCase());for(var o=s.split(n||"|"),a=o.length;a--;)r[o[a]]=e})),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),t=null,i?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),e.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(t,e,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(t,e,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=i},this.addBehaviours=function(t){for(var e in t)for(var i in t[e])this.add(e,i,t[e][i])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var i=(new t).getBehaviours(e);else i=t.getBehaviours(e);this.addBehaviours(i)},this.getBehaviours=function(t){if(t){for(var e={},i=0;i<t.length;i++)this.$behaviours[t[i]]&&(e[t[i]]=this.$behaviours[t[i]]);return e}return this.$behaviours}}).call(n.prototype),e.Behaviour=n})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(t,e,i){"use strict";var n=t("./range").Range,r=function(t,e,i){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var n=t.getTokenAt(e,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,i=t[e].start;if(void 0!==i)return i;for(i=0;e>0;)i+=t[e-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new n(this.$row,e,this.$row,e+t.value.length)}}).call(r.prototype),e.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(t,e,i){"use strict";var n,r=t("../../lib/oop"),s=t("../behaviour").Behaviour,o=t("../../token_iterator").TokenIterator,a=t("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],h=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},u={'"':'"',"'":"'"},d=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,c.rangeCount!=t.multiSelect.rangeCount&&(c={rangeCount:t.multiSelect.rangeCount})),c[e])return n=c[e];n=c[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(t,e,i,n){var r=t.end.row-t.start.row;return{text:i+e+n,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},p=function(t){this.add("braces","insertion",(function(e,i,r,s,o){var l=r.getCursorPosition(),h=s.doc.getLine(l.row);if("{"==o){d(r);var c=r.getSelectionRange(),u=s.doc.getTextRange(c);if(""!==u&&"{"!==u&&r.getWrapBehavioursEnabled())return f(c,u,"{","}");if(p.isSaneInsertion(r,s))return/[\]\}\)]/.test(h[l.column])||r.inMultiSelectMode||t&&t.braces?(p.recordAutoInsert(r,s,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(r,s,"{"),{text:"{",selection:[1,1]})}else if("}"==o){if(d(r),"}"==h.substring(l.column,l.column+1)&&null!==s.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&p.isAutoInsertedClosing(l,h,o))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==o||"\r\n"==o){d(r);var g="";if(p.isMaybeInsertedClosing(l,h)&&(g=a.stringRepeat("}",n.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===h.substring(l.column,l.column+1)){var m=s.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(s.getLine(m.row))}else{if(!g)return void p.clearMaybeInsertedClosing();v=this.$getIndent(h)}var y=v+s.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(t,e,i,r,s){var o=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(d(i),"}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;n.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,e,i,n,r){if("("==r){d(i);var s=i.getSelectionRange(),o=n.doc.getTextRange(s);if(""!==o&&i.getWrapBehavioursEnabled())return f(s,o,"(",")");if(p.isSaneInsertion(i,n))return p.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(t,e,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(d(i),")"==n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,e,i,n,r){if("["==r){d(i);var s=i.getSelectionRange(),o=n.doc.getTextRange(s);if(""!==o&&i.getWrapBehavioursEnabled())return f(s,o,"[","]");if(p.isSaneInsertion(i,n))return p.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(t,e,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(d(i),"]"==n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(t,e,i,n,r){var s=n.$mode.$quotes||u;if(1==r.length&&s[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(i);var o=r,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(!(""===l||1==l.length&&s[l])&&i.getWrapBehavioursEnabled())return f(a,l,o,o);if(!l){var h=i.getCursorPosition(),c=n.doc.getLine(h.row),p=c.substring(h.column-1,h.column),g=c.substring(h.column,h.column+1),m=n.getTokenAt(h.row,h.column),v=n.getTokenAt(h.row,h.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==o)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var _=n.$mode.tokenRe;_.lastIndex=0;var S=_.test(p);_.lastIndex=0;var k=_.test(p);if(S||k)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var x=c[h.column-2];if(p==o&&(x==o||_.test(x)))return null;y=!0}return{text:y?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(t,e,i,n,r){var s=n.$mode.$quotes||u,o=n.doc.getTextRange(r);if(!r.isMultiLine()&&s.hasOwnProperty(o)&&(d(i),n.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r}))};p.isSaneInsertion=function(t,e){var i=t.getCursorPosition(),n=new o(e,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){if(/[)}\]]/.test(t.session.getLine(i.row)[i.column]))return!0;var r=new o(e,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",h)},p.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},p.recordAutoInsert=function(t,e,i){var r=t.getCursorPosition(),s=e.doc.getLine(r.row);this.isAutoInsertedClosing(r,s,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+s.substr(r.column),n.autoInsertedBrackets++},p.recordMaybeInsert=function(t,e,i){var r=t.getCursorPosition(),s=e.doc.getLine(r.row);this.isMaybeInsertedClosing(r,s)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=s.substr(0,r.column)+i,n.maybeInsertedLineEnd=s.substr(r.column),n.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(t,e,i){return n.autoInsertedBrackets>0&&t.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&e.substr(t.column)===n.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(t,e){return n.maybeInsertedBrackets>0&&t.row===n.maybeInsertedRow&&e.substr(t.column)===n.maybeInsertedLineEnd&&e.substr(0,t.column)==n.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(p,s),e.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(t,e,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,s=[],o=0;o<n.length;o+=2)s.push(r+=n[o]),n[o+1]&&s.push(45,r+=n[o+1]);e.wordChars=String.fromCharCode.apply(null,s)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(t,e,i){"use strict";var n=t("../config"),r=t("../tokenizer").Tokenizer,s=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,a=t("../unicode"),l=t("../lib/lang"),h=t("../token_iterator").TokenIterator,c=t("../range").Range,u=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,i,n){var r=e.doc,s=!0,o=!0,a=1/0,h=e.getTabSize(),c=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),c=e.getUseSoftTabs(),y=function(t,e){var i=t.match(g);if(i){var n=i[1].length,s=i[0].length;d(t,n,s)||" "!=i[0][s-1]||s--,r.removeInLine(e,n,s)}};var u=f+" ",d=(v=function(t,e){s&&!/\S/.test(t)||(d(t,a,a)?r.insertInLine({row:e,column:a},u):r.insertInLine({row:e,column:a},f))},b=function(t,e){return g.test(t)},function(t,e,i){for(var n=0;e--&&" "==t.charAt(e);)n++;if(n%h!=0)return!1;for(n=0;" "==t.charAt(i++);)n++;return h>2?n%h!=h-1:n%h==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),v=function(t,e){b(t,e)||s&&!/\S/.test(t)||(r.insertInLine({row:e,column:t.length},p),r.insertInLine({row:e,column:a},f))},y=function(t,e){var i;(i=t.match(m))&&r.removeInLine(e,t.length-i[0].length,t.length),(i=t.match(g))&&r.removeInLine(e,i[1].length,i[0].length)},b=function(t,i){if(g.test(t))return!0;for(var n=e.getTokens(i),r=0;r<n.length;r++)if("comment"===n[r].type)return!0}}function w(t){for(var e=i;e<=n;e++)t(r.getLine(e),e)}var _=1/0;w((function(t,e){var i=t.search(/\S/);-1!==i?(i<a&&(a=i),o&&!b(t,e)&&(o=!1)):_>t.length&&(_=t.length)})),a==1/0&&(a=_,s=!1,o=!1),c&&a%h!=0&&(a=Math.floor(a/h)*h),w(o?y:v)},this.toggleBlockComment=function(t,e,i,n){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(g=new h(e,n.row,n.column)).getCurrentToken(),l=e.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;u=new c(f,p,f,p+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new h(e,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m,d=new c(f,p,f,p+r.end.length);break}a=g.stepForward()}d&&e.remove(d),u&&(e.remove(u),s=u.start.row,o=-r.start.length)}else o=r.start.length,s=i.start.row,e.insert(i.end,r.end),e.insert(i.start,r.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),e.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(t,e,i){return this.$getIndent(e)},this.checkOutdent=function(t,e,i){return!1},this.autoOutdent=function(t,e,i){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var e in this.$embeds=[],this.$modes={},t)if(t[e]){var i=t[e],r=i.prototype.$id,s=n.$modes[r];s||(n.$modes[r]=s=new i),n.$modes[e]||(n.$modes[e]=s),this.$embeds.push(e),this.$modes[e]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(e=0;e<o.length;e++)!function(t){var i=o[e],n=t[i];t[o[e]]=function(){return this.$delegator(i,arguments,n)}}(this)},this.$delegator=function(t,e,i){var n=e[0]||"start";if("string"!=typeof n){if(Array.isArray(n[2])&&(s=this.$modes[n[2][n[2].length-1]]))return s[t].apply(s,[n[1]].concat([].slice.call(e,1)));n=n[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s,o=n.split(this.$embeds[r]);if(!o[0]&&o[1])return e[0]=o[1],(s=this.$modes[this.$embeds[r]])[t].apply(s,e)}var a=i.apply(this,e);return i?a:void 0},this.transformAction=function(t,e,i,n,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][e]){var a=s[o][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,i=[];for(var n in e)for(var r=e[n],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&i.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)/keyword|support|storage/.test(r[s].token[a])&&(n=r[s].regex.match(/\(.+?\)/g)[a],i.push(n.substr(1,n.length-2)));this.completionKeywords=i}return t?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,i,n){return(this.$keywordList||this.$createKeywordList()).map((function(t){return{name:t,value:t,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(u.prototype),e.Mode=u})),ace.define("ace/apply_delta",["require","exports","module"],(function(t,e,i){"use strict";e.applyDelta=function(t,e,i){var n=e.start.row,r=e.start.column,s=t[n]||"";switch(e.action){case"insert":if(1===e.lines.length)t[n]=s.substring(0,r)+e.lines[0]+s.substring(r);else{var o=[n,1].concat(e.lines);t.splice.apply(t,o),t[n]=s.substring(0,r)+t[n],t[n+e.lines.length-1]+=s.substring(r)}break;case"remove":var a=e.end.column,l=e.end.row;n===l?t[n]=s.substring(0,r)+s.substring(a):t.splice(n,l-n+1,s.substring(0,r)+t[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=e.Anchor=function(t,e,i){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===i?this.setPosition(e.row,e.column):this.setPosition(e,i)};(function(){function t(t,e,i){return t.row<e.row||t.row==e.row&&(i?t.column<=e.column:t.column<e.column)}n.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var i=function(e,i,n){var r="insert"==e.action,s=(r?1:-1)*(e.end.row-e.start.row),o=(r?1:-1)*(e.end.column-e.start.column),a=e.start,l=r?a:e.end;return t(i,a,n)?{row:i.row,column:i.column}:t(l,i,!n)?{row:i.row+s,column:i.column+(i.row==l.row?o:0)}:{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(t,e,i){var n;if(n=i?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=n.row||this.column!=n.column){var r={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:r,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var i={};return t>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):t<0?(i.row=0,i.column=0):(i.row=t,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,e))),e<0&&(i.column=0),i}}).call(s.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./apply_delta").applyDelta,s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,a=t("./anchor").Anchor,l=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){n.implement(this,s),this.setValue=function(t){var e=this.getLength()-1;this.remove(new o(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new a(this,t,e)},this.$split=0==="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var i=e.length-1;t.end.row-t.start.row==i&&(e[i]=e[i].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var i=this.clippedPos(t.row,t.column),n=this.pos(t.row,t.column+e.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[e]},!0),this.clonePos(n)},this.clippedPos=function(t,e){var i=this.getLength();void 0===t?t=i:t<0?t=0:t>=i&&(t=i-1,e=void 0);var n=this.getLine(t);return null==e&&(e=n.length),{row:t,column:e=Math.min(Math.max(e,0),n.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var i=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),i=0):(e=[""].concat(e),t--,i=this.$lines[t].length),this.insertMergedLines({row:t,column:i},e)},this.insertMergedLines=function(t,e){var i=this.clippedPos(t.row,t.column),n={row:i.row+e.length-1,column:(1==e.length?i.column:0)+e[e.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:e}),this.clonePos(n)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),i=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:i,action:"remove",lines:this.getLinesForRange({start:e,end:i})}),this.clonePos(e)},this.removeInLine=function(t,e,i){var n=this.clippedPos(t,e),r=this.clippedPos(t,i);return this.applyDelta({start:n,end:r,action:"remove",lines:this.getLinesForRange({start:n,end:r})},!0),this.clonePos(n)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var i=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&t>0,n=e<this.getLength()-1,r=i?t-1:t,s=i?this.getLine(r).length:0,a=n?e+1:e,l=n?0:this.getLine(a).length,h=new o(r,s,a,l),c=this.$lines.slice(t,e+1);return this.applyDelta({start:h.start,end:h.end,action:"remove",lines:this.getLinesForRange(h)}),c},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof o||(t=o.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var i="insert"==t.action;(i?t.lines.length<=1&&!t.lines[0]:!o.comparePoints(t.start,t.end))||(i&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(r(this.$lines,t,e),this._signal("change",t)))},this.$splitAndapplyLargeDelta=function(t,e){for(var i=t.lines,n=i.length-e+1,r=t.start.row,s=t.start.column,o=0,a=0;o<n;o=a){var l=i.slice(o,a+=e-1);l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:t.action,lines:l},!0)}t.lines=i.slice(o),t.start.row=r+o,t.start.column=s,this.applyDelta(t,!0)},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=e||0,s=i.length;r<s;r++)if((t-=i[r].length+n)<0)return{row:r,column:t+i[r].length+n};return{row:s-1,column:t+i[s-1].length+n}},this.positionToIndex=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=0,s=Math.min(t.row,i.length),o=e||0;o<s;++o)r+=i[o].length+n;return r+t.column}}).call(l.prototype),e.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var i=this;this.$worker=function(){if(i.running){for(var t=new Date,e=i.currentLine,n=-1,r=i.doc,s=e;i.lines[e];)e++;var o=r.getLength(),a=0;for(i.running=!1;e<o;){i.$tokenizeRow(e),n=e;do{e++}while(i.lines[e]);if(++a%5==0&&new Date-t>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=e,-1==n&&(n=e),s<=n&&i.fireUpdateEvent(s,n)}}};(function(){n.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){this._signal("update",{data:{first:t,last:e}})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,i=t.end.row-e;if(0===i)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,i+1,null),this.states.splice(e,i+1,null);else{var n=Array(i+1);n.unshift(e,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),i=this.tokenizer.getLineTokens(e,this.states[t-1],t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(s.prototype),e.BackgroundTokenizer=s})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,e,i){"use strict";var n=t("./lib/lang"),r=(t("./lib/oop"),t("./range").Range),s=function(t,e,i){this.setRegexp(t),this.clazz=e,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,i,s){if(this.regExp)for(var o=s.lastRow,a=s.firstRow;a<=o;a++){var l=this.cache[a];null==l&&((l=n.getMatchOffsets(i.getLine(a),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(t){return new r(a,t.offset,a,t.offset+t.length)})),this.cache[a]=l.length?l:"");for(var h=l.length;h--;)e.drawSingleLineMarker(t,l[h].toScreenRange(i),this.clazz,s)}}}).call(s.prototype),e.SearchHighlight=s})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(t,e,i){"use strict";var n=t("../range").Range;function r(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var i=e[e.length-1];this.range=new n(e[0].start.row,e[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(t){t.setFoldLine(this)}),this)}(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach((function(e){e.start.row+=t,e.end.row+=t}))},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort((function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)})),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,i){var n,r,s=0,o=this.folds,a=!0;null==e&&(e=this.end.row,i=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(n=o[l]).range.compareStart(e,i)))return void t(null,e,i,s,a);if(!t(null,n.start.row,n.start.column,s,a)&&t(n.placeholder,n.start.row,n.start.column,s)||0===r)return;a=!n.sameRow,s=n.end.column}t(null,e,i,s,a)},this.getNextFoldTo=function(t,e){for(var i,n,r=0;r<this.folds.length;r++){if(-1==(n=(i=this.folds[r]).range.compareEnd(t,e)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(t,e,i){var n,r,s=this.getNextFoldTo(t,e);if(s)if(n=s.fold,"inside"==s.kind&&n.start.column!=e&&n.start.row!=t)window.console&&window.console.log(t,e,n);else if(n.start.row==t){var o=(r=this.folds).indexOf(n);for(0===o&&(this.start.column+=i);o<r.length;o++){if((n=r[o]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(t,e){var i=this.getNextFoldTo(t,e);if(!i||"inside"==i.kind)return null;var n=this.folds,s=this.foldData,o=n.indexOf(i.fold),a=n[o-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new r(s,n=n.splice(o,n.length-o));return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(t){for(var e=t.folds,i=0;i<e.length;i++)this.addFold(e[i]);var n=this.foldData;n.splice(n.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach((function(e){t.push("  "+e.toString())})),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((t-=n.start.column-e)<0)return{row:n.start.row,column:n.start.column+t};if((t-=n.placeholder.length)<0)return n.start;e=n.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(r.prototype),e.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(t,e,i){"use strict";var n=t("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=n,this.pointIndex=function(t,e,i){for(var r=this.ranges,s=i||0;s<r.length;s++){var o=r[s],a=n(t,o.end);if(!(a>0)){var l=n(t,o.start);return 0===a?e&&0!==l?-s-2:s:l>0||0===l&&!e?s:-s-1}}return-s-1},this.add=function(t){var e=!t.isEmpty(),i=this.pointIndex(t.start,e);i<0&&(i=-i-1);var n=this.pointIndex(t.end,e,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,t)},this.addList=function(t){for(var e=[],i=t.length;i--;)e.push.apply(e,this.add(t[i]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges.splice(e,1)},this.merge=function(){for(var t,e=[],i=this.ranges,r=(i=i.sort((function(t,e){return n(t.start,e.start)})))[0],s=1;s<i.length;s++){var o=n((t=r).end,(r=i[s]).start);o<0||(0!=o||t.isEmpty()||r.isEmpty())&&(n(t.end,r.end)<0&&(t.end.row=r.end.row,t.end.column=r.end.column),i.splice(s,1),e.push(r),r=t,s--)}return this.ranges=i,e},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges[e]},this.clipRows=function(t,e){var i=this.ranges;if(i[0].start.row>e||i[i.length-1].start.row<t)return[];var n=this.pointIndex({row:t,column:0});n<0&&(n=-n-1);var r=this.pointIndex({row:e,column:0},n);r<0&&(r=-r-1);for(var s=[],o=n;o<r;o++)s.push(i[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){for(var e=t.start,i=t.end,n=e.row,r=i.row,s=this.ranges,o=0,a=s.length;o<a&&!((c=s[o]).end.row>=n);o++);if("insert"==t.action){for(var l=r-n,h=-e.column+i.column;o<a&&!((c=s[o]).start.row>n);o++)if(c.start.row==n&&c.start.column>=e.column&&(c.start.column==e.column&&this.$bias<=0||(c.start.column+=h,c.start.row+=l)),c.end.row==n&&c.end.column>=e.column){if(c.end.column==e.column&&this.$bias<0)continue;c.end.column==e.column&&h>0&&o<a-1&&c.end.column>c.start.column&&c.end.column==s[o+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=l}}else for(l=n-r,h=e.column-i.column;o<a&&!((c=s[o]).start.row>r);o++)c.end.row<r&&(n<c.end.row||n==c.end.row&&e.column<c.end.column)?(c.end.row=n,c.end.column=e.column):c.end.row==r?c.end.column<=i.column?(l||c.end.column>e.column)&&(c.end.column=e.column,c.end.row=e.row):(c.end.column+=h,c.end.row+=l):c.end.row>r&&(c.end.row+=l),c.start.row<r&&(n<c.start.row||n==c.start.row&&e.column<c.start.column)?(c.start.row=n,c.start.column=e.column):c.start.row==r?c.start.column<=i.column?(l||c.start.column>e.column)&&(c.start.column=e.column,c.start.row=e.row):(c.start.column+=h,c.start.row+=l):c.start.row>r&&(c.start.row+=l);if(0!=l&&o<a)for(;o<a;o++){var c;(c=s[o]).start.row+=l,c.end.row+=l}}}).call(r.prototype),e.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(t,e,i){"use strict";var n=t("../range_list").RangeList,r=t("../lib/oop"),s=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};function o(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function a(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}r.inherits(s,n),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach((function(e){e.setFoldLine(t)}))},this.clone=function(){var t=this.range.clone(),e=new s(t,this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){var e,i;o((e=t).start,i=this.start),o(e.end,i);for(var n=t.start.row,r=t.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(n,r));s++);var l=this.subFolds[s],h=0;if(0==a){if(l.range.containsRange(t))return l.addSubFold(t);h=1}n=t.range.end.row,r=t.range.end.column;var c=s;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(n,r));c++);0==a&&c++;for(var u=this.subFolds.splice(s,c-s,t),d=0==a?u.length-1:u.length,f=h;f<d;f++)t.addSubFold(u[f]);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return function(t,e){a(t.start,e),a(t.end,e)}(t,this.start)}}).call(s.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(t,e,i){"use strict";var n=t("../range").Range,r=t("./fold_line").FoldLine,s=t("./fold").Fold,o=t("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(t,e,i){var n=this.getFoldLine(t);if(!n)return null;for(var r=n.folds,s=0;s<r.length;s++){var o=r[s].range;if(o.contains(t,e)){if(1==i&&o.isEnd(t,e)&&!o.isEmpty())continue;if(-1==i&&o.isStart(t,e)&&!o.isEmpty())continue;return r[s]}}},this.getFoldsInRange=function(t){var e=t.start,i=t.end,n=this.$foldData,r=[];e.column+=1,i.column-=1;for(var s=0;s<n.length;s++){var o=n[s].range.compareRange(t);if(2!=o){if(-2==o)break;for(var a=n[s].folds,l=0;l<a.length;l++){var h=a[l];if(-2==(o=h.range.compareRange(t)))break;if(2!=o){if(42==o)break;r.push(h)}}}}return e.column-=1,i.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){e=e.concat(this.getFoldsInRange(t))}),this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,i=0;i<e.length;i++)for(var n=0;n<e[i].folds.length;n++)t.push(e[i].folds[n]);return t},this.getFoldStringAt=function(t,e,i,n){if(!(n=n||this.getFoldLine(t)))return null;for(var r,s,o={end:{column:0}},a=0;a<n.folds.length;a++){var l=(s=n.folds[a]).range.compareEnd(t,e);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==i?r.substring(0,e-o.end.column):1==i?r.substring(e-o.end.column):r},this.getFoldLine=function(t,e){var i=this.$foldData,n=0;for(e&&(n=i.indexOf(e)),-1==n&&(n=0);n<i.length;n++){var r=i[n];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var i=this.$foldData,n=0;for(e&&(n=i.indexOf(e)),-1==n&&(n=0);n<i.length;n++){var r=i[n];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var i=this.$foldData,n=e-t+1,r=0;r<i.length;r++){var s=i[r],o=s.end.row,a=s.start.row;if(o>=e){a<e&&(a>=t?n-=e-a:n=0);break}o>=t&&(n-=a>=t?o-a:o-t+1)}return n},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort((function(t,e){return t.start.row-e.start.row})),t},this.addFold=function(t,e){var i,n=this.$foldData,o=!1;t instanceof s?i=t:(i=new s(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,h=i.end.row,c=i.end.column,u=this.getFoldAt(a,l,1),d=this.getFoldAt(h,c,-1);if(u&&d==u)return u.addSubFold(i);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(h,c)&&this.removeFold(d);var f=this.getFoldsInRange(i.range);f.length>0&&(this.removeFolds(f),f.forEach((function(t){i.addSubFold(t)})));for(var p=0;p<n.length;p++){var g=n[p];if(h==g.start.row){g.addFold(i),o=!0;break}if(a==g.end.row){if(g.addFold(i),o=!0,!i.sameRow){var m=n[p+1];if(m&&m.start.row==h){g.merge(m);break}}break}if(h<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach((function(t){this.addFold(t)}),this)},this.removeFold=function(t){var e=t.foldLine,i=e.start.row,n=e.end.row,r=this.$foldData,s=e.folds;if(1==s.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))s.pop(),e.end.row=s[s.length-1].end.row,e.end.column=s[s.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))s.shift(),e.start.row=s[0].start.row,e.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var o=e.split(t.start.row,t.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);e.forEach((function(t){this.removeFold(t)}),this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach((function(e){t.restoreRange(e),this.addFold(e)}),this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach((function(t){this.expandFold(t)}),this)},this.unfold=function(t,e){var i,r;if(null==t?(i=new n(0,0,this.getLength(),0),e=!0):i="number"==typeof t?new n(t,0,t,this.getLine(t).length):"row"in t?n.fromPoints(t,t):t,r=this.getFoldsInRangeList(i),e)this.removeFolds(r);else for(var s=r;s.length;)this.expandFolds(s),s=this.getFoldsInRangeList(i);if(r.length)return r},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var i=this.getFoldLine(t,e);return i?i.end.row:t},this.getRowFoldStart=function(t,e){var i=this.getFoldLine(t,e);return i?i.start.row:t},this.getFoldDisplayLine=function(t,e,i,n,r){null==n&&(n=t.start.row),null==r&&(r=0),null==e&&(e=t.end.row),null==i&&(i=this.getLine(e).length);var s=this.doc,o="";return t.walk((function(t,e,i,a){if(!(e<n)){if(e==n){if(i<r)return;a=Math.max(r,a)}o+=null!=t?t:s.getLine(e).substring(a,i)}}),e,i),o},this.getDisplayLine=function(t,e,i,n){var r,s=this.getFoldLine(t);return s?this.getFoldDisplayLine(s,t,e,i,n):(r=this.doc.getLine(t)).substring(n||0,e||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map((function(e){var i=e.folds.map((function(t){return t.clone()}));return new r(t,i)}))},this.toggleFold=function(t){var e,i,n=this.selection.getRange();if(n.isEmpty()){var r=n.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(i=this.findMatchingBracket(r))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(r.row,r.column)||n}else{var s=this.getFoldsInRange(n);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(n.start.row,n.start.column)),e&&e.range.toString()==n.toString())this.expandFold(e);else{var o="...";if(!n.isMultiLine()){if((o=this.getTextRange(n)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,n)}},this.getCommentFoldRange=function(t,e,i){var r=new o(this,t,e),s=r.getCurrentToken(),a=s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),h=new n;if(1!=i){do{s=r.stepBackward()}while(s&&l.test(s.type));r.stepForward()}if(h.start.row=r.getCurrentTokenRow(),h.start.column=r.getCurrentTokenColumn()+2,r=new o(this,t,e),-1!=i){var c=-1;do{if(s=r.stepForward(),-1==c){var u=this.getState(r.$row);l.test(u)||(c=r.$row)}else if(r.$row>c)break}while(s&&l.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return h.end.row=r.getCurrentTokenRow(),h.end.column=r.getCurrentTokenColumn()+s.value.length-2,h}},this.foldAll=function(t,e,i){null==i&&(i=1e5);var n=this.foldWidgets;if(n){e=e||this.getLength();for(var r=t=t||0;r<e;r++)if(null==n[r]&&(n[r]=this.getFoldWidget(r)),"start"==n[r]){var s=this.getFoldWidgetRange(r);if(s&&s.isMultiLine()&&s.end.row<=e&&s.start.row>=t){r=s.end.row;try{var o=this.addFold("...",s);o&&(o.collapseChildren=i)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,e){var i=this.foldWidgets;if(!i||e&&i[t])return{};for(var n,r=t-1;r>=0;){var s=i[r];if(null==s&&(s=i[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(n||(n=o),o&&o.end.row>=t)break}r--}return{range:-1!==r&&o,firstRange:n}},this.onFoldWidgetClick=function(t,e){if(!this.$toggleFoldWidget(t,{children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey})){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var i=this.getFoldWidget(t),n=this.getLine(t),r="end"===i?-1:1,s=this.getFoldAt(t,-1===r?0:n.length,r);if(s)return e.children||e.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(t,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,h=a.range.end.row;this.foldAll(l,h,e.all?1e4:0)}else e.children?(h=o?o.end.row:this.getLength(),this.foldAll(t+1,h,e.all?1e4:0)):o&&(e.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var i=this.$toggleFoldWidget(e,{});if(!i){var n=this.getParentFoldRangeData(e,!0);if(i=n.range||n.firstRange){var r=this.getFoldAt(e=i.start.row,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",i)}}},this.updateFoldWidgets=function(t){var e=t.start.row,i=t.end.row-e;if(0===i)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,i+1,null);else{var n=Array(i+1);n.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(t,e,i){"use strict";var n=t("../token_iterator").TokenIterator,r=t("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var i=e||this.getLine(t.row).charAt(t.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],t):this.$findOpeningBracket(n[2],t):null},this.getBracketRange=function(t){var e,i=this.getLine(t.row),n=!0,s=i.charAt(t.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=i.charAt(t.column),t={row:t.row,column:t.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],t)))return null;e=r.fromPoints(t,a),n||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],t)))return null;e=r.fromPoints(a,t),n||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(t,e,i){var r=this.$brackets[t],s=1,o=new n(this,e.row,e.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-o.getCurrentTokenColumn()-2,h=a.value;;){for(;l>=0;){var c=h.charAt(l);if(c==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else c==t&&(s+=1);l-=1}do{a=o.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=(h=a.value).length-1}return null}},this.$findClosingBracket=function(t,e,i){var r=this.$brackets[t],s=1,o=new n(this,e.row,e.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-o.getCurrentTokenColumn();;){for(var h=a.value,c=h.length;l<c;){var u=h.charAt(l);if(u==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==t&&(s+=1);l+=1}do{a=o.stepForward()}while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/lang"),s=t("./bidihandler").BidiHandler,o=t("./config"),a=t("./lib/event_emitter").EventEmitter,l=t("./selection").Selection,h=t("./mode/text").Mode,c=t("./range").Range,u=t("./document").Document,d=t("./background_tokenizer").BackgroundTokenizer,f=t("./search_highlight").SearchHighlight,p=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new u(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(e),o._signal("session",this)};p.$uid=0,(function(){n.implement(this,a),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>i&&(this.$docRowCache.splice(i,e),this.$screenRowCache.splice(i,e))},this.$getRowCacheIndex=function(t,e){for(var i=0,n=t.length-1;i<=n;){var r=i+n>>1,s=t[r];if(e>s)i=r+1;else{if(!(e<s))return r;n=r-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){this.$resetRowCache(t.data.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&(e&&e.length&&(this.$undoManager.add({action:"removeFolds",folds:e},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(t,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var i,n=this.bgTokenizer.getTokens(t),r=0;if(null==e){var s=n.length-1;r=this.getLine(t).length}else for(s=0;s<n.length&&!((r+=n[s].value.length)>=e);s++);return(i=n[s])?(i.index=s,i.start=r-i.value.length,i):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;t.addSession(this),this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,i,n){var r=this.$markerId++,s={range:t,type:i||"line",renderer:"function"==typeof i?i:null,clazz:e,inFront:!!n,id:r};return n?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var i=this.$markerId++;return t.id=i,t.inFront=!!e,e?(this.$frontMarkers[i]=t,this._signal("changeFrontMarker")):(this.$backMarkers[i]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];e&&(delete(e.inFront?this.$frontMarkers:this.$backMarkers)[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,i,n){"number"!=typeof e&&(i=e,e=t),i||(i="ace_step");var r=new c(t,0,e,1/0);return r.id=this.addMarker(r,i,"fullLine",n),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var i=this.getLine(t),n=!1;if(e>0&&(n=!!i.charAt(e-1).match(this.tokenRe)),n||(n=!!i.charAt(e).match(this.tokenRe)),n)var r=this.tokenRe;else r=/^\s+$/.test(i.slice(e-1,e+1))?/\s/:this.nonTokenRe;var s=e;if(s>0){do{s--}while(s>=0&&i.charAt(s).match(r));s++}for(var o=e;o<i.length&&i.charAt(o).match(r);)o++;return new c(t,s,t,o)},this.getAWordRange=function(t,e){for(var i=this.getWordRange(t,e),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){this.bgTokenizer.start(t.data.first),this._signal("tokenizerUpdate",t)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var i=t,n=t.path}else n=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(e&&e());this.$modeId=n,o.loadModule(["mode",n],(function(t){if(this.$modeId!==n)return e&&e();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):t&&t.Mode&&(t=new t.Mode(i),i||(this.$modes[n]=t,t.$id=n),this.$onChangeMode(t)),e&&e()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=t.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var r=this;this.bgTokenizer.addEventListener("update",(function(t){r._signal("tokenizerUpdate",t)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach((function(e){e&&e.screenWidth>t&&(t=e.screenWidth)})),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=e.length,l=0;l<a;l++){if(l>o){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(e[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var i=t.length-1;-1!=i;i--){var n=t[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!e&&this.$undoSelect&&(t.selectionBefore?this.selection.fromJSON(t.selectionBefore):this.selection.setRange(this.$getUndoSelection(t,!0))),this.$fromUndo=!1}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var i=0;i<t.length;i++){var n=t[i];"insert"!=n.action&&"remove"!=n.action||this.doc.applyDelta(n)}!e&&this.$undoSelect&&(t.selectionAfter?this.selection.fromJSON(t.selectionAfter):this.selection.setRange(this.$getUndoSelection(t,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e){function i(t){return e?"insert"!==t.action:"insert"===t.action}for(var n,r,s=0;s<t.length;s++){var o=t[s];o.start&&(n?i(o)?(-1==n.compare((r=o.start).row,r.column)&&n.setStart(r),1==n.compare((r=o.end).row,r.column)&&n.setEnd(r)):-1==n.compare((r=o.start).row,r.column)&&(n=c.fromPoints(o.start,o.start)):n=i(o)?c.fromPoints(o.start,o.end):c.fromPoints(o.start,o.start))}return n},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,i){var n=this.getTextRange(t),r=this.getFoldsInRange(t),s=c.fromPoints(e,e);if(i||(this.remove(t),(h=(l=t.start.row-t.end.row)?-t.end.column:t.start.column-t.end.column)&&(s.start.row==t.end.row&&s.start.column>t.end.column&&(s.start.column+=h),s.end.row==t.end.row&&s.end.column>t.end.column&&(s.end.column+=h)),l&&s.start.row>=t.end.row&&(s.start.row+=l,s.end.row+=l)),s.end=this.insert(s.start,n),r.length){var o=t.start,a=s.start,l=a.row-o.row,h=a.column-o.column;this.addFolds(r.map((function(t){return(t=t.clone()).start.row==o.row&&(t.start.column+=h),t.end.row==o.row&&(t.end.column+=h),t.start.row+=l,t.end.row+=l,t})))}return s},this.indentRows=function(t,e,i){i=i.replace(/\t/g,this.getTabString());for(var n=t;n<=e;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(t){for(var e=t.collapseRows(),i=new c(0,0,0,0),n=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var s=this.getLine(r);i.start.row=r,i.end.row=r;for(var o=0;o<n&&" "==s.charAt(o);++o);o<n&&"\t"==s.charAt(o)?(i.start.column=o,i.end.column=o+1):(i.start.column=0,i.end.column=o),this.remove(i)}},this.$moveLines=function(t,e,i){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),i<0){if((r=this.getRowFoldStart(t+i))<0)return 0;var n=r-t}else if(i>0){var r;if((r=this.getRowFoldEnd(e+i))>this.doc.getLength()-1)return 0;n=r-e}else t=this.$clipRowToDocument(t),n=(e=this.$clipRowToDocument(e))-t+1;var s=new c(t,0,e,Number.MAX_VALUE),o=this.getFoldsInRange(s).map((function(t){return(t=t.clone()).start.row+=n,t.end.row+=n,t})),a=0==i?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+n,a),o.length&&this.addFolds(o),n},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)t=0,e=0;else{var i=this.doc.getLength();t>=i?(t=i-1,e=this.doc.getLine(i-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var i=this.$wrapLimitRange;i.max<0&&(i={min:e,max:e});var n=this.$constrainWrapLimit(t,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,i){return e&&(t=Math.max(e,t)),i&&(t=Math.min(i,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,i=t.action,n=t.start,r=t.end,s=n.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[e?"$wrapData":"$rowLengthCache"].splice(s,a);var h=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var c=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,n.column-r.column),g.shiftRow(-a);var u=this.getFoldLine(s);u&&u!==g&&(u.merge(g),g=u),c=h.indexOf(g)+1}for(;c<h.length;c++)(g=h[c]).start.row>=r.row&&g.shiftRow(-a);o=s}else{var d=Array(a);d.unshift(s,0);var f=e?this.$wrapData:this.$rowLengthCache;if(f.splice.apply(f,d),h=this.$foldData,c=0,g=this.getFoldLine(s)){var p=g.range.compareInside(n.row,n.column);0==p?(g=g.split(n.row,n.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-n.column)):-1==p&&(g.addRemoveChars(s,0,r.column-n.column),g.shiftRow(a)),c=h.indexOf(g)+1}for(;c<h.length;c++){var g;(g=h[c]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===i&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,n.column,a);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(t,e,i){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(i,n){var r,s,o=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,h=this.$wrapLimit,c=i;for(n=Math.min(n,o.length-1);c<=n;)(s=this.getFoldLine(c,s))?(r=[],s.walk((function(i,n,s,a){var l;if(null!=i){(l=this.$getDisplayTokens(i,r.length))[0]=t;for(var h=1;h<l.length;h++)l[h]=e}else l=this.$getDisplayTokens(o[n].substring(a,s),r.length);r=r.concat(l)}).bind(this),s.end.row,o[s.end.row].length+1),l[s.start.row]=this.$computeWrapSplits(r,h,a),c=s.end.row+1):(r=this.$getDisplayTokens(o[c]),l[c]=this.$computeWrapSplits(r,h,a),c++)};var t=3,e=4;function i(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}this.$computeWrapSplits=function(i,n,r){if(0==i.length)return[];var s=[],o=i.length,a=0,l=0,h=this.$wrapAsCode,c=this.$indentedSoftWrap,u=n<=Math.max(2*r,8)||!1===c?0:Math.floor(n/2);function d(t){for(var e=t-a,n=a;n<t;n++){var o=i[n];12!==o&&2!==o||(e-=1)}s.length||(f=function(){var t=0;if(0===u)return t;if(c)for(var e=0;e<i.length;e++){var n=i[e];if(10==n)t+=1;else{if(11!=n){if(12==n)continue;break}t+=r}}return h&&!1!==c&&(t+=r),Math.min(t,u)}(),s.indent=f),s.push(l+=e),a=t}for(var f=0;o-a>n-f;){var p=a+n-f;if(i[p-1]>=10&&i[p]>=10)d(p);else if(i[p]!=t&&i[p]!=e){for(var g=Math.max(p-(n-(n>>2)),a-1);p>g&&i[p]<t;)p--;if(h){for(;p>g&&i[p]<t;)p--;for(;p>g&&9==i[p];)p--}else for(;p>g&&i[p]<10;)p--;p>g?d(++p):(2==i[p=a+n]&&p--,d(p-f))}else{for(;p!=a-1&&i[p]!=t;p--);if(p>a){d(p);continue}for(p=a+n;p<i.length&&i[p]==e;p++);if(p==i.length)break;d(p)}}return s},this.$getDisplayTokens=function(t,e){var n,r=[];e=e||0;for(var s=0;s<t.length;s++){var o=t.charCodeAt(s);if(9==o){n=this.getScreenTabSize(r.length+e),r.push(11);for(var a=1;a<n;a++)r.push(12)}else 32==o?r.push(10):o>39&&o<48||o>57&&o<64?r.push(9):o>=4352&&i(o)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(t,e,n){if(0==e)return[0,0];var r,s;for(null==e&&(e=1/0),n=n||0,s=0;s<t.length&&(9==(r=t.charCodeAt(s))?n+=this.getScreenTabSize(n):r>=4352&&i(r)?n+=2:n+=1,!(n>e));s++);return[n,s]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),i=this.$wrapData[e.row];return i.length&&i[0]<e.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var i=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(t,e){var i=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-(t%this.$tabSize|0)},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e,i){if(t<0)return{row:0,column:0};var n,r,s=0,o=0,a=0,l=0,h=this.$screenRowCache,c=this.$getRowCacheIndex(h,t),u=h.length;if(u&&c>=0){a=h[c],s=this.$docRowCache[c];var d=t>h[u-1]}else d=!u;for(var f=this.getLength()-1,p=this.getNextFoldLine(s),g=p?p.start.row:1/0;a<=t&&!(a+(l=this.getRowLength(s))>t||s>=f);)a+=l,++s>g&&(g=(p=this.getNextFoldLine(s=p.end.row+1,p))?p.start.row:1/0),d&&(this.$docRowCache.push(s),this.$screenRowCache.push(a));if(p&&p.start.row<=s)n=this.getFoldDisplayLine(p),s=p.start.row;else{if(a+l<=t||s>f)return{row:f,column:this.getLine(f).length};n=this.getLine(s),p=null}var m=0,v=Math.floor(t-a);if(this.$useWrapMode){var y=this.$wrapData[s];y&&(r=y[v],v>0&&y.length&&(m=y.indent,n=n.substring(o=y[v-1]||y[y.length-1])))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+v,s,v)&&(e=this.$bidiHandler.offsetToCol(i)),o+=this.$getStringScreenWidth(n,e-m)[1],this.$useWrapMode&&o>=r&&(o=r-1),p?p.idxToPosition(o):{row:s,column:o}},this.documentToScreenPosition=function(t,e){if(void 0===e)var i=this.$clipPositionToDocument(t.row,t.column);else i=this.$clipPositionToDocument(t,e);var n,r=0,s=null;(n=this.getFoldAt(t=i.row,e=i.column,1))&&(t=n.start.row,e=n.start.column);var o,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,t),c=l.length;if(c&&h>=0){a=l[h],r=this.$screenRowCache[h];var u=t>l[c-1]}else u=!c;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<t;){if(a>=f){if((o=d.end.row+1)>t)break;f=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),s=d.start.row):(p=this.getLine(t).substring(0,e),s=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;p.length>=m[v];)r++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,r=(a=0,(e=this.$foldData[a++])?e.start.row:1/0);n<i;){var s=this.$wrapData[n];t+=s?s.length+1:1,++n>r&&(n=e.end.row+1,r=(e=this.$foldData[a++])?e.start.row:1/0)}else{t=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)t-=(e=o[a]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,i,n){if(0===i)return[0,0];var r,s;for(i||(i=1/0),n=n||0,s=0;s<e.length&&!((n+="\t"===(r=e.charAt(s))?this.getScreenTabSize(n):t.getCharacterWidth(r))>i);s++);return[n,s]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=i}).call(p.prototype),t("./edit_session/folding").Folding.call(p.prototype),t("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){(t=parseInt(t))>0&&this.$tabSize!==t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(t){this.setFoldStyle(t)},handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId},handlesSet:!0}}),e.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,e,i){"use strict";var n=t("./lib/lang"),r=t("./lib/oop"),s=t("./range").Range,o=function(){this.$options={}};(function(){this.set=function(t){return r.mixin(this.$options,t),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,i=this.$matchIterator(t,e);if(!i)return!1;var n=null;return i.forEach((function(t,i,r,o){return n=new s(t,i,r,o),!(i==o&&e.start&&e.start.start&&0!=e.skipCurrent&&n.isEqual(e.start)&&(n=null,1))})),n},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var i=e.range,r=i?t.getLines(i.start.row,i.end.row):t.doc.getAllLines(),o=[],a=e.re;if(e.$isMultiLine){var l,h=a.length,c=r.length-h;t:for(var u=a.offset||0;u<=c;u++){for(var d=0;d<h;d++)if(-1==r[u+d].search(a[d]))continue t;var f=r[u],p=r[u+h-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[h-1])[0].length;l&&l.end.row===u&&l.end.column>g||(o.push(l=new s(u,g,u+h-1,m)),h>2&&(u=u+h-2))}}else for(var v=0;v<r.length;v++){var y=n.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}}if(i){var w=i.start.column,_=i.start.column;for(v=0,d=o.length-1;v<d&&o[v].start.column<w&&o[v].start.row==i.start.row;)v++;for(;v<d&&o[d].end.column>_&&o[d].end.row==i.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=i.start.row,o[v].end.row+=i.start.row}return o},this.replace=function(t,e){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return e;if(n){var r=n.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(n,e),i.preserveCase){e=e.split("");for(var s=Math.min(t.length,t.length);s--;){var o=t[s];e[s]=o&&o.toLowerCase()!=o?e[s].toUpperCase():e[s].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var i=t.needle;if(!t.needle)return t.re=!1;t.regExp||(i=n.escapeRegExp(i)),t.wholeWord&&(i=function(t,e){function i(t){return/\w/.test(t)||e.regExp?"\\b":""}return i(t[0])+t+i(t[t.length-1])}(i,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(i),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(i,r);try{var s=new RegExp(i,r)}catch(o){s=!1}return t.re=s},this.$assembleMultilineRegExp=function(t,e){for(var i=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],r=0;r<i.length;r++)try{n.push(new RegExp(i[r],e))}catch(s){return!1}return n},this.$matchIterator=function(t,e){var i=this.$assembleRegExp(e);if(!i)return!1;var n=1==e.backwards,r=0!=e.skipCurrent,s=e.range,o=e.start;o||(o=s?s[n?"end":"start"]:t.selection.getRange()),o.start&&(o=o[r!=n?"end":"start"]);var a=s?s.start.row:0,l=s?s.end.row:t.getLength()-1;if(n)var h=function(t){var i=o.row;if(!u(i,o.column,t)){for(i--;i>=a;i--)if(u(i,Number.MAX_VALUE,t))return;if(0!=e.wrap)for(i=l,a=o.row;i>=a;i--)if(u(i,Number.MAX_VALUE,t))return}};else h=function(t){var i=o.row;if(!u(i,o.column,t)){for(i+=1;i<=l;i++)if(u(i,0,t))return;if(0!=e.wrap)for(i=a,l=o.row;i<=l;i++)if(u(i,0,t))return}};if(e.$isMultiLine)var c=i.length,u=function(e,r,s){var o=n?e-c+1:e;if(!(o<0)){var a=t.getLine(o),l=a.search(i[0]);if(!(!n&&l<r||-1===l)){for(var h=1;h<c;h++)if(-1==(a=t.getLine(o+h)).search(i[h]))return;var u=a.match(i[c-1])[0].length;if(!(n&&u>r))return!!s(o,l,o+c-1,u)||void 0}}};else u=n?function(e,n,r){var s,o=t.getLine(e),a=[],l=0;for(i.lastIndex=0;s=i.exec(o);){if(l=s.index,!(c=s[0].length)){if(l>=o.length)break;i.lastIndex=l+=1}if(s.index+c>n)break;a.push(s.index,c)}for(var h=a.length-1;h>=0;h-=2){var c,u=a[h-1];if(r(e,u,e,u+(c=a[h])))return!0}}:function(e,n,r){var s,o,a=t.getLine(e);for(i.lastIndex=n;o=i.exec(a);){var l=o[0].length;if(r(e,s=o.index,e,s+l))return!0;if(!l&&(i.lastIndex=s+=1,s>=a.length))return!1}};return{forEach:h}}}).call(o.prototype),e.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("../lib/keys"),r=t("../lib/useragent"),s=n.KEY_MODS;function o(t,e){this.platform=e||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function a(t,e){o.call(this,t,e),this.$singleCommand=!1}a.prototype=o.prototype,(function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var i=t&&("string"==typeof t?t:t.name);t=this.commands[i],e||delete this.commands[i];var n=this.commandKeyBinding;for(var r in n){var s=n[r];if(s==t)delete n[r];else if(Array.isArray(s)){var o=s.indexOf(t);-1!=o&&(s.splice(o,1),1==s.length&&(n[r]=s[0]))}}},this.bindKey=function(t,e,i){if("object"==typeof t&&t&&(null==i&&(i=t.position),t=t[this.platform]),t)return"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach((function(t){var n="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach((function(t){var e=this.parseKeys(t);this._addCommandToBinding(n+=(n?" ":"")+(s[e.hashId]+e.key),"chainKeys")}),this),n+=" "}var o=this.parseKeys(t);this._addCommandToBinding(n+(s[o.hashId]+o.key),e,i)}),this)},this._addCommandToBinding=function(e,i,n){var r,s=this.commandKeyBinding;if(i)if(!s[e]||this.$singleCommand)s[e]=i;else{Array.isArray(s[e])?-1!=(r=s[e].indexOf(i))&&s[e].splice(r,1):s[e]=[s[e]],"number"!=typeof n&&(n=t(i));var o=s[e];for(r=0;r<o.length&&!(t(o[r])>n);r++);o.splice(r,0,i)}else delete s[e]},this.addCommands=function(t){t&&Object.keys(t).forEach((function(e){var i=t[e];if(i){if("string"==typeof i)return this.bindKey(i,e);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=e),this.addCommand(i))}}),this)},this.removeCommands=function(t){Object.keys(t).forEach((function(e){this.removeCommand(t[e])}),this)},this.bindKeys=function(t){Object.keys(t).forEach((function(e){this.bindKey(e,t[e])}),this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(t){return t})),i=e.pop(),r=n[i];if(n.FUNCTION_KEYS[r])i=n.FUNCTION_KEYS[r].toLowerCase();else{if(!e.length)return{key:i,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:i.toUpperCase(),hashId:-1}}for(var s=0,o=e.length;o--;){var a=n.KEY_MODS[e[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[o]+" in "+t),!1;s|=a}return{key:i,hashId:s}},this.findKeyCommand=function(t,e){return this.commandKeyBinding[s[t]+e]},this.handleKeyboard=function(t,e,i,n){if(!(n<0)){var r=s[e]+i,o=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,o=this.commandKeyBinding[t.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(t.$keyChain&&(e&&4!=e||1!=i.length?(-1==e||n>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:o}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}).call(o.prototype),e.HashHandler=o,e.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(t,e,i){"use strict";var n=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,s=t("../lib/event_emitter").EventEmitter,o=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",(function(t){return t.command.exec(t.editor,t.args||{})}))};n.inherits(o,r),(function(){n.implement(this,s),this.exec=function(t,e,i){if(Array.isArray(t)){for(var n=t.length;n--;)if(this.exec(t[n],e,i))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;if(0!=this.$checkCommandState&&t.isAvailable&&!t.isAvailable(e))return!1;var r={editor:e,command:t,args:i};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach((function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map((function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t}))}}).call(o.prototype),e.CommandManager=o})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(t,e,i){"use strict";var n=t("../lib/lang"),r=t("../config"),s=t("../range").Range;function o(t,e){return{win:t,mac:e}}e.commands=[{name:"showSettingsMenu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",(function(e){e.init(t),t.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:o("Alt-E","F4"),exec:function(t){r.loadModule("./ext/error_marker",(function(e){e.showErrorMarker(t,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){r.loadModule("./ext/error_marker",(function(e){e.showErrorMarker(t,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,e){"number"!=typeof e||isNaN(e)||t.gotoLine(e),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",(function(e){e.Search(t)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty()?t.selection.getLineRange():t.selection.getRange();t._emit("cut",e),e.isEmpty()||t.session.remove(e),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",(function(e){e.Search(t,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,e){t.insert(n.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var e=t.selection.isBackwards(),i=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),r=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),o=t.session.doc.getLine(i.row).length,a=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,l=t.session.doc.getLine(i.row),h=i.row+1;h<=r.row+1;h++){var c=n.stringTrimLeft(n.stringTrimRight(t.session.doc.getLine(h)));0!==c.length&&(c=" "+c),l+=c}r.row+1<t.session.doc.getLength()-1&&(l+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new s(i.row,0,r.row+2,0),l),a>0?(t.selection.moveCursorTo(i.row,i.column),t.selection.selectTo(i.row,i.column+a)):(o=t.session.doc.getLine(i.row).length>o?o+1:o,t.selection.moveCursorTo(i.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var e=t.session.doc.getLength()-1,i=t.session.doc.getLine(e).length,n=t.selection.rangeList.ranges,r=[];n.length<1&&(n=[t.selection.getRange()]);for(var o=0;o<n.length;o++)o==n.length-1&&(n[o].end.row===e&&n[o].end.column===i||r.push(new s(n[o].end.row,n[o].end.column,e,i))),0===o?0===n[o].start.row&&0===n[o].start.column||r.push(new s(0,0,n[o].start.row,n[o].start.column)):r.push(new s(n[o-1].end.row,n[o-1].end.column,n[o].start.row,n[o].start.column));for(t.exitMultiSelectMode(),t.clearSelection(),o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"openCommandPallete",description:"Open command pallete",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(t,e,i){"use strict";t("./lib/fixoldbrowsers");var n=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/lang"),o=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,l=t("./mouse/mouse_handler").MouseHandler,h=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,u=t("./edit_session").EditSession,d=t("./search").Search,f=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,g=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,b=t("./clipboard"),w=function(t,e,i){var n=t.getContainerElement();this.container=n,this.renderer=t,this.id="editor"+ ++w.$uid,this.commands=new g(o.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new h(this)),this.keyBinding=new c(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",(function(t,e){e._$emitInputEvent.schedule(31)})),this.setSession(e||i&&i.session||new u("")),v.resetOptions(this),i&&this.setOptions(i),v._signal("editor",this)};w.$uid=0,(function(){n.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(t){if(this.curOp){if(t&&!1===t.returnValue)return this.curOp=null;if(1==t&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var e=this.curOp.command,i=e&&e.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),r=this.renderer.layerConfig;(n.start.row>=r.lastRow||n.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,i=this.$mergeableCommands,n=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var i=this;v.loadModule(["keybinding",t],(function(n){i.$keybindingId==t&&i.keyBinding.setKeyboardHandler(n&&n.handler),e&&e()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout((function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var i=e.findMatchingBracket(t.getCursorPosition());if(i)var n=new f(i.row,i.column,i.row,i.column+1);else e.$mode.getMatching&&(n=e.$mode.getMatching(t.session));n&&(e.$bracketHighlight=e.addMarker(n,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout((function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var i=t.getCursorPosition(),n=new y(t.session,i.row,i.column),r=n.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=n.stepForward())){var s=r.value,o=0,a=n.stepBackward();if("<"==a.value)do{a=r,(r=n.stepForward())&&r.value===s&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?o++:"</"===a.value&&o--)}while(r&&o>=0);else{do{r=a,a=n.stepBackward(),r&&r.value===s&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?o++:"</"===a.value&&o--)}while(a&&o<=0);n.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var l=n.getCurrentTokenRow(),h=n.getCurrentTokenColumn(),c=new f(l,h,l,h+r.value.length),u=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=u&&0!==c.compareRange(u.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),e.$tagHighlight||(e.$tagHighlight=e.addMarker(c,"ace_bracket","text"))}}}),50)}},this.focus=function(){var t=this;setTimeout((function(){t.isFocused()||t.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){this.renderer.updateLines(t.start.row,t.start.row==t.end.row?t.end.row:1/0,this.session.$useWrapMode),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var i=new f(t.row,t.column,t.row,1/0);i.id=e.addMarker(i,"ace_active-line","screenLine"),e.$highlightLineMarker=i}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(i,"ace_selection",n)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var i=e.start.column,n=e.end.column,r=t.getLine(e.start.row),s=r.substring(i,n);if(!(s.length>5e3)&&/[\w\d]/.test(s)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),a=r.substring(i-1,n+1);if(o.test(a))return o}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText(),e=this.session.doc.getNewLineCharacter(),i=!1;if(!t&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),r=0;r<n.length;r++){var s=n[r];r&&n[r-1].start.row==s.start.row||(t+=this.session.getLine(s.start.row)+e)}}var o={text:t};return this._signal("copy",o),b.lineMode=i?o.text:"",o.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){this.commands.exec("paste",this,{text:t,event:e})},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text,i=e==b.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},e):this.insert(e);else if(i)this.selection.rangeList.ranges.forEach((function(t){n.insert({row:t.start.row,column:0},e)}));else{var r=e.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges;if(r.length!=s.length||!(2!=r.length||r[0]&&r[1]))return this.commands.exec("insertstring",this,e);for(var o=s.length;o--;){var a=s[o];a.isEmpty()||n.remove(a),n.insert(a.start,r[o])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var i=this.session,n=i.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var s=n.transformAction(i.getState(r.row),"insertion",this,i,t);s&&(t!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),t=s.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==t.indexOf("\n")&&((o=new f.fromPoints(r,r)).end.column+=t.length,this.session.remove(o));else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=i.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);i.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var h=r.column,c=i.getState(r.row),u=(a=i.getLine(r.row),n.checkOutdent(c,a,t));if(i.insert(r,t),s&&s.selection&&this.selection.setSelectionRange(2==s.selection.length?new f(r.row,h+s.selection[0],r.row,h+s.selection[1]):new f(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3])),i.getDocument().isNewLine(t)){var d=n.getNextLineIndent(c,a.slice(0,r.column),i.getTabString());i.insert({row:r.row+1,column:0},d)}u&&n.autoOutdent(c,i,r.row)},this.onTextInput=function(t,e){if(!e)return this.keyBinding.onTextInput(t);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,t,e);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(t,e){var i;(e.extendLeft||e.extendRight)&&((i=this.selection.getRange()).start.column-=e.extendLeft,i.end.column+=e.extendRight,this.selection.setRange(i),t||i.isEmpty()||this.remove()),!t&&this.selection.isEmpty()||this.insert(t,!0),(e.restoreStart||e.restoreEnd)&&((i=this.selection.getRange()).start.column-=e.restoreStart,i.end.column-=e.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(t,e,i){return this.keyBinding.onCommandKey(t,e,i)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(e.start.row),r=i.getMode().transformAction(n,"deletion",this,i,e);if(0===e.end.column){var s=i.getTextRange(e);if("\n"==s[s.length-1]){var o=i.getLine(e.end.row);/^\s+$/.test(o)&&(e.end.column=o.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var i,n,r=this.session.getLine(t.row);e<r.length?(i=r.charAt(e)+r.charAt(e-1),n=new f(t.row,e-1,t.row,e+1)):(i=r.charAt(e-1)+r.charAt(e-2),n=new f(t.row,e-2,t.row,e)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),i=this.session.getTextRange(e);this.session.replace(e,i.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),i=this.session.getTextRange(e);this.session.replace(e,i.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(!(e.start.row<e.end.row)){if(e.start.column<e.end.column){var i=t.getTextRange(e);if(!/^\s+$/.test(i))return c=this.$getSelectedRows(),void t.indentRows(c.first,c.last,"\t")}var n=t.getLine(e.start.row),r=e.start,o=t.getTabSize(),a=t.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s.stringRepeat(" ",h=o-a%o);else{for(var h=a%o;" "==n[e.start.column-1]&&h;)e.start.column--,h--;this.selection.setSelectionRange(e),l="\t"}return this.insert(l)}var c=this.$getSelectedRows();t.indentRows(c.first,c.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),e=this.session,i=[],n=t.first;n<=t.last;n++)i.push(e.getLine(n));i.sort((function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}));var r=new f(0,0,0,0);for(n=t.first;n<=t.last;n++){var s=e.getLine(n);r.start.row=n,r.end.row=n,r.end.column=s.length,e.replace(r,i[n-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,i,t)},this.getNumberAt=function(t,e){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(t);i.lastIndex<e;){var r=i.exec(n);if(r.index<=e&&r.index+r[0].length>=e)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new f(e,i-1,e,i),r=this.session.getTextRange(n);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(e,i);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),l+=t*=o!==s.end&&i<o?Math.pow(10,s.end-i-1):Math.pow(10,s.end-i);var h=(l/=Math.pow(10,a)).toFixed(a),c=new f(e,s.start,e,s.end);this.session.replace(c,h),this.moveCursorTo(e,Math.max(s.start+1,i+h.length-s.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var t=this.selection.getCursor().row,e=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),n=this.selection.getWordRange().start.column,r=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=e-n-1;o<0&&(o=0);var a=0,l=0,h=this;i.match(/[A-Za-z0-9_]+/)&&r.forEach((function(e,r){l=a+e.length,o>=a&&o<=l&&(i=e,h.selection.clearSelection(),h.moveCursorTo(t,a+n),h.selection.selectTo(t,l+n)),a=l}));for(var c,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var f=u[d],p=0;p<=1;p++){var g=+!p,m=i.match(new RegExp("^\\s?_?("+s.escapeRegExp(f[p])+")\\s?$","i"));m&&i.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(m[1])+")($|\\s)","g"))&&(c=i.replace(new RegExp(s.escapeRegExp(f[p]),"i"),(function(t){var e=f[g];return t.toUpperCase()==t?e=e.toUpperCase():t.charAt(0).toUpperCase()==t.charAt(0)&&(e=e.substr(0,0)+f[g].charAt(0).toUpperCase()+e.substr(1)),e})),this.insert(c),c="")}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,i=t.getRange(),n=t.isBackwards();if(i.isEmpty()){var r=i.start.row;e.duplicateLines(r,r)}else{var s=n?i.start:i.end,o=e.insert(s,e.getTextRange(i),!1);i.start=s,i.end=o,t.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,i){return this.session.moveText(t,e,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var i,n,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();i=this.$getSelectedRows(s),n=this.session.$moveLines(i.first,i.last,e?0:t),e&&-1==t&&(n=0),s.moveBy(n,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,h=o.length,c=0;c<h;c++){var u=c;o[c].moveBy(a,0);for(var d=(i=this.$getSelectedRows(o[c])).first,f=i.last;++c<h;){l&&o[c].moveBy(l,0);var p=this.$getSelectedRows(o[c]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(c--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(u=c+1);u<=c;)o[u].moveBy(a,0),u++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(t)},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var i=this.renderer,n=this.renderer.layerConfig,r=t*Math.floor(n.height/n.lineHeight);!0===e?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var s=i.scrollTop;i.scrollBy(0,r*n.lineHeight),null!=e&&i.scrollCursorIntoView(null,.5),i.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,i,n){this.renderer.scrollToLine(t,e,i,n)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var i=this.getCursorPosition(),n=new y(this.session,i.row,i.column),r=n.getCurrentToken(),s=r||n.stepForward();if(s){var o,a,l=!1,h={},c=i.column-s.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;c<s.value.length&&!l;c++)if(u[s.value[c]])switch(a=u[s.value[c]]+"."+s.type.replace("rparen","lparen"),isNaN(h[a])&&(h[a]=0),s.value[c]){case"(":case"[":case"{":h[a]++;break;case")":case"]":case"}":h[a]--,-1===h[a]&&(o="bracket",l=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(h[s.value])&&(h[s.value]=0),"<"===r.value?h[s.value]++:"</"===r.value&&h[s.value]--,-1===h[s.value]&&(o="tag",l=!0));l||(r=s,s=n.stepForward(),c=0)}while(s&&!l);if(o){var d,p;if("bracket"===o)(d=this.session.getBracketRange(i))||(p=(d=new f(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1)).start,(e||p.row===i.row&&Math.abs(p.column-i.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===o){if(!s||-1===s.type.indexOf("tag-name"))return;var g=s.value;if(0===(d=new f(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column)){l=!1;do{s=r,(r=n.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),s.value===g&&-1!==s.type.indexOf("tag-name")&&("<"===r.value?h[g]++:"</"===r.value&&h[g]--,0===h[g]&&(l=!0)))}while(r&&!l)}s&&s.type.indexOf("tag-name")&&(p=d.start).row==i.row&&Math.abs(p.column-i.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,i){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,i)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,t)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),n):n},this.replaceAll=function(t,e){e&&this.$search.set(e);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=i.length-1;s>=0;--s)this.$tryReplace(i[s],t)&&n++;return this.selection.setSelectionRange(r),n},this.$tryReplace=function(t,e){var i=this.session.getTextRange(t);return null!==(e=this.$search.replace(i,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,i){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&n.mixin(e,t);var r=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var s=this.$search.find(this.session);return e.preventScroll?s:s?(this.revealRange(s,i),s):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.session.unfold(t),this.selection.setSelectionRange(t);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",(function(){n=!0})),o=this.renderer.on("beforeRender",(function(){n&&(e=i.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(n&&e&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var t=i.renderer,s=t.$cursorLayer.$pixelPos,o=t.layerConfig,a=s.top-o.offset;null!=(n=s.top>=0&&a+e.top<0||!(s.top<o.height&&s.top+e.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(n)),n=e=null}}));this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,r.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))},this.prompt=function(t,e,i){var n=this;v.loadModule("./ext/prompt",(function(r){r.prompt(n,t,e,i)}))}}).call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(t){this.textInput.setCopyWithEmptySelection(t)},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(t){this.session.setValue(t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(t){this.setSession(t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(t){this.renderer.$gutterLayer.setShowLineNumbers(t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),t&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(t){this.$showLineNumbers&&t?_.attach(this):_.detach(this)}},placeholder:{set:function(t){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var t=this.renderer.$composition||this.getValue();if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!t&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var e=r.createElement("div");e.className="ace_placeholder",e.textContent=this.$placeholder||"",this.renderer.placeholderNode=e,this.renderer.content.appendChild(this.renderer.placeholderNode)}}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(t,e){return(Math.abs(t.selection.lead.row-e)||e+1+(e<9?"\xb7":""))+""},getWidth:function(t,e,i){return Math.max(e.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(t,e){e.renderer.$loop.schedule(e.renderer.CHANGE_GUTTER)},attach:function(t){t.renderer.$gutterLayer.$renderer=this,t.on("changeSelection",this.update),this.update(null,t)},detach:function(t){t.renderer.$gutterLayer.$renderer==this&&(t.renderer.$gutterLayer.$renderer=null),t.off("changeSelection",this.update),this.update(null,t)}};e.Editor=w})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(t,e,i){"use strict";var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(t){this.$session=t},this.add=function(t,e,i){this.$fromUndo||t!=this.$lastDelta&&(!1!==e&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),t.id=this.$rev=++this.$maxRev),"remove"!=t.action&&"insert"!=t.action||(this.$lastDelta=t),this.lastDeltas.push(t))},this.addSelection=function(t,e){this.selections.push({value:t,rev:e||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(t,e){null==e&&(e=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var r=i[n][0];if(r.id<=t)break;r.id<e&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(t,e){for(var i=this.selections,n=i.length;n--;){var r=i[n];if(r.rev<t)return e&&(r=i[n+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(t,e){null==e&&(e=this.$rev+1);for(var i=this.$undoStack,n=null,r=0,s=i.length;s--;){var o=i[s][0];if(o.id<e&&!n&&(n=s+1),o.id<=t){r=s+1;break}}return i.slice(r,n)},this.getChangedRanges=function(t,e){null==e&&(e=this.$rev+1)},this.getChangedLines=function(t,e){null==e&&(e=this.$rev+1)},this.undo=function(t,e){this.lastDeltas=null;var i=this.$undoStack;if(function(t,e){for(var i=e;i--;){var n=t[i];if(n&&!n[0].ignore){for(;i<e-1;){var r=c(t[i],t[i+1]);t[i]=r[0],t[i+1]=r[1],i++}return!0}}}(i,i.length)){t||(t=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),r=null;return n&&n.length&&(r=t.undoChanges(n,e),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(t,e){if(this.lastDeltas=null,t||(t=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(t,e){for(var i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++)g(t,n[r])}(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(t){t[0].id=++this.$maxRev}),this)}var n=this.$redoStack.pop(),r=null;return n&&(r=t.redoChanges(n,e),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var t=this.$undoStack,e=t[t.length-1],i=e&&e[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(t){null==t&&(t=this.$rev),this.mark=t},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(t){return t?a(t):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(n.prototype);var r=t("./range").Range,s=r.comparePoints;function o(t){return{row:t.row,column:t.column}}function a(t){if(t=t||this,Array.isArray(t))return t.map(a).join("\n");var e="";return t.action?(e="insert"==t.action?"+":"-",e+="["+t.lines+"]"):t.value&&(e=Array.isArray(t.value)?t.value.map(l).join("\n"):l(t.value)),t.start&&(e+=l(t)),(t.id||t.rev)&&(e+="\t("+(t.id||t.rev)+")"),e}function l(t){return t.start.row+":"+t.start.column+"=>"+t.end.row+":"+t.end.column}function h(t,e){var i="insert"==t.action,n="insert"==e.action;if(i&&n)if(s(e.start,t.end)>=0)d(e,t,-1);else{if(!(s(e.start,t.start)<=0))return null;d(t,e,1)}else if(i&&!n)if(s(e.start,t.end)>=0)d(e,t,-1);else{if(!(s(e.end,t.start)<=0))return null;d(t,e,-1)}else if(!i&&n)if(s(e.start,t.start)>=0)d(e,t,1);else{if(!(s(e.start,t.start)<=0))return null;d(t,e,1)}else if(!i&&!n)if(s(e.start,t.start)>=0)d(e,t,1);else{if(!(s(e.end,t.start)<=0))return null;d(t,e,-1)}return[e,t]}function c(t,e){for(var i=t.length;i--;)for(var n=0;n<e.length;n++)if(!h(t[i],e[n])){for(;i<t.length;){for(;n--;)h(e[n],t[i]);n=e.length,i++}return[t,e]}return t.selectionBefore=e.selectionBefore=t.selectionAfter=e.selectionAfter=null,[e,t]}function u(t,e){var i="insert"==t.action,n="insert"==e.action;if(i&&n)s(t.start,e.start)<0?d(e,t,1):d(t,e,1);else if(i&&!n)s(t.start,e.end)>=0?d(t,e,-1):(s(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!i&&n)s(e.start,t.end)>=0?d(e,t,-1):(s(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!i&&!n)if(s(e.start,t.end)>=0)d(e,t,-1);else{var o,a;if(!(s(e.end,t.start)<=0))return s(t.start,e.start)<0&&(o=t,t=p(t,e.start)),s(t.end,e.end)>0&&(a=p(t,e.end)),f(e.end,t.start,t.end,-1),a&&!o&&(t.lines=a.lines,t.start=a.start,t.end=a.end,a=t),[e,o,a].filter(Boolean);d(t,e,-1)}return[e,t]}function d(t,e,i){f(t.start,e.start,e.end,i),f(t.end,e.start,e.end,i)}function f(t,e,i,n){t.row==(1==n?e:i).row&&(t.column+=n*(i.column-e.column)),t.row+=n*(i.row-e.row)}function p(t,e){var i=t.lines,n=t.end;t.end=o(e);var r=t.end.row-t.start.row,s=i.splice(r,i.length),a=r?e.column:e.column-t.start.column;return i.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:o(e),end:n,lines:s,action:t.action}}function g(t,e){e=function(t){return{start:o(t.start),end:o(t.end),action:t.action,lines:t.lines.slice()}}(e);for(var i=t.length;i--;){for(var n=t[i],r=0;r<n.length;r++){var s=u(n[r],e);e=s[0],2!=s.length&&(s[2]?(n.splice(r+1,1,s[1],s[2]),r++):s[1]||(n.splice(r,1),r--))}n.length||t.splice(i,1)}return t}e.UndoManager=n})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(t,e,i){"use strict";var n=t("../lib/dom"),r=function(t,e){this.element=t,this.canvasHeight=e||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(t){n.translate(this.element,0,-t.firstRowScreen*t.lineHeight%this.canvasHeight-t.offset*this.$offsetCoefficient)},this.pageChanged=function(t,e){return Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)!==Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)},this.computeLineTop=function(t,e,i){var n=Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight);return i.documentToScreenRow(t,0)*e.lineHeight-n*this.canvasHeight},this.computeLineHeight=function(t,e,i){return e.lineHeight*i.getRowLength(t)},this.getLength=function(){return this.cells.length},this.get=function(t){return this.cells[t]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(t){if(Array.isArray(t)){this.cells.push.apply(this.cells,t);for(var e=n.createFragment(this.element),i=0;i<t.length;i++)e.appendChild(t[i].element);this.element.appendChild(e)}else this.cells.push(t),this.element.appendChild(t.element)},this.unshift=function(t){if(Array.isArray(t)){this.cells.unshift.apply(this.cells,t);for(var e=n.createFragment(this.element),i=0;i<t.length;i++)e.appendChild(t[i].element);this.element.firstChild?this.element.insertBefore(e,this.element.firstChild):this.element.appendChild(e)}else this.cells.unshift(t),this.element.insertAdjacentElement("afterbegin",t.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(t){t&&(t.element.remove(),this.cellCache.push(t))},this.createCell=function(t,e,i,r){var s=this.cellCache.pop();if(!s){var o=n.createElement("div");r&&r(o),this.element.appendChild(o),s={element:o,text:"",row:t}}return s.row=t,s}}).call(r.prototype),e.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(t,e,i){"use strict";var n=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,a=t("./lines").Lines,l=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function h(t){var e=document.createTextNode("");t.appendChild(e);var i=n.createElement("span");return t.appendChild(i),t}(function(){r.implement(this,o),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var i=t[e],n=i.row,r=this.$annotations[n];r||(r=this.$annotations[n]={text:[]});var o=i.text;o=o?s.escapeHTML(o):i.html||"",-1===r.text.indexOf(o)&&r.text.push(o);var a=i.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,i=t.end.row-e;if(0===i);else if("remove"==t.action)this.$annotations.splice(e,i+1,null);else{var n=new Array(i+1);n.unshift(e,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(t){this.config=t;var e=this.session,i=t.firstRow,n=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1);this.oldLastRow=n,this.config=t,this.$lines.moveContainer(t),this.$updateCursorRow();for(var r=e.getNextFoldLine(i),s=r?r.start.row:1/0,o=null,a=-1,l=i;;){if(l>s&&(s=(r=e.getNextFoldLine(l=r.end.row+1,r))?r.start.row:1/0),l>n){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(o=this.$lines.get(++a))?o.row=l:(o=this.$lines.createCell(l,t,this.session,h),this.$lines.push(o)),this.$renderCell(o,t,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(t)},this.$updateGutterWidth=function(t){var e=this.session,i=e.gutterRenderer||this.$renderer,n=e.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||e.$useWrapMode)&&(r=e.getLength()+n-1);var s=i?i.getWidth(e,r,t):r.toString().length*t.characterWidth,o=this.$padding||this.$computePadding();(s+=o.left+o.right)===this.gutterWidth||isNaN(s)||(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var t=this.session.selection.getCursor();this.$cursorRow!==t.row&&(this.$cursorRow=t.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var t=this.session.selection.cursor.row;if(this.$cursorRow=t,!this.$cursorCell||this.$cursorCell.row!=t){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var e=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<e.length;i++){var n=e[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&r&&r.start.row==e[i-1].row))break;n=e[i-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(t){var e=this.config;if(this.config=t,this.$updateCursorRow(),this.$lines.pageChanged(e,t))return this.update(t);this.$lines.moveContainer(t);var i=Math.min(t.lastRow+t.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!e||n<t.firstRow)return this.update(t);if(i<e.firstRow)return this.update(t);if(e.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(n>i)for(r=this.session.getFoldedRowCount(i+1,n);r>0;r--)this.$lines.pop();t.firstRow<e.firstRow&&this.$lines.unshift(this.$renderLines(t,t.firstRow,e.firstRow-1)),i>n&&this.$lines.push(this.$renderLines(t,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(t)},this.$renderLines=function(t,e,i){for(var n=[],r=e,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;r>o&&(o=(s=this.session.getNextFoldLine(r=s.end.row+1,s))?s.start.row:1/0),!(r>i);){var a=this.$lines.createCell(r,t,this.session,h);this.$renderCell(a,t,s,r),n.push(a),r++}return n},this.$renderCell=function(t,e,i,r){var s=t.element,o=this.session,a=s.childNodes[0],l=s.childNodes[1],h=o.$firstLineNumber,c=o.$breakpoints,u=o.$decorations,d=o.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&o.foldWidgets,p=i?i.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||i&&r<this.$cursorRow&&r>=p&&this.$cursorRow<=i.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=t&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=t)),c[r]&&(g+=c[r]),u[r]&&(g+=u[r]),this.$annotations[r]&&(g+=this.$annotations[r].className),s.className!=g&&(s.className=g),f){var m=f[r];null==m&&(m=f[r]=o.getFoldWidget(r))}m?(g="ace_fold-widget ace_"+m,l.className!=(g+="start"==m&&r==p&&r<i.end.row?" ace_closed":" ace_open")&&(l.className=g),n.setStyle(l.style,"height",e.lineHeight+"px"),n.setStyle(l.style,"display","inline-block")):l&&n.setStyle(l.style,"display","none");var v=(d?d.getText(o,r):r+h).toString();return v!==a.data&&(a.data=v),n.setStyle(t.element.style,"height",this.$lines.computeLineHeight(r,e,o)+"px"),n.setStyle(t.element.style,"top",this.$lines.computeLineTop(r,e,o)+"px"),t.text=v,t},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(t){this.$highlightGutterLine=t},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(t.borderLeftWidth)||0)+(parseInt(t.paddingLeft)||0)+1,this.$padding.right=(parseInt(t.borderRightWidth)||0)+(parseInt(t.paddingRight)||0),this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return t.x<e.left+i.left?"markers":this.$showFoldWidgets&&t.x>i.right-e.right?"foldWidgets":void 0}}).call(l.prototype),e.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(t,e,i){"use strict";var n=t("../range").Range,r=t("../lib/dom"),s=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.elt=function(t,e){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=e,i.className=t},this.update=function(t){if(t){var e;for(var i in this.config=t,this.i=0,this.markers){var n=this.markers[i];if(n.range){var r=n.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),n.renderer){var s=this.$getTop(r.start.row,t);n.renderer(e,r,this.$padding+r.start.column*t.characterWidth,s,t)}else"fullLine"==n.type?this.drawFullLineMarker(e,r,n.clazz,t):"screenLine"==n.type?this.drawScreenLineMarker(e,r,n.clazz,t):r.isMultiLine()?"text"==n.type?this.drawTextMarker(e,r,n.clazz,t):this.drawMultiLineMarker(e,r,n.clazz,t):this.drawSingleLineMarker(e,r,n.clazz+" ace_start ace_br15",t)}else n.update(e,this,this.session,t)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(t,e,i,r,s){for(var o=this.session,a=e.start.row,l=e.end.row,h=a,c=0,u=0,d=o.getScreenLastRowColumn(h),f=new n(h,e.start.column,h,u);h<=l;h++)f.start.row=f.end.row=h,f.start.column=h==a?e.start.column:o.getRowWrapIndent(h),f.end.column=d,c=u,u=d,d=h+1<l?o.getScreenLastRowColumn(h+1):h==l?0:e.end.column,this.drawSingleLineMarker(t,f,i+(h==a?" ace_start":"")+" ace_br"+((h==a||h==a+1&&e.start.column?1:0)|(c<u?2:0)|(u>d?4:0)|(h==l?8:0)),r,h==l?0:1,s)},this.drawMultiLineMarker=function(t,e,i,n,r){var s,o=this.$padding,a=n.lineHeight,l=this.$getTop(e.start.row,n),h=o+e.start.column*n.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row)?((s=e.clone()).end.row=s.start.row,s.end.column=this.session.getLine(s.start.row).length,this.drawBidiSingleLineMarker(t,s,i+" ace_br1 ace_start",n,null,r)):this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+l+"px;left:"+h+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(e.end.row)?((s=e.clone()).start.row=s.end.row,s.start.column=0,this.drawBidiSingleLineMarker(t,s,i+" ace_br12",n,null,r)):(l=this.$getTop(e.end.row,n),this.elt(i+" ace_br12","height:"+a+"px;width:"+e.end.column*n.characterWidth+"px;top:"+l+"px;left:"+o+"px;"+(r||""))),!((a=(e.end.row-e.start.row-1)*n.lineHeight)<=0)){l=this.$getTop(e.start.row+1,n);var c=(e.start.column?1:0)|(e.end.column?0:8);this.elt(i+(c?" ace_br"+c:""),"height:"+a+"px;right:0;top:"+l+"px;left:"+o+"px;"+(r||""))}},this.drawSingleLineMarker=function(t,e,i,n,r,s){if(this.session.$bidiHandler.isBidiRow(e.start.row))return this.drawBidiSingleLineMarker(t,e,i,n,r,s);var o=n.lineHeight,a=(e.end.column+(r||0)-e.start.column)*n.characterWidth,l=this.$getTop(e.start.row,n);this.elt(i,"height:"+o+"px;width:"+a+"px;top:"+l+"px;left:"+(this.$padding+e.start.column*n.characterWidth)+"px;"+(s||""))},this.drawBidiSingleLineMarker=function(t,e,i,n,r,s){var o=n.lineHeight,a=this.$getTop(e.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(e.start.column,e.end.column).forEach((function(t){this.elt(i,"height:"+o+"px;width:"+t.width+(r||0)+"px;top:"+a+"px;left:"+(l+t.left)+"px;"+(s||""))}),this)},this.drawFullLineMarker=function(t,e,i,n,r){var s=this.$getTop(e.start.row,n),o=n.lineHeight;e.start.row!=e.end.row&&(o+=this.$getTop(e.end.row,n)-s),this.elt(i,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(t,e,i,n,r){var s=this.$getTop(e.start.row,n);this.elt(i,"height:"+n.lineHeight+"px;top:"+s+"px;left:0;right:0;"+(r||""))}}).call(s.prototype),e.Marker=s})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(t,e,i){"use strict";var n=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("./lines").Lines,a=t("../lib/event_emitter").EventEmitter,l=function(t){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){n.implement(this,a),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var t=this.session.doc,e="\n"==t.getNewLineCharacter()&&"windows"!=t.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",(function(t){this._signal("changeCharacterSize",t)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],i=1;i<t+1;i++)this.showInvisibles?((n=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",n.textContent=s.stringRepeat(this.TAB_CHAR,i),e.push(n)):e.push(this.dom.createTextNode(s.stringRepeat(" ",i),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n,r="ace_indent-guide",o="",a="";if(this.showInvisibles){r+=" ace_invisible",o=" ace_invisible_space",a=" ace_invisible_tab";var l=s.stringRepeat(this.SPACE_CHAR,this.tabSize),h=s.stringRepeat(this.TAB_CHAR,this.tabSize)}else h=l=s.stringRepeat(" ",this.tabSize);(n=this.dom.createElement("span")).className=r+o,n.textContent=l,this.$tabStrings[" "]=n,(n=this.dom.createElement("span")).className=r+a,n.textContent=h,this.$tabStrings["\t"]=n}},this.updateLines=function(t,e,i){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var n=Math.max(e,t.firstRow),r=Math.min(i,t.lastRow),s=this.element.childNodes,o=0,a=t.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}o++}for(var l,h=!1,c=(l=this.session.getNextFoldLine(a=n))?l.start.row:1/0;a>c&&(c=(l=this.session.getNextFoldLine(a=l.end.row+1,l))?l.start.row:1/0),!(a>r);){var u=s[o++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==c&&l),h&&(u.style.top=this.$lines.computeLineTop(a,t,this.session)+"px");var d=t.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(h=!0,u.style.height=d)}a++}if(h)for(;o<this.$lines.cells.length;){var f=this.$lines.cells[o++];f.element.style.top=this.$lines.computeLineTop(f.row,t,this.session)+"px"}},this.scrollLines=function(t){var e=this.config;if(this.config=t,this.$lines.pageChanged(e,t))return this.update(t);this.$lines.moveContainer(t);var i=t.lastRow;if(!e||(e?e.lastRow:-1)<t.firstRow)return this.update(t);if(i<e.firstRow)return this.update(t);if(!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);if(e.firstRow<t.firstRow)for(var n=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);n>0;n--)this.$lines.shift();if(e.lastRow>t.lastRow)for(n=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);n>0;n--)this.$lines.pop();t.firstRow<e.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,e.firstRow-1)),t.lastRow>e.lastRow&&this.$lines.push(this.$renderLinesFragment(t,e.lastRow+1,t.lastRow))},this.$renderLinesFragment=function(t,e,i){for(var n=[],s=e,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(a=(o=this.session.getNextFoldLine(s=o.end.row+1,o))?o.start.row:1/0),!(s>i);){var l=this.$lines.createCell(s,t,this.session),h=l.element;this.dom.removeChildren(h),r.setStyle(h.style,"height",this.$lines.computeLineHeight(s,t,this.session)+"px"),r.setStyle(h.style,"top",this.$lines.computeLineTop(s,t,this.session)+"px"),this.$renderLine(h,s,s==a&&o),h.className=this.$useLineGroups()?"ace_line_group":"ace_line",n.push(l),s++}return n},this.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var e=t.firstRow,i=t.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(t,e,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,i,n){for(var r,o=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),l=0;r=o.exec(n);){var h=r[1],c=r[2],u=r[3],d=r[4],f=r[5];if(this.showInvisibles||!c){var p=l!=r.index?n.slice(l,r.index):"";if(l=r.index+r[0].length,p&&a.appendChild(this.dom.createTextNode(p,this.element)),h){var g=this.session.getScreenTabSize(e+r.index);a.appendChild(this.$tabStrings[g].cloneNode(!0)),e+=g-1}else c?this.showInvisibles?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=s.stringRepeat(this.SPACE_CHAR,c.length),a.appendChild(v)):a.appendChild(this.com.createTextNode(c,this.element)):u?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=s.stringRepeat(this.SPACE_CHAR,u.length),a.appendChild(v)):d?(e+=1,(v=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",v.className=this.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=this.showInvisibles?this.SPACE_CHAR:d,a.appendChild(v)):f&&(e+=1,(v=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",v.className="ace_cjk",v.textContent=f,a.appendChild(v))}}if(a.appendChild(this.dom.createTextNode(l?n.slice(l):n,this.element)),this.$textToken[i.type])t.appendChild(a);else{var m="ace_"+i.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==i.type&&(v.style.width=i.value.length*this.config.characterWidth+"px"),v.className=m,v.appendChild(a),t.appendChild(v)}return e+n.length},this.renderIndentGuide=function(t,e,i){var n=e.search(this.$indentGuideRe);if(n<=0||n>=i)return e;if(" "==e[0]){for(var r=(n-=n%this.tabSize)/this.tabSize,s=0;s<r;s++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return e.substr(n)}if("\t"==e[0]){for(s=0;s<n;s++)t.appendChild(this.$tabStrings["\t"].cloneNode(!0));return e.substr(n)}return e},this.$createLineElement=function(t){var e=this.dom.createElement("div");return e.className="ace_line",e.style.height=this.config.lineHeight+"px",e},this.$renderWrappedLine=function(t,e,i){var n=0,r=0,o=i[0],a=0,l=this.$createLineElement();t.appendChild(l);for(var h=0;h<e.length;h++){var c=e[h],u=c.value;if(0==h&&this.displayIndentGuides){if(n=u.length,!(u=this.renderIndentGuide(l,u,o)))continue;n-=u.length}if(n+u.length<o)a=this.$renderToken(l,a,c,u),n+=u.length;else{for(;n+u.length>=o;)a=this.$renderToken(l,a,c,u.substring(0,o-n)),u=u.substring(o-n),n=o,l=this.$createLineElement(),t.appendChild(l),l.appendChild(this.dom.createTextNode(s.stringRepeat("\xa0",i.indent),this.element)),a=0,o=i[++r]||Number.MAX_VALUE;0!=u.length&&(n+=u.length,a=this.$renderToken(l,a,c,u))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(t,e){var i=0,n=e[0],r=n.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(i=this.$renderToken(t,i,n,r));for(var s=1;s<e.length;s++){if(i+(r=(n=e[s]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,i,n,r);i=this.$renderToken(t,i,n,r)}},this.$renderOverflowMessage=function(t,e,i,n,r){i&&this.$renderToken(t,e,i,n.slice(0,this.MAX_LINE_LENGTH-e));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=r?"<hide>":"<click to see more...>",t.appendChild(s)},this.$renderLine=function(t,e,i){if(i||0==i||(i=this.session.getFoldLine(e)),i)var n=this.$getFoldLineTokens(e,i);else n=this.session.getTokens(e);var r=t;if(n.length){var s=this.session.getRowSplitData(e);s&&s.length?(this.$renderWrappedLine(t,n,s),r=t.lastChild):(r=t,this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r)),this.$renderSimpleLine(r,n))}else this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r));if(this.showInvisibles&&r){i&&(e=i.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(o)}},this.$getFoldLineTokens=function(t,e){var i=this.session,n=[],r=i.getTokens(t);return e.walk((function(t,e,s,o,a){null!=t?n.push({type:"fold",value:t}):(a&&(r=i.getTokens(e)),r.length&&function(t,e,i){for(var r=0,s=0;s+t[r].value.length<e;)if(s+=t[r].value.length,++r==t.length)return;for(s!=e&&((o=t[r].value.substring(e-s)).length>i-e&&(o=o.substring(0,i-e)),n.push({type:t[r].type,value:o}),s=e+o.length,r+=1);s<i&&r<t.length;){var o;n.push((o=t[r].value).length+s>i?{type:t[r].type,value:o.substring(0,i-s)}:t[r]),s+=o.length,r+=1}}(r,o,s))}),e.end.row,this.session.getLine(e.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),e.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(t,e,i){"use strict";var n=t("../lib/dom"),r=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(t){for(var e=this.cursors,i=e.length;i--;)n.setStyle(e[i].style,"opacity",t?"":"0")},this.$startCssAnimation=function(){for(var t=this.cursors,e=t.length;e--;)t[e].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){n.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){n.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,n.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var t=n.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&n.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout((function(){n.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var e=(function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval((function(){t(!0),e()}),this.blinkInterval),e()}else this.$stopCssAnimation()},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,t.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(t,e){return t.top>=0&&t.top<e.maxHeight},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,i=0,r=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]),i=0;for(var s=e.length;i<s;i++){var o=this.getPixelPosition(e[i].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&i>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,o,t,e[i],this.session):this.isCursorInView(o,t)?(n.setStyle(l,"display","block"),n.translate(a,o.left,o.top),n.setStyle(l,"width",Math.round(t.characterWidth)+"px"),n.setStyle(l,"height",t.lineHeight+"px")):n.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var h=this.session.getOverwrite();this.$setOverwrite(h),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),e.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,a=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(a.prototype);var l=function(t,e){a.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(l,a),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>32768?(this.coeff=32768/t,t=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}).call(l.prototype);var h=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(h,a),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}).call(h.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=h,e.VScrollBar=l,e.HScrollBar=h})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(t,e,i){"use strict";var n=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=e||window;var i=this;this._flush=function(t){i.pending=!1;var e=i.changes;if(e&&(n.blockIdle(100),i.changes=0,i.onRender(e)),i.changes){if(i.$recursionLimit--<0)return;i.schedule()}else i.$recursionLimit=2}};(function(){this.schedule=function(t){this.changes=this.changes|t,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(t){var e=this.changes;return this.changes=0,e}}).call(r.prototype),e.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(t,e,i){var n=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("../lib/event"),a=t("../lib/useragent"),l=t("../lib/event_emitter").EventEmitter,h="function"==typeof ResizeObserver,c=200,u=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),this.$measureNode.innerHTML=s.stringRepeat("X",256),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",a.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(t){if(void 0===t&&(t=this.$measureSizes()),t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver((function(e){var i=e[0].contentRect;t.checkForSizeChanges({height:i.height,width:i.width/256})})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=o.onIdle((function e(){t.checkForSizeChanges(),o.onIdle(e,500)}),500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(t){var e={height:(t||this.$measureNode).clientHeight,width:(t||this.$measureNode).clientWidth/256};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(t){return this.$main.innerHTML=s.stringRepeat(t,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function t(e){return e?(window.getComputedStyle(e).zoom||1)*t(e.parentElement):1},this.$initTransformMeasureNodes=function(){var t=function(t,e){return["div",{style:"position: absolute;top:"+t+"px;left:"+e+"px;"}]};this.els=r.buildDom([t(0,0),t(c,0),t(0,c),t(c,c)],this.el)},this.transformCoordinates=function(t,e){function i(t,e,i){var n=t[1]*e[0]-t[0]*e[1];return[(-e[1]*i[0]+e[0]*i[1])/n,(+t[1]*i[0]-t[0]*i[1])/n]}function n(t,e){return[t[0]-e[0],t[1]-e[1]]}function r(t,e){return[t[0]+e[0],t[1]+e[1]]}function s(t,e){return[t*e[0],t*e[1]]}function o(t){var e=t.getBoundingClientRect();return[e.left,e.top]}t&&(t=s(1/this.$getZoom(this.el),t)),this.els||this.$initTransformMeasureNodes();var a=o(this.els[0]),l=o(this.els[1]),h=o(this.els[2]),u=o(this.els[3]),d=i(n(u,l),n(u,h),n(r(l,h),r(u,a))),f=s(1+d[0],n(l,a)),p=s(1+d[1],n(h,a));if(e){var g=e,m=d[0]*g[0]/c+d[1]*g[1]/c+1,v=r(s(g[0],f),s(g[1],p));return r(s(1/m/c,v),a)}var y=n(t,a),b=i(n(f,s(d[0],y)),n(p,s(d[1],y)),y);return s(c,b)}}).call(u.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(t,e,i){"use strict";var n=t("./lib/oop"),r=t("./lib/dom"),s=t("./config"),o=t("./layer/gutter").Gutter,a=t("./layer/marker").Marker,l=t("./layer/text").Text,h=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,u=t("./scrollbar").VScrollBar,d=t("./renderloop").RenderLoop,f=t("./layer/font_metrics").FontMetrics,p=t("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);opacity: 0.7;transform-origin: left;text-indent: 10px;}',m=t("./lib/useragent"),v=m.isIE;r.importCssString(g,"ace_editor.css");var y=function(t,e){var i=this;this.container=t||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(e),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new a(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",(function(t){i.$scrollAnimation||i.session.setScrollTop(t.data-i.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(t){i.$scrollAnimation||i.session.setScrollLeft(t.data-i.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(t){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",t)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,i){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;n||(n=r.clientHeight||r.scrollHeight),i||(i=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(t,e,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,i,n){var s=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if((n-=this.$extraHeight||0)&&(t||o.height!=n)&&(o.height=n,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(t||o.width!=i)){s|=this.CHANGE_SIZE,o.width=i,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,r.setStyle(this.scrollBarH.element.style,"left",e+"px"),r.setStyle(this.scroller.style,"left",e+this.margin.left+"px"),o.scrollerWidth=Math.max(0,i-e-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(s|=this.CHANGE_FULL)}return o.$dirty=!i||!n,s&&this._signal("resize",a),s},this.onGutterResize=function(t){var e=this.$showGutter?t:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var t=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=r.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var t=this.textarea.style,e=this.$composition;if(this.$keepTextAreaAtCursor||e){var i=this.$cursorLayer.$pixelPos;if(i){e&&e.markerRange&&(i=this.$cursorLayer.getPixelPosition(e.markerRange.start,!0));var n=this.layerConfig,s=i.top,o=i.left,a=e&&e.useTextareaForIME?this.lineHeight:v?0:1;if((s-=n.offset)<0||s>n.height-a)r.translate(this.textarea,0,0);else{var l=1,h=this.$size.height-a;e?e.useTextareaForIME?l=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:s+=this.lineHeight+2:s+=this.lineHeight,(o-=this.scrollLeft)>this.$size.scrollerWidth-l&&(o=this.$size.scrollerWidth-l),o+=this.gutterWidth+this.margin.left,r.setStyle(t,"height",a+"px"),r.setStyle(t,"width",l+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-l),Math.min(s,h))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,i,n){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(t,e,i,n){var r=this.margin;r.top=0|t,r.bottom=0|e,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(t-=(e-this.lineHeight)*this.$scrollPastEnd)-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-i.offset);var s=i.minHeight+"px";r.setStyle(this.content.style,"width",i.width+2*this.$padding+"px"),r.setStyle(this.content.style,"height",s)}if(t&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender");if(t&this.CHANGE_SCROLL)return this.$changedLines=null,t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(t&this.CHANGE_GUTTER||t&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender");t&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):t&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender")}else this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,i=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=!(i<=2*this.lineHeight)&&t>e;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var r=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,i=e.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!i&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=e.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=h;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,n-e.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+c.right)));var u=!i&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-n+h<0||this.scrollTop>c.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=t.screenToDocumentRow(v,0);var w=t.getFoldLine(v);w&&(v=w.start.row),f=t.documentToScreenRow(v,0),p=t.getRowLength(v)*b,y=Math.min(t.screenToDocumentRow(y,0),t.getLength()-1),l=e.scrollerHeight+t.getRowLength(y)*b+p,g=this.scrollTop-f*b;var _=0;return(this.layerConfig.width!=r||o)&&(_=this.CHANGE_H_SCROLL),(o||d)&&(_|=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:f,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+e.height-e.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),_},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(t>i.lastRow+1||e<i.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,t,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),this.$textLayer&&t>this.$textLayer.MAX_LINE_LENGTH&&(t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,i){this.scrollCursorIntoView(t,i),this.scrollCursorIntoView(e,i)},this.scrollCursorIntoView=function(t,e,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(t),r=n.left,s=n.top,o=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(e&&l+o>s+this.lineHeight&&(s-=e*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=e*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+a-this.$size.scrollerHeight));var h=this.scrollLeft;h>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):h+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):h<=this.$padding&&r-h<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var i=this.$cursorLayer.getPixelPosition(t).top-(this.$size.scrollerHeight-this.lineHeight)*(e||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(t,e){var i,n=0,r=this.STEPS,s=[];for(n=0;n<r;++n)s.push((i=t,(e-t)*(Math.pow(n/this.STEPS-1,3)+1)+i));return s},this.scrollToLine=function(t,e,i,n){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==i&&this.animateScrolling(s,n)},this.animateScrolling=function(t,e){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(t!=i){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==i)return}var s=n.$calcSteps(t,i);this.$scrollAnimation={from:t,to:i,steps:s},clearInterval(this.$timer),n.session.setScrollTop(s.shift()),n.session.$scrollTop=i,this.$timer=setInterval((function(){s.length?(n.session.setScrollTop(s.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,e&&e())}),10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(t,e){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([t,e]);t=n[1]-this.gutterWidth-this.margin.left,e=n[0]}else i=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-i.left-this.$padding,s=r/this.characterWidth,o=Math.floor((e+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:a,side:s-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(t,e){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([t,e]);t=n[1]-this.gutterWidth-this.margin.left,e=n[0]}else i=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-i.left-this.$padding,s=r/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),a=Math.floor((e+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(o,0),r)},this.textToScreenCoordinates=function(t,e){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(t,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth));return{pageX:i.left+r-this.scrollLeft,pageY:i.top+n.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition=t,t.cssText||(t.cssText=this.textarea.style.cssText),t.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):t.markerId=this.session.addMarker(t.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(t){var e=this.session.selection.cursor;this.addToken(t,"composition_placeholder",e.row,e.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(t,e,i,n){var r=this.session;r.bgTokenizer.lines[i]=null;var s={type:e,value:t},o=r.getTokens(i);if(null==n)o.push(s);else for(var a=0,l=0;l<o.length;l++){var h=o[l];if(n<=(a+=h.value.length)){var c=h.value.length-(a-n),u=h.value.slice(0,c),d=h.value.slice(c);o.splice(l,1,{type:h.type,value:u},s,{type:h.type,value:d});break}}this.updateLines(i,i)},this.setTheme=function(t,e){var i=this;function n(n){if(i.$themeId!=t)return e&&e();if(!n||!n.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");n.$id&&(i.$themeId=n.$id),r.importCssString(n.cssText,n.cssClass,i.container),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var s="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&s!=i.$padding&&i.setPadding(s),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),e&&e()}this.$themeId=t,i._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t?n(t):s.loadModule(["theme",t||this.$options.theme.initialValue],n)},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){r.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){r.removeCssClass(this.container,t)},this.setCursorStyle=function(t){r.setStyle(this.scroller.style,"cursor",t)},this.setMouseCursor=function(t){r.setStyle(this.scroller.style,"cursor",t)},this.attachToShadowRoot=function(){r.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(y.prototype),s.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){this.$gutterLayer.setHighlightGutterLine(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){this.$scrollPastEnd!=(t=+t||0)&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),e.VirtualRenderer=y})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(t,e,i){"use strict";var n=t("../lib/oop"),r=t("../lib/net"),s=t("../lib/event_emitter").EventEmitter,o=t("../config");function a(t){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var e=function(t){var e="importScripts('"+r.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(n){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(e),i.getBlob("application/javascript")}}(t),i=(window.URL||window.webkitURL).createObjectURL(e);return new Worker(i)}return new Worker(t)}var l=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,s),this.$createWorkerFromOldConfig=function(e,i,n,r,s){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)r=r||o.moduleUrl(i,"worker");else{var l=this.$normalizePath;r=r||l(t.toUrl("ace/worker/worker.js",null,"_"));var h={};e.forEach((function(e){h[e]=l(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:h,module:i,classname:n}),this.$worker},this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var i=this.callbacks[e.id];i&&(i(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return r.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,e.push(n)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker.postMessage({event:t,data:{data:e.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(t.start,"insert"==t.action?t.lines:t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(l.prototype),e.UIWorkerClient=function(t,e,i){var n=null,r=!1,a=Object.create(s),h=[],c=new l({messageBuffer:h,terminate:function(){},postMessage:function(t){h.push(t),n&&(r?setTimeout(u):u())}});c.setEmitSync=function(t){r=t};var u=function(){var t=h.shift();t.command?n[t.command].apply(n,t.args):t.event&&a._signal(t.event,t.data)};return a.postMessage=function(t){c.onMessage({data:t})},a.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},a.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},o.loadModule(["worker",e],(function(t){for(n=new t[i](a);h.length;)u()})),c},e.WorkerClient=l,e.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(t,e,i){"use strict";var n=t("./range").Range,r=t("./lib/event_emitter").EventEmitter,s=t("./lib/oop"),o=function(t,e,i,n,r,s){var o=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=i;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,r),this.setup=function(){var t=this,e=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(i){var n=e.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),t.others.push(n)})),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach((function(i){i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),e.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var i="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,r=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,s=e.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=i),r&&!this.session.$fromUndo)if("insert"===t.action)for(var o=this.others.length-1;o>=0;o--)this.doc.insertMergedLines(l={row:(a=this.others[o]).row,column:a.column+s},t.lines);else if("remove"===t.action)for(o=this.others.length-1;o>=0;o--){var a,l;this.doc.remove(new n((l={row:(a=this.others[o]).row,column:a.column+s}).row,l.column,l.row,l.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,i=function(i,r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),r,null,!1)};i(this.pos,this.mainClass);for(var r=this.others.length;r--;)i(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,i=0;i<e;i++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),e.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,e,i){var n=t("../lib/event"),r=t("../lib/useragent");function s(t,e){return t.row==e.row&&t.column==e.column}e.onMouseDown=function(t){var e=t.domEvent,i=e.altKey,o=e.shiftKey,a=e.ctrlKey,l=t.getAccelKey(),h=t.getButton();if(a&&r.isMac&&(h=e.button),t.editor.inMultiSelectMode&&2==h)t.editor.textInput.onContextMenu(t.domEvent);else if(a||i||l){if(0===h){var c,u=t.editor,d=u.selection,f=u.inMultiSelectMode,p=t.getDocumentPosition(),g=d.getCursor(),m=t.inSelection()||d.isEmpty()&&s(p,g),v=t.x,y=t.y,b=u.session,w=u.renderer.pixelToScreenCoordinates(v,y),_=w;if(u.$mouseHandler.$enableJumpToDef)a&&i||l&&i?c=o?"block":"add":i&&u.$blockSelectEnabled&&(c="block");else if(l&&!i){if(c="add",!f&&o)return}else i&&u.$blockSelectEnabled&&(c="block");if(c&&r.isMac&&e.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==c){if(!f&&m)return;if(!f){var S=d.toOrientedRange();u.addSelectionMarker(S)}var k=d.rangeList.rangeAtPoint(p);u.inVirtualSelectionMode=!0,o&&(k=null,u.removeSelectionMarker(S=d.ranges[0]||S)),u.once("mouseup",(function(){var t=d.toOrientedRange();k&&t.isEmpty()&&s(k.cursor,t.cursor)?d.substractPoint(t.cursor):(o?d.substractPoint(S.cursor):S&&(u.removeSelectionMarker(S),d.addRange(S)),d.addRange(t)),u.inVirtualSelectionMode=!1}))}else if("block"==c){var x;t.stop(),u.inVirtualSelectionMode=!0;var C=[],E=function(){var t=u.renderer.pixelToScreenCoordinates(v,y),e=b.screenToDocumentPosition(t.row,t.column,t.offsetX);s(_,t)&&s(e,d.lead)||(_=t,u.selection.moveToPosition(e),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(C),C=d.rectangularRangeBlock(_,w),u.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=u.$mouseHandler.$clickSelection.clone()),C.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(x=d.toOrientedRange(),u.addSelectionMarker(x)),o?w=b.documentToScreenPosition(d.lead):d.moveToPosition(p),_={row:-1,column:-1};var T=E;n.capture(u.container,(function(t){v=t.clientX,y=t.clientY}),(function(t){E(),clearInterval(O),u.removeSelectionMarkers(C),C.length||(C=[d.toOrientedRange()]),x&&(u.removeSelectionMarker(x),d.toSingleRange(x));for(var e=0;e<C.length;e++)d.addRange(C[e]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null}));var O=setInterval((function(){T()}),20);return t.preventDefault()}}}else 0===h&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(t,e,i){e.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new n(e.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(t,e,i){var n=t("./range_list").RangeList,r=t("./range").Range,s=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,a=t("./lib/event"),l=t("./lib/lang"),h=t("./commands/multi_select_commands");e.commands=h.defaultCommands.concat(h.multiSelectCommands);var c=new(0,t("./search").Search),u=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}t.cursor||(t.cursor=t.end);var n=this.rangeList.add(t);return this.$onAddRange(t),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length&&this.$onRemoveRange(t)},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var i=t.length;i--;){var n=this.ranges.indexOf(t[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],i=r.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(i,e.cursor==e.start)}else{i=this.getRange();var n=this.isBackwards(),s=i.start.row,o=i.end.row;if(s==o){if(n)var a=i.end,l=i.start;else a=i.start,l=i.end;return this.addRange(r.fromPoints(l,l)),void this.addRange(r.fromPoints(a,a))}var h=[],c=this.getLineRange(s,!0);c.start.column=i.start.column,h.push(c);for(var u=s+1;u<o;u++)h.push(this.getLineRange(u,!0));(c=this.getLineRange(o,!0)).end.column=i.end.column,h.push(c),h.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],i=r.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(i,e.cursor==e.start)}else{var n=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,i){var n=[],s=t.column<e.column;if(s)var o=t.column,a=e.column,l=t.offsetX,h=e.offsetX;else o=e.column,a=t.column,l=e.offsetX,h=t.offsetX;var c,u,d,f=t.row<e.row;if(f)var p=t.row,g=e.row;else p=e.row,g=t.row;o<0&&(o=0),p<0&&(p=0),p==g&&(i=!0);for(var m=p;m<=g;m++){var v=r.fromPoints(this.session.screenToDocumentPosition(m,o,l),this.session.screenToDocumentPosition(m,a,h));if(v.isEmpty()){if(c&&(u=v.end).row==(d=c).row&&u.column==d.column)break;c=v.end}v.cursor=s?v.start:v.end,n.push(v)}if(f&&n.reverse(),!i){for(var y=n.length-1;n[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;n[b].isEmpty();)b++;for(var w=y;w>=b;w--)n[w].isEmpty()&&n.splice(w,1)}return n}}).call(s.prototype);var d=t("./editor").Editor;function f(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",o),t.commands.addCommands(h.defaultCommands),function(t){if(t.textInput){var e=t.textInput.getElement(),i=!1;a.addListener(e,"keydown",(function(e){t.$blockSelectEnabled&&18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey)?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&n()})),a.addListener(e,"keyup",n),a.addListener(e,"blur",n)}function n(e){i&&(t.renderer.setMouseCursor(""),i=!1)}}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,i=t.length;i--;){var n=t[i];if(n.marker){this.session.removeMarker(n.marker);var r=e.indexOf(n);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,i=t.editor;if(i.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?n=i.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?n=i.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(i.exitMultiSelectMode(),n=e.exec(i,t.args||{})):n=e.multiSelectAction(i,t.args||{});else{var n=e.exec(i,t.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(t,e,i){if(!this.inVirtualSelectionMode){var n,r=1==i||i&&i.$byLines,o=this.session,a=this.selection,l=(i&&i.keepOrder?a:a.rangeList).ranges;if(!l.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var c=new s(o);this.inVirtualSelectionMode=!0;for(var u=l.length;u--;){if(r)for(;u>0&&l[u].start.row==l[u-1].end.row;)u--;c.fromOrientedRange(l[u]),c.index=u,this.selection=o.selection=c;var d=t.exec?t.exec(this,e||{}):t(this,e||{});n||void 0===d||(n=d),c.toOrientedRange(l[u])}c.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,i=[],n=0;n<e.length;n++)i.push(this.session.getTextRange(e[n]));var r=this.session.getDocument().getNewLineCharacter();(t=i.join(r)).length==(i.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var n=e==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=e.row||this.session.$clipPositionToDocument(n.row,n.column).column!=e.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(t,e,i){if((e=e||{}).needle=t||e.needle,null==e.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(n)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;var s=this.multiSelect;i||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return n&&s.rangeList.rangeAtPoint(n.start)&&s.addRange(n,!0),r.length},this.selectMoreLines=function(t,e){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,s=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,a=this.session.screenToDocumentPosition(s.row+t,s.column);if(i.isEmpty())h=a;else var l=this.session.documentToScreenPosition(n?i.end:i.start),h=this.session.screenToDocumentPosition(l.row+t,l.column);if(n?(o=r.fromPoints(a,h)).cursor=o.start:(o=r.fromPoints(h,a)).cursor=o.end,o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(e)var c=i.cursor}else this.selection.addRange(i);this.selection.addRange(o),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var e=this.session,i=e.multiSelect,n=i.ranges,r=n.length;r--;)if((a=n[r]).isEmpty()){var s=e.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}i.mergeOverlappingRanges();var o=[];for(r=n.length;r--;)o.unshift(e.getTextRange(a=n[r]));for(t<0?o.unshift(o.pop()):o.push(o.shift()),r=n.length;r--;){var a;s=(a=n[r]).clone(),e.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(t,e,i){var n=this.session,r=n.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=n.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!i)){var s=n.getTextRange(r),o=function(t,e,i){return c.$options.wrap=!0,c.$options.needle=e,c.$options.backwards=-1==i,c.find(t)}(n,s,t);o&&(o.cursor=-1==t?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,i=e.ranges,n=-1,s=i.filter((function(t){if(t.cursor.row==n)return!0;n=t.cursor.row}));if(i.length&&s.length!=i.length-1){s.forEach((function(t){e.substractPoint(t.cursor)}));var o=0,a=1/0,h=i.map((function(e){var i=e.cursor,n=t.getLine(i.row).substr(i.column).search(/\S/g);return-1==n&&(n=0),i.column>o&&(o=i.column),n<a&&(a=n),n}));i.forEach((function(e,i){var n=e.cursor,s=o-n.column,c=h[i]-a;s>c?t.insert(n,l.stringRepeat(" ",s-c)):t.remove(new r(n.row,n.column,n.row,n.column-s+c)),e.start.column=e.end.column=o,e.start.row=e.end.row=n.row,e.cursor=e.end})),e.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,f=u==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(u)}while(/[=:]/.test(p)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,f),this.session.insert({row:u,column:0},m.join("\n")+"\n"),f||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(t,e){var i,n,r,s=!0,o=!0;return t.map((function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==i?(i=e[1].length,n=e[2].length,r=e[3].length,e):(i+n+r!=e[1].length+e[2].length+e[3].length&&(o=!1),i!=e[1].length&&(s=!1),i>e[1].length&&(i=e[1].length),n<e[2].length&&(n=e[2].length),r>e[3].length&&(r=e[3].length),e):[t]})).map(e?h:s?o?function(t){return t[2]?a(i+n-t[2].length)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:h:function(t){return t[2]?a(i)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]});function a(t){return l.stringRepeat(" ",t)}function h(t){return t[2]?a(i)+t[2]+a(n-t[2].length+r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}}}).call(d.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var i=t.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=f,t("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(t){f(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(t,e,i){"use strict";var n=t("../../range").Range,r=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,i){var n=t.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(t,e,i){return null},this.indentationBlock=function(t,e,i){var r=/\S/,s=t.getLine(e),o=s.search(r);if(-1!=o){for(var a=i||s.length,l=t.getLength(),h=e,c=e;++e<l;){var u=t.getLine(e).search(r);if(-1!=u){if(u<=o){var d=t.getTokenAt(e,0);if(!d||"string"!==d.type)break}c=e}}if(c>h){var f=t.getLine(c).length;return new n(h,a,c,f)}}},this.openingBracketBlock=function(t,e,i,r,s){var o={row:i,column:r+1},a=t.$findClosingBracket(e,o,s);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=t.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(o,a)}},this.closingBracketBlock=function(t,e,i,r,s){var o={row:i,column:r},a=t.$findOpeningBracket(e,o);if(a)return a.column++,o.column--,n.fromPoints(a,o)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(t,e,i){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e.$id="ace/theme/textmate",t("../lib/dom").importCssString(e.cssText,e.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(t,e,i){"use strict";t("./lib/oop");var n=t("./lib/dom");function r(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}t("./range"),(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach((function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)})),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach((function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))}))}},this.updateOnFold=function(t,e){var i=e.lineWidgets;if(i&&t.action){for(var n=t.data,r=n.start.row,s=n.end.row,o="add"==t.action,a=r+1;a<s;a++)i[a]&&(i[a].hidden=o);i[s]&&(o?i[r]?i[s].hidden=o:i[r]=i[s]:(i[r]==i[s]&&(i[r]=void 0),i[s].hidden=o))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var i=t.start.row,n=t.end.row-i;if(0===n);else if("remove"==t.action)e.splice(i+1,n).forEach((function(t){t&&this.removeLineWidget(t)}),this),this.$updateRows();else{var r=new Array(n);r.unshift(i,0),e.splice.apply(e,r),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach((function(t,i){if(t)for(e=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget})),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var i=this.editor.renderer;t.html&&!t.el&&(t.el=n.createElement("div"),t.el.innerHTML=t.html),t.el&&(n.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,i.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/i.layerConfig.lineHeight);var r=this.session.getFoldAt(t.row,0);if(t.$fold=r,r){var s=this.session.lineWidgets;t.row!=r.end.row||s[r.start.row]?t.hidden=!0:s[r.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(i){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,i=e&&e[t],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var i=this.session._changedWidgets,n=e.layerConfig;if(i&&i.length){for(var r=1/0,s=0;s<i.length;s++){var o=i[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,e.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/n.characterWidth));var a=o.h/n.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var i=e.layerConfig,n=this.session.lineWidgets;if(n){for(var r=Math.min(this.firstRow,i.firstRow),s=Math.max(this.lastRow,i.lastRow,n.length);r>0&&!n[r];)r--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,e.$cursorLayer.config=i;for(var o=r;o<=s;o++){var a=n[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var h=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(h-=e.scrollLeft),a.el.style.left=h+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.el.style.right=a.fixedWidth?e.scrollBar.getWidth()+"px":""}}}}}).call(r.prototype),e.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(t,e,i){"use strict";var n=t("../line_widgets").LineWidgets,r=t("../lib/dom"),s=t("../range").Range;e.showErrorMarker=function(t,e){var i=t.session;i.widgetManager||(i.widgetManager=new n(i),i.widgetManager.attach(t));var o=t.getCursorPosition(),a=o.row,l=i.widgetManager.getWidgetsAtRow(a).filter((function(t){return"errorMarker"==t.type}))[0];l?l.destroy():a-=e;var h,c=function(t,e,i){var n=t.getAnnotations().sort(s.comparePoints);if(n.length){var r=function(t,e,i){for(var n=0,r=t.length-1;n<=r;){var s=n+r>>1,o=i(e,t[s]);if(o>0)n=s+1;else{if(!(o<0))return s;r=s-1}}return-(n+1)}(n,{row:e,column:-1},s.comparePoints);r<0&&(r=-r-1),r>=n.length?r=i>0?0:n.length-1:0===r&&i<0&&(r=n.length-1);var o=n[r];if(o&&i){if(o.row===e){do{o=n[r+=i]}while(o&&o.row===e);if(!o)return n.slice()}var a=[];e=o.row;do{a[i<0?"unshift":"push"](o),o=n[r+=i]}while(o&&o.row==e);return a.length&&a}}}(i,a,e);if(c){var u=c[0];o.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,o.row=u.row,h=t.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;h={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(o.row),t.selection.moveToPosition(o);var d={row:o.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},f=d.el.appendChild(r.createElement("div")),p=d.el.appendChild(r.createElement("div"));p.className="error_widget_arrow "+h.className;var g=t.renderer.$cursorLayer.getPixelPosition(o).left;p.style.left=g+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+h.className,f.innerHTML=h.text.join("<br>"),f.appendChild(r.createElement("div"));var m=function(t,e,i){if(0===e&&("esc"===i||"return"===i))return d.destroy(),{command:"null"}};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var r=t("./lib/dom"),s=t("./lib/event"),o=t("./range").Range,a=t("./editor").Editor,l=t("./edit_session").EditSession,h=t("./undomanager").UndoManager,c=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,e.define=i("B9Yq"),e.edit=function(t,i){if("string"==typeof t){var n=t;if(!(t=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(t&&t.env&&t.env.editor instanceof a)return t.env.editor;var o="";if(t&&/input|textarea/i.test(t.tagName)){var l=t;o=l.value,t=r.createElement("pre"),l.parentNode.replaceChild(t,l)}else t&&(o=t.textContent,t.innerHTML="");var h=e.createEditSession(o),u=new a(new c(t),h,i),d={document:h,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),s.addListener(window,"resize",d.onResize),u.on("destroy",(function(){s.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),u.container.env=u.env=d,u},e.createEditSession=function(t,e){var i=new l(t,e);return i.setUndoManager(new h),i},e.Range=o,e.Editor=a,e.EditSession=l,e.UndoManager=h,e.VirtualRenderer=c,e.version=e.config.version})),ace.require(["ace/ace"],(function(e){for(var i in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(i)&&(window.ace[i]=e[i]);window.ace.default=window.ace,t&&(t.exports=window.ace)}))}).call(this,i("YuTi")(t))},"fPn+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP");e.Factor=class extends n.Expression{constructor(t){super(),this.expr=t}canonify(){return this.expr.canonify()}getVars(t){return this.expr.getVars(t)}invert(){return this.expr.invert()}}},gRHU:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("2fFW"),r=i("NJ4a");const s={closed:!0,next(t){},error(t){if(n.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},iOVO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanonicalRestriction=class{}},jLWv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unexhaustive=function(t){throw new Error("The code have reached a place where it shouldn't. It's a bug!")}},kJWO:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},mCNh:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("SpAZ");function r(...t){return s(t)}function s(t){return 0===t.length?n.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mguw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("YBbj");e.Addition=n.Addition;const r=i("V9eS");e.CanonicalAddition=r.CanonicalAddition;const s=i("Pmfo");e.CanonicalEquality=s.CanonicalEquality;const o=i("b5Bw");e.CanonicalGreater=o.CanonicalGreater;const a=i("iOVO");e.CanonicalRestriction=a.CanonicalRestriction;const l=i("82Dv");e.CanonicalSmaller=l.CanonicalSmaller;const h=i("wMuk");e.Division=h.Division;const c=i("CNy6");e.Equality=c.Equality;const u=i("zCoP");e.Expression=u.Expression;const d=i("fPn+");e.Factor=d.Factor;const f=i("61Ir");e.Fpi=f.Fpi;const p=i("K6c1");e.Fraction=p.Fraction,e.NEG=p.NEG,e.ONE=p.ONE,e.ZERO=p.ZERO;const g=i("DNg2");e.Greater=g.Greater;const m=i("NoKw");e.Multiplication=m.Multiplication;const v=i("NtZL");e.ProgLin=v.ProgLin;const y=i("LhP/");e.Restriction=y.Restriction;const b=i("zwtD");e.Smaller=b.Smaller;const w=i("t0x4");e.Subtraction=w.Subtraction;const _=i("MUAA");e.Variable=_.Variable;const S=function(){function t(e,i,n,r){this.message=e,this.expected=i,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),t.buildMessage=function(t,e){var i={literal:function(t){return'"'+r(t.text)+'"'},class:function(t){var e,i="";for(e=0;e<t.parts.length;e++)i+=t.parts[e]instanceof Array?s(t.parts[e][0])+"-"+s(t.parts[e][1]):s(t.parts[e]);return"["+(t.inverted?"^":"")+i+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,r,s=new Array(t.length);for(e=0;e<t.length;e++)s[e]=i[(r=t[e]).type](r);if(s.sort(),s.length>0){for(e=1,n=1;e<s.length;e++)s[e-1]!==s[e]&&(s[n]=s[e],n++);s.length=n}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(t)+" but "+function(t){return t?'"'+r(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(i,n){n=void 0!==n?n:{};var r,s,o,a,l,h,c,u,d={},f={ProgLin:tt},p=tt,g=K("max",!1),m=K("min",!1),v=K("(",!1),y=K(")",!1),b=K("st:",!1),w=K("sujeito a:",!1),_=K(";",!1),S=K(">=",!1),k=K("<=",!1),x=K("==",!1),C=K("=",!1),E=K("+",!1),T=K("-",!1),O=K("*",!1),A=K("/",!1),M=Q("integer"),R=/^[+\-]/,D=Z(["+","-"],!1,!1),L=/^[0-9]/,I=Z([["0","9"]],!1,!1),P=/^[a-zA-Z]/,$=Z([["a","z"],["A","Z"]],!1,!1),F=/^[a-zA-Z0-9]/,N=Z([["a","z"],["A","Z"],["0","9"]],!1,!1),B=Q("whitespace"),j=/^[ \t\n\r]/,H=Z([" ","\t","\n","\r"],!1,!1),z=0,W=0,V=[{line:1,column:1}],U=0,Y=[],G=0;if("startRule"in n){if(!(n.startRule in f))throw new Error("Can't start parsing from rule \""+n.startRule+'".');p=f[n.startRule]}function q(){return i.substring(W,z)}function K(t,e){return{type:"literal",text:t,ignoreCase:e}}function Z(t,e,i){return{type:"class",parts:t,inverted:e,ignoreCase:i}}function Q(t){return{type:"other",description:t}}function X(t){var e,n=V[t];if(n)return n;for(e=t-1;!V[e];)e--;for(n={line:(n=V[e]).line,column:n.column};e<t;)10===i.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return V[t]=n,n}function J(t){z<U||(z>U&&(U=z,Y=[]),Y.push(t))}function tt(){var t,n,r,s,o,a;return t=z,ht()!==d?("max"===i.substr(z,3)?(n="max",z+=3):(n=d,0===G&&J(g)),n===d&&("min"===i.substr(z,3)?(n="min",z+=3):(n=d,0===G&&J(m))),n!==d&&ht()!==d?(40===i.charCodeAt(z)?(r="(",z++):(r=d,0===G&&J(v)),r!==d&&ht()!==d&&(s=it())!==d&&ht()!==d?(41===i.charCodeAt(z)?(o=")",z++):(o=d,0===G&&J(y)),o!==d&&ht()!==d&&(a=function(){var t,e,n,r,s,o,a;if(t=z,"st:"===i.substr(z,3)?(e="st:",z+=3):(e=d,0===G&&J(b)),e===d&&("sujeito a:"===i.substr(z,10)?(e="sujeito a:",z+=10):(e=d,0===G&&J(w))),e!==d)if(ht()!==d){if(n=[],r=z,(s=et())!==d?(59===i.charCodeAt(z)?(o=";",z++):(o=d,0===G&&J(_)),o===d&&(o=null),o!==d&&(a=ht())!==d?r=s=[s,o,a]:(z=r,r=d)):(z=r,r=d),r!==d)for(;r!==d;)n.push(r),r=z,(s=et())!==d?(59===i.charCodeAt(z)?(o=";",z++):(o=d,0===G&&J(_)),o===d&&(o=null),o!==d&&(a=ht())!==d?r=s=[s,o,a]:(z=r,r=d)):(z=r,r=d);else n=d;n!==d?(W=t,t=e=n.map(t=>t[0])):(z=t,t=d)}else z=t,t=d;else z=t,t=d;return t}())!==d?(W=t,t=new e.ProgLin(n,s,a)):(z=t,t=d)):(z=t,t=d)):(z=t,t=d)):(z=t,t=d),t}function et(){var t,n,r,s;return t=z,(n=it())!==d&&ht()!==d?(">="===i.substr(z,2)?(r=">=",z+=2):(r=d,0===G&&J(S)),r===d&&("<="===i.substr(z,2)?(r="<=",z+=2):(r=d,0===G&&J(k)),r===d&&("=="===i.substr(z,2)?(r="==",z+=2):(r=d,0===G&&J(x)),r===d&&(61===i.charCodeAt(z)?(r="=",z++):(r=d,0===G&&J(C))))),r!==d&&ht()!==d&&(s=it())!==d?(W=t,t=n=function(t,i,n){switch(i){case">=":return new e.Greater(t,n);case"<=":return new e.Smaller(t,n);case"=":case"==":return new e.Equality(t,n)}}(n,r,s)):(z=t,t=d)):(z=t,t=d),t}function it(){var t,n,r,s,o,a,l,h;if(t=z,(n=nt())!==d){for(r=[],s=z,(o=ht())!==d?(43===i.charCodeAt(z)?(a="+",z++):(a=d,0===G&&J(E)),a!==d&&(l=ht())!==d&&(h=nt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(43===i.charCodeAt(z)?(a="+",z++):(a=d,0===G&&J(E)),a!==d&&(l=ht())!==d&&(h=nt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.Addition(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function nt(){var t,n,r,s,o,a,l,h;if(t=z,(n=rt())!==d){for(r=[],s=z,(o=ht())!==d?(45===i.charCodeAt(z)?(a="-",z++):(a=d,0===G&&J(T)),a!==d&&(l=ht())!==d&&(h=rt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(45===i.charCodeAt(z)?(a="-",z++):(a=d,0===G&&J(T)),a!==d&&(l=ht())!==d&&(h=rt())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.Subtraction(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function rt(){var t,n,r,s,o,a,l,h;if(t=z,(n=st())!==d){for(r=[],s=z,(o=ht())!==d?(42===i.charCodeAt(z)?(a="*",z++):(a=d,0===G&&J(O)),a!==d&&(l=ht())!==d&&(h=st())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(42===i.charCodeAt(z)?(a="*",z++):(a=d,0===G&&J(O)),a!==d&&(l=ht())!==d&&(h=st())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.Multiplication(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function st(){var t,n,r,s,o,a,l,h;if(t=z,(n=ot())!==d){for(r=[],s=z,(o=ht())!==d?(47===i.charCodeAt(z)?(a="/",z++):(a=d,0===G&&J(A)),a!==d&&(l=ht())!==d&&(h=ot())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);s!==d;)r.push(s),s=z,(o=ht())!==d?(47===i.charCodeAt(z)?(a="/",z++):(a=d,0===G&&J(A)),a!==d&&(l=ht())!==d&&(h=ot())!==d?s=o=[o,a,l,h]:(z=s,s=d)):(z=s,s=d);r!==d?(W=t,t=n=function(t,i){if(i.length){const n=[t,...i.map(t=>t[3])];return new e.Division(n)}return t}(n,r)):(z=t,t=d)}else z=t,t=d;return t}function ot(){var t,n,r,s,o;return t=z,40===i.charCodeAt(z)?(n="(",z++):(n=d,0===G&&J(v)),n!==d&&(r=ht())!==d&&(s=it())!==d&&ht()!==d?(41===i.charCodeAt(z)?(o=")",z++):(o=d,0===G&&J(y)),o!==d?(W=t,t=n=new e.Factor(s)):(z=t,t=d)):(z=t,t=d),t===d&&(t=z,(n=at())===d&&(n=null),n!==d&&(r=lt())!==d?(W=t,t=n=new e.Variable(n||e.ONE,r)):(z=t,t=d),t===d&&(t=z,45===i.charCodeAt(z)?(n="-",z++):(n=d,0===G&&J(T)),n!==d&&(r=lt())!==d?(W=t,t=n=function(t){return new e.Variable(e.NEG,t)}(r)):(z=t,t=d),t===d&&(t=at()))),t}function at(){var t,n,r,s;if(G++,t=z,ht()!==d)if(R.test(i.charAt(z))?(n=i.charAt(z),z++):(n=d,0===G&&J(D)),n===d&&(n=null),n!==d){if(r=[],L.test(i.charAt(z))?(s=i.charAt(z),z++):(s=d,0===G&&J(I)),s!==d)for(;s!==d;)r.push(s),L.test(i.charAt(z))?(s=i.charAt(z),z++):(s=d,0===G&&J(I));else r=d;r!==d?(W=t,t=new e.Fraction(BigInt(q()),BigInt(1))):(z=t,t=d)}else z=t,t=d;else z=t,t=d;return G--,t===d&&0===G&&J(M),t}function lt(){var t,e,n,r;if(t=z,P.test(i.charAt(z))?(e=i.charAt(z),z++):(e=d,0===G&&J($)),e!==d){for(n=[],F.test(i.charAt(z))?(r=i.charAt(z),z++):(r=d,0===G&&J(N));r!==d;)n.push(r),F.test(i.charAt(z))?(r=i.charAt(z),z++):(r=d,0===G&&J(N));n!==d?(W=t,t=e=q()):(z=t,t=d)}else z=t,t=d;return t}function ht(){var t,e;for(G++,t=[],j.test(i.charAt(z))?(e=i.charAt(z),z++):(e=d,0===G&&J(H));e!==d;)t.push(e),j.test(i.charAt(z))?(e=i.charAt(z),z++):(e=d,0===G&&J(H));return G--,t===d&&(e=d,0===G&&J(B)),t}if(void 0===typeof BigInt&&(BigInt=function(t){return parseInt(t,10)}),(r=p())!==d&&z===i.length)return r;throw r!==d&&z<i.length&&J({type:"end"}),s=Y,o=U<i.length?i.charAt(U):null,h=U<i.length?U+1:U,c=X(l=U),u=X(h),a={start:{offset:l,line:c.line,column:c.column},end:{offset:h,line:u.line,column:u.column}},new t(t.buildMessage(s,o),s,o,a)}}}();e.parse=S.parse,e.SyntaxError=S.SyntaxError},n6bG:function(t,e,i){"use strict";function n(t){return"function"==typeof t}i.d(e,"a",(function(){return n}))},quSY:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("DH7j"),r=i("XoHu"),s=i("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:i,_unsubscribe:a,_subscriptions:h}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(let t=0;t<i.length;++t)i[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(c){e=c instanceof o?l(c.errors):[c]}if(Object(n.a)(h)){let t=-1,i=h.length;for(;++t<i;){const i=h[t];if(Object(r.a)(i))try{i.unsubscribe()}catch(c){e=e||[],c instanceof o?e=e.concat(l(c.errors)):e.push(c)}}}if(e)throw new o(e)}add(e){let i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){const e=i;i=new t,i._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof t){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[i]:r.push(i),i}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},t0x4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP"),r=i("NoKw"),s=i("K6c1"),o=i("YBbj");e.Subtraction=class extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const[t,...e]=this.terms;for(let i=0;i<e.length;i++)e[i]=new r.Multiplication([e[i],s.NEG]).canonify();return new o.Addition([t,...e]).canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},wMuk:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("zCoP"),r=i("NoKw");e.Division=class extends n.Expression{constructor(t){super(),this.terms=t}canonify(){const[t,...e]=this.terms;for(let i=0;i<e.length;i++)e[i]=e[i].invert();return new r.Multiplication([t,...e]).canonify()}getVars(t=new Set){return this.terms.forEach(e=>e.getVars(t)),t}}},xJsF:function(t,e,i){(function(t){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],(function(t,e,i){e.isDark=!0,e.cssClass="ace-monokai",e.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",t("../lib/dom").importCssString(e.cssText,e.cssClass)})),ace.require(["ace/theme/monokai"],(function(e){t&&(t.exports=e)}))}).call(this,i("YuTi")(t))},zCoP:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Expression=class{invert(){throw new Error("Tried to invert something that we can't yet invert")}}},zUnb:function(t,e,i){"use strict";i.r(e);var n=i("HDdC"),r=i("7o/Q"),s=i("quSY");const o=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class a extends s.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}var l=i("2QA8");class h extends r.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends n.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new h(this)}lift(t){const e=new u(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o;if(!this.isStopped){const{observers:e}=this,i=e.length,n=e.slice();for(let r=0;r<i;r++)n[r].next(t)}}error(t){if(this.closed)throw new o;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,i=e.length,n=e.slice();for(let r=0;r<i;r++)n[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o;this.isStopped=!0;const{observers:t}=this,e=t.length,i=t.slice();for(let n=0;n<e;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a(this,t))}asObservable(){const t=new n.a;return t.source=this,t}}return t.create=(t,e)=>new u(t,e),t})();class u extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}function d(t){return t&&"function"==typeof t.schedule}class f extends r.a{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const p=t=>e=>{for(let i=0,n=t.length;i<n&&!e.closed;i++)e.next(t[i]);e.complete()};var g=i("NJ4a");function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const v=m();var y=i("kJWO");const b=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function w(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var _=i("XoHu");const S=t=>{if(t&&"function"==typeof t[y.a])return n=t,t=>{const e=n[y.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(b(t))return p(t);if(w(t))return i=t,t=>(i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,g.a),t);if(t&&"function"==typeof t[v])return e=t,t=>{const i=e[v]();for(;;){const e=i.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t};{const e=Object(_.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,i,n};function k(t,e,i,r,s=new f(t,i,r)){if(!s.closed)return e instanceof n.a?e.subscribe(s):S(e)(s)}class x extends r.a{notifyNext(t,e,i,n,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function C(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new E(t,e))}}class E{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new T(t,this.project,this.thisArg))}}class T extends r.a{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function O(t,e){return new n.a(i=>{const n=new s.a;let r=0;return n.add(e.schedule((function(){r!==t.length?(i.next(t[r++]),i.closed||n.add(this.schedule())):i.complete()}))),n})}function A(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y.a]}(t))return function(t,e){return new n.a(i=>{const n=new s.a;return n.add(e.schedule(()=>{const r=t[y.a]();n.add(r.subscribe({next(t){n.add(e.schedule(()=>i.next(t)))},error(t){n.add(e.schedule(()=>i.error(t)))},complete(){n.add(e.schedule(()=>i.complete()))}}))})),n})}(t,e);if(w(t))return function(t,e){return new n.a(i=>{const n=new s.a;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{i.next(t),n.add(e.schedule(()=>i.complete()))}))},t=>{n.add(e.schedule(()=>i.error(t)))}))),n})}(t,e);if(b(t))return O(t,e);if(function(t){return t&&"function"==typeof t[v]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.a(i=>{const n=new s.a;let r;return n.add(()=>{r&&"function"==typeof r.return&&r.return()}),n.add(e.schedule(()=>{r=t[v](),n.add(e.schedule((function(){if(i.closed)return;let t,e;try{const i=r.next();t=i.value,e=i.done}catch(n){return void i.error(n)}e?i.complete():(i.next(t),this.schedule())})))})),n})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof n.a?t:new n.a(S(t))}function M(t,e,i=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(M((i,n)=>A(t(i,n)).pipe(C((t,r)=>e(i,t,n,r))),i)):("number"==typeof e&&(i=e),e=>e.lift(new R(t,i)))}class R{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new D(t,this.project,this.concurrent))}}class D extends x{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,i)}_innerSub(t,e,i){const n=new f(this,e,i),r=this.destination;r.add(n);const s=k(this,t,void 0,void 0,n);s!==n&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,i,n,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}var L=i("SpAZ");function I(t=Number.POSITIVE_INFINITY){return M(L.a,t)}function P(t,e){return e?O(t,e):new n.a(p(t))}function $(...t){let e=Number.POSITIVE_INFINITY,i=null,r=t[t.length-1];return d(r)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===i&&1===t.length&&t[0]instanceof n.a?t[0]:I(e)(P(t,i))}function F(){return function(t){return t.lift(new N(t))}}class N{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const n=new B(t,i),r=e.subscribe(n);return n.closed||(n.connection=i.connect()),r}}class B extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,n=t._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}class j extends n.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new z(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return F()(this)}}const H=(()=>{const t=j.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class z extends h{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function W(){return new c}function V(t){return{toString:t}.toString()}function U(t,e,i){return V(()=>{const n=function(t){return function(...e){if(t){const i=t(...e);for(const t in i)this[t]=i[t]}}}(e);function r(...t){if(this instanceof r)return n.apply(this,t),this;const e=new r(...t);return i.annotation=e,i;function i(t,i,n){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(e),t}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const Y=U("Inject",t=>({token:t})),G=U("Optional"),q=U("Self"),K=U("SkipSelf");var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("Could not find renamed property on target object.")}function X(t,e){for(const i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function et(t){return it(t,t[rt])||it(t,t[at])}function it(t,e){return e&&e.token===t?e:null}function nt(t){return t&&(t.hasOwnProperty(st)||t.hasOwnProperty(lt))?t[st]:null}const rt=Q({"\u0275prov":Q}),st=Q({"\u0275inj":Q}),ot=Q({"\u0275provFallback":Q}),at=Q({ngInjectableDef:Q}),lt=Q({ngInjectorDef:Q});function ht(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function ct(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ut=Q({__forward_ref__:Q});function dt(t){return t.__forward_ref__=dt,t.toString=function(){return ht(this())},t}function ft(t){return pt(t)?t():t}function pt(t){return"function"==typeof t&&t.hasOwnProperty(ut)&&t.__forward_ref__===dt}const gt="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yt="undefined"!=typeof global&&global,bt=gt||yt||mt||vt,wt=Q({"\u0275cmp":Q}),_t=Q({"\u0275dir":Q}),St=Q({"\u0275pipe":Q}),kt=Q({"\u0275mod":Q}),xt=Q({"\u0275loc":Q}),Ct=Q({"\u0275fac":Q}),Et=Q({__NG_ELEMENT_ID__:Q});class Tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=J({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ot=new Tt("INJECTOR",-1),At={},Mt=/\n/gm,Rt=Q({provide:String,useValue:Q});let Dt,Lt=void 0;function It(t){const e=Lt;return Lt=t,e}function Pt(t){const e=Dt;return Dt=t,e}function $t(t,e=Z.Default){if(void 0===Lt)throw new Error("inject() must be called from an injection context");return null===Lt?Bt(t,void 0,e):Lt.get(t,e&Z.Optional?null:void 0,e)}function Ft(t,e=Z.Default){return(Dt||$t)(ft(t),e)}const Nt=Ft;function Bt(t,e,i){const n=et(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(i&Z.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${ht(t)}]`)}function jt(t){const e=[];for(let i=0;i<t.length;i++){const n=ft(t[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let t=void 0,i=Z.Default;for(let e=0;e<n.length;e++){const r=n[e];r instanceof G||"Optional"===r.ngMetadataName||r===G?i|=Z.Optional:r instanceof K||"SkipSelf"===r.ngMetadataName||r===K?i|=Z.SkipSelf:r instanceof q||"Self"===r.ngMetadataName||r===q?i|=Z.Self:t=r instanceof Y||r===Y?r.token:r}e.push(Ft(t,i))}else e.push(Ft(n))}return e}class Ht{get(t,e=At){if(e===At){const e=new Error(`NullInjectorError: No provider for ${ht(t)}!`);throw e.name="NullInjectorError",e}return e}}class zt{}class Wt{}function Vt(t,e){t.forEach(t=>Array.isArray(t)?Vt(t,e):e(t))}function Ut(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gt(t,e){const i=[];for(let n=0;n<t;n++)i.push(e);return i}function qt(t,e,i){let n=Zt(t,e);return n>=0?t[1|n]=i:(n=~n,function(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(1===r)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=i,t[e+1]=n}}(t,n,e,i)),n}function Kt(t,e){const i=Zt(t,e);if(i>=0)return t[1|i]}function Zt(t,e){return function(t,e,i){let n=0,r=t.length>>1;for(;r!==n;){const i=n+(r-n>>1),s=t[i<<1];if(e===s)return i<<1;s>e?r=i:n=i+1}return~(r<<1)}(t,e)}const Qt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Xt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Jt={},te=[];let ee=0;function ie(t){return V(()=>{const e=t.type,i=e.prototype,n={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:i.ngOnInit||null,doCheck:i.ngDoCheck||null,afterContentInit:i.ngAfterContentInit||null,afterContentChecked:i.ngAfterContentChecked||null,afterViewInit:i.ngAfterViewInit||null,afterViewChecked:i.ngAfterViewChecked||null,onDestroy:i.ngOnDestroy||null,onPush:t.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||te,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Xt.Emulated,id:"c",styles:t.styles||te,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return r.id+=ee++,r.inputs=ae(t.inputs,n),r.outputs=ae(t.outputs),o&&o.forEach(t=>t(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(ne):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(re):null,r})}function ne(t){return ce(t)||function(t){return t[_t]||null}(t)}function re(t){return function(t){return t[St]||null}(t)}const se={};function oe(t){const e={type:t.type,bootstrap:t.bootstrap||te,declarations:t.declarations||te,imports:t.imports||te,exports:t.exports||te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{se[t.id]=t.type}),e}function ae(t,e){if(null==t)return Jt;const i={};for(const n in t)if(t.hasOwnProperty(n)){let r=t[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,e&&(e[r]=s)}return i}const le=ie;function he(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ce(t){return t[wt]||null}function ue(t,e){return t.hasOwnProperty(Ct)?t[Ct]:null}function de(t,e){const i=t[kt]||null;if(!i&&!0===e)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return i}function fe(t){return Array.isArray(t)&&"object"==typeof t[1]}function pe(t){return Array.isArray(t)&&!0===t[1]}function ge(t){return 0!=(8&t.flags)}function me(t){return 2==(2&t.flags)}function ve(t){return 1==(1&t.flags)}function ye(t){return null!==t.template}function be(t){return 0!=(512&t[2])}let we=void 0;function _e(t){return!!t.listen}const Se={createRenderer:(t,e)=>void 0!==we?we:"undefined"!=typeof document?document:void 0};function ke(t){for(;Array.isArray(t);)t=t[0];return t}function xe(t,e){return ke(e[t+19])}function Ce(t,e){return ke(e[t.index])}function Ee(t,e){return t.data[e+19]}function Te(t,e){return t[e+19]}function Oe(t,e){const i=e[t];return fe(i)?i:i[0]}function Ae(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Me(t){return 4==(4&t[2])}function Re(t){return 128==(128&t[2])}function De(t,e){return null===t||null==e?null:t[e]}function Le(t){t[18]=0}const Ie={lFrame:ei(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Pe(){return Ie.bindingsEnabled}function $e(){return Ie.lFrame.lView}function Fe(){return Ie.lFrame.tView}function Ne(t){Ie.lFrame.contextLView=t}function Be(){return Ie.lFrame.previousOrParentTNode}function je(t,e){Ie.lFrame.previousOrParentTNode=t,Ie.lFrame.isParent=e}function He(){return Ie.lFrame.isParent}function ze(){Ie.lFrame.isParent=!1}function We(){return Ie.checkNoChangesMode}function Ve(t){Ie.checkNoChangesMode=t}function Ue(){const t=Ie.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ye(){return Ie.lFrame.bindingIndex}function Ge(){return Ie.lFrame.bindingIndex++}function qe(t){const e=Ie.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function Ke(t,e){const i=Ie.lFrame;i.bindingIndex=i.bindingRootIndex=t,i.currentDirectiveIndex=e}function Ze(){return Ie.lFrame.currentQueryIndex}function Qe(t){Ie.lFrame.currentQueryIndex=t}function Xe(t,e){const i=ti();Ie.lFrame=i,i.previousOrParentTNode=e,i.lView=t}function Je(t,e){const i=ti(),n=t[1];Ie.lFrame=i,i.previousOrParentTNode=e,i.lView=t,i.tView=n,i.contextLView=t,i.bindingIndex=n.bindingStartIndex}function ti(){const t=Ie.lFrame,e=null===t?null:t.child;return null===e?ei(t):e}function ei(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ii(){const t=Ie.lFrame;return Ie.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const ni=ii;function ri(){const t=ii();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function si(){return Ie.lFrame.selectedIndex}function oi(t){Ie.lFrame.selectedIndex=t}function ai(){const t=Ie.lFrame;return Ee(t.tView,t.selectedIndex)}function li(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){const e=t.data[i];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-i,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(i,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-i,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(i,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,e.onDestroy)}}function hi(t,e,i){di(t,e,3,i)}function ci(t,e,i,n){(3&t[2])===i&&di(t,e,i,n)}function ui(t,e){let i=t[2];(3&i)===e&&(i&=1023,i+=1,t[2]=i)}function di(t,e,i,n){const r=null!=n?n:-1;let s=0;for(let o=void 0!==n?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=n&&s>=n)break}else e[o]<0&&(t[18]+=65536),(s<r||-1==r)&&(fi(t,i,e,o),t[18]=(4294901760&t[18])+o+2),o++}function fi(t,e,i,n){const r=i[n]<0,s=i[n+1],o=t[r?-i[n]:i[n]];r?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class pi{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function gi(t,e,i){const n=_e(t);let r=0;for(;r<i.length;){const s=i[r];if("number"==typeof s){if(0!==s)break;r++;const o=i[r++],a=i[r++],l=i[r++];n?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=i[++r];vi(o)?n&&t.setProperty(e,o,a):n?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function mi(t){return 3===t||4===t||6===t}function vi(t){return 64===t.charCodeAt(0)}function yi(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r?i=r:0===i||bi(t,i,r,null,-1===i||2===i?e[++n]:null)}}return t}function bi(t,e,i,n,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const i=t[s++];if("number"==typeof i){if(i===e){o=-1;break}if(i>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===i){if(null===n)return void(null!==r&&(t[s+1]=r));if(n===t[s+1])return void(t[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),null!==n&&t.splice(s++,0,n),null!==r&&t.splice(s++,0,r)}function wi(t){return-1!==t}function _i(t){return 32767&t}function Si(t){return t>>16}function ki(t,e){let i=Si(t),n=e;for(;i>0;)n=n[15],i--;return n}function xi(t){return"string"==typeof t?t:null==t?"":""+t}function Ci(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xi(t)}const Ei=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bt))();function Ti(t){return t instanceof Function?t():t}let Oi=!0;function Ai(t){const e=Oi;return Oi=t,e}let Mi=0;function Ri(t,e){const i=Li(t,e);if(-1!==i)return i;const n=e[1];n.firstCreatePass&&(t.injectorIndex=e.length,Di(n.data,t),Di(e,null),Di(n.blueprint,null));const r=Ii(t,e),s=t.injectorIndex;if(wi(r)){const t=_i(r),i=ki(r,e),n=i[1].data;for(let r=0;r<8;r++)e[s+r]=i[t+r]|n[t+r]}return e[s+8]=r,s}function Di(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Li(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Ii(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=e[6],n=1;for(;i&&-1===i.injectorIndex;)i=(e=e[15])?e[6]:null,n++;return i?i.injectorIndex|n<<16:-1}function Pi(t,e,i){!function(t,e,i){let n="string"!=typeof i?i[Et]:i.charCodeAt(0)||0;null==n&&(n=i[Et]=Mi++);const r=255&n,s=1<<r,o=64&r,a=32&r,l=e.data;128&r?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,i)}function $i(t,e,i,n=Z.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Et];return"number"==typeof e&&e>0?255&e:e}(i);if("function"==typeof r){Xe(e,t);try{const t=r();if(null!=t||n&Z.Optional)return t;throw new Error(`No provider for ${Ci(i)}!`)}finally{ni()}}else if("number"==typeof r){if(-1===r)return new Wi(t,e);let s=null,o=Li(t,e),a=-1,l=n&Z.Host?e[16][6]:null;for((-1===o||n&Z.SkipSelf)&&(a=-1===o?Ii(t,e):e[o+8],zi(n,!1)?(s=e[1],o=_i(a),e=ki(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(Hi(r,o,t.data)){const t=Ni(o,e,i,s,n,l);if(t!==Fi)return t}zi(n,e[1].data[o+8]===l)&&Hi(r,o,e)?(s=t,o=_i(a),e=ki(a,e)):o=-1}}}if(n&Z.Optional&&void 0===r&&(r=null),0==(n&(Z.Self|Z.Host))){const t=e[9],s=Pt(void 0);try{return t?t.get(i,r,n&Z.Optional):Bt(i,r,n&Z.Optional)}finally{Pt(s)}}if(n&Z.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Ci(i)}]`)}const Fi={};function Ni(t,e,i,n,r,s){const o=e[1],a=o.data[t+8],l=Bi(a,o,i,null==n?me(a)&&Oi:n!=o&&3===a.type,r&Z.Host&&s===a);return null!==l?ji(e,o,l,a):Fi}function Bi(t,e,i,n,r){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,h=s>>16,c=r?a+h:t.directiveEnd;for(let u=n?a:a+h;u<c;u++){const t=o[u];if(u<l&&i===t||u>=l&&t.type===i)return u}if(r){const t=o[l];if(t&&ye(t)&&t.type===i)return l}return null}function ji(t,e,i,n){let r=t[i];const s=e.data;if(r instanceof pi){const o=r;if(o.resolving)throw new Error(`Circular dep for ${Ci(s[i])}`);const a=Ai(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Pt(o.injectImpl)),Xe(t,n);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&function(t,e,i){const{onChanges:n,onInit:r,doCheck:s}=e;n&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,n)),r&&(i.preOrderHooks||(i.preOrderHooks=[])).push(-t,r),s&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,s),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,s))}(i,s[i],e)}finally{o.injectImpl&&Pt(l),Ai(a),o.resolving=!1,ni()}}return r}function Hi(t,e,i){const n=64&t,r=32&t;let s;return s=128&t?n?r?i[e+7]:i[e+6]:r?i[e+5]:i[e+4]:n?r?i[e+3]:i[e+2]:r?i[e+1]:i[e],!!(s&1<<t)}function zi(t,e){return!(t&Z.Self||t&Z.Host&&e)}class Wi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return $i(this._tNode,this._lView,t,void 0,e)}}function Vi(t){return V(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,i=e[Ct]||function t(e){const i=e;if(pt(e))return()=>{const e=t(ft(i));return e?e():null};let n=ue(i);if(null===n){const t=nt(i);n=t&&t.factory}return n||null}(e);return null!==i?i:t=>new t})}function Ui(t){return t.ngDebugContext}function Yi(t){return t.ngOriginalError}function Gi(t,...e){t.error(...e)}class qi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),n=function(t){return t.ngErrorLogger||Gi}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?Ui(t)?Ui(t):this._findContext(Yi(t)):null}_findOriginalError(t){let e=Yi(t);for(;e&&Yi(e);)e=Yi(e);return e}}let Ki=!0,Zi=!1;function Qi(){return Zi=!0,Ki}function Xi(t,e){t.__ngContext__=e}function Ji(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function tn(){throw new Error("Cannot mix multi providers and regular providers")}function en(t,e,i){let n=t.length;for(;;){const r=t.indexOf(e,i);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const i=e.length;if(r+i===n||t.charCodeAt(r+i)<=32)return r}i=r+1}}function nn(t,e,i){let n=0;for(;n<t.length;){let r=t[n++];if(i&&"class"===r){if(r=t[n],-1!==en(r.toLowerCase(),e,0))return!0}else if(1===r){for(;n<t.length&&"string"==typeof(r=t[n++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function rn(t,e,i){return e===(0!==t.type||i?t.tagName:"ng-template")}function sn(t,e,i){let n=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(mi(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!rn(t,l,i)||""===l&&1===e.length){if(on(n))return!1;o=!0}}else{const h=8&n?l:e[++a];if(8&n&&null!==t.attrs){if(!nn(t.attrs,h,i)){if(on(n))return!1;o=!0}continue}const c=an(8&n?"class":l,r,0==t.type&&"ng-template"!==t.tagName,i);if(-1===c){if(on(n))return!1;o=!0;continue}if(""!==h){let t;t=c>s?"":r[c+1].toLowerCase();const e=8&n?t:null;if(e&&-1!==en(e,h,0)||2&n&&h!==t){if(on(n))return!1;o=!0}}}}else{if(!o&&!on(n)&&!on(l))return!1;if(o&&on(l))continue;o=!1,n=l|1&n}}return on(n)||o}function on(t){return 0==(1&t)}function an(t,e,i,n){if(null===e)return-1;let r=0;if(n||!i){let i=!1;for(;r<e.length;){const n=e[r];if(n===t)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){if(t[i]===e)return i;i++}return-1}(e,t)}function ln(t,e,i=!1){for(let n=0;n<e.length;n++)if(sn(t,e[n],i))return!0;return!1}function hn(t,e){t:for(let i=0;i<e.length;i++){const n=e[i];if(t.length===n.length){for(let e=0;e<t.length;e++)if(t[e]!==n[e])continue t;return!0}}return!1}function cn(t,e){return t?":not("+e.trim()+")":e}function un(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if("string"==typeof o)if(2&n){const e=t[++i];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""===r||on(o)||(e+=cn(s,r),r=""),n=o,s=s||!on(n);i++}return""!==r&&(e+=cn(s,r)),e}const dn={};function fn(t){const e=t[3];return pe(e)?e[3]:e}function pn(t){gn(Fe(),$e(),si()+t,We())}function gn(t,e,i,n){if(!n)if(3==(3&e[2])){const n=t.preOrderCheckHooks;null!==n&&hi(e,n,i)}else{const n=t.preOrderHooks;null!==n&&ci(e,n,0,i)}oi(i)}function mn(t,e){return t<<17|e<<2}function vn(t){return t>>17&32767}function yn(t){return 2|t}function bn(t){return(131068&t)>>2}function wn(t,e){return-131069&t|e<<2}function _n(t){return 1|t}function Sn(t,e){const i=t.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const r=i[n],s=i[n+1];if(-1!==s){const i=t.data[s];Qe(r),i.contentQueries(2,e[s],s)}}}function kn(t,e,i){return _e(e)?e.createElement(t,i):null===i?e.createElement(t):e.createElementNS(i,t)}function xn(t,e,i,n,r,s,o,a,l,h){const c=e.blueprint.slice();return c[0]=r,c[2]=140|n,Le(c),c[3]=c[15]=t,c[8]=i,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=h||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Cn(t,e,i,n,r,s){const o=i+19,a=t.data[o]||function(t,e,i,n,r,s){const o=Be(),a=He(),l=a?o:o&&o.parent,h=t.data[i]=Pn(0,l&&l!==e?l:null,n,i,r,s);return null===t.firstChild&&(t.firstChild=h),o&&(!a||null!=o.child||null===h.parent&&2!==o.type?a||(o.next=h):o.child=h),h}(t,e,o,n,r,s);return je(a,!0),a}function En(t,e,i){Je(e,e[6]);try{const n=t.viewQuery;null!==n&&rr(1,n,i);const r=t.template;null!==r&&An(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sn(t,e),t.staticViewQueries&&rr(2,t.viewQuery,i);const s=t.components;null!==s&&function(t,e){for(let i=0;i<e.length;i++)Jn(t,e[i])}(e,s)}finally{e[2]&=-5,ri()}}function Tn(t,e,i,n){const r=e[2];if(256==(256&r))return;Je(e,e[6]);const s=We();try{Le(e),Ie.lFrame.bindingIndex=t.bindingStartIndex,null!==i&&An(t,e,i,2,n);const o=3==(3&r);if(!s)if(o){const i=t.preOrderCheckHooks;null!==i&&hi(e,i,null)}else{const i=t.preOrderHooks;null!==i&&ci(e,i,0,null),ui(e,0)}if(function(t){let e=t[13];for(;null!==e;){let i;if(pe(e)&&(i=e[2])>>1==-1){for(let t=9;t<e.length;t++){const i=e[t],n=i[1];Re(i)&&Tn(n,i,n.template,i[8])}0!=(1&i)&&Qn(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Sn(t,e),!s)if(o){const i=t.contentCheckHooks;null!==i&&hi(e,i)}else{const i=t.contentHooks;null!==i&&ci(e,i,1),ui(e,1)}!function(t,e){try{const i=t.expandoInstructions;if(null!==i){let n=t.expandoStartIndex,r=-1,s=-1;for(let t=0;t<i.length;t++){const o=i[t];"number"==typeof o?o<=0?(s=0-o,oi(s),n+=9+i[++t],r=n):n+=o:(null!==o&&(Ke(n,r),o(2,e[r])),r++)}}}finally{oi(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let i=0;i<e.length;i++)Xn(t,e[i])}(e,a);const l=t.viewQuery;if(null!==l&&rr(2,l,n),!s)if(o){const i=t.viewCheckHooks;null!==i&&hi(e,i)}else{const i=t.viewHooks;null!==i&&ci(e,i,2),ui(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{ri()}}function On(t,e,i,n){const r=e[10],s=!We(),o=Me(e);try{s&&!o&&r.begin&&r.begin(),o&&En(t,e,n),Tn(t,e,i,n)}finally{s&&!o&&r.end&&r.end()}}function An(t,e,i,n,r){const s=si();try{oi(-1),2&n&&e.length>19&&gn(t,e,0,We()),i(n,r)}finally{oi(s)}}function Mn(t,e,i){if(ge(e)){const n=e.directiveEnd;for(let r=e.directiveStart;r<n;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,i[r],r)}}}function Rn(t,e,i){Pe()&&(function(t,e,i,n){const r=i.directiveStart,s=i.directiveEnd;t.firstCreatePass||Ri(i,e),Xi(n,e);const o=i.initialInputs;for(let a=r;a<s;a++){const n=t.data[a],s=ye(n);s&&Gn(e,i,n);const l=ji(e,t,a,i);Xi(l,e),null!==o&&qn(0,a-r,l,n,0,o),s&&(Oe(i.index,e)[8]=l)}}(t,e,i,Ce(i,e)),128==(128&i.flags)&&function(t,e,i){const n=i.directiveStart,r=i.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=i.index-19;try{oi(a);for(let i=n;i<r;i++){const n=t.data[i],r=e[i];null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs?Hn(n,r):o&&s.push(null)}}finally{oi(-1)}}(t,e,i))}function Dn(t,e,i=Ce){const n=e.localNames;if(null!==n){let r=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?i(e,t):t[o];t[r++]=a}}}function Ln(t){return t.tView||(t.tView=In(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function In(t,e,i,n,r,s,o,a,l,h){const c=19+n,u=c+r,d=function(t,e){const i=[];for(let n=0;n<e;n++)i.push(n<t?null:dn);return i}(c,u);return d[1]={type:t,id:e,blueprint:d,template:i,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h}}function Pn(t,e,i,n,r,s){return{type:i,index:n,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $n(t,e,i){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(e,r):i[n]=[e,r]}return i}function Fn(t,e,i,n,r,s,o,a){const l=Ce(e,i);let h,c=e.inputs;var u;!a&&null!=c&&(h=c[n])?(cr(t,i,h,n,r),me(e)&&function(t,e){const i=Oe(e,t);16&i[2]||(i[2]|=64)}(i,e.index)):3===e.type&&(n="class"===(u=n)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.tagName||"",n):r,_e(s)?s.setProperty(l,n,r):vi(n)||(l.setProperty?l.setProperty(n,r):l[n]=r))}function Nn(t,e,i,n){let r=!1;if(Pe()){const s=function(t,e,i){const n=t.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];ln(i,o.selectors,!1)&&(r||(r=[]),Pi(Ri(i,e),t,o.type),ye(o)?(2&i.flags&&Ji(i),Wn(t,i),r.unshift(o)):r.push(o))}return r}(t,e,i),o=null===n?null:{"":-1};if(null!==s){let n=0;r=!0,Un(i,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}zn(t,i,s.length);let a=!1,l=!1;for(let r=0;r<s.length;r++){const h=s[r];i.mergedAttrs=yi(i.mergedAttrs,h.hostAttrs),Yn(t,e,h),Vn(t.data.length-1,h,o),null!==h.contentQueries&&(i.flags|=8),null===h.hostBindings&&null===h.hostAttrs&&0===h.hostVars||(i.flags|=128),!a&&(h.onChanges||h.onInit||h.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index-19),a=!0),l||!h.onChanges&&!h.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index-19),l=!0),Bn(t,h),n+=h.hostVars}!function(t,e){const i=e.directiveEnd,n=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<i;l++){const t=n[l],e=t.inputs;s.push(null!==r?Kn(e,r):null),o=$n(e,l,o),a=$n(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,i),jn(t,e,n)}o&&function(t,e,i){if(e){const n=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=i[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);n.push(e[t],r)}}}(i,n,o)}return i.mergedAttrs=yi(i.mergedAttrs,i.attrs),r}function Bn(t,e){const i=t.expandoInstructions;i.push(e.hostBindings),0!==e.hostVars&&i.push(e.hostVars)}function jn(t,e,i){for(let n=0;n<i;n++)e.push(dn),t.blueprint.push(dn),t.data.push(null)}function Hn(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zn(t,e,i){const n=19-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(n,r,i)}function Wn(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vn(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ye(e)&&(i[""]=t)}}function Un(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Yn(t,e,i){t.data.push(i);const n=i.factory||(i.factory=ue(i.type)),r=new pi(n,ye(i),null);t.blueprint.push(r),e.push(r)}function Gn(t,e,i){const n=Ce(e,t),r=Ln(i),s=t[10],o=tr(t,xn(t,r,null,i.onPush?64:16,n,e,s,s.createRenderer(n,i)));t[e.index]=o}function qn(t,e,i,n,r,s){const o=s[e];if(null!==o){const t=n.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?n.setInput(i,a,r,s):i[s]=a}}}function Kn(t,e){let i=null,n=0;for(;n<e.length;){const r=e[n];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===i&&(i=[]),i.push(r,t[r],e[n+1])),n+=2}else n+=2;else n+=4}return i}function Zn(t,e,i,n){return new Array(t,!0,-2,e,null,null,n,i,null)}function Qn(t,e){const i=t[5];for(let n=0;n<i.length;n++){const t=i[n],r=t[3][3][16];if(r!==e&&0==(16&r[2])){const e=t[1];Tn(e,t,e.template,t[8])}}}function Xn(t,e){const i=Oe(e,t);if(Re(i)&&80&i[2]){const t=i[1];Tn(t,i,t.template,i[8])}}function Jn(t,e){const i=Oe(e,t),n=i[1];!function(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}(n,i),En(n,i,i[8])}function tr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function er(t){for(;t;){t[2]|=64;const e=fn(t);if(be(t)&&!e)return t;t=e}return null}function ir(t,e,i){const n=e[10];n.begin&&n.begin();try{Tn(t,e,t.template,i)}catch(r){throw hr(e,r),r}finally{n.end&&n.end()}}function nr(t){!function(t){for(let e=0;e<t.components.length;e++){const i=t.components[e],n=Ae(i),r=n[1];On(r,n,r.template,i)}}(t[8])}function rr(t,e,i){Qe(0),e(t,i)}const sr=(()=>Promise.resolve(null))();function or(t){return t[7]||(t[7]=[])}function ar(t){return t.cleanup||(t.cleanup=[])}function lr(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}function hr(t,e){const i=t[9],n=i?i.get(qi,null):null;n&&n.handleError(e)}function cr(t,e,i,n,r){for(let s=0;s<i.length;){const o=i[s++],a=i[s++],l=e[o],h=t.data[o];null!==h.setInput?h.setInput(l,r,n,a):l[a]=r}}function ur(t,e,i){const n=xe(e,t),r=t[11];_e(r)?r.setValue(n,i):n.textContent=i}function dr(t,e){const i=e[3];return-1===t.index?pe(i)?i:null:i}function fr(t,e){const i=dr(t,e);return i?Cr(e[11],i[7]):null}function pr(t,e,i,n,r){if(null!=n){let s,o=!1;pe(n)?s=n:fe(n)&&(o=!0,n=n[0]);const a=ke(n);0===t&&null!==i?null==r?kr(e,i,a):Sr(e,i,a,r||null):1===t&&null!==i?Sr(e,i,a,r||null):2===t?function(t,e,i){const n=Cr(t,e);n&&function(t,e,i,n){_e(t)?t.removeChild(e,i,n):e.removeChild(i)}(t,n,e,i)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,i,n,r){const s=i[7];s!==ke(i)&&pr(e,t,n,s,r);for(let o=9;o<i.length;o++){const r=i[o];Mr(r[1],r,t,e,n,s)}}(e,t,s,i,r)}}function gr(t,e,i,n){const r=fr(t.node,e);r&&Mr(t,e,e[11],i?1:2,r,n)}function mr(t,e){const i=t[5],n=i.indexOf(e);i.splice(n,1)}function vr(t,e){if(t.length<=9)return;const i=9+e,n=t[i];if(n){const r=n[17];null!==r&&r!==t&&mr(r,n),e>0&&(t[i-1][4]=n[4]);const s=Yt(t,9+e);gr(n[1],n,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function yr(t,e){if(!(256&e[2])){const i=e[11];_e(i)&&i.destroyNode&&Mr(t,e,i,3,null,null),function(t){let e=t[13];if(!e)return wr(t[1],t);for(;e;){let i=null;if(fe(e))i=e[13];else{const t=e[9];t&&(i=t)}if(!i){for(;e&&!e[4]&&e!==t;)fe(e)&&wr(e[1],e),e=br(e,t);null===e&&(e=t),fe(e)&&wr(e[1],e),i=e&&e[4]}e=i}}(e)}}function br(t,e){let i;return fe(t)&&(i=t[6])&&2===i.type?dr(i,t):t[3]===e?null:t[3]}function wr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let n=0;n<i.length;n+=2){const t=e[i[n]];t instanceof pi||i[n+1].call(t)}}(t,e),function(t,e){const i=t.cleanup;if(null!==i){const t=e[7];for(let n=0;n<i.length-1;n+=2)if("string"==typeof i[n]){const r=i[n+1],s="function"==typeof r?r(e):ke(e[r]),o=t[i[n+2]],a=i[n+3];"boolean"==typeof a?s.removeEventListener(i[n],o,a):a>=0?t[a]():t[-a].unsubscribe(),n+=2}else i[n].call(t[i[n+1]]);e[7]=null}}(t,e);const i=e[6];i&&3===i.type&&_e(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pe(e[3])){n!==e[3]&&mr(n,e);const i=e[5];null!==i&&i.detachView(t)}}}function _r(t,e,i){let n=e.parent;for(;null!=n&&(4===n.type||5===n.type);)n=(e=n).parent;if(null==n){const t=i[6];return 2===t.type?fr(t,i):i[0]}if(e&&5===e.type&&4&e.flags)return Ce(e,i).parentNode;if(2&n.flags){const e=t.data,i=e[e[n.index].directiveStart].encapsulation;if(i!==Xt.ShadowDom&&i!==Xt.Native)return null}return Ce(n,i)}function Sr(t,e,i,n){_e(t)?t.insertBefore(e,i,n):e.insertBefore(i,n,!0)}function kr(t,e,i){_e(t)?t.appendChild(e,i):e.appendChild(i)}function xr(t,e,i,n){null!==n?Sr(t,e,i,n):kr(t,e,i)}function Cr(t,e){return _e(t)?t.parentNode(e):e.parentNode}function Er(t,e){if(2===t.type){const i=dr(t,e);return null===i?null:Or(i.indexOf(e,9)-9,i)}return 4===t.type||5===t.type?Ce(t,e):null}function Tr(t,e,i,n){const r=_r(t,n,e);if(null!=r){const t=e[11],s=Er(n.parent||e[6],e);if(Array.isArray(i))for(let e=0;e<i.length;e++)xr(t,r,i[e],s);else xr(t,r,i,s)}}function Or(t,e){const i=9+t+1;if(i<e.length){const t=e[i],n=t[1].firstChild;if(null!==n)return function t(e,i){if(null!==i){const n=i.type;if(3===n)return Ce(i,e);if(0===n)return Or(-1,e[i.index]);if(4===n||5===n){const n=i.child;if(null!==n)return t(e,n);{const t=e[i.index];return pe(t)?Or(-1,t):ke(t)}}{const n=e[16],r=n[6],s=fn(n),o=r.projection[i.projection];return null!=o?t(s,o):t(e,i.next)}}return null}(t,n)}return e[7]}function Ar(t,e,i,n,r,s,o){for(;null!=i;){const a=n[i.index],l=i.type;o&&0===e&&(a&&Xi(ke(a),n),i.flags|=4),64!=(64&i.flags)&&(4===l||5===l?(Ar(t,e,i.child,n,r,s,!1),pr(e,t,r,a,s)):1===l?Rr(t,e,n,i,r,s):pr(e,t,r,a,s)),i=o?i.projectionNext:i.next}}function Mr(t,e,i,n,r,s){Ar(i,n,t.node.child,e,r,s,!1)}function Rr(t,e,i,n,r,s){const o=i[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)pr(e,t,r,a[l],s);else Ar(t,e,a,o[3],r,s,!0)}function Dr(t,e,i){_e(t)?t.setAttribute(e,"style",i):e.style.cssText=i}function Lr(t,e,i){_e(t)?""===i?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i):e.className=i}class Ir{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,i,n,r,s=!1){for(;null!==n;){const o=i[n.index];if(null!==o&&r.push(ke(o)),pe(o))for(let e=9;e<o.length;e++){const i=o[e],n=i[1].firstChild;null!==n&&t(i[1],i,n,r)}const a=n.type;if(4===a||5===a)t(e,i,n.child,r);else if(1===a){const e=i[16],s=e[6],o=fn(e);let a=s.projection[n.projection];null!==a&&null!==o&&t(o[1],o,a,r,!0)}n=s?n.projectionNext:n.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}yr(this._lView[1],this._lView)}onDestroy(t){var e,i,n;e=this._lView[1],n=t,or(i=this._lView).push(n),e.firstCreatePass&&ar(e).push(i[7].length-1,null)}markForCheck(){er(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ir(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,i){Ve(!0);try{ir(t,e,i)}finally{Ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Mr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Pr extends Ir{constructor(t){super(t),this._view=t}detectChanges(){nr(this._view)}checkNoChanges(){!function(t){Ve(!0);try{nr(t)}finally{Ve(!1)}}(this._view)}get context(){return null}}let $r,Fr,Nr;function Br(t,e,i){return $r||($r=class extends t{}),new $r(Ce(e,i))}function jr(t,e,i,n){return Fr||(Fr=class extends t{constructor(t,e,i){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=xn(this._declarationView,e,t,16,null,e.node);i[17]=this._declarationView[this._declarationTContainer.index];const n=this._declarationView[5];null!==n&&(i[5]=n.createEmbeddedView(e)),En(e,i,t);const r=new Ir(i);return r._tViewNode=i[6],r}}),0===i.type?new Fr(n,i,Br(e,i,n)):null}function Hr(t,e,i,n){let r;Nr||(Nr=class extends t{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostView=i}get element(){return Br(e,this._hostTNode,this._hostView)}get injector(){return new Wi(this._hostTNode,this._hostView)}get parentInjector(){const t=Ii(this._hostTNode,this._hostView),e=ki(t,this._hostView),i=function(t,e,i){if(i.parent&&-1!==i.parent.injectorIndex){const t=i.parent.injectorIndex;let e=i.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let n=Si(t),r=e,s=e[6];for(;n>1;)r=r[15],s=r[6],n--;return s}(t,this._hostView,this._hostTNode);return wi(t)&&null!=i?new Wi(i,e):new Wi(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,i){const n=t.createEmbeddedView(e||{});return this.insert(n,i),n}createComponent(t,e,i,n,r){const s=i||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(zt,null);t&&(r=t)}const o=t.create(s,n,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,n=i[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),pe(i[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=i[3],n=new Nr(e,e[6],e[3]);n.detach(n.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,i,n){const r=9+n,s=i.length;n>0&&(i[r-1][4]=e),n<s-9?(e[4]=i[r],Ut(i,9+n,e)):(i.push(e),e[4]=null),e[3]=i;const o=e[17];null!==o&&i!==o&&function(t,e){const i=t[5],n=e[3][3][16];16!=(16&n[2])&&e[16]!==n&&(t[2]|=1),null===i?t[5]=[e]:i.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(n,i,this._lContainer,r),gr(n,i,!0,Or(r,this._lContainer)),t.attachToViewContainerRef(this),Ut(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const i=vr(t,e);i&&yr(i[1],i)})(this._lContainer,e),Yt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),i=vr(this._lContainer,e);return i&&null!=Yt(this._lContainer[8],e)?new Ir(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=n[i.index];if(pe(s))r=s,function(t,e){t[2]=-2}(r);else{let t;if(4===i.type)t=ke(s);else if(t=n[11].createComment(""),be(n)){const e=n[11],r=Ce(i,n);Sr(e,Cr(e,r),t,function(t,e){return _e(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Tr(n[1],n,t,i);n[i.index]=r=Zn(s,n,t,i),tr(n,r)}return new Nr(r,i,n)}function zr(t=!1){return function(t,e,i){if(!i&&me(t)){const i=Oe(t.index,e);return new Ir(i,i)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ir(e[16],e):null}(Be(),$e(),t)}let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vr(),t})();const Vr=zr,Ur=new Tt("Set Injector scope."),Yr={},Gr={},qr=[];let Kr=void 0;function Zr(){return void 0===Kr&&(Kr=new Ht),Kr}function Qr(t,e=null,i=null,n){return new Xr(t,i,e||Zr(),n)}class Xr{constructor(t,e,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Vt(e,i=>this.processProvider(i,t,e)),Vt([t],t=>this.processInjectorType(t,[],r)),this.records.set(Ot,es(void 0,this));const s=this.records.get(Ur);this.scope=null!=s?s.value:null,this.source=n||("object"==typeof t?null:ht(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=At,i=Z.Default){this.assertNotDestroyed();const n=It(this);try{if(!(i&Z.SkipSelf)){let e=this.records.get(t);if(void 0===e){const i=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Tt)&&et(t);e=i&&this.injectableDefInScope(i)?es(Jr(t),Yr):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(i&Z.Self?Zr():this.parent).get(t,e=i&Z.Optional&&e===At?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ht(t)),n)throw s;return function(t,e,i,n){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,i,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=ht(e);if(Array.isArray(e))r=e.map(ht).join(" -> ");else if("object"==typeof e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push(i+":"+("string"==typeof n?JSON.stringify(n):ht(n)))}r=`{${t.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(Mt,"\n  ")}`}("\n"+t.message,r,i,n),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{It(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,i)=>t.push(ht(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ft(t)))return!1;let n=nt(t);const r=null==n&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==i.indexOf(s);if(void 0!==r&&(n=nt(r)),null==n)return!1;if(null!=n.imports&&!o){let t;i.push(s);try{Vt(n.imports,n=>{this.processInjectorType(n,e,i)&&(void 0===t&&(t=[]),t.push(n))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:i,providers:n}=t[e];Vt(n,t=>this.processProvider(t,i,n||qr))}}this.injectorDefTypes.add(s),this.records.set(s,es(n.factory,Yr));const a=n.providers;if(null!=a&&!o){const e=t;Vt(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let n=ns(t=ft(t))?t:ft(t&&t.provide);const r=function(t,e,i){return is(t)?es(void 0,t.useValue):es(ts(t,e,i),Yr)}(t,e,i);if(ns(t)||!0!==t.multi){const t=this.records.get(n);t&&void 0!==t.multi&&tn()}else{let e=this.records.get(n);e?void 0===e.multi&&tn():(e=es(void 0,Yr,!0),e.factory=()=>jt(e.multi),this.records.set(n,e)),n=t,e.multi.push(t)}this.records.set(n,r)}hydrate(t,e){var i;return e.value===Gr?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(ht(t)):e.value===Yr&&(e.value=Gr,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(i=e.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Jr(t){const e=et(t),i=null!==e?e.factory:ue(t);if(null!==i)return i;const n=nt(t);if(null!==n)return n.factory;if(t instanceof Tt)throw new Error(`Token ${ht(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=Gt(e,"?");throw new Error(`Can't resolve all parameters for ${ht(t)}: (${i.join(", ")}).`)}const i=function(t){const e=t&&(t[rt]||t[at]||t[ot]&&t[ot]());if(e){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${i}" class.`),e}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function ts(t,e,i){let n=void 0;if(ns(t)){const e=ft(t);return ue(e)||Jr(e)}if(is(t))n=()=>ft(t.useValue);else if((r=t)&&r.useFactory)n=()=>t.useFactory(...jt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))n=()=>Ft(ft(t.useExisting));else{const r=ft(t&&(t.useClass||t.provide));if(r||function(t,e,i){let n="";throw t&&e&&(n=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==i?"?"+i+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${ht(t)}'`+n)}(e,i,t),!function(t){return!!t.deps}(t))return ue(r)||Jr(r);n=()=>new r(...jt(t.deps))}var r;return n}function es(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function is(t){return null!==t&&"object"==typeof t&&Rt in t}function ns(t){return"function"==typeof t}const rs=function(t,e,i){return function(t,e=null,i=null,n){const r=Qr(t,e,i,n);return r._resolveInjectorDefTypes(),r}({name:i},e,t,i)};let ss=(()=>{class t{static create(t,e){return Array.isArray(t)?rs(t,e,""):rs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=At,t.NULL=new Ht,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>Ft(Ot)}),t.__NG_ELEMENT_ID__=-1,t})();const os=new Tt("AnalyzeForEntryComponents");let as=new Map;const ls=new Set;function hs(t){return"string"==typeof t?t:t.text()}function cs(t,e){let i=t.styles,n=t.classes,r=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?r=t:1==r?n=ct(n,t):2==r&&(i=ct(i,t+": "+e[++s]+";"))}null!==i&&(t.styles=i),null!==n&&(t.classes=n)}let us=null;function ds(){if(!us){const t=bt.Symbol;if(t&&t.iterator)us=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(us=i)}}}return us}function fs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class ps{constructor(t){this.wrapped=t}static wrap(t){return new ps(t)}static unwrap(t){return ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ps}}function gs(t){return!!ms(t)&&(Array.isArray(t)||!(t instanceof Map)&&ds()in t)}function ms(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vs(t,e,i){return t[e]=i}function ys(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function bs(t,e,i,n){const r=ys(t,e,i);return ys(t,e+1,n)||r}function ws(t,e,i,n){const r=$e();return ys(r,Ge(),e)&&(Fe(),function(t,e,i,n,r,s){const o=Ce(t,e),a=e[11];if(null==n)_e(a)?a.removeAttribute(o,i,s):o.removeAttribute(i);else{const e=null==r?xi(n):r(n,t.tagName||"",i);_e(a)?a.setAttribute(o,i,e,s):s?o.setAttributeNS(s,i,e):o.setAttribute(i,e)}}(ai(),r,t,e,i,n)),ws}function _s(t,e,i,n,r,s,o,a){const l=$e(),h=Fe(),c=t+19,u=h.firstCreatePass?function(t,e,i,n,r,s,o,a,l){const h=e.consts,c=Cn(e,i[6],t,0,o||null,De(h,a));Nn(e,i,c,De(h,l)),li(e,c);const u=c.tViews=In(2,-1,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h),d=Pn(0,null,2,-1,null,null);return d.injectorIndex=c.injectorIndex,u.node=d,null!==e.queries&&(e.queries.template(e,c),u.queries=e.queries.embeddedTView(c)),c}(t,h,l,e,i,n,r,s,o):h.data[c];je(u,!1);const d=l[11].createComment("");Tr(h,l,d,u),Xi(d,l),tr(l,l[c]=Zn(d,l,d,u)),ve(u)&&Rn(h,l,u),null!=o&&Dn(l,u,a)}function Ss(t){return Te(Ie.lFrame.contextLView,t)}function ks(t,e=Z.Default){const i=$e();return null==i?Ft(t,e):$i(Be(),i,ft(t),e)}function xs(){throw new Error("invalid")}function Cs(t,e,i){const n=$e();return ys(n,Ge(),e)&&Fn(Fe(),ai(),n,t,e,n[11],i,!1),Cs}function Es(t,e,i,n,r){const s=r?"class":"style";cr(t,i,e.inputs[s],s,n)}function Ts(t,e,i,n){const r=$e(),s=Fe(),o=19+t,a=r[11],l=r[o]=kn(e,a,Ie.lFrame.currentNamespace),h=s.firstCreatePass?function(t,e,i,n,r,s,o){const a=e.consts,l=De(a,s),h=Cn(e,i[6],t,3,r,l);return Nn(e,i,h,De(a,o)),null!==h.mergedAttrs&&cs(h,h.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,h),h}(t,s,r,0,e,i,n):s.data[o];je(h,!0);const c=h.mergedAttrs;null!==c&&gi(a,l,c);const u=h.classes;null!==u&&Lr(a,l,u);const d=h.styles;null!==d&&Dr(a,l,d),Tr(s,r,l,h),0===Ie.lFrame.elementDepthCount&&Xi(l,r),Ie.lFrame.elementDepthCount++,ve(h)&&(Rn(s,r,h),Mn(s,h,r)),null!==n&&Dn(r,h)}function Os(){let t=Be();He()?ze():(t=t.parent,je(t,!1));const e=t;Ie.lFrame.elementDepthCount--;const i=Fe();i.firstCreatePass&&(li(i,t),ge(t)&&i.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Es(i,e,$e(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Es(i,e,$e(),e.styles,!1)}function As(t,e,i,n){Ts(t,e,i,n),Os()}function Ms(t,e,i){const n=$e(),r=Fe(),s=t+19,o=r.firstCreatePass?function(t,e,i,n,r){const s=e.consts,o=De(s,n),a=Cn(e,i[6],t,4,"ng-container",o);return null!==o&&cs(a,o),Nn(e,i,a,De(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,n,e,i):r.data[s];je(o,!0);const a=n[s]=n[11].createComment("");Tr(r,n,a,o),Xi(a,n),ve(o)&&(Rn(r,n,o),Mn(r,o,n)),null!=i&&Dn(n,o)}function Rs(){let t=Be();const e=Fe();He()?ze():(t=t.parent,je(t,!1)),e.firstCreatePass&&(li(e,t),ge(t)&&e.queries.elementEnd(t))}function Ds(){return $e()}function Ls(t){return!!t&&"function"==typeof t.then}function Is(t){return!!t&&"function"==typeof t.subscribe}function Ps(t,e,i=!1,n){const r=$e(),s=Fe(),o=Be();return Fs(s,r,r[11],o,t,e,i,n),Ps}function $s(t,e,i=!1,n){const r=Be(),s=$e(),o=lr(r,s);return Fs(Fe(),s,o,r,t,e,i,n),$s}function Fs(t,e,i,n,r,s,o=!1,a){const l=ve(n),h=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),c=or(e);let u=!0;if(3===n.type){const d=Ce(n,e),f=a?a(d):Jt,p=f.target||d,g=c.length,m=a?t=>a(ke(t[n.index])).target:n.index;if(_e(i)){let o=null;if(!a&&l&&(o=function(t,e,i,n){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===i&&r[s+1]===n){const t=e[7],i=r[s+2];return t.length>i?t[i]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=Bs(n,e,s,!1);const t=i.listen(f.name||p,r,s);c.push(s,t),h&&h.push(r,m,g,g+1)}}else s=Bs(n,e,s,!0),p.addEventListener(r,s,o),c.push(s),h&&h.push(r,m,g,o)}const d=n.outputs;let f;if(u&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let i=0;i<t;i+=2){const t=e[f[i]][f[i+1]].subscribe(s),o=c.length;c.push(s,t),h&&h.push(r,n.index,o,-(o+1))}}}function Ns(t,e,i){try{return!1!==e(i)}catch(n){return hr(t,n),!1}}function Bs(t,e,i,n){return function r(s){if(s===Function)return i;const o=2&t.flags?Oe(t.index,e):e;0==(32&e[2])&&er(o);let a=Ns(e,i,s),l=r.__ngNextListenerFn__;for(;l;)a=Ns(e,l,s)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function js(t=1){return function(t){return(Ie.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ie.lFrame.contextLView))[8]}(t)}function Hs(t,e){let i=null;const n=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===n?ln(t,s,!0):hn(n,s))return r}else i=r}return i}function zs(t){const e=$e()[16][6];if(!e.projection){const i=e.projection=Gt(t?t.length:1,null),n=i.slice();let r=e.child;for(;null!==r;){const e=t?Hs(r,t):0;null!==e&&(n[e]?n[e].projectionNext=r:i[e]=r,n[e]=r),r=r.next}}}function Ws(t,e=0,i){const n=$e(),r=Fe(),s=Cn(r,n[6],t,1,null,i||null);null===s.projection&&(s.projection=e),ze(),function(t,e,i){Rr(e[11],0,e,i,_r(t,i,e),Er(i.parent||e[6],e))}(r,n,s)}const Vs=[];function Us(t,e,i,n,r){const s=t[i+1],o=null===e;let a=n?vn(s):bn(s),l=!1;for(;0!==a&&(!1===l||o);){const i=t[a+1];Ys(t[a],e)&&(l=!0,t[a+1]=n?_n(i):yn(i)),a=n?vn(i):bn(i)}l&&(t[i+1]=n?yn(s):_n(s))}function Ys(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zt(t,e)>=0}function Gs(t,e){return function(t,e,i,n){const r=$e(),s=Fe(),o=qe(2);if(s.firstUpdatePass&&function(t,e,i,n){const r=t.data;if(null===r[i+1]){const n=r[si()+19],s=function(t,e){return e>=t.expandoStartIndex}(t,i);(function(t,e){return 0!=(16&t.flags)})(n)&&null===e&&!s&&(e=!1),e=function(t,e,i,n){const r=function(t){const e=Ie.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=e.residualClasses;if(null===r)0===e.classBindings&&(i=Ks(i=qs(null,t,e,i,!0),e.attrs,!0),s=null);else{const n=e.directiveStylingLast;if(-1===n||t[n]!==r)if(i=qs(r,t,e,i,!0),null===s){let i=function(t,e,i){const n=e.classBindings;if(0!==bn(n))return t[vn(n)]}(t,e);void 0!==i&&Array.isArray(i)&&(i=qs(null,t,e,i[1],!0),i=Ks(i,e.attrs,!0),function(t,e,i,n){t[vn(e.classBindings)]=n}(t,e,0,i))}else s=function(t,e,i){let n=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)n=Ks(n,t[s].hostAttrs,!0);return Ks(n,e.attrs,!0)}(t,e)}return void 0!==s&&(e.residualClasses=s),i}(r,n,e),function(t,e,i,n,r,s){let o=e.classBindings,a=vn(o),l=bn(o);t[n]=i;let h,c=!1;if(Array.isArray(i)){const t=i;h=t[1],(null===h||Zt(t,h)>0)&&(c=!0)}else h=i;if(r)if(0!==l){const e=vn(t[a+1]);t[n+1]=mn(e,a),0!==e&&(t[e+1]=wn(t[e+1],n)),t[a+1]=131071&t[a+1]|n<<17}else t[n+1]=mn(a,0),0!==a&&(t[a+1]=wn(t[a+1],n)),a=n;else t[n+1]=mn(l,0),0===a?a=n:t[l+1]=wn(t[l+1],n),l=n;c&&(t[n+1]=yn(t[n+1])),Us(t,h,n,!0),Us(t,h,n,!1),function(t,e,i,n,r){const s=t.residualClasses;null!=s&&"string"==typeof e&&Zt(s,e)>=0&&(i[n+1]=_n(i[n+1]))}(e,h,t,n),o=mn(a,l),e.classBindings=o}(r,n,e,i,s)}}(s,t,o),e!==dn&&ys(r,o,e)){let n;null==i&&(n=function(){const t=Ie.lFrame;return null===t?null:t.currentSanitizer}())&&(i=n),function(t,e,i,n,r,s,o,a){if(3!==e.type)return;const l=t.data,h=l[a+1];Qs(1==(1&h)?Zs(l,e,i,r,bn(h),!0):void 0)||(Qs(s)||function(t){return 2==(2&t)}(h)&&(s=Zs(l,null,i,r,a,!0)),function(t,e,i,n,r){const s=_e(t);r?s?t.addClass(i,n):i.classList.add(n):s?t.removeClass(i,n):i.classList.remove(n)}(n,0,xe(si(),i),r,s))}(s,s.data[si()+19],r,r[11],t,r[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=ht(function(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,i),0,o)}}(t,e,null),Gs}function qs(t,e,i,n,r){let s=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=e[a],n=Ks(n,s.hostAttrs,r),s!==t);)a++;return null!==t&&(i.directiveStylingLast=a),n}function Ks(t,e,i){const n=i?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qt(t,o,!!i||e[++s]))}return void 0===t?null:t}function Zs(t,e,i,n,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,h=null===l;let c=i[r+1];c===dn&&(c=h?Vs:void 0);let u=h?Kt(c,n):l===n?c:void 0;if(s&&!Qs(u)&&(u=Kt(e,n)),Qs(u)&&(a=u,o))return a;const d=t[r+1];r=o?vn(d):bn(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Kt(t,n))}return a}function Qs(t){return void 0!==t}function Xs(t,e=""){const i=$e(),n=Fe(),r=t+19,s=n.firstCreatePass?Cn(n,i[6],t,3,null,null):n.data[r],o=i[r]=function(t,e){return _e(e)?e.createText(t):e.createTextNode(t)}(e,i[11]);Tr(n,i,o,s),je(s,!1)}function Js(t){return to("",t,""),Js}function to(t,e,i){const n=$e(),r=function(t,e,i,n){return ys(t,Ge(),i)?e+xi(i)+n:dn}(n,t,e,i);return r!==dn&&ur(n,si(),r),to}function eo(t,e,i,n,r){const s=$e(),o=function(t,e,i,n,r,s){const o=bs(t,Ye(),i,r);return qe(2),o?e+xi(i)+n+xi(r)+s:dn}(s,t,e,i,n,r);return o!==dn&&ur(s,si(),o),eo}function io(t,e,i){const n=$e();if(ys(n,Ge(),e)){const r=Fe(),s=ai();Fn(r,s,n,t,e,lr(s,n),i,!0)}return io}function no(t,e){const i=Ae(t)[1],n=i.data.length-1;li(i,{directiveStart:n,directiveEnd:n+1})}function ro(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,i=!0;const n=[t];for(;e;){let r=void 0;if(ye(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(i){n.push(r);const e=t;e.inputs=so(t.inputs),e.declaredInputs=so(t.declaredInputs),e.outputs=so(t.outputs);const i=r.hostBindings;i&&lo(t,i);const s=r.viewQuery,o=r.contentQueries;if(s&&oo(t,s),o&&ao(t,o),X(t.inputs,r.inputs),X(t.declaredInputs,r.declaredInputs),X(t.outputs,r.outputs),ye(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let n=0;n<e.length;n++){const r=e[n];r&&r.ngInherit&&r(t),r===ro&&(i=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){const r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=yi(r.hostAttrs,i=yi(i,r.hostAttrs))}}(n)}function so(t){return t===Jt?{}:t===te?[]:t}function oo(t,e){const i=t.viewQuery;t.viewQuery=i?(t,n)=>{e(t,n),i(t,n)}:e}function ao(t,e){const i=t.contentQueries;t.contentQueries=i?(t,n,r)=>{e(t,n,r),i(t,n,r)}:e}function lo(t,e){const i=t.hostBindings;t.hostBindings=i?(t,n)=>{e(t,n),i(t,n)}:e}class ho{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function co(t){t.type.prototype.ngOnChanges&&(t.setInput=uo,t.onChanges=function(){const t=fo(this),e=t&&t.current;if(e){const i=t.previous;if(i===Jt)t.previous=e;else for(let t in e)i[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function uo(t,e,i,n){const r=fo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Jt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[i],l=o[a];s[a]=new ho(l&&l.currentValue,e,o===Jt),t[n]=e}function fo(t){return t.__ngSimpleChanges__||null}function po(t,e,i,n,r){if(t=ft(t),Array.isArray(t))for(let s=0;s<t.length;s++)po(t[s],e,i,n,r);else{const s=Fe(),o=$e();let a=ns(t)?t:ft(t.provide),l=ts(t);const h=Be(),c=65535&h.providerIndexes,u=h.directiveStart,d=h.providerIndexes>>16;if(ns(t)||!t.multi){const n=new pi(l,r,ks),f=vo(a,e,r?c:c+d,u);-1===f?(Pi(Ri(h,o),s,a),go(s,t,e.length),e.push(a),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=65536),i.push(n),o.push(n)):(i[f]=n,o[f]=n)}else{const f=vo(a,e,c+d,u),p=vo(a,e,c,c+d),g=f>=0&&i[f],m=p>=0&&i[p];if(r&&!m||!r&&!g){Pi(Ri(h,o),s,a);const c=function(t,e,i,n,r){const s=new pi(t,i,ks);return s.multi=[],s.index=e,s.componentProviders=0,mo(s,r,n&&!i),s}(r?bo:yo,i.length,r,n,l);!r&&m&&(i[p].providerFactory=c),go(s,t,e.length),e.push(a),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=65536),i.push(c),o.push(c)}else go(s,t,f>-1?f:p),mo(i[r?p:f],l,!r&&n);!r&&n&&m&&i[p].componentProviders++}}}function go(t,e,i){if(ns(e)||e.useClass){const n=(e.useClass||e).prototype.ngOnDestroy;n&&(t.destroyHooks||(t.destroyHooks=[])).push(i,n)}}function mo(t,e,i){t.multi.push(e),i&&t.componentProviders++}function vo(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function yo(t,e,i,n){return wo(this.multi,[])}function bo(t,e,i,n){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ji(i,i[1],this.providerFactory.index,n);s=e.slice(0,t),wo(r,s);for(let i=t;i<e.length;i++)s.push(e[i])}else s=[],wo(r,s);return s}function wo(t,e){for(let i=0;i<t.length;i++)e.push((0,t[i])());return e}function _o(t,e=[]){return i=>{i.providersResolver=(i,n)=>function(t,e,i){const n=Fe();if(n.firstCreatePass){const r=ye(t);po(i,n.data,n.blueprint,r,!0),po(e,n.data,n.blueprint,r,!1)}}(i,n?n(t):t,e)}}co.ngInherit=!0;class So{}class ko{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${ht(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let xo=(()=>{class t{}return t.NULL=new ko,t})(),Co=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Eo(t),t})();const Eo=function(t){return Br(t,Be(),$e())};class To{}const Oo=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Ao=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Mo(),t})();const Mo=function(){const t=$e(),e=Oe(Be().index,t);return function(t){const e=t[11];if(_e(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(fe(e)?e:t)};let Ro=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class Do{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Lo=new Do("9.1.0");class Io{constructor(){}supports(t){return gs(t)}create(t){return new $o(t)}}const Po=(t,e)=>e;class $o{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Po}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,r=null;for(;e||i;){const s=!i||e&&e.currentIndex<jo(i,n,r)?e:i,o=jo(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)n++;else{r||(r=[]);const t=o-n,e=a-n;if(t!=e){for(let i=0;i<t;i++){const n=i<r.length?r[i]:r[i]=0,s=n+i;e<=s&&s<t&&(r[i]=n+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!gs(t))throw new Error(`Error trying to diff '${ht(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,i,n,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=t[e],n=this._trackByFn(e,i),null!==r&&fs(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,e)),fs(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[ds()]();let n;for(;!(n=i.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==r&&fs(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,t,n,e)),fs(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,n,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(fs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(fs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,n)):t=this._addAfter(new Fo(e,i),r,n),t}_verifyReinsertion(t,e,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,r=t._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bo),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class No{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&fs(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Bo{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new No,this.map.set(e,i)),i.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jo(t,e,i){const n=t.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}class Ho{constructor(){}supports(t){return t instanceof Map||ms(t)}create(){return new zo}}class zo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ms(t)))throw new Error(`Error trying to diff '${ht(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(i,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}const i=new Wo(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){fs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Wo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Vo=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(null!=i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,i)},deps:[[t,new K,new G]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${i=t,i.name||typeof i}'`);var i}}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new t([new Io])}),t})(),Uo=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,i)},deps:[[t,new K,new G]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new t([new Ho])}),t})();const Yo=[new Ho],Go=new Vo([new Io]),qo=new Uo(Yo);let Ko=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zo(t,Co),t})();const Zo=function(t,e){return jr(t,e,Be(),$e())};let Qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(t,Co),t})();const Xo=function(t,e){return Hr(t,e,Be(),$e())},Jo={};class ta extends xo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ce(t);return new na(e,this.ngModule)}}function ea(t){const e=[];for(let i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}const ia=new Tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ei});class na extends So{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(un).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ea(this.componentDef.inputs)}get outputs(){return ea(this.componentDef.outputs)}create(t,e,i,n){const r=(n=n||this.ngModule)?function(t,e){return{get:(i,n,r)=>{const s=t.get(i,Jo,r);return s!==Jo||n===Jo?s:e.get(i,n,r)}}}(t,n.injector):t,s=r.get(To,Se),o=r.get(Ro,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=i?function(t,e,i){if(_e(t))return t.selectRootElement(e,i===Xt.ShadowDom);let n="string"==typeof e?t.querySelector(e):e;return n.textContent="",n}(a,i,this.componentDef.encapsulation):kn(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,u="string"==typeof i&&/^#root-ng-internal-isolated-\d+/.test(i),d={components:[],scheduler:Ei,clean:sr,playerHandler:null,flags:0},f=In(0,-1,null,1,0,null,null,null,null,null),p=xn(null,f,d,c,null,null,s,a,o,r);let g,m;Je(p,null);try{const t=function(t,e,i,n,r,s){const o=i[1];i[19]=t;const a=Cn(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(cs(a,l),null!==t&&(gi(r,t,l),null!==a.classes&&Lr(r,t,a.classes),null!==a.styles&&Dr(r,t,a.styles)));const h=n.createRenderer(t,e),c=xn(i,Ln(e),null,e.onPush?64:16,i[19],a,n,h,void 0);return o.firstCreatePass&&(Pi(Ri(a,i),o,e.type),Wn(o,a),Un(a,i.length,1)),tr(i,c),i[19]=c}(h,this.componentDef,p,s,a);if(h)if(i)gi(a,h,["ng-version",Lo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],i=[];let n=1,r=2;for(;n<t.length;){let s=t[n];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++n]):8===r&&i.push(s);else{if(!on(r))break;r=s}n++}return{attrs:e,classes:i}}(this.componentDef.selectors[0]);t&&gi(a,h,t),e&&e.length>0&&Lr(a,h,e.join(" "))}m=Ee(p[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,i,n,r){const s=i[1],o=function(t,e,i){const n=Be();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),zn(t,n,1),Yn(t,e,i));const r=ji(e,t,e.length-1,n);Xi(r,e);const s=Ce(n,e);return s&&Xi(s,e),r}(s,i,e);n.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,i.length-1);const a=Be();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){oi(a.index-19);const t=i[1];Bn(t,e),jn(t,i,e.hostVars),Hn(e,o)}return o}(t,this.componentDef,p,d,[no]),En(f,p,null)}finally{ri()}const v=new ra(this.componentType,g,Br(Co,m,p),p,m);return i&&!u||(v.hostView._tViewNode.child=m),v}}class ra extends class{}{constructor(t,e,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Pr(n),this.hostView._tViewNode=function(t,e,i,n){let r=t.node;return null==r&&(t.node=r=Pn(0,null,2,-1,null,null)),n[6]=r}(n[1],0,0,n),this.componentType=t}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const sa=void 0;var oa=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let aa={};function la(t){return t in aa||(aa[t]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[t]),aa[t]}const ha=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let ca="en-US";function ua(t){var e,i;i="Expected localeId to be defined",null==(e=t)&&function(t,e,i,n){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(i,e),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}const da=new Map;class fa extends zt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ta(this);const i=de(t),n=t[xt]||null;n&&ua(n),this._bootstrapComponents=Ti(i.bootstrap),this._r3Injector=Qr(t,e,[{provide:zt,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],ht(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ss.THROW_IF_NOT_FOUND,i=Z.Default){return t===ss||t===zt||t===Ot?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pa extends Wt{constructor(t){super(),this.moduleType=t,null!==de(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,i){if(e&&e!==i)throw new Error(`Duplicate module registered for ${t} - ${ht(e)} vs ${ht(e.name)}`)})(t,da.get(t),e),da.set(t,e)}let i=e.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach(e=>t(e))}(t)}create(t){return new fa(this.moduleType,t)}}function ga(t,e){const i=t[e];return i===dn?void 0:i}function ma(t,e,i,n,r,s){const o=e+i;return ys(t,o,r)?vs(t,o+1,s?n.call(s,r):n(r)):ga(t,o+1)}function va(t,e){const i=Fe();let n;const r=t+19;i.firstCreatePass?(n=function(t,e){if(e)for(let i=e.length-1;i>=0;i--){const n=e[i];if(t===n.name)return n}throw new Error(`The pipe '${t}' could not be found!`)}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];const s=n.factory||(n.factory=ue(n.type)),o=Pt(ks),a=s();return Pt(o),function(t,e,i,n){const r=i+19;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}(i,$e(),t,a),a}function ya(t,e,i){const n=$e(),r=Te(n,t);return function(t,e){return ps.isWrapped(e)&&(e=ps.unwrap(e),t[Ye()]=dn),e}(n,function(t,e){return t[1].data[e+19].pure}(n,t)?ma(n,Ue(),e,r.transform,i,r):r.transform(i))}class ba extends c{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let n,r=t=>null,o=()=>null;t&&"object"==typeof t?(n=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(n=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),i&&(o=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const a=super.subscribe(n,r,o);return t instanceof s.a&&t.add(a),a}}function wa(){return this._results[ds()]()}class _a{constructor(){this.dirty=!0,this._results=[],this.changes=new ba,this.length=0;const t=ds(),e=_a.prototype;e[t]||(e[t]=wa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,i){void 0===i&&(i=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(i===e&&(i=e.slice(0,n)),t(r,i)):i!==e&&i.push(r)}return i}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class ka{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let t=0;t<i;t++){const i=e.getByIndex(t);n.push(this.queries[i.indexInDeclarationView].clone())}return new ka(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ba(t,e).matches&&this.queries[e].setDirty()}}class xa{constructor(t,e,i,n=null){this.predicate=t,this.descendants=e,this.isStatic=i,this.read=n}}class Ca{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,n);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new Ca(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ea{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ea(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&4===i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const i=this.metadata.predicate;for(let n=0;n<i.length;n++)this.matchTNodeWithReadOption(t,e,Ta(e,i[n]))}else{const i=this.metadata.predicate;i===Ko?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Bi(e,t,i,!1,!1))}}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===Co||n===Qo||n===Ko&&0===e.type)this.addMatch(e.index,-2);else{const i=Bi(e,t,n,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ta(t,e){const i=t.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1];return null}function Oa(t,e,i,n){return-1===i?function(t,e){return 3===t.type||4===t.type?Br(Co,t,e):0===t.type?jr(Ko,Co,t,e):null}(e,t):-2===i?function(t,e,i){return i===Co?Br(Co,e,t):i===Ko?jr(Ko,Co,e,t):i===Qo?Hr(Qo,Co,e,t):void 0}(t,e,n):ji(t,t[1],i,e)}function Aa(t,e,i,n){const r=e[5].queries[n];if(null===r.matches){const n=t.data,s=i.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Oa(e,n[r],s[t+1],i.metadata.read))}r.matches=o}return r.matches}function Ma(t){const e=$e(),i=Fe(),n=Ze();Qe(n+1);const r=Ba(i,n);if(t.dirty&&Me(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?function t(e,i,n,r){const s=e.queries.getByIndex(n),o=s.matches;if(null!==o){const a=Aa(e,i,s,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)r.push(a[e/2]);else{const s=o[e+1],a=i[-n];for(let e=9;e<a.length;e++){const i=a[e];i[17]===i[3]&&t(i[1],i,s,r)}if(null!==a[5]){const e=a[5];for(let i=0;i<e.length;i++){const n=e[i];t(n[1],n,s,r)}}}}}return r}(i,e,n,[]):Aa(i,e,r,n);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Ra(t,e,i){La(Fe(),$e(),t,e,i,!0)}function Da(t,e,i){La(Fe(),$e(),t,e,i,!1)}function La(t,e,i,n,r,s){t.firstCreatePass&&(Na(t,new xa(i,n,s,r),-1),s&&(t.staticViewQueries=!0)),Fa(t,e)}function Ia(t,e,i,n){Pa(Fe(),$e(),e,i,n,!1,Be(),t)}function Pa(t,e,i,n,r,s,o,a){t.firstCreatePass&&(Na(t,new xa(i,n,s,r),o.index),function(t,e){const i=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Fa(t,e)}function $a(){return t=$e(),e=Ze(),t[5].queries[e].queryList;var t,e}function Fa(t,e){const i=new _a;!function(t,e,i,n){const r=or(e);r.push(i),t.firstCreatePass&&ar(t).push(n,r.length-1)}(t,e,i,i.destroy),null===e[5]&&(e[5]=new ka),e[5].queries.push(new Sa(i))}function Na(t,e,i){null===t.queries&&(t.queries=new Ca),t.queries.track(new Ea(e,i))}function Ba(t,e){return t.queries.getByIndex(e)}function ja(t,e){return jr(Ko,Co,t,e)}const Ha=new Tt("Application Initializer");let za=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const e=this.appInits[i]();Ls(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ft(Ha,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Wa=new Tt("AppId"),Va={provide:Wa,useFactory:function(){return`${Ua()}${Ua()}${Ua()}`},deps:[]};function Ua(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ya=new Tt("Platform Initializer"),Ga=new Tt("Platform ID"),qa=new Tt("appBootstrapListener");let Ka=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Za=new Tt("LocaleId"),Qa=new Tt("DefaultCurrencyCode");class Xa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ja=function(t){return new pa(t)},tl=Ja,el=function(t){return Promise.resolve(Ja(t))},il=function(t){const e=Ja(t),i=Ti(de(t).declarations).reduce((t,e)=>{const i=ce(e);return i&&t.push(new na(i)),t},[]);return new Xa(e,i)},nl=il,rl=function(t){return Promise.resolve(il(t))};let sl=(()=>{class t{constructor(){this.compileModuleSync=tl,this.compileModuleAsync=el,this.compileModuleAndAllComponentsSync=nl,this.compileModuleAndAllComponentsAsync=rl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const ol=new Tt("compilerOptions"),al=(()=>Promise.resolve(0))();function ll(t){"undefined"==typeof Zone?al.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class hl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=bt.requestAnimationFrame,e=bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bt,()=>{t.lastRequestAnimationFrameId=-1,fl(t),dl(t)}),fl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(i,n,r,s,o,a)=>{try{return pl(t),i.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),gl(t)}},onInvoke:(e,i,n,r,s,o,a)=>{try{return pl(t),e.invoke(n,r,s,o,a)}finally{gl(t)}},onHasTask:(e,i,n,r)=>{e.hasTask(n,r),i===n&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,fl(t),dl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,n,r)=>(e.handleError(n,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,t,ul,cl,cl);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}function cl(){}const ul={};function dl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function pl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gl(t){t._nesting--,dl(t)}class ml{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}let vl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hl.assertNotInAngularZone(),ll(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ll(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,i){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:i})}whenStable(t,e,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ft(hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),yl=(()=>{class t{constructor(){this._applications=new Map,_l.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return _l.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class bl{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let wl,_l=new bl,Sl=function(t,e,i){const n=t.get(ol,[]).concat(e),r=new pa(i);if(0===as.size)return Promise.resolve(r);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(n.map(t=>t.providers));if(0===s.length)return Promise.resolve(r);const o=function(){const t=bt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=ss.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],i=new Map;function n(t){let e=i.get(t);if(!e){const n=(t=>Promise.resolve(a.get(t)))(t);i.set(t,e=n.then(hs))}return e}return as.forEach((t,i)=>{const r=[];t.templateUrl&&r.push(n(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,i)=>{o.push(""),r.push(n(e).then(n=>{o[a+i]=n,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(r).then(()=>function(t){ls.delete(t)}(i));e.push(l)}),as=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const kl=new Tt("AllowMultipleToken");class xl{constructor(t,e){this.name=t,this.token=e}}function Cl(t,e,i=[]){const n=`Platform: ${e}`,r=new Tt(n);return(e=[])=>{let s=El();if(!s||s.injector.get(kl,!1))if(t)t(i.concat(e).concat({provide:r,useValue:!0}));else{const t=i.concat(e).concat({provide:r,useValue:!0},{provide:Ur,useValue:"platform"});!function(t){if(wl&&!wl.destroyed&&!wl.injector.get(kl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wl=t.get(Tl);const e=t.get(Ya,null);e&&e.forEach(t=>t())}(ss.create({providers:t,name:n}))}return function(t){const e=El();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function El(){return wl&&!wl.destroyed?wl:null}let Tl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const i=function(t,e){let i;return i="noop"===t?new ml:("zone.js"===t?void 0:t)||new hl({enableLongStackTrace:Qi(),shouldCoalesceEventChangeDetection:e}),i}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),n=[{provide:hl,useValue:i}];return i.run(()=>{const e=ss.create({providers:n,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(qi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Ml(this._modules,r)),i.runOutsideAngular(()=>i.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,i){try{const n=i();return Ls(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(s,i,()=>{const t=r.injector.get(za);return t.runInitializers(),t.donePromise.then(()=>(ua(r.injector.get(Za,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const i=Ol({},e);return Sl(this.injector,i,t).then(t=>this.bootstrapModuleFactory(t,i))}_moduleDoBootstrap(t){const e=t.injector.get(Al);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ht(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ft(ss))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Ol(t,e){return Array.isArray(e)?e.reduce(Ol,t):Object.assign(Object.assign({},t),e)}let Al=(()=>{class t{constructor(t,e,i,r,s,o){this._zone=t,this._console=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qi(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new n.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new n.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{hl.assertNotInAngularZone(),ll(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{hl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),i.unsubscribe()}});this.isStable=$(a,l.pipe(t=>{return F()((e=W,function(t){let i;i="function"==typeof e?e:function(){return e};const n=Object.create(t,H);return n.source=t,n.subjectFactory=i,n})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof So?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const n=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(zt),r=i.create(ss.NULL,[],e||i.selector,n);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(vl,null);return s&&r.injector.get(yl).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Qi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ml(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ml(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Ft(hl),Ft(Ka),Ft(ss),Ft(qi),Ft(xo),Ft(za))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Ml(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}class Rl{}class Dl{}const Ll={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Il=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ll}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,n]=t.split("#");return void 0===n&&(n="default"),i("zn8P")(e).then(t=>t[n]).then(t=>Pl(t,e,n)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,n]=t.split("#"),r="NgFactory";return void 0===n&&(n="default",r=""),i("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[n+r]).then(t=>Pl(t,e,n))}}return t.\u0275fac=function(e){return new(e||t)(Ft(sl),Ft(Dl,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Pl(t,e,i){if(!t)throw new Error(`Cannot find '${i}' in '${e}'`);return t}const $l=Cl(null,"core",[{provide:Ga,useValue:"unknown"},{provide:Tl,deps:[ss]},{provide:yl,deps:[]},{provide:Ka,deps:[]}]),Fl=[{provide:Al,useClass:Al,deps:[hl,Ka,ss,qi,xo,za]},{provide:ia,deps:[hl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:za,useClass:za,deps:[[new G,Ha]]},{provide:sl,useClass:sl,deps:[]},Va,{provide:Vo,useFactory:function(){return Go},deps:[]},{provide:Uo,useFactory:function(){return qo},deps:[]},{provide:Za,useFactory:function(t){return ua(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Y(Za),new G,new K]]},{provide:Qa,useValue:"USD"}];let Nl=(()=>{class t{constructor(t){}}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)(Ft(Al))},providers:Fl}),t})(),Bl=null;function jl(){return Bl}const Hl=new Tt("DocumentToken");let zl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({factory:Wl,token:t,providedIn:"platform"}),t})();function Wl(){return Ft(Ul)}const Vl=new Tt("Location Initialized");let Ul=(()=>{class t extends zl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=jl().getLocation(),this._history=jl().getHistory()}getBaseHrefFromDOM(){return jl().getBaseHref(this._doc)}onPopState(t){jl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){jl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,i){Yl()?this._history.pushState(t,e,i):this.location.hash=i}replaceState(t,e,i){Yl()?this._history.replaceState(t,e,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl))},t.\u0275prov=J({factory:Gl,token:t,providedIn:"platform"}),t})();function Yl(){return!!window.history.pushState}function Gl(){return new Ul(Ft(Hl))}function ql(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function Kl(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function Zl(t){return t&&"?"!==t[0]?"?"+t:t}let Ql=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({factory:Xl,token:t,providedIn:"root"}),t})();function Xl(t){const e=Ft(Hl).location;return new th(Ft(zl),e&&e.origin||"")}const Jl=new Tt("appBaseHref");let th=(()=>{class t extends Ql{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ql(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Zl(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${e}${i}`:e}pushState(t,e,i,n){const r=this.prepareExternalUrl(i+Zl(n));this._platformLocation.pushState(t,e,r)}replaceState(t,e,i,n){const r=this.prepareExternalUrl(i+Zl(n));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Ft(zl),Ft(Jl,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),eh=(()=>{class t extends Ql{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ql(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,i,n){let r=this.prepareExternalUrl(i+Zl(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,i,n){let r=this.prepareExternalUrl(i+Zl(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Ft(zl),Ft(Jl,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),ih=(()=>{class t{constructor(t,e){this._subject=new ba,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Kl(rh(i)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Zl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,rh(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",i=null){this._platformStrategy.pushState(i,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zl(e)),i)}replaceState(t,e="",i=null){this._platformStrategy.replaceState(i,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zl(e)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(i=>i(t,e))}subscribe(t,e,i){return this._subject.subscribe({next:t,error:e,complete:i})}}return t.\u0275fac=function(e){return new(e||t)(Ft(Ql),Ft(zl))},t.normalizeQueryParams=Zl,t.joinWithSlash=ql,t.stripTrailingSlash=Kl,t.\u0275prov=J({factory:nh,token:t,providedIn:"root"}),t})();function nh(){return new ih(Ft(Ql),Ft(zl))}function rh(t){return t.replace(/\/index.html$/,"")}const sh=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class oh{}let ah=(()=>{class t extends oh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=la(e);if(i)return i;const n=e.split("-")[0];if(i=la(n),i)return i;if("en"===n)return oa;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ha.PluralCase]}(e||this.locale)(t)){case sh.Zero:return"zero";case sh.One:return"one";case sh.Two:return"two";case sh.Few:return"few";case sh.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Ft(Za))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class lh{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hh=(()=>{class t{constructor(t,e,i){this._viewContainer=t,this._template=e,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Qi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(V_){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,i,n)=>{if(null==t.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new lh(null,this._ngForOf,-1,-1),null===n?void 0:n),r=new ch(t,i);e.push(r)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const r=this._viewContainer.get(i);this._viewContainer.move(r,n);const s=new ch(t,r);e.push(s)}});for(let i=0;i<e.length;i++)this._perViewChange(e[i].view,e[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const t=this._viewContainer.get(i);t.context.index=i,t.context.count=n,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ks(Qo),ks(Ko),ks(Vo))},t.\u0275dir=le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ch{constructor(t,e){this.record=t,this.view=e}}let uh=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new dh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ks(Qo),ks(Ko))},t.\u0275dir=le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class dh{constructor(){this.$implicit=null,this.ngIf=null}}function fh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}let ph=(()=>{class t{constructor(t,e,i){this._ngEl=t,this._differs=e,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[i,n]=t.split(".");null!=(e=null!=e&&n?`${e}${n}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(Uo),ks(Ao))},t.\u0275dir=le({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class gh{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class mh{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const vh=new mh,yh=new gh;let bh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):fs(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ps.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Ls(e))return vh;if(Is(e))return yh;throw Error(`InvalidPipeArgument: '${e}' for pipe '${ht(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=Z.Default){const e=zr(!0);if(null!=e||t&Z.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe=he({name:"async",type:t,pure:!1}),t})(),wh=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},providers:[{provide:oh,useClass:ah}]}),t})(),_h=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new Sh(Ft(Hl),window,Ft(qi))}),t})();class Sh{constructor(t,e,i){this.document=t,this.window=e,this.errorHandler=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const i=this.document.querySelector(`[name='${t}']`);if(i)return void this.scrollToElement(i)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],n-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(V_){return!1}}}class kh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new kh,Bl||(Bl=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ch||(Ch=document.querySelector("base"),Ch)?Ch.getAttribute("href"):null;return null==e?null:(i=e,xh||(xh=document.createElement("a")),xh.setAttribute("href",i),"/"===xh.pathname.charAt(0)?xh.pathname:"/"+xh.pathname);var i}resetBaseElement(){Ch=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const t=i.indexOf("="),[n,r]=-1==t?[i,""]:[i.slice(0,t),i.slice(t+1)];if(n.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let xh,Ch=null;const Eh=new Tt("TRANSITION_ID"),Th=[{provide:Ha,useFactory:function(t,e,i){return()=>{i.get(za).donePromise.then(()=>{const i=jl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>i.remove(t))})}},deps:[Eh,Hl,ss],multi:!0}];class Oh{static init(){var t;t=new Oh,_l=t}addToWindow(t){bt.getAngularTestability=(e,i=!0)=>{const n=t.findTestabilityInTree(e,i);if(null==n)throw new Error("Could not find testability for element.");return n},bt.getAllAngularTestabilities=()=>t.getAllTestabilities(),bt.getAllAngularRootElements=()=>t.getAllRootElements(),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(t=>{const e=bt.getAllAngularTestabilities();let i=e.length,n=!1;const r=function(e){n=n||e,i--,0==i&&t(n)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,i){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:i?jl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ah=new Tt("EventManagerPlugins");let Mh=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,i){return this._findPluginFor(e).addEventListener(t,e,i)}addGlobalEventListener(t,e,i){return this._findPluginFor(e).addGlobalEventListener(t,e,i)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const i=this._plugins;for(let n=0;n<i.length;n++){const e=i[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Ft(Ah),Ft(hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class Rh{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=jl().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}let Dh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Lh=(()=>{class t extends Dh{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,this._styleNodes.add(e.appendChild(i))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>jl().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ph=/%COMP%/g;function $h(t,e,i){for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?$h(t,r,i):(r=r.replace(Ph,t),i.push(r))}return i}function Fh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nh=(()=>{class t{constructor(t,e,i){this.eventManager=t,this.sharedStylesHost=e,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Bh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Xt.Emulated:{let i=this.rendererByCompId.get(e.id);return i||(i=new jh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,i)),i.applyToHost(t),i}case Xt.Native:case Xt.ShadowDom:return new Hh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=$h(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Ft(Mh),Ft(Lh),Ft(Wa))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class Bh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ih[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const r=Ih[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=Ih[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&Oo.DashCase?t.style.setProperty(e,i,n&Oo.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Oo.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Fh(i)):this.eventManager.addEventListener(t,e,Fh(i))}}class jh extends Bh{constructor(t,e,i,n){super(t),this.component=i;const r=$h(n+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Ph,n+"-"+i.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Ph,t)}(n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Hh extends Bh{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.component=n,this.shadowRoot=n.encapsulation===Xt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=$h(n.id,n.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zh=(()=>{class t extends Rh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,i){return t.addEventListener(e,i,!1),()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,i){return t.removeEventListener(e,i)}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Wh=["alt","control","meta","shift"],Vh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gh=(()=>{class t extends Rh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,n){const r=t.parseEventName(i),s=t.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jl().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const r=t._normalizeKey(i.pop());let s="";if(Wh.forEach(t=>{const e=i.indexOf(t);e>-1&&(i.splice(e,1),s+=t+".")}),s+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=s,o}static getEventFullKey(t){let e="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uh.hasOwnProperty(e)&&(e=Uh[e]))}return Vh[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Wh.forEach(n=>{n!=i&&(0,Yh[n])(t)&&(e+=n+".")}),e+=i,e}static eventCallback(e,i,n){return r=>{t.getEventFullKey(r)===e&&n.runGuarded(()=>i(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const qh=Cl($l,"browser",[{provide:Ga,useValue:"browser"},{provide:Ya,useValue:function(){kh.makeCurrent(),Oh.init()},multi:!0},{provide:Hl,useFactory:function(){return function(t){we=t}(document),document},deps:[]}]),Kh=[[],{provide:Ur,useValue:"root"},{provide:qi,useFactory:function(){return new qi},deps:[]},{provide:Ah,useClass:zh,multi:!0,deps:[Hl,hl,Ga]},{provide:Ah,useClass:Gh,multi:!0,deps:[Hl]},[],{provide:Nh,useClass:Nh,deps:[Mh,Lh,Wa]},{provide:To,useExisting:Nh},{provide:Dh,useExisting:Lh},{provide:Lh,useClass:Lh,deps:[Hl]},{provide:vl,useClass:vl,deps:[hl]},{provide:Mh,useClass:Mh,deps:[Ah,hl]},[]];let Zh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Wa,useValue:e.appId},{provide:Eh,useExisting:Wa},Th]}}}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)(Ft(t,12))},providers:Kh,imports:[wh,Nl]}),t})();function Qh(...t){let e=t[t.length-1];return d(e)?(t.pop(),O(t,e)):P(t)}"undefined"!=typeof window&&window;class Xh extends c{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o;return this._value}next(t){super.next(this._value=t)}}const Jh=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var tc=i("DH7j");const ec={};class ic{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new nc(t,this.resultSelector))}}class nc extends x{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ec),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++){const e=t[i];this.add(k(this,e,e,i))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i,n,r){const s=this.values,o=this.toRespond?s[i]===ec?--this.toRespond:this.toRespond:0;s[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const rc=new n.a(t=>t.complete());function sc(t){return t?function(t){return new n.a(e=>t.schedule(()=>e.complete()))}(t):rc}function oc(t){return new n.a(e=>{let i;try{i=t()}catch(n){return void e.error(n)}return(i?A(i):sc()).subscribe(e)})}function ac(){return I(1)}function lc(t,e){return function(i){return i.lift(new hc(t,e))}}class hc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new cc(t,this.predicate,this.thisArg))}}class cc extends r.a{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}const uc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function dc(t){return function(e){return 0===t?sc():e.lift(new fc(t))}}class fc{constructor(t){if(this.total=t,this.total<0)throw new uc}call(t,e){return e.subscribe(new pc(t,this.total))}}class pc extends r.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,n=this.count++;e.length<i?e.push(t):e[n%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let r=0;r<i;r++){const r=e++%i;t.next(n[r])}}t.complete()}}function gc(t=yc){return e=>e.lift(new mc(t))}class mc{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vc(t,this.errorFactory))}}class vc extends r.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function yc(){return new Jh}function bc(t=null){return e=>e.lift(new wc(t))}class wc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new _c(t,this.defaultValue))}}class _c extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Sc(t,e){const i=arguments.length>=2;return n=>n.pipe(t?lc((e,i)=>t(e,i,n)):L.a,dc(1),i?bc(e):gc(()=>new Jh))}function kc(t){return function(e){const i=new xc(t),n=e.lift(i);return i.caught=n}}class xc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Cc(t,this.selector,this.caught))}}class Cc extends x{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let i;try{i=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const n=new f(this,void 0,void 0);this.add(n);const r=k(this,i,void 0,void 0,n);r!==n&&this.add(r)}}}function Ec(t){return e=>0===t?sc():e.lift(new Tc(t))}class Tc{constructor(t){if(this.total=t,this.total<0)throw new uc}call(t,e){return e.subscribe(new Oc(t,this.total))}}class Oc extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Ac(t,e){const i=arguments.length>=2;return n=>n.pipe(t?lc((e,i)=>t(e,i,n)):L.a,Ec(1),i?bc(e):gc(()=>new Jh))}class Mc{constructor(t,e,i){this.predicate=t,this.thisArg=e,this.source=i}call(t,e){return e.subscribe(new Rc(t,this.predicate,this.thisArg,this.source))}}class Rc extends r.a{constructor(t,e,i,n){super(t),this.predicate=e,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Dc(t,e){return"function"==typeof e?i=>i.pipe(Dc((i,n)=>A(t(i,n)).pipe(C((t,r)=>e(i,t,n,r))))):e=>e.lift(new Lc(t))}class Lc{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ic(t,this.project))}}class Ic extends x{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,i)}_innerSub(t,e,i){const n=this.innerSubscription;n&&n.unsubscribe();const r=new f(this,e,i),s=this.destination;s.add(r),this.innerSubscription=k(this,t,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,i,n,r){this.destination.next(e)}}function Pc(...t){return ac()(Qh(...t))}function $c(...t){const e=t[t.length-1];return d(e)?(t.pop(),i=>Pc(t,i,e)):e=>Pc(t,e)}function Fc(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new Nc(t,e,i))}}class Nc{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Bc(t,this.accumulator,this.seed,this.hasSeed))}}class Bc extends r.a{constructor(t,e,i,n){super(t),this.accumulator=e,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}function jc(t,e){return M(t,e,1)}var Hc=i("mCNh");function zc(){}var Wc=i("n6bG");function Vc(t,e,i){return function(n){return n.lift(new Uc(t,e,i))}}class Uc{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new Yc(t,this.nextOrObserver,this.error,this.complete))}}class Yc extends r.a{constructor(t,e,i,n){super(t),this._tapNext=zc,this._tapError=zc,this._tapComplete=zc,this._tapError=i||zc,this._tapComplete=n||zc,Object(Wc.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||zc,this._tapError=e.error||zc,this._tapComplete=e.complete||zc)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Gc{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qc(t,this.callback))}}class qc extends r.a{constructor(t,e){super(t),this.add(new s.a(e))}}class Kc{constructor(t,e){this.id=t,this.url=e}}class Zc extends Kc{constructor(t,e,i="imperative",n=null){super(t,e),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qc extends Kc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xc extends Kc{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jc extends Kc{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tu extends Kc{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eu extends Kc{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iu extends Kc{constructor(t,e,i,n,r){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nu extends Kc{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends Kc{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class su{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ou{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class au{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uu{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let du=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ie({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&As(0,"router-outlet")},directives:function(){return[pf]},encapsulation:2}),t})();class fu{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pu(t){return new fu(t)}function gu(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mu(t,e,i){const n=i.path.split("/");if(n.length>t.length)return null;if("full"===i.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const r={};for(let s=0;s<n.length;s++){const e=n[s],i=t[s];if(e.startsWith(":"))r[e.substring(1)]=i;else if(e!==i.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}class vu{constructor(t,e){this.routes=t,this.module=e}}function yu(t,e=""){for(let i=0;i<t.length;i++){const n=t[i];bu(n,wu(e,n))}}function bu(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&yu(t.children,e)}function wu(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function _u(t){const e=t.children&&t.children.map(_u),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=du),i}function Su(t,e){const i=Object.keys(t),n=Object.keys(e);if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!ku(t[r],e[r]))return!1;return!0}function ku(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function xu(t){return Array.prototype.concat.apply([],t)}function Cu(t){return t.length>0?t[t.length-1]:null}function Eu(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function Tu(t){return Is(t)?t:Ls(t)?A(Promise.resolve(t)):Qh(t)}function Ou(t,e,i){return i?function(t,e){return Su(t,e)}(t.queryParams,e.queryParams)&&function t(e,i){if(!Du(e.segments,i.segments))return!1;if(e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children){if(!e.children[n])return!1;if(!t(e.children[n],i.children[n]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>ku(t[i],e[i]))}(t.queryParams,e.queryParams)&&function t(e,i){return function e(i,n,r){if(i.segments.length>r.length)return!!Du(i.segments.slice(0,r.length),r)&&!n.hasChildren();if(i.segments.length===r.length){if(!Du(i.segments,r))return!1;for(const e in n.children){if(!i.children[e])return!1;if(!t(i.children[e],n.children[e]))return!1}return!0}{const t=r.slice(0,i.segments.length),s=r.slice(i.segments.length);return!!Du(i.segments,t)&&!!i.children.primary&&e(i.children.primary,n,s)}}(e,i,i.segments)}(t.root,e.root)}class Au{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return $u.serialize(this)}}class Mu{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Eu(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fu(this)}}class Ru{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pu(this.parameters)),this._parameterMap}toString(){return Wu(this)}}function Du(t,e){return t.length===e.length&&t.every((t,i)=>t.path===e[i].path)}function Lu(t,e){let i=[];return Eu(t.children,(t,n)=>{"primary"===n&&(i=i.concat(e(t,n)))}),Eu(t.children,(t,n)=>{"primary"!==n&&(i=i.concat(e(t,n)))}),i}class Iu{}class Pu{parse(t){const e=new qu(t);return new Au(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${function t(e,i){if(!e.hasChildren())return Fu(e);if(i){const i=e.children.primary?t(e.children.primary,!1):"",n=[];return Eu(e.children,(e,i)=>{"primary"!==i&&n.push(`${i}:${t(e,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=Lu(e,(i,n)=>"primary"===n?[t(e.children.primary,!1)]:[`${n}:${t(i,!1)}`]);return`${Fu(e)}/(${i.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(t=>`${Bu(e)}=${Bu(t)}`).join("&"):`${Bu(e)}=${Bu(i)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const $u=new Pu;function Fu(t){return t.segments.map(t=>Wu(t)).join("/")}function Nu(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bu(t){return Nu(t).replace(/%3B/gi,";")}function ju(t){return Nu(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hu(t){return decodeURIComponent(t)}function zu(t){return Hu(t.replace(/\+/g,"%20"))}function Wu(t){return`${ju(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ju(t)}=${ju(e[t])}`).join("")}`;var e}const Vu=/^[^\/()?;=#]+/;function Uu(t){const e=t.match(Vu);return e?e[0]:""}const Yu=/^[^=?&#]+/,Gu=/^[^?&#]+/;class qu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mu([],{}):new Mu([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i.primary=new Mu(t,e)),i}parseSegment(){const t=Uu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ru(Hu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Uu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const t=Uu(this.remaining);t&&(i=t,this.capture(i))}t[Hu(e)]=Hu(i)}parseQueryParam(t){const e=function(t){const e=t.match(Yu);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gu);return e?e[0]:""}(this.remaining);t&&(i=t,this.capture(i))}const n=zu(e),r=zu(i);if(t.hasOwnProperty(n)){let e=t[n];Array.isArray(e)||(e=[e],t[n]=e),e.push(r)}else t[n]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Uu(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Mu([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ku{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zu(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Zu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qu(t,this._root).map(t=>t.value)}}function Zu(t,e){if(t===e.value)return e;for(const i of e.children){const e=Zu(t,i);if(e)return e}return null}function Qu(t,e){if(t===e.value)return[e];for(const i of e.children){const n=Qu(t,i);if(n.length)return n.unshift(e),n}return[]}class Xu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ju(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class td extends Ku{constructor(t,e){super(t),this.snapshot=e,od(this,t)}toString(){return this.snapshot.toString()}}function ed(t,e){const i=function(t,e){const i=new rd([],{},{},"",{},"primary",e,null,t.root,-1,{});return new sd("",new Xu(i,[]))}(t,e),n=new Xh([new Ru("",{})]),r=new Xh({}),s=new Xh({}),o=new Xh({}),a=new Xh(""),l=new id(n,r,o,a,s,"primary",e,i.root);return l.snapshot=i.root,new td(new Xu(l,[]),i)}class id{constructor(t,e,i,n,r,s,o,a){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C(t=>pu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C(t=>pu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nd(t,e="emptyOnly"){const i=t.pathFromRoot;let n=0;if("always"!==e)for(n=i.length-1;n>=1;){const t=i[n],e=i[n-1];if(t.routeConfig&&""===t.routeConfig.path)n--;else{if(e.component)break;n--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class rd{constructor(t,e,i,n,r,s,o,a,l,h,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=h,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sd extends Ku{constructor(t,e){super(e),this.url=t,od(this,e)}toString(){return ad(this._root)}}function od(t,e){e.value._routerState=t,e.children.forEach(e=>od(t,e))}function ad(t){const e=t.children.length>0?` { ${t.children.map(ad).join(", ")} } `:"";return`${t.value}${e}`}function ld(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Su(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),Su(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Su(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),Su(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hd(t,e){return Su(t.params,e.params)&&function(t,e){return Du(t,e)&&t.every((t,i)=>Su(t.parameters,e[i].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hd(t.parent,e.parent))}function cd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ud(t,e,i,n,r){let s={};return n&&Eu(n,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Au(i.root===t?e:function t(e,i,n){const r={};return Eu(e.children,(e,s)=>{r[s]=e===i?n:t(e,i,n)}),new Mu(e.segments,r)}(i.root,t,e),s,r)}class dd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&cd(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(n&&n!==Cu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function pd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function gd(t,e,i){if(t||(t=new Mu([],{})),0===t.segments.length&&t.hasChildren())return md(t,e,i);const n=function(t,e,i){let n=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;const e=t.segments[r],o=pd(i[n]),a=n<i.length-1?i[n+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!wd(o,a,e))return s;n+=2}else{if(!wd(o,{},e))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const e=new Mu(t.segments.slice(0,n.pathIndex),{});return e.children.primary=new Mu(t.segments.slice(n.pathIndex),t.children),md(e,0,r)}return n.match&&0===r.length?new Mu(t.segments,{}):n.match&&!t.hasChildren()?vd(t,e,i):n.match?md(t,0,r):vd(t,e,i)}function md(t,e,i){if(0===i.length)return new Mu(t.segments,{});{const n=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(i),r={};return Eu(n,(i,n)=>{null!==i&&(r[n]=gd(t.children[n],e,i))}),Eu(t.children,(t,e)=>{void 0===n[e]&&(r[e]=t)}),new Mu(t.segments,r)}}function vd(t,e,i){const n=t.segments.slice(0,e);let r=0;for(;r<i.length;){if("object"==typeof i[r]&&void 0!==i[r].outlets){const t=yd(i[r].outlets);return new Mu(n,t)}if(0===r&&cd(i[0])){n.push(new Ru(t.segments[e].path,i[0])),r++;continue}const s=pd(i[r]),o=r<i.length-1?i[r+1]:null;s&&o&&cd(o)?(n.push(new Ru(s,bd(o))),r+=2):(n.push(new Ru(s,{})),r++)}return new Mu(n,{})}function yd(t){const e={};return Eu(t,(t,i)=>{null!==t&&(e[i]=vd(new Mu([],{}),0,t))}),e}function bd(t){const e={};return Eu(t,(t,i)=>e[i]=`${t}`),e}function wd(t,e,i){return t==i.path&&Su(e,i.parameters)}class _d{constructor(t,e,i,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ld(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=Ju(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,n[e],i),delete n[e]}),Eu(n,(t,e)=>{this.deactivateRouteAndItsChildren(t,i)})}deactivateRoutes(t,e,i){const n=t.value,r=e?e.value:null;if(n===r)if(n.component){const r=i.getContext(n.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const e=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:n})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet);if(i){const n=Ju(t),r=t.value.component?i.children:e;Eu(n,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}activateChildRoutes(t,e,i){const n=Ju(e);t.children.forEach(t=>{this.activateRoutes(t,n[t.value.outlet],i),this.forwardEvent(new cu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lu(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,r=e?e.value:null;if(ld(n),n===r)if(n.component){const r=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const e=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const t=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Sd(t.route)}else{const i=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(n.snapshot),r=i?i.module.componentFactoryResolver:null;e.attachRef=null,e.route=n,e.resolver=r,e.outlet&&e.outlet.activateWith(n,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,i)}}function Sd(t){ld(t.value),t.children.forEach(Sd)}function kd(t){return"function"==typeof t}function xd(t){return t instanceof Au}class Cd{constructor(t){this.segmentGroup=t||null}}class Ed{constructor(t){this.urlTree=t}}function Td(t){return new n.a(e=>e.error(new Cd(t)))}function Od(t){return new n.a(e=>e.error(new Ed(t)))}function Ad(t){return new n.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Md{constructor(t,e,i,n,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(zt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(C(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(kc(t=>{if(t instanceof Ed)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Cd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(C(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(kc(t=>{if(t instanceof Cd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const n=t.segments.length>0?new Mu([],{primary:t}):t;return new Au(n,e,i)}expandSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(C(t=>new Mu([],t))):this.expandSegment(t,i,e,i.segments,n,!0)}expandChildren(t,e,i){return function(t,e){if(0===Object.keys(t).length)return Qh({});const i=[],n=[],r={};return Eu(t,(t,s)=>{const o=e(s,t).pipe(C(t=>r[s]=t));"primary"===s?i.push(o):n.push(o)}),Qh.apply(null,i.concat(n)).pipe(ac(),Sc(),C(()=>r))}(i.children,(i,n)=>this.expandSegmentGroup(t,e,n,i))}expandSegment(t,e,i,n,r,s){return Qh(...i).pipe(C(o=>this.expandSegmentAgainstRoute(t,e,i,o,n,r,s).pipe(kc(t=>{if(t instanceof Cd)return Qh(null);throw t}))),ac(),Ac(t=>!!t),kc((t,i)=>{if(t instanceof Jh||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,n,r))return Qh(new Mu([],{}));throw new Cd(e)}throw t}))}noLeftoversInUrl(t,e,i){return 0===e.length&&!t.children[i]}expandSegmentAgainstRoute(t,e,i,n,r,s,o){return Id(n)!==s?Td(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s):Td(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Od(r):this.lineralizeSegments(i,r).pipe(M(i=>{const r=new Mu(i,{});return this.expandSegment(t,r,e,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:h}=Rd(e,n,r);if(!o)return Td(e);const c=this.applyRedirectCommands(a,n.redirectTo,h);return n.redirectTo.startsWith("/")?Od(c):this.lineralizeSegments(n,c).pipe(M(n=>this.expandSegment(t,e,i,n.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,i,n){if("**"===i.path)return i.loadChildren?this.configLoader.load(t.injector,i).pipe(C(t=>(i._loadedConfig=t,new Mu(n,{})))):Qh(new Mu(n,{}));const{matched:r,consumedSegments:s,lastChild:o}=Rd(e,i,n);if(!r)return Td(e);const a=n.slice(o);return this.getChildConfig(t,i,n).pipe(M(t=>{const i=t.module,n=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,i,n){return i.length>0&&function(t,e,i){return i.some(i=>Ld(t,e,i)&&"primary"!==Id(i))}(t,i,n)?{segmentGroup:Dd(new Mu(e,function(t,e){const i={};i.primary=e;for(const n of t)""===n.path&&"primary"!==Id(n)&&(i[Id(n)]=new Mu([],{}));return i}(n,new Mu(i,t.children)))),slicedSegments:[]}:0===i.length&&function(t,e,i){return i.some(i=>Ld(t,e,i))}(t,i,n)?{segmentGroup:Dd(new Mu(t.segments,function(t,e,i,n){const r={};for(const s of i)Ld(t,e,s)&&!n[Id(s)]&&(r[Id(s)]=new Mu([],{}));return Object.assign(Object.assign({},n),r)}(t,i,n,t.children))),slicedSegments:i}:{segmentGroup:t,slicedSegments:i}}(e,s,a,n);return 0===o.length&&r.hasChildren()?this.expandChildren(i,n,r).pipe(C(t=>new Mu(s,t))):0===n.length&&0===o.length?Qh(new Mu(s,{})):this.expandSegment(i,r,n,o,"primary",!0).pipe(C(t=>new Mu(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,i){return e.children?Qh(new vu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Qh(e._loadedConfig):function(t,e,i){const n=e.canLoad;return n&&0!==n.length?A(n).pipe(C(n=>{const r=t.get(n);let s;if(function(t){return t&&kd(t.canLoad)}(r))s=r.canLoad(e,i);else{if(!kd(r))throw new Error("Invalid CanLoad guard");s=r(e,i)}return Tu(s)})).pipe(ac(),(r=t=>!0===t,t=>t.lift(new Mc(r,void 0,t)))):Qh(!0);var r}(t.injector,e,i).pipe(M(i=>i?this.configLoader.load(t.injector,e).pipe(C(t=>(e._loadedConfig=t,t))):function(t){return new n.a(e=>e.error(gu(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Qh(new vu([],t))}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return Qh(i);if(n.numberOfChildren>1||!n.children.primary)return Ad(t.redirectTo);n=n.children.primary}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,n){const r=this.createSegmentGroup(t,e.root,i,n);return new Au(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Eu(t,(t,n)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);i[n]=e[r]}else i[n]=t}),i}createSegmentGroup(t,e,i,n){const r=this.createSegments(t,e.segments,i,n);let s={};return Eu(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,i,n)}),new Mu(r,s)}createSegments(t,e,i,n){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,n):this.findOrReturn(e,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}function Rd(t,e,i){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(e.matcher||mu)(i,t,e);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Dd(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Mu(t.segments.concat(e.segments),e.children)}return t}function Ld(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function Id(t){return t.outlet||"primary"}class Pd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $d{constructor(t,e){this.component=t,this.route=e}}function Fd(t,e,i){const n=t._root;return function t(e,i,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ju(i);return e.children.forEach(e=>{!function(e,i,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=i?i.value:null,l=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!Du(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Du(t.url,e.url)||!Su(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hd(t,e)||!Su(t.queryParams,e.queryParams);case"paramsChange":default:return!hd(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?s.canActivateChecks.push(new Pd(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,i,o.component?l?l.children:null:n,r,s),h&&s.canDeactivateChecks.push(new $d(l&&l.outlet&&l.outlet.component||null,a))}else a&&Bd(i,l,s),s.canActivateChecks.push(new Pd(r)),t(e,null,o.component?l?l.children:null:n,r,s)}(e,o[e.value.outlet],n,r.concat([e.value]),s),delete o[e.value.outlet]}),Eu(o,(t,e)=>Bd(t,n.getContext(e),s)),s}(n,e?e._root:null,i,[n.value])}function Nd(t,e,i){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:i).get(t)}function Bd(t,e,i){const n=Ju(t),r=t.value;Eu(n,(t,n)=>{Bd(t,r.component?e?e.children.getContext(n):null:e,i)}),i.canDeactivateChecks.push(new $d(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const jd=Symbol("INITIAL_VALUE");function Hd(){return Dc(t=>function(...t){let e=null,i=null;return d(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(tc.a)(t[0])&&(t=t[0]),P(t,i).lift(new ic(e))}(...t.map(t=>t.pipe(Ec(1),$c(jd)))).pipe(Fc((t,e)=>{let i=!1;return e.reduce((t,n,r)=>{if(t!==jd)return t;if(n===jd&&(i=!0),!i){if(!1===n)return n;if(r===e.length-1||xd(n))return n}return t},t)},jd),lc(t=>t!==jd),C(t=>xd(t)?t:!0===t),Ec(1)))}function zd(t,e){return null!==t&&e&&e(new hu(t)),Qh(!0)}function Wd(t,e){return null!==t&&e&&e(new au(t)),Qh(!0)}function Vd(t,e,i){const n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?Qh(n.map(n=>oc(()=>{const r=Nd(n,e,i);let s;if(function(t){return t&&kd(t.canActivate)}(r))s=Tu(r.canActivate(e,t));else{if(!kd(r))throw new Error("Invalid CanActivate guard");s=Tu(r(e,t))}return s.pipe(Ac())}))).pipe(Hd()):Qh(!0)}function Ud(t,e,i){const n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>oc(()=>Qh(e.guards.map(r=>{const s=Nd(r,e.node,i);let o;if(function(t){return t&&kd(t.canActivateChild)}(s))o=Tu(s.canActivateChild(n,t));else{if(!kd(s))throw new Error("Invalid CanActivateChild guard");o=Tu(s(n,t))}return o.pipe(Ac())})).pipe(Hd())));return Qh(r).pipe(Hd())}class Yd{}class Gd{constructor(t,e,i,n,r,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=Zd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),i=new rd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Xu(i,e),r=new sd(this.url,n);return this.inheritParamsAndData(r._root),Qh(r)}catch(t){return new n.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,i=nd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=Lu(e,(e,i)=>this.processSegmentGroup(t,e,i));return function(t){const e={};t.forEach(t=>{const i=e[t.value.outlet];if(i){const e=i.url.map(t=>t.toString()).join("/"),n=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${n}'.`)}e[t.value.outlet]=t.value})}(i),i.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,i,n){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,i,n)}catch(r){if(!(r instanceof Yd))throw r}if(this.noLeftoversInUrl(e,i,n))return[];throw new Yd}noLeftoversInUrl(t,e,i){return 0===e.length&&!t.children[i]}processSegmentAgainstRoute(t,e,i,n){if(t.redirectTo)throw new Yd;if((t.outlet||"primary")!==n)throw new Yd;let r,s=[],o=[];if("**"===t.path){const s=i.length>0?Cu(i).parameters:{};r=new rd(i,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jd(t),n,t.component,t,qd(e),Kd(e)+i.length,tf(t))}else{const a=function(t,e,i){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||i.length>0))throw new Yd;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(e.matcher||mu)(i,t,e);if(!n)throw new Yd;const r={};Eu(n.posParams,(t,e)=>{r[e]=t.path});const s=n.consumed.length>0?Object.assign(Object.assign({},r),n.consumed[n.consumed.length-1].parameters):r;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:s}}(e,t,i);s=a.consumedSegments,o=i.slice(a.lastChild),r=new rd(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jd(t),n,t.component,t,qd(e),Kd(e)+s.length,tf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:h}=Zd(e,s,o,a,this.relativeLinkResolution);if(0===h.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Xu(r,t)]}if(0===a.length&&0===h.length)return[new Xu(r,[])];const c=this.processSegment(a,l,h,"primary");return[new Xu(r,c)]}}function qd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kd(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function Zd(t,e,i,n,r){if(i.length>0&&function(t,e,i){return i.some(i=>Qd(t,e,i)&&"primary"!==Xd(i))}(t,i,n)){const r=new Mu(e,function(t,e,i,n){const r={};r.primary=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(const s of i)if(""===s.path&&"primary"!==Xd(s)){const i=new Mu([],{});i._sourceSegment=t,i._segmentIndexShift=e.length,r[Xd(s)]=i}return r}(t,e,n,new Mu(i,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some(i=>Qd(t,e,i))}(t,i,n)){const s=new Mu(t.segments,function(t,e,i,n,r,s){const o={};for(const a of n)if(Qd(t,i,a)&&!r[Xd(a)]){const i=new Mu([],{});i._sourceSegment=t,i._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Xd(a)]=i}return Object.assign(Object.assign({},r),o)}(t,e,i,n,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:i}}const s=new Mu(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:i}}function Qd(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Xd(t){return t.outlet||"primary"}function Jd(t){return t.data||{}}function tf(t){return t.resolve||{}}function ef(t,e,i,n){const r=Nd(t,e,n);return Tu(r.resolve?r.resolve(e,i):r(e,i))}function nf(t){return function(e){return e.pipe(Dc(e=>{const i=t(e);return i?A(i).pipe(C(()=>e)):A([e])}))}}class rf{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const sf=new Tt("ROUTES");class of{constructor(t,e,i,n){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=n}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(C(i=>{this.onLoadEndListener&&this.onLoadEndListener(e);const n=i.create(t);return new vu(xu(n.injector.get(sf)).map(_u),n)}))}loadModuleFactory(t){return"string"==typeof t?A(this.loader.load(t)):Tu(t()).pipe(M(t=>t instanceof Wt?Qh(t):A(this.compiler.compileModuleAsync(t))))}}class af{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function lf(t){throw t}function hf(t,e,i){return e.parse("/")}function cf(t,e){return Qh(null)}let uf=(()=>{class t{constructor(t,e,i,n,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=i,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new c,this.errorHandler=lf,this.malformedUriErrorHandler=hf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cf,afterPreactivation:cf},this.urlHandlingStrategy=new af,this.routeReuseStrategy=new rf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(zt),this.console=r.get(Ka);const l=r.get(hl);this.isNgZoneEnabled=l instanceof hl,this.resetConfig(a),this.currentUrlTree=new Au(new Mu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new of(s,o,t=>this.triggerEvent(new su(t)),t=>this.triggerEvent(new ou(t))),this.routerState=ed(this.currentUrlTree,this.rootComponentType),this.transitions=new Xh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(lc(t=>0!==t.id),C(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Dc(t=>{let i=!1,n=!1;return Qh(t).pipe(Vc(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dc(t=>{const i=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Qh(t).pipe(Dc(t=>{const i=this.transitions.getValue();return e.next(new Zc(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==this.transitions.getValue()?rc:[t]}),Dc(t=>Promise.resolve(t)),(n=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Dc(t=>function(t,e,i,n,r){return new Md(t,e,i,n,r).apply()}(n,r,s,t.extractedUrl,o).pipe(C(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Vc(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,i,n,r){return function(s){return s.pipe(M(s=>function(t,e,i,n,r="emptyOnly",s="legacy"){return new Gd(t,e,i,n,r,s).recognize()}(t,e,s.urlAfterRedirects,i(s.urlAfterRedirects),n,r).pipe(C(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vc(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Vc(t=>{const i=new tu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(i)}));var n,r,s,o;if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:r,restoredState:s,extras:o}=t,a=new Zc(i,this.serializeUrl(n),r,s);e.next(a);const l=ed(n,this.rootComponentType).snapshot;return Qh(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),rc}),nf(t=>{const{targetSnapshot:e,id:i,extractedUrl:n,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:i,appliedUrlTree:n,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Vc(t=>{const e=new eu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),C(t=>Object.assign(Object.assign({},t),{guards:Fd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(i){return i.pipe(M(i=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return 0===o.length&&0===s.length?Qh(Object.assign(Object.assign({},i),{guardsResult:!0})):function(t,e,i,n){return A(t).pipe(M(t=>function(t,e,i,n,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Qh(s.map(s=>{const o=Nd(s,e,r);let a;if(function(t){return t&&kd(t.canDeactivate)}(o))a=Tu(o.canDeactivate(t,e,i,n));else{if(!kd(o))throw new Error("Invalid CanDeactivate guard");a=Tu(o(t,e,i,n))}return a.pipe(Ac())})).pipe(Hd()):Qh(!0)}(t.component,t.route,i,e,n)),Ac(t=>!0!==t,!0))}(o,n,r,t).pipe(M(i=>i&&"boolean"==typeof i?function(t,e,i,n){return A(e).pipe(jc(e=>A([Wd(e.route.parent,n),zd(e.route,n),Ud(t,e.path,i),Vd(t,e.route,i)]).pipe(ac(),Ac(t=>!0!==t,!0))),Ac(t=>!0!==t,!0))}(n,s,t,e):Qh(i)),C(t=>Object.assign(Object.assign({},i),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Vc(t=>{if(xd(t.guardsResult)){const e=gu(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Vc(t=>{const e=new iu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),lc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const i=new Xc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(i),t.resolve(!1),!1}return!0}),nf(t=>{if(t.guards.canActivateChecks.length)return Qh(t).pipe(Vc(t=>{const e=new nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(M(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;return r.length?A(r).pipe(jc(t=>function(t,e,i,n){return function(t,e,i,n){const r=Object.keys(t);if(0===r.length)return Qh({});if(1===r.length){const s=r[0];return ef(t[s],e,i,n).pipe(C(t=>({[s]:t})))}const s={};return A(r).pipe(M(r=>ef(t[r],e,i,n).pipe(C(t=>(s[r]=t,t))))).pipe(Sc(),C(()=>s))}(t._resolve,t,e,n).pipe(C(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),nd(t,i).resolve),null)))}(t.route,n,e,i)),function(t,e){return arguments.length>=2?function(i){return Object(Hc.a)(Fc(t,e),dc(1),bc(e))(i)}:function(e){return Object(Hc.a)(Fc((e,i,n)=>t(e,i,n+1)),dc(1))(e)}}((t,e)=>t),C(e=>t)):Qh(t)}))}),Vc(t=>{const e=new ru(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,i}),nf(t=>{const{targetSnapshot:e,id:i,extractedUrl:n,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:i,appliedUrlTree:n,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),C(t=>{const e=function(t,e,i){const n=function t(e,i,n){if(n&&e.shouldReuseRoute(i.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=i.value;const s=function(e,i,n){return i.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(r.value.snapshot,i.value))return t(e,i,r);return t(e,i)})}(e,i,n);return new Xu(r,s)}{const n=e.retrieve(i.value);if(n){const t=n.route;return function t(e,i){if(e.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)t(e.children[n],i.children[n])}(i,t),t}{const n=new id(new Xh((r=i.value).url),new Xh(r.params),new Xh(r.queryParams),new Xh(r.fragment),new Xh(r.data),r.outlet,r.component,r),s=i.children.map(i=>t(e,i));return new Xu(n,s)}}var r}(t,e._root,i?i._root:void 0);return new td(n,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Vc(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),C(t=>(new _d(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Vc({next(){i=!0},complete(){i=!0}}),(r=()=>{if(!i&&!n){this.resetUrlToCurrentUrlTree();const i=new Xc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(i),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Gc(r))),kc(i=>{if(n=!0,(r=i)&&r.ngNavigationCancelingError){const n=xd(i.url);n||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Xc(t.id,this.serializeUrl(t.extractedUrl),i.message);e.next(r),n?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const n=new Jc(t.id,this.serializeUrl(t.extractedUrl),i);e.next(n);try{t.resolve(this.errorHandler(i))}catch(Pg){t.reject(Pg)}}var r;return rc}));var r,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const i="popstate"===t.type?"popstate":"hashchange",n=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,i,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){yu(t),this.config=t.map(_u),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:i,queryParams:n,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;Qi()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=i||this.routerState.root,h=a?this.currentUrlTree.fragment:r;let c=null;if(o)switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=n||null}else c=s?this.currentUrlTree.queryParams:n||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,i,n,r){if(0===i.length)return ud(e.root,e.root,e,n,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dd(!0,0,t);let e=0,i=!1;const n=t.reduce((t,n,r)=>{if("object"==typeof n&&null!=n){if(n.outlets){const e={};return Eu(n.outlets,(t,i)=>{e[i]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(n.segmentPath)return[...t,n.segmentPath]}return"string"!=typeof n?[...t,n]:0===r?(n.split("/").forEach((n,r)=>{0==r&&"."===n||(0==r&&""===n?i=!0:".."===n?e++:""!=n&&t.push(n))}),t):[...t,n]},[]);return new dd(i,e,n)}(i);if(s.toRoot())return ud(e.root,new Mu([],{}),e,n,r);const o=function(t,e,i){if(t.isAbsolute)return new fd(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new fd(i.snapshot._urlSegment,!0,0);const n=cd(t.commands[0])?0:1;return function(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Error("Invalid number of '../'");r=n.segments.length}return new fd(n,!1,r-s)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?md(o.segmentGroup,o.index,s.commands):gd(o.segmentGroup,o.index,s.commands);return ud(o.segmentGroup,a,e,n,r)}(l,this.currentUrlTree,t,c,h)}navigateByUrl(t,e={skipLocationChange:!1}){Qi()&&this.isNgZoneEnabled&&!hl.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const i=xd(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(i){e=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return e}isActive(t,e){if(xd(t))return Ou(this.currentUrlTree,t,e);const i=this.parseUrl(t);return Ou(this.currentUrlTree,i,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,i)=>{const n=t[i];return null!=n&&(e[i]=n),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,i,n,r){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;r?(o=r.resolve,a=r.reject,l=r.promise):l=new Promise((t,e)=>{o=t,a=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,i,n){const r=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},n),{navigationId:i})):this.location.go(r,"",Object.assign(Object.assign({},n),{navigationId:i}))}resetStateAndUrl(t,e,i){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){xs()},t.\u0275dir=le({type:t}),t})();class df{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ff,this.attachRef=null}}class ff{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new df,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let pf=(()=>{class t{constructor(t,e,i,n,r){this.parentContexts=t,this.location=e,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ba,this.deactivateEvents=new ba,this.name=n||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,r=new gf(t,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ks(ff),ks(Qo),ks(xo),("name",function(t,e){const i=t.attrs;if(i){const t=i.length;let e=0;for(;e<t;){const n=i[e];if(mi(n))break;if(0===n)e+=2;else if("number"==typeof n)for(e++;e<t&&"string"==typeof i[e];)e++;else{if("name"===n)return i[e+1];e+=2}}}return null}(Be())),ks(Wr))},t.\u0275dir=le({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gf{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===id?this.route:t===ff?this.childContexts:this.parent.get(t,e)}}class mf{}class vf{preload(t,e){return Qh(null)}}let yf=(()=>{class t{constructor(t,e,i,n,r){this.router=t,this.injector=n,this.preloadingStrategy=r,this.loader=new of(e,i,e=>t.triggerEvent(new su(e)),e=>t.triggerEvent(new ou(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(lc(t=>t instanceof Qc),jc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(zt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const i=[];for(const n of e)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const t=n._loadedConfig;i.push(this.processRoutes(t.module,t.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(t,n)):n.children&&i.push(this.processRoutes(t,n.children));return A(i).pipe(I(),C(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(M(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Ft(uf),Ft(Rl),Ft(sl),Ft(ss),Ft(mf))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),bf=(()=>{class t{constructor(t,e,i={}){this.router=t,this.viewportScroller=e,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof uu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new uu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){xs()},t.\u0275dir=le({type:t}),t})();const wf=new Tt("ROUTER_CONFIGURATION"),_f=new Tt("ROUTER_FORROOT_GUARD"),Sf=[ih,{provide:Iu,useClass:Pu},{provide:uf,useFactory:function(t,e,i,n,r,s,o,a={},l,h){const c=new uf(null,t,e,i,n,r,s,xu(o));if(l&&(c.urlHandlingStrategy=l),h&&(c.routeReuseStrategy=h),a.errorHandler&&(c.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(c.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=jl();c.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(c.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(c.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(c.relativeLinkResolution=a.relativeLinkResolution),c},deps:[Iu,ff,ih,ss,Rl,sl,sf,wf,[class{},new G],[class{},new G]]},ff,{provide:id,useFactory:function(t){return t.routerState.root},deps:[uf]},{provide:Rl,useClass:Il},yf,vf,class{preload(t,e){return e().pipe(kc(()=>Qh(null)))}},{provide:wf,useValue:{enableTracing:!1}}];function kf(){return new xl("Router",uf)}let xf=(()=>{class t{constructor(t,e){}static forRoot(e,i){return{ngModule:t,providers:[Sf,Of(e),{provide:_f,useFactory:Tf,deps:[[uf,new G,new K]]},{provide:wf,useValue:i||{}},{provide:Ql,useFactory:Ef,deps:[zl,[new Y(Jl),new G],wf]},{provide:bf,useFactory:Cf,deps:[uf,_h,wf]},{provide:mf,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:vf},{provide:xl,multi:!0,useFactory:kf},[Af,{provide:Ha,multi:!0,useFactory:Mf,deps:[Af]},{provide:Df,useFactory:Rf,deps:[Af]},{provide:qa,multi:!0,useExisting:Df}]]}}static forChild(e){return{ngModule:t,providers:[Of(e)]}}}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)(Ft(_f,8),Ft(uf,8))}}),t})();function Cf(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new bf(t,e,i)}function Ef(t,e,i={}){return i.useHash?new eh(t,e):new th(t,e)}function Tf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Of(t){return[{provide:os,multi:!0,useValue:t},{provide:sf,multi:!0,useValue:t}]}let Af=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new c}appInitializer(){return this.injector.get(Vl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),i=this.injector.get(uf),n=this.injector.get(wf);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))t(!0);else if("disabled"===n.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);i.hooks.afterPreactivation=()=>this.initNavigation?Qh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),i.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(wf),i=this.injector.get(yf),n=this.injector.get(bf),r=this.injector.get(uf),s=this.injector.get(Al);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),i.setUpPreloading(),n.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Ft(ss))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Mf(t){return t.appInitializer.bind(t)}function Rf(t){return t.bootstrapListener.bind(t)}const Df=new Tt("Router Initializer"),Lf=[];let If=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},imports:[[xf.forRoot(Lf)],xf]}),t})();var Pf=i("bU/s"),$f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ff(t,e){return t(e={exports:{}},e.exports),e.exports}var Nf=function(t){return t&&t.Math==Math&&t},Bf=Nf("object"==typeof globalThis&&globalThis)||Nf("object"==typeof window&&window)||Nf("object"==typeof self&&self)||Nf("object"==typeof $f&&$f)||Function("return this")(),jf=function(t){try{return!!t()}catch(t){return!0}},Hf=!jf((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),zf={}.propertyIsEnumerable,Wf=Object.getOwnPropertyDescriptor,Vf={f:Wf&&!zf.call({1:2},1)?function(t){var e=Wf(this,t);return!!e&&e.enumerable}:zf},Uf=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Yf={}.toString,Gf=function(t){return Yf.call(t).slice(8,-1)},qf="".split,Kf=jf((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Gf(t)?qf.call(t,""):Object(t)}:Object,Zf=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Qf=function(t){return Kf(Zf(t))},Xf=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Jf=function(t,e){if(!Xf(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!Xf(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!Xf(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!Xf(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},tp={}.hasOwnProperty,ep=function(t,e){return tp.call(t,e)},ip=Bf.document,np=Xf(ip)&&Xf(ip.createElement),rp=function(t){return np?ip.createElement(t):{}},sp=!Hf&&!jf((function(){return 7!=Object.defineProperty(rp("div"),"a",{get:function(){return 7}}).a})),op=Object.getOwnPropertyDescriptor,ap={f:Hf?op:function(t,e){if(t=Qf(t),e=Jf(e,!0),sp)try{return op(t,e)}catch(t){}if(ep(t,e))return Uf(!Vf.f.call(t,e),t[e])}},lp=/#|\.prototype\./,hp=function(t,e){var i=up[cp(t)];return i==fp||i!=dp&&("function"==typeof e?jf(e):!!e)},cp=hp.normalize=function(t){return String(t).replace(lp,".").toLowerCase()},up=hp.data={},dp=hp.NATIVE="N",fp=hp.POLYFILL="P",pp=hp,gp={},mp=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},vp=function(t,e,i){if(mp(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},yp=function(t){if(!Xf(t))throw TypeError(String(t)+" is not an object");return t},bp=Object.defineProperty,wp={f:Hf?bp:function(t,e,i){if(yp(t),e=Jf(e,!0),yp(i),sp)try{return bp(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},_p=Hf?function(t,e,i){return wp.f(t,e,Uf(1,i))}:function(t,e,i){return t[e]=i,t},Sp=ap.f,kp=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},xp=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?Bf:d?Bf[c]:(Bf[c]||{}).prototype,g=u?gp:gp[c]||(gp[c]={}),m=g.prototype;for(r in e)i=!pp(u?r:c+(d?".":"#")+r,t.forced)&&p&&ep(p,r),o=g[r],i&&(a=t.noTargetGet?(h=Sp(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?vp(s,Bf):t.wrap&&i?kp(s):f&&"function"==typeof s?vp(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&_p(l,"sham",!0),g[r]=l,f&&(ep(gp,n=c+"Prototype")||_p(gp,n,{}),gp[n][r]=s,t.real&&m&&!m[r]&&_p(m,r,s)))},Cp=[].slice,Ep={},Tp=function(t,e,i){if(!(e in Ep)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";Ep[e]=Function("C,a","return new C("+n.join(",")+")")}return Ep[e](t,i)};xp({target:"Function",proto:!0},{bind:Function.bind||function(t){var e=mp(this),i=Cp.call(arguments,1),n=function(){var r=i.concat(Cp.call(arguments));return this instanceof n?Tp(e,r.length,r):e.apply(t,r)};return Xf(e.prototype)&&(n.prototype=e.prototype),n}});var Op=function(t){return gp[t+"Prototype"]},Ap=Op("Function").bind,Mp=Function.prototype,Rp=function(t){var e=t.bind;return t===Mp||t instanceof Function&&e===Mp.bind?Ap:e};function Dp(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function Lp(t,e,i,n,r,s){var o=Math.PI/180;n-2*s<0&&(s=n/2),r-2*s<0&&(s=r/2),t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+n-s,i),t.arc(e+n-s,i+s,s,270*o,360*o,!1),t.lineTo(e+n,i+r-s),t.arc(e+n-s,i+r-s,s,0,90*o,!1),t.lineTo(e+s,i+r),t.arc(e+s,i+r-s,s,90*o,180*o,!1),t.lineTo(e,i+s),t.arc(e+s,i+s,s,180*o,270*o,!1),t.closePath()}function Ip(t,e,i,n,r){var s=n/2*.5522848,o=r/2*.5522848,a=e+n,l=i+r,h=e+n/2,c=i+r/2;t.beginPath(),t.moveTo(e,c),t.bezierCurveTo(e,c-o,h-s,i,h,i),t.bezierCurveTo(h+s,i,a,c-o,a,c),t.bezierCurveTo(a,c+o,h+s,l,h,l),t.bezierCurveTo(h-s,l,e,c+o,e,c),t.closePath()}function Pp(t,e,i,n,r){var s=r*(1/3),o=n/2*.5522848,a=s/2*.5522848,l=e+n,h=i+s,c=e+n/2,u=i+s/2,d=i+(r-s/2),f=i+r;t.beginPath(),t.moveTo(l,u),t.bezierCurveTo(l,u+a,c+o,h,c,h),t.bezierCurveTo(c-o,h,e,u+a,e,u),t.bezierCurveTo(e,u-a,c-o,i,c,i),t.bezierCurveTo(c+o,i,l,u-a,l,u),t.lineTo(l,d),t.bezierCurveTo(l,d+a,c+o,f,c,f),t.bezierCurveTo(c-o,f,e,d+a,e,d),t.lineTo(e,u)}function $p(t,e,i,n,r,s){t.beginPath(),t.moveTo(e,i);for(var o=s.length,a=n-e,l=r-i,h=l/a,c=Math.sqrt(a*a+l*l),u=0,d=!0,f=0,p=+s[0];c>=.1;)(p=+s[u++%o])>c&&(p=c),f=Math.sqrt(p*p/(1+h*h)),e+=f=a<0?-f:f,i+=h*f,!0===d?t.lineTo(e,i):t.moveTo(e,i),c-=p,d=!d}var Fp={circle:Dp,dashedLine:$p,database:Pp,diamond:function(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()},ellipse:Ip,ellipse_vis:Ip,hexagon:function(t,e,i,n){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+n,i);for(var s=1;s<6;s++)t.lineTo(e+n*Math.cos(r*s),i+n*Math.sin(r*s));t.closePath()},roundRect:Lp,square:function(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()},star:function(t,e,i,n){t.beginPath(),i+=.1*(n*=.82);for(var r=0;r<10;r++){var s=r%2==0?1.3*n:.5*n;t.lineTo(e+s*Math.sin(2*r*Math.PI/10),i-s*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,i,n){t.beginPath(),i+=.275*(n*=1.15);var r=2*n,s=r/2,o=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-s*s);t.moveTo(e,i-(a-o)),t.lineTo(e+s,i+o),t.lineTo(e-s,i+o),t.lineTo(e,i-(a-o)),t.closePath()},triangleDown:function(t,e,i,n){t.beginPath(),i-=.275*(n*=1.15);var r=2*n,s=r/2,o=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-s*s);t.moveTo(e,i+(a-o)),t.lineTo(e+s,i-o),t.lineTo(e-s,i-o),t.lineTo(e,i+(a-o)),t.closePath()}},Np=Ff((function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})),Bp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function jp(t,e){return t(e={exports:{}},e.exports),e.exports}var Hp=function(t){return t&&t.Math==Math&&t},zp=Hp("object"==typeof globalThis&&globalThis)||Hp("object"==typeof window&&window)||Hp("object"==typeof self&&self)||Hp("object"==typeof Bp&&Bp)||Function("return this")(),Wp=function(t){try{return!!t()}catch(t){return!0}},Vp=!Wp((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Up={}.propertyIsEnumerable,Yp=Object.getOwnPropertyDescriptor,Gp={f:Yp&&!Up.call({1:2},1)?function(t){var e=Yp(this,t);return!!e&&e.enumerable}:Up},qp=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Kp={}.toString,Zp=function(t){return Kp.call(t).slice(8,-1)},Qp="".split,Xp=Wp((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Zp(t)?Qp.call(t,""):Object(t)}:Object,Jp=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},tg=function(t){return Xp(Jp(t))},eg=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ig=function(t,e){if(!eg(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!eg(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!eg(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!eg(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},ng={}.hasOwnProperty,rg=function(t,e){return ng.call(t,e)},sg=zp.document,og=eg(sg)&&eg(sg.createElement),ag=function(t){return og?sg.createElement(t):{}},lg=!Vp&&!Wp((function(){return 7!=Object.defineProperty(ag("div"),"a",{get:function(){return 7}}).a})),hg=Object.getOwnPropertyDescriptor,cg={f:Vp?hg:function(t,e){if(t=tg(t),e=ig(e,!0),lg)try{return hg(t,e)}catch(t){}if(rg(t,e))return qp(!Gp.f.call(t,e),t[e])}},ug=/#|\.prototype\./,dg=function(t,e){var i=pg[fg(t)];return i==mg||i!=gg&&("function"==typeof e?Wp(e):!!e)},fg=dg.normalize=function(t){return String(t).replace(ug,".").toLowerCase()},pg=dg.data={},gg=dg.NATIVE="N",mg=dg.POLYFILL="P",vg=dg,yg={},bg=function(t,e,i){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},wg=function(t){if(!eg(t))throw TypeError(String(t)+" is not an object");return t},_g=Object.defineProperty,Sg={f:Vp?_g:function(t,e,i){if(wg(t),e=ig(e,!0),wg(i),lg)try{return _g(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},kg=Vp?function(t,e,i){return Sg.f(t,e,qp(1,i))}:function(t,e,i){return t[e]=i,t},xg=cg.f,Cg=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},Eg=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?zp:d?zp[c]:(zp[c]||{}).prototype,g=u?yg:yg[c]||(yg[c]={}),m=g.prototype;for(r in e)i=!vg(u?r:c+(d?".":"#")+r,t.forced)&&p&&rg(p,r),o=g[r],i&&(a=t.noTargetGet?(h=xg(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?bg(s,zp):t.wrap&&i?Cg(s):f&&"function"==typeof s?bg(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&kg(l,"sham",!0),g[r]=l,f&&(rg(yg,n=c+"Prototype")||kg(yg,n,{}),yg[n][r]=s,t.real&&m&&!m[r]&&kg(m,r,s)))};Eg({target:"Object",stat:!0,forced:!Vp,sham:!Vp},{defineProperty:Sg.f});var Tg=jp((function(t){var e=yg.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)})),Og=Tg,Ag=Math.ceil,Mg=Math.floor,Rg=function(t){return isNaN(t=+t)?0:(t>0?Mg:Ag)(t)},Dg=Math.min,Lg=function(t){return t>0?Dg(Rg(t),9007199254740991):0},Ig=Math.max,Pg=Math.min,$g=function(t,e){var i=Rg(t);return i<0?Ig(i+e,0):Pg(i,e)},Fg=function(t){return function(e,i,n){var r,s=tg(e),o=Lg(s.length),a=$g(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},Ng={includes:Fg(!0),indexOf:Fg(!1)},Bg={},jg=Ng.indexOf,Hg=function(t,e){var i,n=tg(t),r=0,s=[];for(i in n)!rg(Bg,i)&&rg(n,i)&&s.push(i);for(;e.length>r;)rg(n,i=e[r++])&&(~jg(s,i)||s.push(i));return s},zg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wg=Object.keys||function(t){return Hg(t,zg)},Vg=Vp?Object.defineProperties:function(t,e){wg(t);for(var i,n=Wg(e),r=n.length,s=0;r>s;)Sg.f(t,i=n[s++],e[i]);return t};Eg({target:"Object",stat:!0,forced:!Vp,sham:!Vp},{defineProperties:Vg});var Ug=jp((function(t){var e=yg.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)})),Yg=function(t){return"function"==typeof t?t:void 0},Gg=function(t,e){return arguments.length<2?Yg(yg[t])||Yg(zp[t]):yg[t]&&yg[t][e]||zp[t]&&zp[t][e]},qg=zg.concat("length","prototype"),Kg={f:Object.getOwnPropertyNames||function(t){return Hg(t,qg)}},Zg={f:Object.getOwnPropertySymbols},Qg=Gg("Reflect","ownKeys")||function(t){var e=Kg.f(wg(t)),i=Zg.f;return i?e.concat(i(t)):e},Xg=function(t,e,i){var n=ig(e);n in t?Sg.f(t,n,qp(0,i)):t[n]=i};Eg({target:"Object",stat:!0,sham:!Vp},{getOwnPropertyDescriptors:function(t){for(var e,i,n=tg(t),r=cg.f,s=Qg(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&Xg(o,e,i);return o}});var Jg=yg.Object.getOwnPropertyDescriptors,tm=cg.f,em=Wp((function(){tm(1)}));Eg({target:"Object",stat:!0,forced:!Vp||em,sham:!Vp},{getOwnPropertyDescriptor:function(t,e){return tm(tg(t),e)}});var im=jp((function(t){var e=yg.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)})),nm=!!Object.getOwnPropertySymbols&&!Wp((function(){return!String(Symbol())})),rm=Array.isArray||function(t){return"Array"==Zp(t)},sm=function(t){return Object(Jp(t))},om=Gg("document","documentElement"),am=zp["__core-js_shared__"]||function(t,e){try{kg(zp,t,e)}catch(i){zp[t]=e}return e}("__core-js_shared__",{}),lm=jp((function(t){(t.exports=function(t,e){return am[t]||(am[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.1",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),hm=0,cm=Math.random(),um=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++hm+cm).toString(36)},dm=lm("keys"),fm=function(t){return dm[t]||(dm[t]=um(t))},pm=fm("IE_PROTO"),gm=function(){},mm=function(){var t,e=ag("iframe"),i=zg.length;for(e.style.display="none",om.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),mm=t.F;i--;)delete mm.prototype[zg[i]];return mm()},vm=Object.create||function(t,e){var i;return null!==t?(gm.prototype=wg(t),i=new gm,gm.prototype=null,i[pm]=t):i=mm(),void 0===e?i:Vg(i,e)};Bg[pm]=!0;var ym=Kg.f,bm={}.toString,wm="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_m={f:function(t){return wm&&"[object Window]"==bm.call(t)?function(t){try{return ym(t)}catch(t){return wm.slice()}}(t):ym(tg(t))}},Sm=function(t,e,i,n){n&&n.enumerable?t[e]=i:kg(t,e,i)},km=zp.Symbol,xm=lm("wks"),Cm=function(t){return xm[t]||(xm[t]=nm&&km[t]||(nm?km:um)("Symbol."+t))},Em={f:Cm},Tm=Sg.f,Om=function(t){var e=yg.Symbol||(yg.Symbol={});rg(e,t)||Tm(e,t,{value:Em.f(t)})},Am=Cm("toStringTag"),Mm="Arguments"==Zp(function(){return arguments}()),Rm=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Am))?i:Mm?Zp(e):"Object"==(n=Zp(e))&&"function"==typeof e.callee?"Arguments":n},Dm={};Dm[Cm("toStringTag")]="z";var Lm,Im,Pm,$m="[object z]"!==String(Dm)?function(){return"[object "+Rm(this)+"]"}:Dm.toString,Fm=Sg.f,Nm=Cm("toStringTag"),Bm=$m!=={}.toString,jm=function(t,e,i,n){if(t){var r=i?t:t.prototype;rg(r,Nm)||Fm(r,Nm,{configurable:!0,value:e}),n&&Bm&&kg(r,"toString",$m)}},Hm=lm("native-function-to-string",Function.toString),zm=zp.WeakMap;if("function"==typeof zm&&/native code/.test(Hm.call(zm))){var Wm=new(0,zp.WeakMap),Vm=Wm.get,Um=Wm.has,Ym=Wm.set;Lm=function(t,e){return Ym.call(Wm,t,e),e},Im=function(t){return Vm.call(Wm,t)||{}},Pm=function(t){return Um.call(Wm,t)}}else{var Gm=fm("state");Bg[Gm]=!0,Lm=function(t,e){return kg(t,Gm,e),e},Im=function(t){return rg(t,Gm)?t[Gm]:{}},Pm=function(t){return rg(t,Gm)}}var qm={set:Lm,get:Im,has:Pm,enforce:function(t){return Pm(t)?Im(t):Lm(t,{})},getterFor:function(t){return function(e){var i;if(!eg(e)||(i=Im(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},Km=Cm("species"),Zm=function(t,e){var i;return rm(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!rm(i.prototype)?eg(i)&&null===(i=i[Km])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},Qm=[].push,Xm=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=sm(a),p=Xp(f),g=bg(l,h,3),m=Lg(p.length),v=0,y=c||Zm,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:Qm.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},Jm={forEach:Xm(0),map:Xm(1),filter:Xm(2),some:Xm(3),every:Xm(4),find:Xm(5),findIndex:Xm(6)},tv=Jm.forEach,ev=fm("hidden"),iv=Cm("toPrimitive"),nv=qm.set,rv=qm.getterFor("Symbol"),sv=Object.prototype,ov=zp.Symbol,av=Gg("JSON","stringify"),lv=cg.f,hv=Sg.f,cv=_m.f,uv=Gp.f,dv=lm("symbols"),fv=lm("op-symbols"),pv=lm("string-to-symbol-registry"),gv=lm("symbol-to-string-registry"),mv=lm("wks"),vv=zp.QObject,yv=!vv||!vv.prototype||!vv.prototype.findChild,bv=Vp&&Wp((function(){return 7!=vm(hv({},"a",{get:function(){return hv(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=lv(sv,e);n&&delete sv[e],hv(t,e,i),n&&t!==sv&&hv(sv,e,n)}:hv,wv=function(t,e){var i=dv[t]=vm(ov.prototype);return nv(i,{type:"Symbol",tag:t,description:e}),Vp||(i.description=e),i},_v=nm&&"symbol"==typeof ov.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ov},Sv=function(t,e,i){t===sv&&Sv(fv,e,i),wg(t);var n=ig(e,!0);return wg(i),rg(dv,n)?(i.enumerable?(rg(t,ev)&&t[ev][n]&&(t[ev][n]=!1),i=vm(i,{enumerable:qp(0,!1)})):(rg(t,ev)||hv(t,ev,qp(1,{})),t[ev][n]=!0),bv(t,n,i)):hv(t,n,i)},kv=function(t,e){wg(t);var i=tg(e),n=Wg(i).concat(Tv(i));return tv(n,(function(e){Vp&&!xv.call(i,e)||Sv(t,e,i[e])})),t},xv=function(t){var e=ig(t,!0),i=uv.call(this,e);return!(this===sv&&rg(dv,e)&&!rg(fv,e))&&(!(i||!rg(this,e)||!rg(dv,e)||rg(this,ev)&&this[ev][e])||i)},Cv=function(t,e){var i=tg(t),n=ig(e,!0);if(i!==sv||!rg(dv,n)||rg(fv,n)){var r=lv(i,n);return!r||!rg(dv,n)||rg(i,ev)&&i[ev][n]||(r.enumerable=!0),r}},Ev=function(t){var e=cv(tg(t)),i=[];return tv(e,(function(t){rg(dv,t)||rg(Bg,t)||i.push(t)})),i},Tv=function(t){var e=t===sv,i=cv(e?fv:tg(t)),n=[];return tv(i,(function(t){!rg(dv,t)||e&&!rg(sv,t)||n.push(dv[t])})),n};if(nm||(Sm((ov=function(){if(this instanceof ov)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=um(t),i=function(t){this===sv&&i.call(fv,t),rg(this,ev)&&rg(this[ev],e)&&(this[ev][e]=!1),bv(this,e,qp(1,t))};return Vp&&yv&&bv(sv,e,{configurable:!0,set:i}),wv(e,t)}).prototype,"toString",(function(){return rv(this).tag})),Gp.f=xv,Sg.f=Sv,cg.f=Cv,Kg.f=_m.f=Ev,Zg.f=Tv,Vp&&hv(ov.prototype,"description",{configurable:!0,get:function(){return rv(this).description}}),Em.f=function(t){return wv(Cm(t),t)}),Eg({global:!0,wrap:!0,forced:!nm,sham:!nm},{Symbol:ov}),tv(Wg(mv),(function(t){Om(t)})),Eg({target:"Symbol",stat:!0,forced:!nm},{for:function(t){var e=String(t);if(rg(pv,e))return pv[e];var i=ov(e);return pv[e]=i,gv[i]=e,i},keyFor:function(t){if(!_v(t))throw TypeError(t+" is not a symbol");if(rg(gv,t))return gv[t]},useSetter:function(){yv=!0},useSimple:function(){yv=!1}}),Eg({target:"Object",stat:!0,forced:!nm,sham:!Vp},{create:function(t,e){return void 0===e?vm(t):kv(vm(t),e)},defineProperty:Sv,defineProperties:kv,getOwnPropertyDescriptor:Cv}),Eg({target:"Object",stat:!0,forced:!nm},{getOwnPropertyNames:Ev,getOwnPropertySymbols:Tv}),Eg({target:"Object",stat:!0,forced:Wp((function(){Zg.f(1)}))},{getOwnPropertySymbols:function(t){return Zg.f(sm(t))}}),av){var Ov=!nm||Wp((function(){var t=ov();return"[null]"!=av([t])||"{}"!=av({a:t})||"{}"!=av(Object(t))}));Eg({target:"JSON",stat:!0,forced:Ov},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(eg(e)||void 0!==t)&&!_v(t))return rm(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!_v(e))return e}),r[1]=e,av.apply(null,r)}})}ov.prototype[iv]||kg(ov.prototype,iv,ov.prototype.valueOf),jm(ov,"Symbol"),Bg[ev]=!0;var Av,Mv,Rv,Dv=yg.Object.getOwnPropertySymbols,Lv={},Iv=!Wp((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Pv=fm("IE_PROTO"),$v=Object.prototype,Fv=Iv?Object.getPrototypeOf:function(t){return t=sm(t),rg(t,Pv)?t[Pv]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?$v:null},Nv=(Cm("iterator"),!1);[].keys&&("next"in(Rv=[].keys())?(Mv=Fv(Fv(Rv)))!==Object.prototype&&(Av=Mv):Nv=!0),null==Av&&(Av={});var Bv={IteratorPrototype:Av,BUGGY_SAFARI_ITERATORS:Nv},jv=Bv.IteratorPrototype,Hv=function(){return this},zv=(Object.setPrototypeOf||"__proto__"in{}&&function(){try{Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set.call({},[])}catch(GC){}}(),Bv.IteratorPrototype),Wv=Bv.BUGGY_SAFARI_ITERATORS,Vv=Cm("iterator"),Uv=function(){return this},Yv=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=vm(jv,{next:qp(1,i)}),jm(t,n,!1,!0),Lv[n]=Hv}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!Wv&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[Vv]||f["@@iterator"]||r&&f[r],g=!Wv&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=Fv(m.call(new t)),zv!==Object.prototype&&a.next&&(jm(a,u,!0,!0),Lv[u]=Uv)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[Vv]!==g&&kg(f,Vv,g),Lv[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!Wv&&!d&&h in f||Sm(f,h,l[h]);else Eg({target:e,proto:!0,forced:Wv||d},l);return l},Gv=qm.set,qv=qm.getterFor("Array Iterator");Yv(Array,"Array",(function(t,e){Gv(this,{type:"Array Iterator",target:tg(t),index:0,kind:e})}),(function(){var t=qv(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),Lv.Arguments=Lv.Array;var Kv=Cm("toStringTag");for(var Zv in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Qv=zp[Zv],Xv=Qv&&Qv.prototype;Xv&&!Xv[Kv]&&kg(Xv,Kv,Zv),Lv[Zv]=Lv.Array}var Jv=function(t){return function(e,i){var n,r,s=String(Jp(e)),o=Rg(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},ty=(Jv(!1),Jv(!0)),ey=qm.set,iy=qm.getterFor("String Iterator");Yv(String,"String",(function(t){ey(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=iy(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=ty(i,n),e.index+=t.length,{value:t,done:!1})}));var ny=Cm("iterator"),ry=function(t){if(null!=t)return t[ny]||t["@@iterator"]||Lv[Rm(t)]};Eg({target:"Object",stat:!0,sham:!Vp},{create:vm});var sy=yg.Object,oy=function(t,e){return sy.create(t,e)},ay=Tg,ly=function(t,e,i){return e in t?ay(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},hy=Wp((function(){Wg(1)}));Eg({target:"Object",stat:!0,forced:hy},{keys:function(t){return Wg(sm(t))}});var cy,uy=yg.Object.keys,dy="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",fy="["+dy+"]",py=RegExp("^"+fy+fy+"*"),gy=RegExp(fy+fy+"*$"),my=function(t){return function(e){var i=String(Jp(e));return 1&t&&(i=i.replace(py,"")),2&t&&(i=i.replace(gy,"")),i}},vy={start:my(1),end:my(2),trim:my(3)},yy=vy.trim;Eg({target:"String",proto:!0,forced:(cy="trim",Wp((function(){return!!dy[cy]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[cy]()||dy[cy].name!==cy})))},{trim:function(){return yy(this)}});var by=function(t){return yg[t+"Prototype"]},wy=by("String").trim,_y=String.prototype,Sy=function(t){var e=t.trim;return"string"==typeof t||t===_y||t instanceof String&&e===_y.trim?wy:e},ky=function(t,e){var i=[][t];return!i||!Wp((function(){i.call(null,e||function(){throw 1},1)}))},xy=Jm.forEach,Cy=ky("forEach")?function(t){return xy(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;Eg({target:"Array",proto:!0,forced:[].forEach!=Cy},{forEach:Cy});var Ey,Ty,Oy=by("Array").forEach,Ay=Array.prototype,My={DOMTokenList:!0,NodeList:!0},Ry=function(t){var e=t.forEach;return t===Ay||t instanceof Array&&e===Ay.forEach||My.hasOwnProperty(Rm(t))?Oy:e},Dy=Gg("navigator","userAgent")||"",Ly=zp.process,Iy=Ly&&Ly.versions,Py=Iy&&Iy.v8;Py?Ty=(Ey=Py.split("."))[0]+Ey[1]:Dy&&(!(Ey=Dy.match(/Edge\/(\d+)/))||Ey[1]>=74)&&(Ey=Dy.match(/Chrome\/(\d+)/))&&(Ty=Ey[1]);var $y=Ty&&+Ty,Fy=Cm("species"),Ny=function(t){return $y>=51||!Wp((function(){var e=[];return(e.constructor={})[Fy]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},By=Jm.map;Eg({target:"Array",proto:!0,forced:!Ny("map")},{map:function(t){return By(this,t,arguments.length>1?arguments[1]:void 0)}});var jy=by("Array").map,Hy=Array.prototype,zy=function(t){var e=t.map;return t===Hy||t instanceof Array&&e===Hy.map?jy:e},Wy=vy.trim,Vy=zp.parseInt,Uy=/^[+-]?0[Xx]/,Yy=8!==Vy(dy+"08")||22!==Vy(dy+"0x16")?function(t,e){var i=Wy(String(t));return Vy(i,e>>>0||(Uy.test(i)?16:10))}:Vy;Eg({global:!0,forced:parseInt!=Yy},{parseInt:Yy});var Gy=yg.parseInt,qy=Gp.f,Ky=function(t){return function(e){for(var i,n=tg(e),r=Wg(n),s=r.length,o=0,a=[];s>o;)i=r[o++],Vp&&!qy.call(n,i)||a.push(t?[i,n[i]]:n[i]);return a}},Zy=(Ky(!0),Ky(!1));Eg({target:"Object",stat:!0},{values:function(t){return Zy(t)}});var Qy=yg.Object.values,Xy=Jm.filter;Eg({target:"Array",proto:!0,forced:!Ny("filter")},{filter:function(t){return Xy(this,t,arguments.length>1?arguments[1]:void 0)}});var Jy=by("Array").filter,tb=Array.prototype,eb=function(t){var e=t.filter;return t===tb||t instanceof Array&&e===tb.filter?Jy:e},ib=Cm("isConcatSpreadable"),nb=$y>=51||!Wp((function(){var t=[];return t[ib]=!1,t.concat()[0]!==t})),rb=Ny("concat"),sb=function(t){if(!eg(t))return!1;var e=t[ib];return void 0!==e?!!e:rm(t)};Eg({target:"Array",proto:!0,forced:!nb||!rb},{concat:function(t){var e,i,n,r,s,o=sm(this),a=Zm(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(sb(s=-1===e?o:arguments[e])){if(l+(r=Lg(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&Xg(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Xg(a,l++,s)}return a.length=l,a}});var ob=by("Array").concat,ab=Array.prototype,lb=function(t){var e=t.concat;return t===ab||t instanceof Array&&e===ab.concat?ob:e};Eg({target:"Array",stat:!0},{isArray:rm});var hb=yg.Array.isArray,cb=hb,ub=function(t,e,i,n){try{return n?e(wg(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&wg(r.call(t)),e}},db=Cm("iterator"),fb=Array.prototype,pb=function(t){return void 0!==t&&(Lv.Array===t||fb[db]===t)},gb=Cm("iterator"),mb=!1;try{var vb=0,yb={next:function(){return{done:!!vb++}},return:function(){mb=!0}};yb[gb]=function(){return this},Array.from(yb,(function(){throw 2}))}catch(GC){}var bb=!function(t,e){if(!mb)return!1;var i=!1;try{var n={};n[gb]=function(){return{next:function(){return{done:i=!0}}}},function(t){Array.from(t)}(n)}catch(t){}return i}();Eg({target:"Array",stat:!0,forced:bb},{from:function(t){var e,i,n,r,s,o=sm(t),a="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,u=0,d=ry(o);if(c&&(h=bg(h,l>2?arguments[2]:void 0,2)),null==d||a==Array&&pb(d))for(i=new a(e=Lg(o.length));e>u;u++)Xg(i,u,c?h(o[u],u):o[u]);else for(s=(r=d.call(o)).next,i=new a;!(n=s.call(r)).done;u++)Xg(i,u,c?ub(r,h,[n.value,u],!0):n.value);return i.length=u,i}});var wb=yg.Array.from,_b=Cm("iterator"),Sb=Cm("species"),kb=[].slice,xb=Math.max;Eg({target:"Array",proto:!0,forced:!Ny("slice")},{slice:function(t,e){var i,n,r,s=tg(this),o=Lg(s.length),a=$g(t,o),l=$g(void 0===e?o:e,o);if(rm(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!rm(i.prototype)?eg(i)&&null===(i=i[Sb])&&(i=void 0):i=void 0,i===Array||void 0===i))return kb.call(s,a,l);for(n=new(void 0===i?Array:i)(xb(l-a,0)),r=0;a<l;a++,r++)a in s&&Xg(n,r,s[a]);return n.length=r,n}});var Cb=by("Array").slice,Eb=Array.prototype,Tb=function(t){var e=t.slice;return t===Eb||t instanceof Array&&e===Eb.slice?Cb:e},Ob=Wp((function(){Fv(1)}));Eg({target:"Object",stat:!0,forced:Ob,sham:!Iv},{getPrototypeOf:function(t){return Fv(sm(t))}});var Ab=yg.Object.getPrototypeOf,Mb=Ng.indexOf,Rb=[].indexOf,Db=!!Rb&&1/[1].indexOf(1,-0)<0,Lb=ky("indexOf");Eg({target:"Array",proto:!0,forced:Db||Lb},{indexOf:function(t){return Db?Rb.apply(this,arguments)||0:Mb(this,t,arguments.length>1?arguments[1]:void 0)}});var Ib=by("Array").indexOf,Pb=Array.prototype,$b=function(t){var e=t.indexOf;return t===Pb||t instanceof Array&&e===Pb.indexOf?Ib:e},Fb=hb,Nb=Object.assign,Bb=!Nb||Wp((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Nb({},t)[i]||"abcdefghijklmnopqrst"!=Wg(Nb({},e)).join("")}))?function(t,e){for(var i=sm(t),n=arguments.length,r=1,s=Zg.f,o=Gp.f;n>r;)for(var a,l=Xp(arguments[r++]),h=s?Wg(l).concat(s(l)):Wg(l),c=h.length,u=0;c>u;)a=h[u++],Vp&&!o.call(l,a)||(i[a]=l[a]);return i}:Nb;Eg({target:"Object",stat:!0,forced:Object.assign!==Bb},{assign:Bb});var jb=yg.Object.assign;Om("iterator");var Hb=Em.f("iterator");Om("asyncIterator"),Om("hasInstance"),Om("isConcatSpreadable"),Om("match"),Om("matchAll"),Om("replace"),Om("search"),Om("species"),Om("split"),Om("toPrimitive"),Om("toStringTag"),Om("unscopables"),jm(Math,"Math",!0),jm(zp.JSON,"JSON",!0);var zb=yg.Symbol;Om("asyncDispose"),Om("dispose"),Om("observable"),Om("patternMatch"),Om("replaceAll");for(var Wb=zb,Vb=jp((function(t){function e(t){return(e="function"==typeof Wb&&"symbol"==typeof Hb?function(t){return typeof t}:function(t){return t&&"function"==typeof Wb&&t.constructor===Wb&&t!==Wb.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof Wb&&"symbol"===e(Hb)?function(t){return e(t)}:function(t){return t&&"function"==typeof Wb&&t.constructor===Wb&&t!==Wb.prototype?"symbol":e(t)},i(n)}t.exports=i})),Ub=[],Yb=0;Yb<256;Yb++)Ub[Yb]=(Yb+256).toString(16).substr(1);for(var Gb=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=new Array(16);return function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}}(),qb=[],Kb=0;Kb<256;Kb++)qb[Kb]=(Kb+256).toString(16).substr(1);function Zb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):void 0,t={});var r=t.random||(t.rng||Gb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[n+s]=r[s];return e||function(t,e){var i=0;return Ub[t[i++]]+Ub[t[i++]]+Ub[t[i++]]+Ub[t[i++]]+"-"+Ub[t[i++]]+Ub[t[i++]]+"-"+Ub[t[i++]]+Ub[t[i++]]+"-"+Ub[t[i++]]+Ub[t[i++]]+"-"+Ub[t[i++]]+Ub[t[i++]]+Ub[t[i++]]+Ub[t[i++]]+Ub[t[i++]]+Ub[t[i++]]}(r)}function Qb(t,e){var i=uy(t);if(Dv){var n=Dv(t);e&&(n=eb(n).call(n,(function(e){return im(t,e).enumerable}))),i.push.apply(i,n)}return i}Gb();var Xb=/^\/?Date\((-?\d+)/i,Jb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,tw=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ew=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,iw=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function nw(t){return t instanceof Number||"number"==typeof t}function rw(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(rw(e),t.removeChild(e))}}function sw(t){return t instanceof String||"string"==typeof t}function ow(t){return"object"===Vb(t)&&null!==t}function aw(t){if(t instanceof Date)return!0;if(sw(t)){if(Xb.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1}function lw(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function hw(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t)if(void 0!==e[n])if(null===e[n]||"object"!==Vb(e[n]))lw(t,e,n,i);else{var r=t[n],s=e[n];ow(r)&&ow(s)&&hw(r,s,i)}}var cw=jb;function uw(t,e){if(!Fb(t))throw new Error("Array with property names expected as first argument");for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];for(var s=0,o=n;s<o.length;s++)for(var a=o[s],l=0;l<t.length;l++){var h=t[l];a&&Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e}function dw(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Fb(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(Object.prototype.hasOwnProperty.call(i,s))if(i[s]&&i[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?pw(e[s],i[s],!1,n):lw(e,i,s,n);else{if(Fb(i[s]))throw new TypeError("Arrays are not supported by deepExtend");lw(e,i,s,n)}}return e}function fw(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Fb(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&-1===$b(t).call(t,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?pw(e[r],i[r]):lw(e,i,r,n);else if(Fb(i[r])){e[r]=[];for(var s=0;s<i[r].length;s++)e[r].push(i[r][s])}else lw(e,i,r,n);return e}function pw(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===Vb(e[r])&&null!==e[r]&&Ab(e[r])===Object.prototype)void 0===t[r]?t[r]=pw({},e[r],i):"object"===Vb(t[r])&&null!==t[r]&&Ab(t[r])===Object.prototype?pw(t[r],e[r],i):lw(t,e,r,n);else if(Fb(e[r])){var s;t[r]=Tb(s=e[r]).call(s)}else lw(t,e,r,n);return t}function gw(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0}function mw(t){var e=Vb(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Fb(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function vw(t,e){var i;return lb(i=[]).call(i,function(t){return function(t){if(cb(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(function(t){var e=Object(t);return void 0!==e[_b]||"@@iterator"in e||Lv.hasOwnProperty(Rm(e))}(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return wb(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t),[e])}function yw(t){return Tb(t).call(t)}function bw(t){return t.getBoundingClientRect().left}function ww(t){return t.getBoundingClientRect().right}function _w(t){return t.getBoundingClientRect().top}function Sw(t,e){var i=t.className.split(" "),n=e.split(" ");i=lb(i).call(i,eb(n).call(n,(function(t){return $b(i).call(i,t)<0}))),t.className=i.join(" ")}function kw(t,e){var i=t.className.split(" "),n=e.split(" ");i=eb(i).call(i,(function(t){return $b(n).call(n,t)<0})),t.className=i.join(" ")}function xw(t,e){if(Fb(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}var Cw=Qy;function Ew(t,e,i){return t[e]!==i&&(t[e]=i,!0)}function Tw(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t()})))}}function Ow(t,e,i,n){var r;t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&$b(r=navigator.userAgent).call(r,"Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)}function Aw(t,e,i,n){var r;t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&$b(r=navigator.userAgent).call(r,"Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)}function Mw(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function Rw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode)instanceof Element)?e:null}function Dw(t,e){for(var i=t;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}return!1}var Lw={asBoolean:function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},asNumber:function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},asString:function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},asSize:function(t,e){return"function"==typeof t&&(t=t()),sw(t)?t:nw(t)?t+"px":e||null},asElement:function(t,e){return"function"==typeof t&&(t=t()),t||e||null}};function Iw(t){var e;switch(t.length){case 3:case 4:return(e=tw.exec(t))?{r:Gy(e[1]+e[1],16),g:Gy(e[2]+e[2],16),b:Gy(e[3]+e[3],16)}:null;case 6:case 7:return(e=Jb.exec(t))?{r:Gy(e[1],16),g:Gy(e[2],16),b:Gy(e[3],16)}:null;default:return null}}function Pw(t,e){if(-1!==$b(t).call(t,"rgba"))return t;if(-1!==$b(t).call(t,"rgb")){var i=t.substr($b(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var n=Iw(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function $w(t,e,i){var n;return"#"+Tb(n=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(n,1)}function Fw(t,e){if(sw(t)){var i=t;if(Gw(i)){var n,r=zy(n=i.substr(4).substr(0,i.length-5).split(",")).call(n,(function(t){return Gy(t)}));i=$w(r[0],r[1],r[2])}if(!0===Yw(i)){var s=Uw(i),o={h:s.h,s:.8*s.s,v:Math.min(1,1.02*s.v)},a={h:s.h,s:Math.min(1,1.25*s.s),v:.8*s.v},l=Vw(a.h,a.s,a.v),h=Vw(o.h,o.s,o.v);return{background:i,border:l,highlight:{background:h,border:l},hover:{background:h,border:l}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:sw(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:sw(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:sw(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:sw(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Nw(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),r=Math.max(t,Math.max(e,i));return n===r?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(r-n))/360,s:(r-n)/r,v:r}}var Bw=function(t){var e,i={};return Ry(e=t.split(";")).call(e,(function(t){if(""!=Sy(t).call(t)){var e,n,r=t.split(":"),s=Sy(e=r[0]).call(e),o=Sy(n=r[1]).call(n);i[s]=o}})),i},jw=function(t){var e;return zy(e=uy(t)).call(e,(function(e){return e+": "+t[e]})).join("; ")};function Hw(t,e){var i=function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)Ry(i=Qb(n,!0)).call(i,(function(e){ly(t,e,n[e])}));else if(Jg)Ug(t,Jg(n));else{var r;Ry(r=Qb(n)).call(r,(function(e){Og(t,e,im(n,e))}))}}return t}({},Bw(t.style.cssText),{},Bw(e));t.style.cssText=jw(i)}function zw(t,e){var i=Bw(t.style.cssText),n=Bw(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&delete i[r];t.style.cssText=jw(i)}function Ww(t,e,i){var n,r,s,o=Math.floor(6*t),a=6*t-o,l=i*(1-e),h=i*(1-a*e),c=i*(1-(1-a)*e);switch(o%6){case 0:n=i,r=c,s=l;break;case 1:n=h,r=i,s=l;break;case 2:n=l,r=i,s=c;break;case 3:n=l,r=h,s=i;break;case 4:n=c,r=l,s=i;break;case 5:n=i,r=l,s=h}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*s)}}function Vw(t,e,i){var n=Ww(t,e,i);return $w(n.r,n.g,n.b)}function Uw(t){var e=Iw(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Nw(e.r,e.g,e.b)}function Yw(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Gw(t){return ew.test(t)}function qw(t){return iw.test(t)}function Kw(t,e){if(null!==e&&"object"===Vb(e)){for(var i=oy(e),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&"object"==Vb(e[t[n]])&&(i[t[n]]=Zw(e[t[n]]));return i}return null}function Zw(t){if(null===t||"object"!==Vb(t))return null;if(t instanceof Element)return t;var e=oy(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==Vb(t[i])&&(e[i]=Zw(t[i]));return e}function Qw(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=void 0;for(r=i;r>0&&e(n,t[r-1])<0;r--)t[r]=t[r-1];t[r]=n}return t}function Xw(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},s=function(t){return null!==t&&"object"===Vb(t)};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");var o=e[i],a=s(n)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,l=a?a.enabled:void 0;if(void 0!==o){if("boolean"==typeof o)return s(t[i])||(t[i]={}),void(t[i].enabled=o);if(null===o&&!s(t[i])){if(!r(a))return;t[i]=oy(a)}if(s(o)){var h=!0;void 0!==o.enabled?h=o.enabled:void 0!==l&&(h=a.enabled),function(t,e,i){s(t[i])||(t[i]={});var n=e[i],r=t[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}(t,e,i),t[i].enabled=h}}}function Jw(t,e,i,n){for(var r=0,s=0,o=t.length-1;s<=o&&r<1e4;){var a=Math.floor((s+o)/2),l=t[a],h=e(void 0===n?l[i]:l[i][n]);if(0==h)return a;-1==h?s=a+1:o=a-1,r++}return-1}function t_(t,e,i,n,r){var s,o,a,l,h=0,c=0,u=t.length-1;for(r=null!=r?r:function(t,e){return t==e?0:t<e?-1:1};c<=u&&h<1e4;){if(l=Math.floor(.5*(u+c)),s=t[Math.max(0,l-1)][i],o=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==r(o,e))return l;if(r(s,e)<0&&r(o,e)>0)return"before"==n?Math.max(0,l-1):l;if(r(o,e)<0&&r(a,e)>0)return"before"==n?l:Math.min(t.length-1,l+1);r(o,e)<0?c=l+1:u=l-1,h++}return-1}var e_={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function i_(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n}function n_(t,e){var i;Fb(e)||(e=[e]);var n=!0,r=!1,s=void 0;try{for(var o,a=function(t){var e=ry(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return wg(e.call(t))}(t);!(n=(o=a.next()).done);n=!0){var l=o.value;if(l){i=l[e[0]];for(var h=1;h<e.length;h++)i&&(i=i[e[h]]);if(void 0!==i)break}}}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}var r_,s_,o_,a_=Object.freeze({__proto__:null,isNumber:nw,recursiveDOMDelete:rw,isString:sw,isObject:ow,isDate:aw,fillIfDefined:hw,extend:cw,selectiveExtend:uw,selectiveDeepExtend:dw,selectiveNotDeepExtend:fw,deepExtend:pw,equalArray:gw,getType:mw,copyAndExtendArray:vw,copyArray:yw,getAbsoluteLeft:bw,getAbsoluteRight:ww,getAbsoluteTop:_w,addClassName:Sw,removeClassName:kw,forEach:xw,toArray:Cw,updateProperty:Ew,throttle:Tw,addEventListener:Ow,removeEventListener:Aw,preventDefault:Mw,getTarget:Rw,hasParent:Dw,option:Lw,hexToRGB:Iw,overrideOpacity:Pw,RGBToHex:$w,parseColor:Fw,RGBToHSV:Nw,addCssText:Hw,removeCssText:zw,HSVToRGB:Ww,HSVToHex:Vw,hexToHSV:Uw,isValidHex:Yw,isValidRGB:Gw,isValidRGBA:qw,selectiveBridgeObject:Kw,bridgeObject:Zw,insertSort:Qw,mergeOptions:Xw,binarySearchCustom:Jw,binarySearchValue:t_,easingFunctions:e_,getScrollBarWidth:i_,topMost:n_,randomUUID:Zb}),l_=Object.freeze({__proto__:null,default:a_,HSVToHex:Vw,HSVToRGB:Ww,RGBToHSV:Nw,RGBToHex:$w,addClassName:Sw,addCssText:Hw,addEventListener:Ow,binarySearchCustom:Jw,binarySearchValue:t_,bridgeObject:Zw,copyAndExtendArray:vw,copyArray:yw,deepExtend:pw,easingFunctions:e_,equalArray:gw,extend:cw,fillIfDefined:hw,forEach:xw,getAbsoluteLeft:bw,getAbsoluteRight:ww,getAbsoluteTop:_w,getScrollBarWidth:i_,getTarget:Rw,getType:mw,hasParent:Dw,hexToHSV:Uw,hexToRGB:Iw,insertSort:Qw,isDate:aw,isNumber:nw,isObject:ow,isString:sw,isValidHex:Yw,isValidRGB:Gw,isValidRGBA:qw,mergeOptions:Xw,option:Lw,overrideOpacity:Pw,parseColor:Fw,preventDefault:Mw,randomUUID:Zb,recursiveDOMDelete:rw,removeClassName:kw,removeCssText:zw,removeEventListener:Aw,selectiveBridgeObject:Kw,selectiveDeepExtend:dw,selectiveExtend:uw,selectiveNotDeepExtend:fw,throttle:Tw,toArray:Cw,topMost:n_,updateProperty:Ew}),h_={},c_=Bf["__core-js_shared__"]||function(t,e){try{_p(Bf,t,e)}catch(i){Bf[t]=e}return e}("__core-js_shared__",{}),u_=Ff((function(t){(t.exports=function(t,e){return c_[t]||(c_[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.1",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),d_=u_("native-function-to-string",Function.toString),f_=Bf.WeakMap,p_="function"==typeof f_&&/native code/.test(d_.call(f_)),g_=0,m_=Math.random(),v_=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++g_+m_).toString(36)},y_=u_("keys"),b_=function(t){return y_[t]||(y_[t]=v_(t))},w_={};if(p_){var __=new(0,Bf.WeakMap),S_=__.get,k_=__.has,x_=__.set;r_=function(t,e){return x_.call(__,t,e),e},s_=function(t){return S_.call(__,t)||{}},o_=function(t){return k_.call(__,t)}}else{var C_=b_("state");w_[C_]=!0,r_=function(t,e){return _p(t,C_,e),e},s_=function(t){return ep(t,C_)?t[C_]:{}},o_=function(t){return ep(t,C_)}}var E_,T_,O_,A_={set:r_,get:s_,has:o_,enforce:function(t){return o_(t)?s_(t):r_(t,{})},getterFor:function(t){return function(e){var i;if(!Xf(e)||(i=s_(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},M_=function(t){return Object(Zf(t))},R_=!jf((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),D_=b_("IE_PROTO"),L_=Object.prototype,I_=R_?Object.getPrototypeOf:function(t){return t=M_(t),ep(t,D_)?t[D_]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?L_:null},P_=!!Object.getOwnPropertySymbols&&!jf((function(){return!String(Symbol())})),$_=Bf.Symbol,F_=u_("wks"),N_=function(t){return F_[t]||(F_[t]=P_&&$_[t]||(P_?$_:v_)("Symbol."+t))},B_=(N_("iterator"),!1);[].keys&&("next"in(O_=[].keys())?(T_=I_(I_(O_)))!==Object.prototype&&(E_=T_):B_=!0),null==E_&&(E_={});var j_={IteratorPrototype:E_,BUGGY_SAFARI_ITERATORS:B_},H_=Math.ceil,z_=Math.floor,W_=function(t){return isNaN(t=+t)?0:(t>0?z_:H_)(t)},V_=Math.min,U_=function(t){return t>0?V_(W_(t),9007199254740991):0},Y_=Math.max,G_=Math.min,q_=function(t,e){var i=W_(t);return i<0?Y_(i+e,0):G_(i,e)},K_=function(t){return function(e,i,n){var r,s=Qf(e),o=U_(s.length),a=q_(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},Z_={includes:K_(!0),indexOf:K_(!1)},Q_=Z_.indexOf,X_=function(t,e){var i,n=Qf(t),r=0,s=[];for(i in n)!ep(w_,i)&&ep(n,i)&&s.push(i);for(;e.length>r;)ep(n,i=e[r++])&&(~Q_(s,i)||s.push(i));return s},J_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tS=Object.keys||function(t){return X_(t,J_)},eS=Hf?Object.defineProperties:function(t,e){yp(t);for(var i,n=tS(e),r=n.length,s=0;r>s;)wp.f(t,i=n[s++],e[i]);return t},iS=function(t){return"function"==typeof t?t:void 0},nS=function(t,e){return arguments.length<2?iS(gp[t])||iS(Bf[t]):gp[t]&&gp[t][e]||Bf[t]&&Bf[t][e]},rS=nS("document","documentElement"),sS=b_("IE_PROTO"),oS=function(){},aS=function(){var t,e=rp("iframe"),i=J_.length;for(e.style.display="none",rS.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),aS=t.F;i--;)delete aS.prototype[J_[i]];return aS()},lS=Object.create||function(t,e){var i;return null!==t?(oS.prototype=yp(t),i=new oS,oS.prototype=null,i[sS]=t):i=aS(),void 0===e?i:eS(i,e)};w_[sS]=!0;var hS=N_("toStringTag"),cS="Arguments"==Gf(function(){return arguments}()),uS=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),hS))?i:cS?Gf(e):"Object"==(n=Gf(e))&&"function"==typeof e.callee?"Arguments":n},dS={};dS[N_("toStringTag")]="z";var fS="[object z]"!==String(dS)?function(){return"[object "+uS(this)+"]"}:dS.toString,pS=wp.f,gS=N_("toStringTag"),mS=fS!=={}.toString,vS=function(t,e,i,n){if(t){var r=i?t:t.prototype;ep(r,gS)||pS(r,gS,{configurable:!0,value:e}),n&&mS&&_p(r,"toString",fS)}},yS=j_.IteratorPrototype,bS=function(){return this},wS=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return yp(i),function(t){if(!Xf(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),_S=function(t,e,i,n){n&&n.enumerable?t[e]=i:_p(t,e,i)},SS=j_.IteratorPrototype,kS=j_.BUGGY_SAFARI_ITERATORS,xS=N_("iterator"),CS=function(){return this},ES=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=lS(yS,{next:Uf(1,i)}),vS(t,n,!1,!0),h_[n]=bS}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!kS&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[xS]||f["@@iterator"]||r&&f[r],g=!kS&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=I_(m.call(new t)),SS!==Object.prototype&&a.next&&(vS(a,u,!0,!0),h_[u]=CS)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[xS]!==g&&_p(f,xS,g),h_[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!kS&&!d&&h in f||_S(f,h,l[h]);else xp({target:e,proto:!0,forced:kS||d},l);return l},TS=A_.set,OS=A_.getterFor("Array Iterator");ES(Array,"Array",(function(t,e){TS(this,{type:"Array Iterator",target:Qf(t),index:0,kind:e})}),(function(){var t=OS(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),h_.Arguments=h_.Array;var AS=N_("toStringTag");for(var MS in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var RS=Bf[MS],DS=RS&&RS.prototype;DS&&!DS[AS]&&_p(DS,AS,MS),h_[MS]=h_.Array}var LS=Array.isArray||function(t){return"Array"==Gf(t)},IS=N_("species"),PS=function(t,e){var i;return LS(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!LS(i.prototype)?Xf(i)&&null===(i=i[IS])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},$S=[].push,FS=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=M_(a),p=Kf(f),g=vp(l,h,3),m=U_(p.length),v=0,y=c||PS,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:$S.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},NS={forEach:FS(0),map:FS(1),filter:FS(2),some:FS(3),every:FS(4),find:FS(5),findIndex:FS(6)},BS=function(t,e){var i=[][t];return!i||!jf((function(){i.call(null,e||function(){throw 1},1)}))},jS=NS.forEach,HS=BS("forEach")?function(t){return jS(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;xp({target:"Array",proto:!0,forced:[].forEach!=HS},{forEach:HS});var zS=Op("Array").forEach,WS=Array.prototype,VS={DOMTokenList:!0,NodeList:!0},US=function(t){var e=t.forEach;return t===WS||t instanceof Array&&e===WS.forEach||VS.hasOwnProperty(uS(t))?zS:e};xp({target:"Array",stat:!0},{isArray:LS});var YS,GS,qS=gp.Array.isArray,KS=qS,ZS=function(t,e,i){var n=Jf(e);n in t?wp.f(t,n,Uf(0,i)):t[n]=i},QS=nS("navigator","userAgent")||"",XS=Bf.process,JS=XS&&XS.versions,tk=JS&&JS.v8;tk?GS=(YS=tk.split("."))[0]+YS[1]:QS&&(!(YS=QS.match(/Edge\/(\d+)/))||YS[1]>=74)&&(YS=QS.match(/Chrome\/(\d+)/))&&(GS=YS[1]);var ek=GS&&+GS,ik=N_("species"),nk=function(t){return ek>=51||!jf((function(){var e=[];return(e.constructor={})[ik]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},rk=Math.max,sk=Math.min;xp({target:"Array",proto:!0,forced:!nk("splice")},{splice:function(t,e){var i,n,r,s,o,a,l=M_(this),h=U_(l.length),c=q_(t,h),u=arguments.length;if(0===u?i=n=0:1===u?(i=0,n=h-c):(i=u-2,n=sk(rk(W_(e),0),h-c)),h+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=PS(l,n),s=0;s<n;s++)(o=c+s)in l&&ZS(r,s,l[o]);if(r.length=n,i<n){for(s=c;s<h-n;s++)a=s+i,(o=s+n)in l?l[a]=l[o]:delete l[a];for(s=h;s>h-n+i;s--)delete l[s-1]}else if(i>n)for(s=h-n;s>c;s--)a=s+i-1,(o=s+n-1)in l?l[a]=l[o]:delete l[a];for(s=0;s<i;s++)l[s+c]=arguments[s+2];return l.length=h-n+i,r}});var ok=Op("Array").splice,ak=Array.prototype,lk=function(t){var e=t.splice;return t===ak||t instanceof Array&&e===ak.splice?ok:e},hk=Z_.includes;xp({target:"Array",proto:!0},{includes:function(t){return hk(this,t,arguments.length>1?arguments[1]:void 0)}});var ck=Op("Array").includes,uk=N_("match"),dk=function(t){if(function(t){var e;return Xf(t)&&(void 0!==(e=t[uk])?!!e:"RegExp"==Gf(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},fk=N_("match");xp({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[fk]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(Zf(this)).indexOf(dk(t),arguments.length>1?arguments[1]:void 0)}});var pk=Op("String").includes,gk=Array.prototype,mk=String.prototype,vk=function(t){var e=t.includes;return t===gk||t instanceof Array&&e===gk.includes?ck:"string"==typeof t||t===mk||t instanceof String&&e===mk.includes?pk:e},yk=Z_.indexOf,bk=[].indexOf,wk=!!bk&&1/[1].indexOf(1,-0)<0,_k=BS("indexOf");xp({target:"Array",proto:!0,forced:wk||_k},{indexOf:function(t){return wk?bk.apply(this,arguments)||0:yk(this,t,arguments.length>1?arguments[1]:void 0)}});var Sk=Op("Array").indexOf,kk=Array.prototype,xk=function(t){var e=t.indexOf;return t===kk||t instanceof Array&&e===kk.indexOf?Sk:e};xp({target:"Object",stat:!0,sham:!Hf},{create:lS});var Ck=gp.Object,Ek=function(t,e){return Ck.create(t,e)},Tk=Ek;function Ok(t){return Lk=t,function(){var t={};if(Ik=0,Pk=Lk.charAt(0),Gk(),"strict"===$k&&(t.strict=!0,Gk()),"graph"!==$k&&"digraph"!==$k||(t.type=$k,Gk()),Fk===Rk.IDENTIFIER&&(t.id=$k,Gk()),"{"!=$k)throw Jk("Angle bracket { expected");if(Gk(),qk(t),"}"!=$k)throw Jk("Angle bracket } expected");if(Gk(),""!==$k)throw Jk("End of file expected");return Gk(),delete t.node,delete t.edge,delete t.graph,t}()}var Ak={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Mk=Tk(Ak);Mk.color="color.color",Mk.style="dashes";var Rk={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Dk={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Lk="",Ik=0,Pk="",$k="",Fk=Rk.NULL;function Nk(){Ik++,Pk=Lk.charAt(Ik)}function Bk(){return Lk.charAt(Ik+1)}var jk=/[a-zA-Z_0-9.:#]/;function Hk(t){return jk.test(t)}function zk(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Wk(t,e,i){for(var n=e.split("."),r=t;n.length;){var s=n.shift();n.length?(r[s]||(r[s]={}),r=r[s]):r[s]=i}}function Vk(t,e){for(var i,n,r=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes)for(i=0,n=o.nodes.length;i<n;i++)if(e.id===o.nodes[i].id){r=o.nodes[i];break}for(r||(r={id:e.id},t.node&&(r.attr=zk(r.attr,t.node))),i=s.length-1;i>=0;i--){var a,l=s[i];l.nodes||(l.nodes=[]),-1===xk(a=l.nodes).call(a,r)&&l.nodes.push(r)}e.attr&&(r.attr=zk(r.attr,e.attr))}function Uk(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=zk({},t.edge);e.attr=zk(i,e.attr)}}function Yk(t,e,i,n,r){var s={from:e,to:i,type:n};return t.edge&&(s.attr=zk({},t.edge)),s.attr=zk(s.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(s.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),s}function Gk(){for(Fk=Rk.NULL,$k="";" "===Pk||"\t"===Pk||"\n"===Pk||"\r"===Pk;)Nk();do{var t=!1;if("#"===Pk){for(var e=Ik-1;" "===Lk.charAt(e)||"\t"===Lk.charAt(e);)e--;if("\n"===Lk.charAt(e)||""===Lk.charAt(e)){for(;""!=Pk&&"\n"!=Pk;)Nk();t=!0}}if("/"===Pk&&"/"===Bk()){for(;""!=Pk&&"\n"!=Pk;)Nk();t=!0}if("/"===Pk&&"*"===Bk()){for(;""!=Pk;){if("*"===Pk&&"/"===Bk()){Nk(),Nk();break}Nk()}t=!0}for(;" "===Pk||"\t"===Pk||"\n"===Pk||"\r"===Pk;)Nk()}while(t);if(""!==Pk){var i=Pk+Bk();if(Dk[i])return Fk=Rk.DELIMITER,$k=i,Nk(),void Nk();if(Dk[Pk])return Fk=Rk.DELIMITER,$k=Pk,void Nk();if(Hk(Pk)||"-"===Pk){for($k+=Pk,Nk();Hk(Pk);)$k+=Pk,Nk();return"false"===$k?$k=!1:"true"===$k?$k=!0:isNaN(Number($k))||($k=Number($k)),void(Fk=Rk.IDENTIFIER)}if('"'===Pk){for(Nk();""!=Pk&&('"'!=Pk||'"'===Pk&&'"'===Bk());)'"'===Pk?($k+=Pk,Nk()):"\\"===Pk&&"n"===Bk()?($k+="\n",Nk()):$k+=Pk,Nk();if('"'!=Pk)throw Jk('End of string " expected');return Nk(),void(Fk=Rk.IDENTIFIER)}for(Fk=Rk.UNKNOWN;""!=Pk;)$k+=Pk,Nk();throw new SyntaxError('Syntax error in part "'+tx($k,30)+'"')}Fk=Rk.DELIMITER}function qk(t){for(;""!==$k&&"}"!=$k;)Kk(t),";"===$k&&Gk()}function Kk(t){var e=Zk(t);if(e)Qk(t,e);else if(!function(t){return"node"===$k?(Gk(),t.node=Xk(),"node"):"edge"===$k?(Gk(),t.edge=Xk(),"edge"):"graph"===$k?(Gk(),t.graph=Xk(),"graph"):null}(t)){if(Fk!=Rk.IDENTIFIER)throw Jk("Identifier expected");var i=$k;if(Gk(),"="===$k){if(Gk(),Fk!=Rk.IDENTIFIER)throw Jk("Identifier expected");t[i]=$k,Gk()}else!function(t,e){var i={id:e},n=Xk();n&&(i.attr=n),Vk(t,i),Qk(t,e)}(t,i)}}function Zk(t){var e=null;if("subgraph"===$k&&((e={}).type="subgraph",Gk(),Fk===Rk.IDENTIFIER&&(e.id=$k,Gk())),"{"===$k){if(Gk(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,qk(e),"}"!=$k)throw Jk("Angle bracket } expected");Gk(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Qk(t,e){for(;"->"===$k||"--"===$k;){var i,n=$k;Gk();var r=Zk(t);if(r)i=r;else{if(Fk!=Rk.IDENTIFIER)throw Jk("Identifier or subgraph expected");Vk(t,{id:i=$k}),Gk()}Uk(t,Yk(t,e,i,n,Xk())),e=i}}function Xk(){for(var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},s=new Array,o=new Array;"["===$k;){for(Gk(),i={};""!==$k&&"]"!=$k;){if(Fk!=Rk.IDENTIFIER)throw Jk("Attribute name expected");var a=$k;if(Gk(),"="!=$k)throw Jk("Equal sign = expected");if(Gk(),Fk!=Rk.IDENTIFIER)throw Jk("Attribute value expected");var l=$k;"style"===a&&(l=n[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),s.push({attr:i,name:a,value:l}),o.push(a),Gk(),","==$k&&Gk()}if("]"!=$k)throw Jk("Bracket ] expected");Gk()}if(vk(o).call(o,"dir")){var h={arrows:{}};for(t=0;t<s.length;t++)if("arrows"===s[t].name)if(null!=s[t].value.to)h.arrows.to=t;else{if(null==s[t].value.from)throw Jk("Invalid value of arrows");h.arrows.from=t}else"dir"===s[t].name&&(h.dir=t);var c,u,d=s[h.dir].value;if(!vk(o).call(o,"arrows"))if("both"===d)s.push({attr:s[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=s.length-1,s.push({attr:s[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=s.length-1;else if("forward"===d)s.push({attr:s[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=s.length-1;else if("back"===d)s.push({attr:s[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=s.length-1;else{if("none"!==d)throw Jk('Invalid dir type "'+d+'"');s.push({attr:s[h.dir].attr,name:"arrows",value:""}),h.arrows.to=s.length-1}if("both"===d)h.arrows.to&&h.arrows.from?(s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u=s[h.arrows.to].value.to.type},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}},lk(s).call(s,h.arrows.from,1)):h.arrows.to?s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u=s[h.arrows.to].value.to.type},from:{enabled:!0,type:c="arrow"}}}:h.arrows.from&&(s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u="arrow"},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}});else if("back"===d)h.arrows.to&&h.arrows.from?s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u=""},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}}:h.arrows.to?(u="",c="arrow",h.arrows.from=h.arrows.to,s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}):h.arrows.from&&(s[h.arrows.to]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{to:{enabled:!0,type:u=""},from:{enabled:!0,type:c=s[h.arrows.from].value.from.type}}}),s[h.arrows.from]={attr:s[h.arrows.from].attr,name:s[h.arrows.from].name,value:{from:{enabled:!0,type:s[h.arrows.from].value.from.type}}};else if("none"===d){var f;s[f=h.arrows.to?h.arrows.to:h.arrows.from]={attr:s[f].attr,name:s[f].name,value:""}}else{if("forward"!==d)throw Jk('Invalid dir type "'+d+'"');h.arrows.to&&h.arrows.from||h.arrows.to?s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u=s[h.arrows.to].value.to.type},from:{enabled:!0,type:c=""}}}:h.arrows.from&&(u="arrow",c="",h.arrows.to=h.arrows.from,s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:c}}}),s[h.arrows.to]={attr:s[h.arrows.to].attr,name:s[h.arrows.to].name,value:{to:{enabled:!0,type:s[h.arrows.to].value.to.type}}}}lk(s).call(s,h.dir,1)}if(vk(o).call(o,"penwidth")){var p=[];for(e=s.length,t=0;t<e;t++)"width"!==s[t].name&&("penwidth"===s[t].name&&(s[t].name="width"),p.push(s[t]));s=p}for(e=s.length,t=0;t<e;t++)Wk(s[t].attr,s[t].name,s[t].value);return i}function Jk(t){return new SyntaxError(t+', got "'+tx($k,30)+'" (char '+Ik+")")}function tx(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function ex(t,e,i){for(var n=e.split("."),r=n.pop(),s=t,o=0;o<n.length;o++){var a=n[o];a in s||(s[a]={}),s=s[a]}return s[r]=i,t}function ix(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];KS(r)?US(r).call(r,(function(e){ex(i,e,t[n])})):ex(i,"string"==typeof r?r:n,t[n])}return i}var nx=function(t){var e,i=Ok(t),n={nodes:[],edges:[],options:{}};if(i.nodes&&US(e=i.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};zk(e,ix(t.attr,Ak)),e.image&&(e.shape="image"),n.nodes.push(e)})),i.edges){var r,s=function(t){var e={from:t.from,to:t.to};return zk(e,ix(t.attr,Mk)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};US(r=i.edges).call(r,(function(t){var e,i,r,o,a,l,h;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&US(r=t.from.edges).call(r,(function(t){var e=s(t);n.edges.push(e)})),a=i,l=function(e,i){var r=Yk(n,e.id,i.id,t.type,t.attr),o=s(r);n.edges.push(o)},KS(o=e)?US(o).call(o,(function(t){KS(a)?US(a).call(a,(function(e){l(t,e)})):l(t,a)})):KS(a)?US(a).call(a,(function(t){l(o,t)})):l(o,a),t.to instanceof Object&&t.to.edges&&US(h=t.to.edges).call(h,(function(t){var e=s(t);n.edges.push(e)}))}))}return i.attr&&(n.options=i.attr),n},rx={parseDOT:Ok,DOTToGraph:nx},sx=Object.freeze({__proto__:null,default:rx,__moduleExports:rx,parseDOT:Ok,DOTToGraph:nx}),ox=NS.map;xp({target:"Array",proto:!0,forced:!nk("map")},{map:function(t){return ox(this,t,arguments.length>1?arguments[1]:void 0)}});var ax=Op("Array").map,lx=Array.prototype,hx=function(t){var e=t.map;return t===lx||t instanceof Array&&e===lx.map?ax:e};function cx(t,e){var i,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));var r=t.edges,s=hx(r).call(r,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e}));return{nodes:hx(i=t.nodes).call(i,(function(t){var e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(e.color=!0===n.nodes.parseColor?t.color:{background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:s}}var ux=Object.freeze({__proto__:null,parseGephi:cx}),dx=(Object.freeze({__proto__:null,default:void 0}),Ff((function(t,e){t.exports=function(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,r={},s={keydown:{},keyup:{}},o={};for(e=97;e<=122;e++)o[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)o[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)o[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)o["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)o["num"+e]={code:96+e,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==s[e][t.keyCode]){for(var n=s[e][t.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==t.shiftKey||0==n[r].shift&&0==t.shiftKey)&&n[r].fn(t);1==i&&t.preventDefault()}};return r.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===o[t])throw new Error("unsupported key: "+t);void 0===s[i][o[t].code]&&(s[i][o[t].code]=[]),s[i][o[t].code].push({fn:e,shift:o[t].shift})},r.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),o)o.hasOwnProperty(i)&&r.bind(i,t,e)},r.getKey=function(t){for(var e in o)if(o.hasOwnProperty(e)){if(1==t.shiftKey&&1==o[e].shift&&t.keyCode==o[e].code)return e;if(0==t.shiftKey&&0==o[e].shift&&t.keyCode==o[e].code)return e;if(t.keyCode==o[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===o[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],r=s[i][o[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==o[t].shift||n.push(s[i][o[t].code][a]);s[i][o[t].code]=n}else s[i][o[t].code]=[]},r.reset=function(){s={keydown:{},keyup:{}}},r.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),r}}))),fx=Object.freeze({__proto__:null,default:dx,__moduleExports:dx});function px(){return(px=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function gx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function mx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var vx,yx="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign,bx=["","webkit","Moz","MS","ms","o"],wx="undefined"==typeof document?{style:{}}:document.createElement("div"),_x=Math.round,Sx=Math.abs,kx=Date.now;function xx(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),s=0;s<bx.length;){if((n=(i=bx[s])?i+r:e)in t)return n;s++}}vx="undefined"==typeof window?{}:window;var Cx=xx(wx.style,"touchAction"),Ex=void 0!==Cx,Tx="manipulation",Ox="none",Ax="pan-x",Mx="pan-y",Rx=function(){if(!Ex)return!1;var t={},e=vx.CSS&&vx.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||vx.CSS.supports("touch-action",i)})),t}(),Dx="ontouchstart"in vx,Lx=void 0!==xx(vx,"PointerEvent"),Ix=Dx&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Px="touch",$x="mouse",Fx=["x","y"],Nx=["clientX","clientY"];function Bx(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function jx(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Hx(t,e){return t.indexOf(e)>-1}var zx=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){"compute"===t&&(t=this.compute()),Ex&&this.manager.element.style&&Rx[t]&&(this.manager.element.style[Cx]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Bx(this.manager.recognizers,(function(e){jx(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Hx(t,Ox))return Ox;var e=Hx(t,Ax),i=Hx(t,Mx);return e&&i?Ox:e||i?e?Ax:Mx:Hx(t,Tx)?Tx:"auto"}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=Hx(n,Ox)&&!Rx[Ox],s=Hx(n,Mx)&&!Rx[Mx],o=Hx(n,Ax)&&!Rx[Ax];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!s)return r||s&&6&i||o&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Wx(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Vx(t){var e=t.length;if(1===e)return{x:_x(t[0].clientX),y:_x(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:_x(i/e),y:_x(n/e)}}function Ux(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:_x(t.pointers[i].clientX),clientY:_x(t.pointers[i].clientY)},i++;return{timeStamp:kx(),pointers:e,center:Vx(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Yx(t,e,i){i||(i=Fx);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function Gx(t,e,i){return i||(i=Fx),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function qx(t,e){return t===e?1:Sx(t)>=Sx(e)?t<0?2:4:e<0?8:16}function Kx(t,e,i){return{x:e/t||0,y:i/t||0}}function Zx(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=1&e&&n-r==0,o=12&e&&n-r==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=Ux(e)),r>1&&!i.firstMultiple?i.firstMultiple=Ux(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,l=e.center=Vx(n);e.timeStamp=kx(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Gx(a,l),e.distance=Yx(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=qx(e.deltaX,e.deltaY);var h,c,u=Kx(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Sx(u.x)>Sx(u.y)?u.x:u.y,e.scale=o?(h=o.pointers,Yx((c=n)[0],c[1],Nx)/Yx(h[0],h[1],Nx)):1,e.rotation=o?function(t,e){return Gx(e[1],e[0],Nx)+Gx(t[1],t[0],Nx)}(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!==e.eventType&&(a>25||void 0===o.velocity)){var l=e.deltaX-o.deltaX,h=e.deltaY-o.deltaY,c=Kx(a,l,h);n=c.x,r=c.y,i=Sx(c.x)>Sx(c.y)?c.x:c.y,s=qx(l,h),t.lastInterval=e}else i=o.velocity,n=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=s}(i,e);var d,f=t.element,p=e.srcEvent;Wx(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:f,f)&&(f=d),e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Qx(t){return t.trim().split(/\s+/g)}function Xx(t,e,i){Bx(Qx(e),(function(e){t.addEventListener(e,i,!1)}))}function Jx(t,e,i){Bx(Qx(e),(function(e){t.removeEventListener(e,i,!1)}))}function tC(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var eC=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){jx(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xx(this.element,this.evEl,this.domHandler),this.evTarget&&Xx(this.target,this.evTarget,this.domHandler),this.evWin&&Xx(tC(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Jx(this.element,this.evEl,this.domHandler),this.evTarget&&Jx(this.target,this.evTarget,this.domHandler),this.evWin&&Jx(tC(this.element),this.evWin,this.domHandler)},t}();function iC(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var nC={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},rC={2:Px,3:"pen",4:$x,5:"kinect"},sC="pointerdown",oC="pointermove pointerup pointercancel";vx.MSPointerEvent&&!vx.PointerEvent&&(sC="MSPointerDown",oC="MSPointerMove MSPointerUp MSPointerCancel");var aC=function(t){function e(){var i,n=e.prototype;return n.evEl=sC,n.evWin=oC,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return gx(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=nC[n],s=rC[t.pointerType]||t.pointerType,o=s===Px,a=iC(e,t.pointerId,"pointerId");1&r&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&r&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))},e}(eC);function lC(t){return Array.prototype.slice.call(t,0)}function hC(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];iC(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}var cC={touchstart:1,touchmove:2,touchend:4,touchcancel:8},uC="touchstart touchmove touchend touchcancel",dC=function(t){function e(){var i;return e.prototype.evTarget=uC,(i=t.apply(this,arguments)||this).targetIds={},i}return gx(e,t),e.prototype.handler=function(t){var e=cC[t.type],i=fC.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Px,srcEvent:t})},e}(eC);function fC(t,e){var i,n,r=lC(t.touches),s=this.targetIds;if(3&e&&1===r.length)return s[r[0].identifier]=!0,[r,r];var o=lC(t.changedTouches),a=[],l=this.target;if(n=r.filter((function(t){return Wx(t.target,l)})),1===e)for(i=0;i<n.length;)s[n[i].identifier]=!0,i++;for(i=0;i<o.length;)s[o[i].identifier]&&a.push(o[i]),12&e&&delete s[o[i].identifier],i++;return a.length?[hC(n.concat(a),"identifier",!0),a]:void 0}var pC={mousedown:1,mousemove:2,mouseup:4},gC="mousedown",mC="mousemove mouseup",vC=function(t){function e(){var i,n=e.prototype;return n.evEl=gC,n.evWin=mC,(i=t.apply(this,arguments)||this).pressed=!1,i}return gx(e,t),e.prototype.handler=function(t){var e=pC[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:$x,srcEvent:t}))},e}(eC);function yC(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function bC(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,yC.call(this,e)):12&t&&yC.call(this,e)}function wC(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(s<=25&&o<=25)return!0}return!1}var _C=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===$x;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(i.pointerType===Px)bC.call(mx(mx(n)),e,i);else if(r&&wC.call(mx(mx(n)),i))return;n.callback(t,e,i)}},n.touch=new dC(n.manager,n.handler),n.mouse=new vC(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return gx(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(eC);function SC(t,e,i){return!!Array.isArray(t)&&(Bx(t,i[e],i),!0)}var kC=1;function xC(t,e){var i=e.manager;return i?i.get(t):t}function CC(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var EC=function(){function t(t){void 0===t&&(t={}),this.options=px({enable:!0},t),this.id=kC++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return yx(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(SC(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=xC(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return SC(t,"dropRecognizeWith",this)||(t=xC(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(SC(t,"requireFailure",this))return this;var e=this.requireFail;return-1===iC(e,t=xC(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(SC(t,"dropRequireFailure",this))return this;t=xC(t,this);var e=iC(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+CC(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+CC(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=yx({},t);if(!jx(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),TC={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function OC(t,e){var i,n=t.element;n.style&&(Bx(t.options.cssProps,(function(r,s){i=xx(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var AC=function(){function t(t,e){var i,n=this;this.options=yx({},TC,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Lx?aC:Ix?dC:Dx?_C:vC))(i,Zx),this.touchAction=new zx(this,this.options.touchAction),OC(this,!0),Bx(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return yx(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(e.curRecognizer=i,r=i),s++}},e.get=function(t){if(t instanceof EC)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(SC(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(SC(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=iC(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Bx(Qx(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Bx(Qx(t),(function(t){e?i[t]&&i[t].splice(iC(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&OC(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),MC={touchstart:1,touchmove:2,touchend:4,touchcancel:8},RC="touchstart",DC="touchstart touchmove touchend touchcancel",LC=function(t){function e(){var i,n=e.prototype;return n.evTarget=RC,n.evWin=DC,(i=t.apply(this,arguments)||this).started=!1,i}return gx(e,t),e.prototype.handler=function(t){var e=MC[t.type];if(1===e&&(this.started=!0),this.started){var i=IC.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Px,srcEvent:t})}},e}(eC);function IC(t,e){var i=lC(t.touches),n=lC(t.changedTouches);return 12&e&&(i=hC(i.concat(n),"identifier",!0)),[i,n]}var PC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,px({pointers:1},e))||this}gx(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:32},e}(EC),$C=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,px({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}gx(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Tx]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,s=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&s&&n){if(4!==t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||Yx(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=32}),this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(EC);function FC(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var NC=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,px({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}gx(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(Mx),24&t&&e.push(Ax),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(6&e.direction?(r=0===s?1:s<0?2:4,i=s!==this.pX,n=Math.abs(t.deltaX)):(r=0===o?1:o<0?8:16,i=o!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return PC.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=FC(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(PC),BC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,px({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}gx(e,t);var i=e.prototype;return i.getTouchAction=function(){return NC.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return 30&n?i=e.overallVelocity:6&n?i=e.overallVelocityX:24&n&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Sx(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=FC(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(PC),jC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,px({event:"pinch",threshold:0,pointers:2},e))||this}gx(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Ox]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),t.prototype.emit.call(this,e)},e}(PC),HC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,px({event:"rotate",threshold:0,pointers:2},e))||this}gx(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Ox]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(PC),zC=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,px({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}gx(e,t);var i=e.prototype;return i.getTouchAction=function(){return["auto"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,s=t.deltaTime>i.time;if(this._input=t,!r||!n||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(4&t.eventType)return 8;return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=kx(),this.manager.emit(this.options.event,this._input)))},e}(EC);function WC(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,i),t.apply(this,arguments)}}var VC=WC((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),UC=WC((function(t,e){return VC(t,e,!0)}),"merge","Use `assign`.");function YC(t,e){return function(){return t.apply(e,arguments)}}var GC,qC=((GC=function(t,e){return void 0===e&&(e={}),new AC(t,px({recognizers:[[HC,{enable:!1}],[jC,{enable:!1},["rotate"]],[BC,{direction:6}],[NC,{direction:6},["swipe"]],[$C],[$C,{event:"doubletap",taps:2},["tap"]],[zC]]},e))}).VERSION="2.0.16",GC.DIRECTION_ALL=30,GC.DIRECTION_DOWN=16,GC.DIRECTION_LEFT=2,GC.DIRECTION_RIGHT=4,GC.DIRECTION_UP=8,GC.DIRECTION_HORIZONTAL=6,GC.DIRECTION_VERTICAL=24,GC.DIRECTION_NONE=1,GC.DIRECTION_DOWN=16,GC.INPUT_START=1,GC.INPUT_MOVE=2,GC.INPUT_END=4,GC.INPUT_CANCEL=8,GC.STATE_POSSIBLE=1,GC.STATE_BEGAN=2,GC.STATE_CHANGED=4,GC.STATE_ENDED=8,GC.STATE_RECOGNIZED=8,GC.STATE_CANCELLED=16,GC.STATE_FAILED=32,GC.Manager=AC,GC.Input=eC,GC.TouchAction=zx,GC.TouchInput=dC,GC.MouseInput=vC,GC.PointerEventInput=aC,GC.TouchMouseInput=_C,GC.SingleTouchInput=LC,GC.Recognizer=EC,GC.AttrRecognizer=PC,GC.Tap=$C,GC.Pan=NC,GC.Swipe=BC,GC.Pinch=jC,GC.Rotate=HC,GC.Press=zC,GC.on=Xx,GC.off=Jx,GC.each=Bx,GC.merge=UC,GC.extend=VC,GC.bindFn=YC,GC.assign=yx,GC.inherit=function(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&yx(n,i)},GC.bindFn=YC,GC.prefixed=xx,GC.toArray=lC,GC.inArray=iC,GC.uniqueArray=hC,GC.splitStr=Qx,GC.boolOrFn=jx,GC.hasParent=Wx,GC.addEventListeners=Xx,GC.removeEventListeners=Jx,GC.defaults=TC,GC),KC=Ff((function(t){if("undefined"!=typeof window){var e=window.Hammer||qC;t.exports=e}else t.exports=function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(e){return{set:t}}};var t}})),ZC=Object.freeze({__proto__:null,default:KC,__moduleExports:KC});function QC(t){var e,i,n=this;this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=KC(this.dom.overlay),this.hammer.on("tap",Rp(e=this._onTapOverlay).call(e,this));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];US(r).call(r,(function(t){n.hammer.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this.onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=dx(),this.escListener=Rp(i=this.deactivate).call(i,this)}Np(QC.prototype),QC.current=null,QC.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},QC.prototype.activate=function(){var t;QC.current&&QC.current.deactivate(),QC.current=this,this.active=!0,this.dom.overlay.style.display="none",a_.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),Rp(t=this.keycharm).call(t,"esc",this.escListener)},QC.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="block",a_.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},QC.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var XC=QC,JC=Ff((function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"Atr\xe1s",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},e.ru_RU=e.ru,e.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},e.zh_CN=e.cn,e.uk={edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f."},e.uk_UA=e.uk,e.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas \xeatre \xe9ffac\xe9s.",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dites."},e.fr_FR=e.fr,e.cs={edit:"Upravit",del:"Smazat v\xfdb\u011br",back:"Zp\u011bt",addNode:"P\u0159idat vrchol",addEdge:"P\u0159idat hranu",editNode:"Upravit vrchol",editEdge:"Upravit hranu",addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",deleteClusterError:"Nelze mazat shluky.",editClusterError:"Nelze upravovat shluky."},e.cs_CZ=e.cs})),tE=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};xp({target:"Object",stat:!0,forced:!Hf,sham:!Hf},{defineProperty:wp.f});var eE=Ff((function(t){var e=gp.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)})),iE=eE;function nE(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),iE(t,n.key,n)}}var rE=function(t,e,i){return e&&nE(t.prototype,e),i&&nE(t,i),t},sE=function(){function t(){tE(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return rE(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),r=Math.floor(e/8),s=Math.floor(e/16),o=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,o,i],[o,0,a,n],[o,n,l,r],[5*l,n,h,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],r=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,r,s){if(this.initialized())if(e>2){e*=.5;for(var o=0;e>2&&o<this.NUM_ITERATIONS;)e*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);var a=this.coordinates[o];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,r,s)}else t.drawImage(this.image,i,n,r,s)}}]),t}(),oE=function(){function t(e){tE(this,t),this.images={},this.imageBroken={},this.callback=e}return rE(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var r=new sE;return this.images[t]=r,r.image.onload=function(){i._fixImageCoordinates(r.image),r.init(),i._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),aE=function(){function t(){tE(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},cw(this.options,this.defaultOptions)}return rE(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)t.hasOwnProperty(i)&&-1===xk(e).call(e,i)&&this.add(i,t[i])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[r],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}(),lE=[].slice,hE=/MSIE .\./.test(QS),cE=function(t){return function(e,i){var n=arguments.length>2,r=n?lE.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};xp({global:!0,bind:!0,forced:hE},{setTimeout:cE(Bf.setTimeout),setInterval:cE(Bf.setInterval)});var uE=gp.setTimeout,dE=function(t){return function(e,i){var n,r,s=String(Zf(e)),o=W_(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},fE=(dE(!1),dE(!0)),pE=A_.set,gE=A_.getterFor("String Iterator");ES(String,"String",(function(t){pE(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=gE(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=fE(i,n),e.index+=t.length,{value:t,done:!1})}));var mE=N_("iterator"),vE=function(t){if(null!=t)return t[mE]||t["@@iterator"]||h_[uS(t)]},yE=function(t){var e=vE(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return yp(e.call(t))},bE=NS.some;xp({target:"Array",proto:!0,forced:BS("some")},{some:function(t){return bE(this,t,arguments.length>1?arguments[1]:void 0)}});var wE=Op("Array").some,_E=Array.prototype,SE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function kE(t,e){return t(e={exports:{}},e.exports),e.exports}var xE=function(t){return t&&t.Math==Math&&t},CE=xE("object"==typeof globalThis&&globalThis)||xE("object"==typeof window&&window)||xE("object"==typeof self&&self)||xE("object"==typeof SE&&SE)||Function("return this")(),EE=function(t){try{return!!t()}catch(t){return!0}},TE=!EE((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),OE={}.propertyIsEnumerable,AE=Object.getOwnPropertyDescriptor,ME={f:AE&&!OE.call({1:2},1)?function(t){var e=AE(this,t);return!!e&&e.enumerable}:OE},RE=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},DE={}.toString,LE=function(t){return DE.call(t).slice(8,-1)},IE="".split,PE=EE((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==LE(t)?IE.call(t,""):Object(t)}:Object,$E=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},FE=function(t){return PE($E(t))},NE=function(t){return"object"==typeof t?null!==t:"function"==typeof t},BE=function(t,e){if(!NE(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!NE(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!NE(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!NE(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},jE={}.hasOwnProperty,HE=function(t,e){return jE.call(t,e)},zE=CE.document,WE=NE(zE)&&NE(zE.createElement),VE=function(t){return WE?zE.createElement(t):{}},UE=!TE&&!EE((function(){return 7!=Object.defineProperty(VE("div"),"a",{get:function(){return 7}}).a})),YE=Object.getOwnPropertyDescriptor,GE={f:TE?YE:function(t,e){if(t=FE(t),e=BE(e,!0),UE)try{return YE(t,e)}catch(t){}if(HE(t,e))return RE(!ME.f.call(t,e),t[e])}},qE=/#|\.prototype\./,KE=function(t,e){var i=QE[ZE(t)];return i==JE||i!=XE&&("function"==typeof e?EE(e):!!e)},ZE=KE.normalize=function(t){return String(t).replace(qE,".").toLowerCase()},QE=KE.data={},XE=KE.NATIVE="N",JE=KE.POLYFILL="P",tT=KE,eT={},iT=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},nT=function(t,e,i){if(iT(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},rT=function(t){if(!NE(t))throw TypeError(String(t)+" is not an object");return t},sT=Object.defineProperty,oT={f:TE?sT:function(t,e,i){if(rT(t),e=BE(e,!0),rT(i),UE)try{return sT(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},aT=TE?function(t,e,i){return oT.f(t,e,RE(1,i))}:function(t,e,i){return t[e]=i,t},lT=GE.f,hT=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},cT=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?CE:d?CE[c]:(CE[c]||{}).prototype,g=u?eT:eT[c]||(eT[c]={}),m=g.prototype;for(r in e)i=!tT(u?r:c+(d?".":"#")+r,t.forced)&&p&&HE(p,r),o=g[r],i&&(a=t.noTargetGet?(h=lT(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?nT(s,CE):t.wrap&&i?hT(s):f&&"function"==typeof s?nT(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&aT(l,"sham",!0),g[r]=l,f&&(HE(eT,n=c+"Prototype")||aT(eT,n,{}),eT[n][r]=s,t.real&&m&&!m[r]&&aT(m,r,s)))};cT({target:"Object",stat:!0,forced:!TE,sham:!TE},{defineProperty:oT.f});var uT=kE((function(t){var e=eT.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)})),dT=uT,fT=Math.ceil,pT=Math.floor,gT=function(t){return isNaN(t=+t)?0:(t>0?pT:fT)(t)},mT=Math.min,vT=function(t){return t>0?mT(gT(t),9007199254740991):0},yT=Math.max,bT=Math.min,wT=function(t,e){var i=gT(t);return i<0?yT(i+e,0):bT(i,e)},_T=function(t){return function(e,i,n){var r,s=FE(e),o=vT(s.length),a=wT(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},ST={includes:_T(!0),indexOf:_T(!1)},kT={},xT=ST.indexOf,CT=function(t,e){var i,n=FE(t),r=0,s=[];for(i in n)!HE(kT,i)&&HE(n,i)&&s.push(i);for(;e.length>r;)HE(n,i=e[r++])&&(~xT(s,i)||s.push(i));return s},ET=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],TT=Object.keys||function(t){return CT(t,ET)},OT=TE?Object.defineProperties:function(t,e){rT(t);for(var i,n=TT(e),r=n.length,s=0;r>s;)oT.f(t,i=n[s++],e[i]);return t};cT({target:"Object",stat:!0,forced:!TE,sham:!TE},{defineProperties:OT});var AT=kE((function(t){var e=eT.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)})),MT=function(t){return"function"==typeof t?t:void 0},RT=function(t,e){return arguments.length<2?MT(eT[t])||MT(CE[t]):eT[t]&&eT[t][e]||CE[t]&&CE[t][e]},DT=ET.concat("length","prototype"),LT={f:Object.getOwnPropertyNames||function(t){return CT(t,DT)}},IT={f:Object.getOwnPropertySymbols},PT=RT("Reflect","ownKeys")||function(t){var e=LT.f(rT(t)),i=IT.f;return i?e.concat(i(t)):e},$T=function(t,e,i){var n=BE(e);n in t?oT.f(t,n,RE(0,i)):t[n]=i};cT({target:"Object",stat:!0,sham:!TE},{getOwnPropertyDescriptors:function(t){for(var e,i,n=FE(t),r=GE.f,s=PT(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&$T(o,e,i);return o}});var FT,NT,BT,jT=eT.Object.getOwnPropertyDescriptors,HT={},zT=CE["__core-js_shared__"]||function(t,e){try{aT(CE,t,e)}catch(i){CE[t]=e}return e}("__core-js_shared__",{}),WT=kE((function(t){(t.exports=function(t,e){return zT[t]||(zT[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.0",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),VT=WT("native-function-to-string",Function.toString),UT=CE.WeakMap,YT="function"==typeof UT&&/native code/.test(VT.call(UT)),GT=0,qT=Math.random(),KT=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++GT+qT).toString(36)},ZT=WT("keys"),QT=function(t){return ZT[t]||(ZT[t]=KT(t))};if(YT){var XT=new(0,CE.WeakMap),JT=XT.get,tO=XT.has,eO=XT.set;FT=function(t,e){return eO.call(XT,t,e),e},NT=function(t){return JT.call(XT,t)||{}},BT=function(t){return tO.call(XT,t)}}else{var iO=QT("state");kT[iO]=!0,FT=function(t,e){return aT(t,iO,e),e},NT=function(t){return HE(t,iO)?t[iO]:{}},BT=function(t){return HE(t,iO)}}var nO,rO,sO,oO={set:FT,get:NT,has:BT,enforce:function(t){return BT(t)?NT(t):FT(t,{})},getterFor:function(t){return function(e){var i;if(!NE(e)||(i=NT(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},aO=function(t){return Object($E(t))},lO=!EE((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),hO=QT("IE_PROTO"),cO=Object.prototype,uO=lO?Object.getPrototypeOf:function(t){return t=aO(t),HE(t,hO)?t[hO]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?cO:null},dO=!!Object.getOwnPropertySymbols&&!EE((function(){return!String(Symbol())})),fO=CE.Symbol,pO=WT("wks"),gO=function(t){return pO[t]||(pO[t]=dO&&fO[t]||(dO?fO:KT)("Symbol."+t))},mO=(gO("iterator"),!1);[].keys&&("next"in(sO=[].keys())?(rO=uO(uO(sO)))!==Object.prototype&&(nO=rO):mO=!0),null==nO&&(nO={});var vO={IteratorPrototype:nO,BUGGY_SAFARI_ITERATORS:mO},yO=RT("document","documentElement"),bO=QT("IE_PROTO"),wO=function(){},_O=function(){var t,e=VE("iframe"),i=ET.length;for(e.style.display="none",yO.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),_O=t.F;i--;)delete _O.prototype[ET[i]];return _O()},SO=Object.create||function(t,e){var i;return null!==t?(wO.prototype=rT(t),i=new wO,wO.prototype=null,i[bO]=t):i=_O(),void 0===e?i:OT(i,e)};kT[bO]=!0;var kO=gO("toStringTag"),xO="Arguments"==LE(function(){return arguments}()),CO=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),kO))?i:xO?LE(e):"Object"==(n=LE(e))&&"function"==typeof e.callee?"Arguments":n},EO={};EO[gO("toStringTag")]="z";var TO="[object z]"!==String(EO)?function(){return"[object "+CO(this)+"]"}:EO.toString,OO=oT.f,AO=gO("toStringTag"),MO=TO!=={}.toString,RO=function(t,e,i,n){if(t){var r=i?t:t.prototype;HE(r,AO)||OO(r,AO,{configurable:!0,value:e}),n&&MO&&aT(r,"toString",TO)}},DO=vO.IteratorPrototype,LO=function(){return this},IO=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return rT(i),function(t){if(!NE(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),PO=function(t,e,i,n){n&&n.enumerable?t[e]=i:aT(t,e,i)},$O=vO.IteratorPrototype,FO=vO.BUGGY_SAFARI_ITERATORS,NO=gO("iterator"),BO=function(){return this},jO=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=SO(DO,{next:RE(1,i)}),RO(t,n,!1,!0),HT[n]=LO}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!FO&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[NO]||f["@@iterator"]||r&&f[r],g=!FO&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=uO(m.call(new t)),$O!==Object.prototype&&a.next&&(RO(a,u,!0,!0),HT[u]=BO)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[NO]!==g&&aT(f,NO,g),HT[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!FO&&!d&&h in f||PO(f,h,l[h]);else cT({target:e,proto:!0,forced:FO||d},l);return l},HO=oO.set,zO=oO.getterFor("Array Iterator");jO(Array,"Array",(function(t,e){HO(this,{type:"Array Iterator",target:FE(t),index:0,kind:e})}),(function(){var t=zO(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),HT.Arguments=HT.Array;var WO=gO("toStringTag");for(var VO in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var UO=CE[VO],YO=UO&&UO.prototype;YO&&!YO[WO]&&aT(YO,WO,VO),HT[VO]=HT.Array}var GO=Array.isArray||function(t){return"Array"==LE(t)},qO=gO("species"),KO=function(t,e){var i;return GO(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!GO(i.prototype)?NE(i)&&null===(i=i[qO])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},ZO=[].push,QO=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=aO(a),p=PE(f),g=nT(l,h,3),m=vT(p.length),v=0,y=c||KO,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:ZO.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},XO={forEach:QO(0),map:QO(1),filter:QO(2),some:QO(3),every:QO(4),find:QO(5),findIndex:QO(6)},JO=function(t,e){var i=[][t];return!i||!EE((function(){i.call(null,e||function(){throw 1},1)}))},tA=XO.forEach,eA=JO("forEach")?function(t){return tA(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;cT({target:"Array",proto:!0,forced:[].forEach!=eA},{forEach:eA});var iA=function(t){return eT[t+"Prototype"]},nA=iA("Array").forEach,rA=Array.prototype,sA={DOMTokenList:!0,NodeList:!0},oA=function(t){var e=t.forEach;return t===rA||t instanceof Array&&e===rA.forEach||sA.hasOwnProperty(CO(t))?nA:e},aA=GE.f,lA=EE((function(){aA(1)}));cT({target:"Object",stat:!0,forced:!TE||lA,sham:!TE},{getOwnPropertyDescriptor:function(t,e){return aA(FE(t),e)}});var hA=kE((function(t){var e=eT.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)})),cA=LT.f,uA={}.toString,dA="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],fA={f:function(t){return dA&&"[object Window]"==uA.call(t)?function(t){try{return cA(t)}catch(t){return dA.slice()}}(t):cA(FE(t))}},pA={f:gO},gA=oT.f,mA=function(t){var e=eT.Symbol||(eT.Symbol={});HE(e,t)||gA(e,t,{value:pA.f(t)})},vA=XO.forEach,yA=QT("hidden"),bA=gO("toPrimitive"),wA=oO.set,_A=oO.getterFor("Symbol"),SA=Object.prototype,kA=CE.Symbol,xA=RT("JSON","stringify"),CA=GE.f,EA=oT.f,TA=fA.f,OA=ME.f,AA=WT("symbols"),MA=WT("op-symbols"),RA=WT("string-to-symbol-registry"),DA=WT("symbol-to-string-registry"),LA=WT("wks"),IA=CE.QObject,PA=!IA||!IA.prototype||!IA.prototype.findChild,$A=TE&&EE((function(){return 7!=SO(EA({},"a",{get:function(){return EA(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=CA(SA,e);n&&delete SA[e],EA(t,e,i),n&&t!==SA&&EA(SA,e,n)}:EA,FA=function(t,e){var i=AA[t]=SO(kA.prototype);return wA(i,{type:"Symbol",tag:t,description:e}),TE||(i.description=e),i},NA=dO&&"symbol"==typeof kA.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof kA},BA=function(t,e,i){t===SA&&BA(MA,e,i),rT(t);var n=BE(e,!0);return rT(i),HE(AA,n)?(i.enumerable?(HE(t,yA)&&t[yA][n]&&(t[yA][n]=!1),i=SO(i,{enumerable:RE(0,!1)})):(HE(t,yA)||EA(t,yA,RE(1,{})),t[yA][n]=!0),$A(t,n,i)):EA(t,n,i)},jA=function(t,e){rT(t);var i=FE(e),n=TT(i).concat(VA(i));return vA(n,(function(e){TE&&!HA.call(i,e)||BA(t,e,i[e])})),t},HA=function(t){var e=BE(t,!0),i=OA.call(this,e);return!(this===SA&&HE(AA,e)&&!HE(MA,e))&&(!(i||!HE(this,e)||!HE(AA,e)||HE(this,yA)&&this[yA][e])||i)},zA=function(t,e){var i=FE(t),n=BE(e,!0);if(i!==SA||!HE(AA,n)||HE(MA,n)){var r=CA(i,n);return!r||!HE(AA,n)||HE(i,yA)&&i[yA][n]||(r.enumerable=!0),r}},WA=function(t){var e=TA(FE(t)),i=[];return vA(e,(function(t){HE(AA,t)||HE(kT,t)||i.push(t)})),i},VA=function(t){var e=t===SA,i=TA(e?MA:FE(t)),n=[];return vA(i,(function(t){!HE(AA,t)||e&&!HE(SA,t)||n.push(AA[t])})),n};if(dO||(PO((kA=function(){if(this instanceof kA)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=KT(t),i=function(t){this===SA&&i.call(MA,t),HE(this,yA)&&HE(this[yA],e)&&(this[yA][e]=!1),$A(this,e,RE(1,t))};return TE&&PA&&$A(SA,e,{configurable:!0,set:i}),FA(e,t)}).prototype,"toString",(function(){return _A(this).tag})),ME.f=HA,oT.f=BA,GE.f=zA,LT.f=fA.f=WA,IT.f=VA,TE&&EA(kA.prototype,"description",{configurable:!0,get:function(){return _A(this).description}}),pA.f=function(t){return FA(gO(t),t)}),cT({global:!0,wrap:!0,forced:!dO,sham:!dO},{Symbol:kA}),vA(TT(LA),(function(t){mA(t)})),cT({target:"Symbol",stat:!0,forced:!dO},{for:function(t){var e=String(t);if(HE(RA,e))return RA[e];var i=kA(e);return RA[e]=i,DA[i]=e,i},keyFor:function(t){if(!NA(t))throw TypeError(t+" is not a symbol");if(HE(DA,t))return DA[t]},useSetter:function(){PA=!0},useSimple:function(){PA=!1}}),cT({target:"Object",stat:!0,forced:!dO,sham:!TE},{create:function(t,e){return void 0===e?SO(t):jA(SO(t),e)},defineProperty:BA,defineProperties:jA,getOwnPropertyDescriptor:zA}),cT({target:"Object",stat:!0,forced:!dO},{getOwnPropertyNames:WA,getOwnPropertySymbols:VA}),cT({target:"Object",stat:!0,forced:EE((function(){IT.f(1)}))},{getOwnPropertySymbols:function(t){return IT.f(aO(t))}}),xA){var UA=!dO||EE((function(){var t=kA();return"[null]"!=xA([t])||"{}"!=xA({a:t})||"{}"!=xA(Object(t))}));cT({target:"JSON",stat:!0,forced:UA},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(NE(e)||void 0!==t)&&!NA(t))return GO(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!NA(e))return e}),r[1]=e,xA.apply(null,r)}})}kA.prototype[bA]||aT(kA.prototype,bA,kA.prototype.valueOf),RO(kA,"Symbol"),kT[yA]=!0;var YA=eT.Object.getOwnPropertySymbols,GA=iA("Array").entries,qA=Array.prototype,KA={DOMTokenList:!0,NodeList:!0},ZA=[].slice,QA={},XA=function(t,e,i){if(!(e in QA)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";QA[e]=Function("C,a","return new C("+n.join(",")+")")}return QA[e](t,i)};cT({target:"Function",proto:!0},{bind:Function.bind||function(t){var e=iT(this),i=ZA.call(arguments,1),n=function(){var r=i.concat(ZA.call(arguments));return this instanceof n?XA(e,r.length,r):e.apply(t,r)};return NE(e.prototype)&&(n.prototype=e.prototype),n}});var JA=iA("Function").bind,tM=Function.prototype,eM=function(t){var e=t.bind;return t===tM||t instanceof Function&&e===tM.bind?JA:e},iM=kE((function(t){var e=function(t){var e,i=Object.prototype,n=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,i,n){var r=Object.create((e&&e.prototype instanceof g?e:g).prototype),s=new T(n||[]);return r._invoke=function(t,e,i){var n=c;return function(r,s){if(n===d)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw s;return A()}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var a=x(o,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=d;var l=h(t,e,i);if("normal"===l.type){if(n=i.done?f:u,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}(t,i,s),r}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",u="suspendedYield",d="executing",f="completed",p={};function g(){}function m(){}function v(){}var y={};y[s]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==i&&n.call(w,s)&&(y=w);var _=v.prototype=g.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t){var e;this._invoke=function(i,r){function s(){return new Promise((function(e,s){!function e(i,r,s,o){var a=h(t[i],t,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,s,o)}),(function(t){e("throw",t,s,o)})):Promise.resolve(c).then((function(t){l.value=t,s(l)}),(function(t){return e("throw",t,s,o)}))}o(a.arg)}(i,r,e,s)}))}return e=e?e.then(s,s):s()}}function x(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,x(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,p;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=_.constructor=v,v.constructor=m,v[a]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},S(k.prototype),k.prototype[o]=function(){return this},t.AsyncIterator=k,t.async=function(e,i,n,r){var s=new k(l(e,i,n,r));return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(_),_[a]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(l&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;E(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:O(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));mA("iterator");var nM=function(t){return function(e,i){var n,r,s=String($E(e)),o=gT(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},rM=(nM(!1),nM(!0)),sM=oO.set,oM=oO.getterFor("String Iterator");jO(String,"String",(function(t){sM(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=oM(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=rM(i,n),e.index+=t.length,{value:t,done:!1})}));var aM=pA.f("iterator"),lM=aM,hM=RT("JSON","stringify"),cM=/[\uD800-\uDFFF]/g,uM=/^[\uD800-\uDBFF]$/,dM=/^[\uDC00-\uDFFF]$/,fM=function(t,e,i){var n=i.charAt(e-1),r=i.charAt(e+1);return uM.test(t)&&!dM.test(r)||dM.test(t)&&!uM.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},pM=EE((function(){return'"\\udf06\\ud834"'!==hM("\udf06\ud834")||'"\\udead"'!==hM("\udead")}));hM&&cT({target:"JSON",stat:!0,forced:pM},{stringify:function(t,e,i){var n=hM.apply(null,arguments);return"string"==typeof n?n.replace(cM,fM):n}}),eT.JSON||(eT.JSON={stringify:JSON.stringify});var gM=uT,mM=function(t,e,i){return e in t?gM(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},vM=iA("Array").values,yM=Array.prototype,bM={DOMTokenList:!0,NodeList:!0},wM=function(t){var e=t.values;return t===yM||t instanceof Array&&e===yM.values||bM.hasOwnProperty(CO(t))?vM:e},_M=gO("iterator"),SM=function(t){if(null!=t)return t[_M]||t["@@iterator"]||HT[CO(t)]},kM=function(t){var e=SM(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return rT(e.call(t))},xM=[].sort,CM=[1,2,3],EM=EE((function(){CM.sort(void 0)})),TM=EE((function(){CM.sort(null)})),OM=JO("sort");cT({target:"Array",proto:!0,forced:EM||!TM||OM},{sort:function(t){return void 0===t?xM.call(aO(this)):xM.call(aO(this),iT(t))}});var AM=iA("Array").sort,MM=Array.prototype,RM=function(t){var e=t.sort;return t===MM||t instanceof Array&&e===MM.sort?AM:e},DM=function(t){return function(e,i,n,r){iT(i);var s=aO(e),o=PE(s),a=vT(s.length),l=t?a-1:0,h=t?-1:1;if(n<2)for(;;){if(l in o){r=o[l],l+=h;break}if(l+=h,t?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=h)l in o&&(r=i(r,o[l],l,s));return r}},LM=[DM(!1),DM(!0)][0];cT({target:"Array",proto:!0,forced:JO("reduce")},{reduce:function(t){return LM(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var IM=iA("Array").reduce,PM=Array.prototype,$M=iA("Array").keys,FM=Array.prototype,NM={DOMTokenList:!0,NodeList:!0},BM=function(t){var e=t.keys;return t===FM||t instanceof Array&&e===FM.keys||NM.hasOwnProperty(CO(t))?$M:e};cT({target:"Array",stat:!0},{isArray:GO});var jM=eT.Array.isArray,HM=jM,zM=function(t,e,i,n){try{return n?e(rT(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&rT(r.call(t)),e}},WM=gO("iterator"),VM=Array.prototype,UM=function(t){return void 0!==t&&(HT.Array===t||VM[WM]===t)},YM=gO("iterator"),GM=!1;try{var qM=0,KM={next:function(){return{done:!!qM++}},return:function(){GM=!0}};KM[YM]=function(){return this},Array.from(KM,(function(){throw 2}))}catch(GC){}var ZM=!function(t,e){if(!GM)return!1;var i=!1;try{var n={};n[YM]=function(){return{next:function(){return{done:i=!0}}}},function(t){Array.from(t)}(n)}catch(t){}return i}();cT({target:"Array",stat:!0,forced:ZM},{from:function(t){var e,i,n,r,s,o=aO(t),a="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,u=0,d=SM(o);if(c&&(h=nT(h,l>2?arguments[2]:void 0,2)),null==d||a==Array&&UM(d))for(i=new a(e=vT(o.length));e>u;u++)$T(i,u,c?h(o[u],u):o[u]);else for(s=(r=d.call(o)).next,i=new a;!(n=s.call(r)).done;u++)$T(i,u,c?zM(r,h,[n.value,u],!0):n.value);return i.length=u,i}});var QM,XM,JM=eT.Array.from,tR=gO("iterator"),eR=function(t){var e=Object(t);return void 0!==e[tR]||"@@iterator"in e||HT.hasOwnProperty(CO(e))},iR=function(t){return function(t){if(HM(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(eR(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return JM(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()},nR=RT("navigator","userAgent")||"",rR=CE.process,sR=rR&&rR.versions,oR=sR&&sR.v8;oR?XM=(QM=oR.split("."))[0]+QM[1]:nR&&(!(QM=nR.match(/Edge\/(\d+)/))||QM[1]>=74)&&(QM=nR.match(/Chrome\/(\d+)/))&&(XM=QM[1]);var aR=XM&&+XM,lR=gO("species"),hR=function(t){return aR>=51||!EE((function(){var e=[];return(e.constructor={})[lR]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},cR=XO.filter;cT({target:"Array",proto:!0,forced:!hR("filter")},{filter:function(t){return cR(this,t,arguments.length>1?arguments[1]:void 0)}});var uR=iA("Array").filter,dR=Array.prototype,fR=function(t){var e=t.filter;return t===dR||t instanceof Array&&e===dR.filter?uR:e},pR=gO("isConcatSpreadable"),gR=aR>=51||!EE((function(){var t=[];return t[pR]=!1,t.concat()[0]!==t})),mR=hR("concat"),vR=function(t){if(!NE(t))return!1;var e=t[pR];return void 0!==e?!!e:GO(t)};cT({target:"Array",proto:!0,forced:!gR||!mR},{concat:function(t){var e,i,n,r,s,o=aO(this),a=KO(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(vR(s=-1===e?o:arguments[e])){if(l+(r=vT(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&$T(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");$T(a,l++,s)}return a.length=l,a}});var yR=iA("Array").concat,bR=Array.prototype,wR=function(t){var e=t.concat;return t===bR||t instanceof Array&&e===bR.concat?yR:e},_R=Object.assign,SR=!_R||EE((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=_R({},t)[i]||"abcdefghijklmnopqrst"!=TT(_R({},e)).join("")}))?function(t,e){for(var i=aO(t),n=arguments.length,r=1,s=IT.f,o=ME.f;n>r;)for(var a,l=PE(arguments[r++]),h=s?TT(l).concat(s(l)):TT(l),c=h.length,u=0;c>u;)a=h[u++],TE&&!o.call(l,a)||(i[a]=l[a]);return i}:_R;cT({target:"Object",stat:!0,forced:Object.assign!==SR},{assign:SR});var kR=eT.Object.assign,xR=XO.some;cT({target:"Array",proto:!0,forced:JO("some")},{some:function(t){return xR(this,t,arguments.length>1?arguments[1]:void 0)}});var CR=iA("Array").some,ER=Array.prototype,TR=XO.map;cT({target:"Array",proto:!0,forced:!hR("map")},{map:function(t){return TR(this,t,arguments.length>1?arguments[1]:void 0)}});var OR=iA("Array").map,AR=Array.prototype,MR=function(t){var e=t.map;return t===AR||t instanceof Array&&e===AR.map?OR:e},RR=aM;mA("asyncIterator"),mA("hasInstance"),mA("isConcatSpreadable"),mA("match"),mA("matchAll"),mA("replace"),mA("search"),mA("species"),mA("split"),mA("toPrimitive"),mA("toStringTag"),mA("unscopables"),RO(Math,"Math",!0),RO(CE.JSON,"JSON",!0);var DR=eT.Symbol;mA("asyncDispose"),mA("dispose"),mA("observable"),mA("patternMatch"),mA("replaceAll");var LR=DR,IR=kE((function(t){function e(t){return(e="function"==typeof LR&&"symbol"==typeof RR?function(t){return typeof t}:function(t){return t&&"function"==typeof LR&&t.constructor===LR&&t!==LR.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof LR&&"symbol"===e(RR)?function(t){return e(t)}:function(t){return t&&"function"==typeof LR&&t.constructor===LR&&t!==LR.prototype?"symbol":e(t)},i(n)}t.exports=i})),PR=EE((function(){TT(1)}));cT({target:"Object",stat:!0,forced:PR},{keys:function(t){return TT(aO(t))}});var $R=eT.Object.keys,FR=!EE((function(){return Object.isExtensible(Object.preventExtensions({}))})),NR=kE((function(t){var e=oT.f,i=KT("meta"),n=0,r=Object.isExtensible||function(){return!0},s=function(t){e(t,i,{value:{objectID:"O"+ ++n,weakData:{}}})},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!NE(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!HE(t,i)){if(!r(t))return"F";if(!e)return"E";s(t)}return t[i].objectID},getWeakData:function(t,e){if(!HE(t,i)){if(!r(t))return!0;if(!e)return!1;s(t)}return t[i].weakData},onFreeze:function(t){return FR&&o.REQUIRED&&r(t)&&!HE(t,i)&&s(t),t}};kT[i]=!0})),BR=kE((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,n,r,s){var o,a,l,h,c,u,d,f=nT(i,n,r?2:1);if(s)o=t;else{if("function"!=typeof(a=SM(t)))throw TypeError("Target is not iterable");if(UM(a)){for(l=0,h=vT(t.length);h>l;l++)if((c=r?f(rT(d=t[l])[0],d[1]):f(t[l]))&&c instanceof e)return c;return new e(!1)}o=a.call(t)}for(u=o.next;!(d=u.call(o)).done;)if("object"==typeof(c=zM(o,f,d.value,r))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),jR=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},HR=oT.f,zR=XO.forEach,WR=oO.set,VR=oO.getterFor,UR=function(t,e,i,n,r){var s,o=CE[t],a=o&&o.prototype,l=n?"set":"add",h={};if(TE&&"function"==typeof o&&(r||a.forEach&&!EE((function(){(new o).entries().next()})))){s=e((function(e,i){WR(jR(e,s,t),{type:t,collection:new o}),null!=i&&BR(i,e[l],e,n)}));var c=VR(t);zR(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;t in a&&(!r||"clear"!=t)&&aT(s.prototype,t,(function(i,n){var s=c(this).collection;if(!e&&r&&!NE(i))return"get"==t&&void 0;var o=s[t](0===i?0:i,n);return e?this:o}))})),r||HR(s.prototype,"size",{get:function(){return c(this).collection.size}})}else s=i.getConstructor(e,t,n,l),NR.REQUIRED=!0;return RO(s,t,!1,!0),h[t]=s,cT({global:!0,forced:!0},h),r||i.setStrong(s,t,n),s},YR=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:PO(t,n,e[n],i);return t},GR=gO("species"),qR=oT.f,KR=NR.fastKey,ZR=oO.set,QR=oO.getterFor,XR={getConstructor:function(t,e,i,n){var r=t((function(t,s){jR(t,r,e),ZR(t,{type:e,index:SO(null),first:void 0,last:void 0,size:0}),TE||(t.size=0),null!=s&&BR(s,t[n],t,i)})),s=QR(e),o=function(t,e,i){var n,r,o=s(t),l=a(t,e);return l?l.value=i:(o.last=l={index:r=KR(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=l),n&&(n.next=l),TE?o.size++:t.size++,"F"!==r&&(o.index[r]=l)),t},a=function(t,e){var i,n=s(t),r=KR(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return YR(r.prototype,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,TE?t.size=0:this.size=0},delete:function(t){var e=s(this),i=a(this,t);if(i){var n=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),e.first==i&&(e.first=n),e.last==i&&(e.last=r),TE?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=s(this),n=nT(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),YR(r.prototype,i?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),TE&&qR(r.prototype,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=QR(e),s=QR(n);jO(t,e,(function(t,e){ZR(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),function(t){var e=RT(t);TE&&e&&!e[GR]&&(0,oT.f)(e,GR,{configurable:!0,get:function(){return this}})}(e)}},JR=(UR("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),XR,!0),eT.Map),tD=jM,eD=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function iD(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),gM(t,n.key,n)}}var nD=function(t,e,i){return e&&iD(t.prototype,e),i&&iD(t,i),t},rD=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},sD=function(t,e){return!e||"object"!==IR(e)&&"function"!=typeof e?rD(t):e},oD=EE((function(){uO(1)}));cT({target:"Object",stat:!0,forced:oD,sham:!lO},{getPrototypeOf:function(t){return uO(aO(t))}});var aD=eT.Object.getPrototypeOf;cT({target:"Object",stat:!0},{setPrototypeOf:IO});var lD=eT.Object.setPrototypeOf,hD=kE((function(t){function e(i){return t.exports=e=lD?aD:function(t){return t.__proto__||aD(t)},e(i)}t.exports=e}));cT({target:"Object",stat:!0,sham:!TE},{create:SO});for(var cD=eT.Object,uD=function(t,e){return cD.create(t,e)},dD=uD,fD=kE((function(t){function e(i,n){return t.exports=e=lD||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e})),pD=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=dD(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fD(t,e)},gD=[],mD=0;mD<256;mD++)gD[mD]=(mD+256).toString(16).substr(1);for(var vD=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=new Array(16);return function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}}(),yD=[],bD=0;bD<256;bD++)yD[bD]=(bD+256).toString(16).substr(1);vD();var wD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _D(t,e){return t(e={exports:{}},e.exports),e.exports}var SD=function(t){return t&&t.Math==Math&&t},kD=SD("object"==typeof globalThis&&globalThis)||SD("object"==typeof window&&window)||SD("object"==typeof self&&self)||SD("object"==typeof wD&&wD)||Function("return this")(),xD=function(t){try{return!!t()}catch(t){return!0}},CD=!xD((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),ED={}.propertyIsEnumerable,TD=Object.getOwnPropertyDescriptor,OD={f:TD&&!ED.call({1:2},1)?function(t){var e=TD(this,t);return!!e&&e.enumerable}:ED},AD=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},MD={}.toString,RD=function(t){return MD.call(t).slice(8,-1)},DD="".split,LD=xD((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==RD(t)?DD.call(t,""):Object(t)}:Object,ID=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},PD=function(t){return LD(ID(t))},$D=function(t){return"object"==typeof t?null!==t:"function"==typeof t},FD=function(t,e){if(!$D(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!$D(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!$D(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!$D(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},ND={}.hasOwnProperty,BD=function(t,e){return ND.call(t,e)},jD=kD.document,HD=$D(jD)&&$D(jD.createElement),zD=function(t){return HD?jD.createElement(t):{}},WD=!CD&&!xD((function(){return 7!=Object.defineProperty(zD("div"),"a",{get:function(){return 7}}).a})),VD=Object.getOwnPropertyDescriptor,UD={f:CD?VD:function(t,e){if(t=PD(t),e=FD(e,!0),WD)try{return VD(t,e)}catch(t){}if(BD(t,e))return AD(!OD.f.call(t,e),t[e])}},YD=/#|\.prototype\./,GD=function(t,e){var i=KD[qD(t)];return i==QD||i!=ZD&&("function"==typeof e?xD(e):!!e)},qD=GD.normalize=function(t){return String(t).replace(YD,".").toLowerCase()},KD=GD.data={},ZD=GD.NATIVE="N",QD=GD.POLYFILL="P",XD=GD,JD={},tL=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},eL=function(t,e,i){if(tL(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},iL=function(t){if(!$D(t))throw TypeError(String(t)+" is not an object");return t},nL=Object.defineProperty,rL={f:CD?nL:function(t,e,i){if(iL(t),e=FD(e,!0),iL(i),WD)try{return nL(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},sL=CD?function(t,e,i){return rL.f(t,e,AD(1,i))}:function(t,e,i){return t[e]=i,t},oL=UD.f,aL=function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},lL=function(t,e){var i,n,r,s,o,a,l,h,c=t.target,u=t.global,d=t.stat,f=t.proto,p=u?kD:d?kD[c]:(kD[c]||{}).prototype,g=u?JD:JD[c]||(JD[c]={}),m=g.prototype;for(r in e)i=!XD(u?r:c+(d?".":"#")+r,t.forced)&&p&&BD(p,r),o=g[r],i&&(a=t.noTargetGet?(h=oL(p,r))&&h.value:p[r]),s=i&&a?a:e[r],i&&typeof o==typeof s||(l=t.bind&&i?eL(s,kD):t.wrap&&i?aL(s):f&&"function"==typeof s?eL(Function.call,s):s,(t.sham||s&&s.sham||o&&o.sham)&&sL(l,"sham",!0),g[r]=l,f&&(BD(JD,n=c+"Prototype")||sL(JD,n,{}),JD[n][r]=s,t.real&&m&&!m[r]&&sL(m,r,s)))};lL({target:"Object",stat:!0,forced:!CD,sham:!CD},{defineProperty:rL.f}),_D((function(t){var e=JD.Object,i=t.exports=function(t,i,n){return e.defineProperty(t,i,n)};e.defineProperty.sham&&(i.sham=!0)}));var hL=Math.ceil,cL=Math.floor,uL=function(t){return isNaN(t=+t)?0:(t>0?cL:hL)(t)},dL=Math.min,fL=function(t){return t>0?dL(uL(t),9007199254740991):0},pL=Math.max,gL=Math.min,mL=function(t,e){var i=uL(t);return i<0?pL(i+e,0):gL(i,e)},vL=function(t){return function(e,i,n){var r,s=PD(e),o=fL(s.length),a=mL(n,o);if(t&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===i)return t||a||0;return!t&&-1}},yL={includes:vL(!0),indexOf:vL(!1)},bL={},wL=yL.indexOf,_L=function(t,e){var i,n=PD(t),r=0,s=[];for(i in n)!BD(bL,i)&&BD(n,i)&&s.push(i);for(;e.length>r;)BD(n,i=e[r++])&&(~wL(s,i)||s.push(i));return s},SL=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kL=Object.keys||function(t){return _L(t,SL)},xL=CD?Object.defineProperties:function(t,e){iL(t);for(var i,n=kL(e),r=n.length,s=0;r>s;)rL.f(t,i=n[s++],e[i]);return t};lL({target:"Object",stat:!0,forced:!CD,sham:!CD},{defineProperties:xL}),_D((function(t){var e=JD.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)}));var CL=function(t){return"function"==typeof t?t:void 0},EL=function(t,e){return arguments.length<2?CL(JD[t])||CL(kD[t]):JD[t]&&JD[t][e]||kD[t]&&kD[t][e]},TL=SL.concat("length","prototype"),OL={f:Object.getOwnPropertyNames||function(t){return _L(t,TL)}},AL={f:Object.getOwnPropertySymbols},ML=EL("Reflect","ownKeys")||function(t){var e=OL.f(iL(t)),i=AL.f;return i?e.concat(i(t)):e},RL=function(t,e,i){var n=FD(e);n in t?rL.f(t,n,AD(0,i)):t[n]=i};lL({target:"Object",stat:!0,sham:!CD},{getOwnPropertyDescriptors:function(t){for(var e,i,n=PD(t),r=UD.f,s=ML(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&RL(o,e,i);return o}});var DL=UD.f,LL=xD((function(){DL(1)}));lL({target:"Object",stat:!0,forced:!CD||LL,sham:!CD},{getOwnPropertyDescriptor:function(t,e){return DL(PD(t),e)}}),_D((function(t){var e=JD.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)}));var IL=!!Object.getOwnPropertySymbols&&!xD((function(){return!String(Symbol())})),PL=Array.isArray||function(t){return"Array"==RD(t)},$L=function(t){return Object(ID(t))},FL=EL("document","documentElement"),NL=kD["__core-js_shared__"]||function(t,e){try{sL(kD,t,e)}catch(i){kD[t]=e}return e}("__core-js_shared__",{}),BL=_D((function(t){(t.exports=function(t,e){return NL[t]||(NL[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.6",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),jL=0,HL=Math.random(),zL=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++jL+HL).toString(36)},WL=BL("keys"),VL=function(t){return WL[t]||(WL[t]=zL(t))},UL=VL("IE_PROTO"),YL=function(){},GL=function(){var t,e=zD("iframe"),i=SL.length;for(e.style.display="none",FL.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),GL=t.F;i--;)delete GL.prototype[SL[i]];return GL()},qL=Object.create||function(t,e){var i;return null!==t?(YL.prototype=iL(t),i=new YL,YL.prototype=null,i[UL]=t):i=GL(),void 0===e?i:xL(i,e)};bL[UL]=!0;var KL=OL.f,ZL={}.toString,QL="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],XL={f:function(t){return QL&&"[object Window]"==ZL.call(t)?function(t){try{return KL(t)}catch(t){return QL.slice()}}(t):KL(PD(t))}},JL=function(t,e,i,n){n&&n.enumerable?t[e]=i:sL(t,e,i)},tI=kD.Symbol,eI=BL("wks"),iI=function(t){return eI[t]||(eI[t]=IL&&tI[t]||(IL?tI:zL)("Symbol."+t))},nI={f:iI},rI=rL.f,sI=function(t){var e=JD.Symbol||(JD.Symbol={});BD(e,t)||rI(e,t,{value:nI.f(t)})},oI=iI("toStringTag"),aI="Arguments"==RD(function(){return arguments}()),lI=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),oI))?i:aI?RD(e):"Object"==(n=RD(e))&&"function"==typeof e.callee?"Arguments":n},hI={};hI[iI("toStringTag")]="z";var cI,uI,dI,fI="[object z]"!==String(hI)?function(){return"[object "+lI(this)+"]"}:hI.toString,pI=rL.f,gI=iI("toStringTag"),mI=fI!=={}.toString,vI=function(t,e,i,n){if(t){var r=i?t:t.prototype;BD(r,gI)||pI(r,gI,{configurable:!0,value:e}),n&&mI&&sL(r,"toString",fI)}},yI=BL("native-function-to-string",Function.toString),bI=kD.WeakMap;if("function"==typeof bI&&/native code/.test(yI.call(bI))){var wI=new(0,kD.WeakMap),_I=wI.get,SI=wI.has,kI=wI.set;cI=function(t,e){return kI.call(wI,t,e),e},uI=function(t){return _I.call(wI,t)||{}},dI=function(t){return SI.call(wI,t)}}else{var xI=VL("state");bL[xI]=!0,cI=function(t,e){return sL(t,xI,e),e},uI=function(t){return BD(t,xI)?t[xI]:{}},dI=function(t){return BD(t,xI)}}var CI={set:cI,get:uI,has:dI,enforce:function(t){return dI(t)?uI(t):cI(t,{})},getterFor:function(t){return function(e){var i;if(!$D(e)||(i=uI(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},EI=iI("species"),TI=function(t,e){var i;return PL(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!PL(i.prototype)?$D(i)&&null===(i=i[EI])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},OI=[].push,AI=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,s=6==t,o=5==t||s;return function(a,l,h,c){for(var u,d,f=$L(a),p=LD(f),g=eL(l,h,3),m=fL(p.length),v=0,y=c||TI,b=e?y(a,m):i?y(a,0):void 0;m>v;v++)if((o||v in p)&&(d=g(u=p[v],v,f),t))if(e)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:OI.call(b,u)}else if(r)return!1;return s?-1:n||r?r:b}},MI={forEach:AI(0),map:AI(1),filter:AI(2),some:AI(3),every:AI(4),find:AI(5),findIndex:AI(6)},RI=MI.forEach,DI=VL("hidden"),LI=iI("toPrimitive"),II=CI.set,PI=CI.getterFor("Symbol"),$I=Object.prototype,FI=kD.Symbol,NI=kD.JSON,BI=NI&&NI.stringify,jI=UD.f,HI=rL.f,zI=XL.f,WI=OD.f,VI=BL("symbols"),UI=BL("op-symbols"),YI=BL("string-to-symbol-registry"),GI=BL("symbol-to-string-registry"),qI=BL("wks"),KI=kD.QObject,ZI=!KI||!KI.prototype||!KI.prototype.findChild,QI=CD&&xD((function(){return 7!=qL(HI({},"a",{get:function(){return HI(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=jI($I,e);n&&delete $I[e],HI(t,e,i),n&&t!==$I&&HI($I,e,n)}:HI,XI=function(t,e){var i=VI[t]=qL(FI.prototype);return II(i,{type:"Symbol",tag:t,description:e}),CD||(i.description=e),i},JI=IL&&"symbol"==typeof FI.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof FI},tP=function(t,e,i){t===$I&&tP(UI,e,i),iL(t);var n=FD(e,!0);return iL(i),BD(VI,n)?(i.enumerable?(BD(t,DI)&&t[DI][n]&&(t[DI][n]=!1),i=qL(i,{enumerable:AD(0,!1)})):(BD(t,DI)||HI(t,DI,AD(1,{})),t[DI][n]=!0),QI(t,n,i)):HI(t,n,i)},eP=function(t,e){iL(t);var i=PD(e),n=kL(i).concat(sP(i));return RI(n,(function(e){CD&&!iP.call(i,e)||tP(t,e,i[e])})),t},iP=function(t){var e=FD(t,!0),i=WI.call(this,e);return!(this===$I&&BD(VI,e)&&!BD(UI,e))&&(!(i||!BD(this,e)||!BD(VI,e)||BD(this,DI)&&this[DI][e])||i)},nP=function(t,e){var i=PD(t),n=FD(e,!0);if(i!==$I||!BD(VI,n)||BD(UI,n)){var r=jI(i,n);return!r||!BD(VI,n)||BD(i,DI)&&i[DI][n]||(r.enumerable=!0),r}},rP=function(t){var e=zI(PD(t)),i=[];return RI(e,(function(t){BD(VI,t)||BD(bL,t)||i.push(t)})),i},sP=function(t){var e=t===$I,i=zI(e?UI:PD(t)),n=[];return RI(i,(function(t){!BD(VI,t)||e&&!BD($I,t)||n.push(VI[t])})),n};IL||(JL((FI=function(){if(this instanceof FI)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=zL(t),i=function(t){this===$I&&i.call(UI,t),BD(this,DI)&&BD(this[DI],e)&&(this[DI][e]=!1),QI(this,e,AD(1,t))};return CD&&ZI&&QI($I,e,{configurable:!0,set:i}),XI(e,t)}).prototype,"toString",(function(){return PI(this).tag})),OD.f=iP,rL.f=tP,UD.f=nP,OL.f=XL.f=rP,AL.f=sP,CD&&HI(FI.prototype,"description",{configurable:!0,get:function(){return PI(this).description}}),nI.f=function(t){return XI(iI(t),t)}),lL({global:!0,wrap:!0,forced:!IL,sham:!IL},{Symbol:FI}),RI(kL(qI),(function(t){sI(t)})),lL({target:"Symbol",stat:!0,forced:!IL},{for:function(t){var e=String(t);if(BD(YI,e))return YI[e];var i=FI(e);return YI[e]=i,GI[i]=e,i},keyFor:function(t){if(!JI(t))throw TypeError(t+" is not a symbol");if(BD(GI,t))return GI[t]},useSetter:function(){ZI=!0},useSimple:function(){ZI=!1}}),lL({target:"Object",stat:!0,forced:!IL,sham:!CD},{create:function(t,e){return void 0===e?qL(t):eP(qL(t),e)},defineProperty:tP,defineProperties:eP,getOwnPropertyDescriptor:nP}),lL({target:"Object",stat:!0,forced:!IL},{getOwnPropertyNames:rP,getOwnPropertySymbols:sP}),lL({target:"Object",stat:!0,forced:xD((function(){AL.f(1)}))},{getOwnPropertySymbols:function(t){return AL.f($L(t))}}),NI&&lL({target:"JSON",stat:!0,forced:!IL||xD((function(){var t=FI();return"[null]"!=BI([t])||"{}"!=BI({a:t})||"{}"!=BI(Object(t))}))},{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],($D(e)||void 0!==t)&&!JI(t))return PL(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!JI(e))return e}),n[1]=e,BI.apply(NI,n)}}),FI.prototype[LI]||sL(FI.prototype,LI,FI.prototype.valueOf),vI(FI,"Symbol"),bL[DI]=!0;var oP,aP,lP,hP={},cP=!xD((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),uP=VL("IE_PROTO"),dP=Object.prototype,fP=cP?Object.getPrototypeOf:function(t){return t=$L(t),BD(t,uP)?t[uP]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?dP:null},pP=(iI("iterator"),!1);[].keys&&("next"in(lP=[].keys())?(aP=fP(fP(lP)))!==Object.prototype&&(oP=aP):pP=!0),null==oP&&(oP={});var gP={IteratorPrototype:oP,BUGGY_SAFARI_ITERATORS:pP},mP=gP.IteratorPrototype,vP=function(){return this},yP=(Object.setPrototypeOf||"__proto__"in{}&&function(){try{Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set.call({},[])}catch(GC){}}(),gP.IteratorPrototype),bP=gP.BUGGY_SAFARI_ITERATORS,wP=iI("iterator"),_P=function(){return this},SP=function(t,e,i,n,r,s,o){!function(t,e,i){var n=e+" Iterator";t.prototype=qL(mP,{next:AD(1,i)}),vI(t,n,!1,!0),hP[n]=vP}(i,e,n);var a,l,h,c=function(t){if(t===r&&g)return g;if(!bP&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,f=t.prototype,p=f[wP]||f["@@iterator"]||r&&f[r],g=!bP&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(a=fP(m.call(new t)),yP!==Object.prototype&&a.next&&(vI(a,u,!0,!0),hP[u]=_P)),"values"==r&&p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),o&&f[wP]!==g&&sL(f,wP,g),hP[e]=g,r)if(l={values:c("values"),keys:s?g:c("keys"),entries:c("entries")},o)for(h in l)!bP&&!d&&h in f||JL(f,h,l[h]);else lL({target:e,proto:!0,forced:bP||d},l);return l},kP=CI.set,xP=CI.getterFor("Array Iterator");SP(Array,"Array",(function(t,e){kP(this,{type:"Array Iterator",target:PD(t),index:0,kind:e})}),(function(){var t=xP(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),hP.Arguments=hP.Array;var CP=iI("toStringTag");for(var EP in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var TP=kD[EP],OP=TP&&TP.prototype;OP&&!OP[CP]&&sL(OP,CP,EP),hP[EP]=hP.Array}var AP=function(t){return function(e,i){var n,r,s=String(ID(e)),o=uL(i),a=s.length;return o<0||o>=a?t?"":void 0:(n=s.charCodeAt(o))<55296||n>56319||o+1===a||(r=s.charCodeAt(o+1))<56320||r>57343?t?s.charAt(o):n:t?s.slice(o,o+2):r-56320+(n-55296<<10)+65536}},MP=(AP(!1),AP(!0)),RP=CI.set,DP=CI.getterFor("String Iterator");SP(String,"String",(function(t){RP(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=DP(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=MP(i,n),e.index+=t.length,{value:t,done:!1})}));var LP=iI("iterator"),IP=function(t){if(null!=t)return t[LP]||t["@@iterator"]||hP[lI(t)]};lL({target:"Object",stat:!0,sham:!CD},{create:qL});var PP=xD((function(){kL(1)}));lL({target:"Object",stat:!0,forced:PP},{keys:function(t){return kL($L(t))}});var $P=JD.Object.keys,FP="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",NP="["+FP+"]",BP=RegExp("^"+NP+NP+"*"),jP=RegExp(NP+NP+"*$"),HP=function(t){return function(e){var i=String(ID(e));return 1&t&&(i=i.replace(BP,"")),2&t&&(i=i.replace(jP,"")),i}},zP={start:HP(1),end:HP(2),trim:HP(3)},WP=zP.trim;lL({target:"String",proto:!0,forced:function(t){return xD((function(){return!!FP[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||FP[t].name!==t}))}("trim")},{trim:function(){return WP(this)}});var VP=function(t){return JD[t+"Prototype"]},UP=(VP("String"),function(t,e){var i=[][t];return!i||!xD((function(){i.call(null,e||function(){throw 1},1)}))}),YP=MI.forEach,GP=UP("forEach")?function(t){return YP(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;lL({target:"Array",proto:!0,forced:[].forEach!=GP},{forEach:GP});var qP,KP,ZP=VP("Array").forEach,QP=Array.prototype,XP={DOMTokenList:!0,NodeList:!0},JP=EL("navigator","userAgent")||"",t$=kD.process,e$=t$&&t$.versions,i$=e$&&e$.v8;i$?KP=(qP=i$.split("."))[0]+qP[1]:JP&&(!(qP=JP.match(/Edge\/(\d+)/))||qP[1]>=74)&&(qP=JP.match(/Chrome\/(\d+)/))&&(KP=qP[1]);var n$=KP&&+KP,r$=iI("species"),s$=function(t){return n$>=51||!xD((function(){var e=[];return(e.constructor={})[r$]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},o$=MI.map;lL({target:"Array",proto:!0,forced:!s$("map")},{map:function(t){return o$(this,t,arguments.length>1?arguments[1]:void 0)}}),VP("Array");var a$=zP.trim,l$=kD.parseInt,h$=/^[+-]?0[Xx]/,c$=8!==l$(FP+"08")||22!==l$(FP+"0x16")?function(t,e){var i=a$(String(t));return l$(i,e>>>0||(h$.test(i)?16:10))}:l$;lL({global:!0,forced:parseInt!=c$},{parseInt:c$});var u$=JD.parseInt,d$=OD.f,f$=function(t){return function(e){for(var i,n=PD(e),r=kL(n),s=r.length,o=0,a=[];s>o;)i=r[o++],CD&&!d$.call(n,i)||a.push(t?[i,n[i]]:n[i]);return a}},p$=(f$(!0),f$(!1));lL({target:"Object",stat:!0},{values:function(t){return p$(t)}});var g$=MI.filter;lL({target:"Array",proto:!0,forced:!s$("filter")},{filter:function(t){return g$(this,t,arguments.length>1?arguments[1]:void 0)}}),VP("Array");var m$=iI("isConcatSpreadable"),v$=n$>=51||!xD((function(){var t=[];return t[m$]=!1,t.concat()[0]!==t})),y$=s$("concat"),b$=function(t){if(!$D(t))return!1;var e=t[m$];return void 0!==e?!!e:PL(t)};lL({target:"Array",proto:!0,forced:!v$||!y$},{concat:function(t){var e,i,n,r,s,o=$L(this),a=TI(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(b$(s=-1===e?o:arguments[e])){if(l+(r=fL(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&RL(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");RL(a,l++,s)}return a.length=l,a}});var w$=VP("Array").concat,_$=Array.prototype;lL({target:"Array",stat:!0},{isArray:PL});var S$=JD.Array.isArray,k$=function(t,e,i,n){try{return n?e(iL(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&iL(r.call(t)),e}},x$=iI("iterator"),C$=Array.prototype,E$=function(t){return void 0!==t&&(hP.Array===t||C$[x$]===t)},T$=iI("iterator"),O$=!1;try{var A$=0,M$={next:function(){return{done:!!A$++}},return:function(){O$=!0}};M$[T$]=function(){return this},Array.from(M$,(function(){throw 2}))}catch(GC){}var R$=!function(t,e){if(!O$)return!1;var i=!1;try{var n={};n[T$]=function(){return{next:function(){return{done:i=!0}}}},function(t){Array.from(t)}(n)}catch(t){}return i}();lL({target:"Array",stat:!0,forced:R$},{from:function(t){var e,i,n,r,s,o=$L(t),a="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,u=0,d=IP(o);if(c&&(h=eL(h,l>2?arguments[2]:void 0,2)),null==d||a==Array&&E$(d))for(i=new a(e=fL(o.length));e>u;u++)RL(i,u,c?h(o[u],u):o[u]);else for(s=(r=d.call(o)).next,i=new a;!(n=s.call(r)).done;u++)RL(i,u,c?k$(r,h,[n.value,u],!0):n.value);return i.length=u,i}}),iI("iterator");var D$=iI("species"),L$=[].slice,I$=Math.max;lL({target:"Array",proto:!0,forced:!s$("slice")},{slice:function(t,e){var i,n,r,s=PD(this),o=fL(s.length),a=mL(t,o),l=mL(void 0===e?o:e,o);if(PL(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!PL(i.prototype)?$D(i)&&null===(i=i[D$])&&(i=void 0):i=void 0,i===Array||void 0===i))return L$.call(s,a,l);for(n=new(void 0===i?Array:i)(I$(l-a,0)),r=0;a<l;a++,r++)a in s&&RL(n,r,s[a]);return n.length=r,n}});var P$=VP("Array").slice,$$=Array.prototype,F$=function(t){var e=t.slice;return t===$$||t instanceof Array&&e===$$.slice?P$:e},N$=xD((function(){fP(1)}));lL({target:"Object",stat:!0,forced:N$,sham:!cP},{getPrototypeOf:function(t){return fP($L(t))}});var B$=JD.Object.getPrototypeOf,j$=yL.indexOf,H$=[].indexOf,z$=!!H$&&1/[1].indexOf(1,-0)<0,W$=UP("indexOf");lL({target:"Array",proto:!0,forced:z$||W$},{indexOf:function(t){return z$?H$.apply(this,arguments)||0:j$(this,t,arguments.length>1?arguments[1]:void 0)}});var V$=VP("Array").indexOf,U$=Array.prototype,Y$=function(t){var e=t.indexOf;return t===U$||t instanceof Array&&e===U$.indexOf?V$:e},G$=S$,q$=Object.assign,K$=!q$||xD((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=q$({},t)[i]||"abcdefghijklmnopqrst"!=kL(q$({},e)).join("")}))?function(t,e){for(var i=$L(t),n=arguments.length,r=1,s=AL.f,o=OD.f;n>r;)for(var a,l=LD(arguments[r++]),h=s?kL(l).concat(s(l)):kL(l),c=h.length,u=0;c>u;)a=h[u++],CD&&!o.call(l,a)||(i[a]=l[a]);return i}:q$;lL({target:"Object",stat:!0,forced:Object.assign!==K$},{assign:K$}),sI("iterator");var Z$=nI.f("iterator");sI("asyncIterator"),sI("hasInstance"),sI("isConcatSpreadable"),sI("match"),sI("matchAll"),sI("replace"),sI("search"),sI("species"),sI("split"),sI("toPrimitive"),sI("toStringTag"),sI("unscopables"),vI(Math,"Math",!0),vI(kD.JSON,"JSON",!0);var Q$=JD.Symbol;sI("asyncDispose"),sI("dispose"),sI("observable"),sI("patternMatch"),sI("replaceAll");var X$=Q$,J$=_D((function(t){function e(t){return(e="function"==typeof X$&&"symbol"==typeof Z$?function(t){return typeof t}:function(t){return t&&"function"==typeof X$&&t.constructor===X$&&t!==X$.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof X$&&"symbol"===e(Z$)?function(t){return e(t)}:function(t){return t&&"function"==typeof X$&&t.constructor===X$&&t!==X$.prototype?"symbol":e(t)},i(n)}t.exports=i})),tF=zP.trim,eF=kD.parseFloat,iF=1/eF(FP+"-0")!=-1/0?function(t){var e=tF(String(t)),i=eF(e);return 0===i&&"-"==e.charAt(0)?-0:i}:eF;lL({global:!0,forced:parseFloat!=iF},{parseFloat:iF});var nF=JD.parseFloat;lL({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var rF=JD.Date.now,sF=[].sort,oF=[1,2,3],aF=xD((function(){oF.sort(void 0)})),lF=xD((function(){oF.sort(null)})),hF=UP("sort");lL({target:"Array",proto:!0,forced:aF||!lF||hF},{sort:function(t){return void 0===t?sF.call($L(this)):sF.call($L(this),tL(t))}});var cF=VP("Array").sort,uF=Array.prototype,dF=function(t){var e=t.sort;return t===uF||t instanceof Array&&e===uF.sort?cF:e},fF=Object.isFrozen,pF=xD((function(){fF(1)}));lL({target:"Object",stat:!0,forced:pF},{isFrozen:function(t){return!$D(t)||!!fF&&fF(t)}});var gF=JD.Object.isFrozen,mF=MI.some;lL({target:"Array",proto:!0,forced:UP("some")},{some:function(t){return mF(this,t,arguments.length>1?arguments[1]:void 0)}});var vF=VP("Array").some,yF=Array.prototype,bF=function(t){var e=t.some;return t===yF||t instanceof Array&&e===yF.some?vF:e},wF=XL.f,_F=xD((function(){return!Object.getOwnPropertyNames(1)}));lL({target:"Object",stat:!0,forced:_F},{getOwnPropertyNames:wF});for(var SF=JD.Object,kF=function(t){return SF.getOwnPropertyNames(t)},xF=_D((function(t,e){t.exports=function(){var e,i;function n(){return e.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)c(e,i)&&(t[i]=e[i]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return ke(t,e,i,n,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=gF&&gF(t))return r;t._isValid=r}return t._isValid}function g(t){var e=d(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}i=bF(Array.prototype)?bF(Array.prototype):function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var m=n.momentProperties=[];function v(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),m.length>0)for(i=0;i<m.length;i++)o(r=e[n=m[i]])||(t[n]=r);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=_(e)),i}function k(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&o++;return o+s}function x(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"===J$(arguments[o])){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=F$(r).call(r,0,-2)}else r=arguments[o];s.push(r)}x(t+"\nArguments: "+F$(Array.prototype).call(s).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var E,T={};function O(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),T[t]||(x(e),T[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var i,n=u({},t);for(i in e)c(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)c(t,i)&&!c(e,i)&&s(t[i])&&(n[i]=u({},n[i]));return n}function R(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=$P||function(t){var e,i=[];for(e in t)c(t,e)&&i.push(e);return i};var D={};function L(t,e){var i=t.toLowerCase();D[i]=D[i+"s"]=D[e]=t}function I(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function P(t){var e,i,n={};for(i in t)c(t,i)&&(e=I(i))&&(n[e]=t[i]);return n}var $={};function F(t,e){$[t]=e}function N(t,e,i){var n=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},z={};function W(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(z[t]=r),e&&(z[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),i&&(z[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),H[e]=H[e]||function(t){var e,i,n,r=t.match(B);for(e=0,i=r.length;e<i;e++)r[e]=z[r[e]]?z[r[e]]:(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<i;n++)s+=A(r[n])?r[n].call(e,t):r[n];return s}}(e),H[e](t)):t.localeData().invalidDate()}function U(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;i>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,i-=1;return t}var Y=/\d/,G=/\d\d/,q=/\d{3}/,K=/\d{4}/,Z=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,it=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ht(t,e,i){lt[t]=A(e)?e:function(t,n){return t&&i?i:e}}function ct(t,e){return c(lt,t)?lt[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,r){return e||i||n||r}))))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ft(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),a(e)&&(n=function(t,i){i[e]=S(t)}),i=0;i<t.length;i++)dt[t[i]]=n}function pt(t,e){ft(t,(function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)}))}function gt(t,e,i){null!=e&&c(dt,t)&&dt[t](e,i._a,i,t)}function mt(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("year",1),ht("Y",rt),ht("YY",Q,G),ht("YYYY",et,K),ht("YYYYY",it,Z),ht("YYYYYY",it,Z),ft(["YYYYY","YYYYYY"],0),ft("YYYY",(function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):S(t)})),ft("YY",(function(t,e){e[0]=n.parseTwoDigitYear(t)})),ft("Y",(function(t,e){e[0]=u$(t,10)})),n.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var yt,bt=wt("FullYear",!0);function wt(t,e){return function(i){return null!=i?(St(this,t,i),n.updateOffset(this,e),this):_t(this,t)}}function _t(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function St(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&vt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?vt(t)?29:28:31-i%7%2}yt=Y$(Array.prototype)?Y$(Array.prototype):function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),L("month","M"),F("month",8),ht("M",Q),ht("MM",Q,G),ht("MMM",(function(t,e){return e.monthsShortRegex(t)})),ht("MMMM",(function(t,e){return e.monthsRegex(t)})),ft(["M","MM"],(function(t,e){e[1]=S(t)-1})),ft(["MMM","MMMM"],(function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[1]=r:f(i).invalidMonth=t}));var xt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Tt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))||-1!==(r=yt.call(this._longMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))||-1!==(r=yt.call(this._shortMonthsParse,o))?r:null}function Ot(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function At(t){return null!=t?(Ot(this,t),n.updateOffset(this,!0),this):_t(this,"Month")}var Mt=at,Rt=at;function Dt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(dF(n).call(n,t),dF(r).call(r,t),dF(s).call(s,t),e=0;e<12;e++)n[e]=ut(n[e]),r[e]=ut(r[e]);for(e=0;e<24;e++)s[e]=ut(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Lt(t,e,i,n,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}function It(t){var e;if(t<100&&t>=0){var i=F$(Array.prototype).call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Pt(t,e,i){var n=7+e-i;return-(7+It(t,0,n).getUTCDay()-e)%7+n-1}function $t(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+Pt(t,n,r);return a<=0?o=mt(s=t-1)+a:a>mt(t)?(s=t+1,o=a-mt(t)):(s=t,o=a),{year:s,dayOfYear:o}}function Ft(t,e,i){var n,r,s=Pt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Nt(r=t.year()-1,e,i):o>Nt(t.year(),e,i)?(n=o-Nt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Nt(t,e,i){var n=Pt(t,e,i),r=Pt(t+1,e,i);return(mt(t)-n+r)/7}function Bt(t,e){var i;return function(t){var e=t.concat;return t===_$||t instanceof Array&&e===_$.concat?w$:e}(i=F$(t).call(t,e,7)).call(i,F$(t).call(t,0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("week",5),F("isoWeek",5),ht("w",Q),ht("ww",Q,G),ht("W",Q),ht("WW",Q,G),pt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=S(t)})),W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ht("d",Q),ht("e",Q),ht("E",Q),ht("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ht("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ht("dddd",(function(t,e){return e.weekdaysRegex(t)})),pt(["dd","ddd","dddd"],(function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:f(i).invalidWeekday=t})),pt(["d","e","E"],(function(t,e,i,n){e[n]=S(t)}));var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null}var Vt=at,Ut=at,Yt=at;function Gt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),l.push(s),h.push(n),h.push(r),h.push(s);for(dF(o).call(o,t),dF(a).call(a,t),dF(l).call(l,t),dF(h).call(h,t),e=0;e<7;e++)a[e]=ut(a[e]),l[e]=ut(l[e]),h[e]=ut(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function qt(){return this.hours()%12||12}function Kt(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Zt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,qt),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+qt.apply(this)+N(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+qt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Kt("a",!0),Kt("A",!1),L("hour","h"),F("hour",13),ht("a",Zt),ht("A",Zt),ht("H",Q),ht("h",Q),ht("k",Q),ht("HH",Q,G),ht("hh",Q,G),ht("kk",Q,G),ht("hmm",X),ht("hmmss",J),ht("Hmm",X),ht("Hmmss",J),ft(["H","HH"],3),ft(["k","kk"],(function(t,e,i){var n=S(t);e[3]=24===n?0:n})),ft(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),ft(["h","hh"],(function(t,e,i){e[3]=S(t),f(i).bigHour=!0})),ft("hmm",(function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n)),f(i).bigHour=!0})),ft("hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r)),f(i).bigHour=!0})),ft("Hmm",(function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n))})),ft("Hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r))}));var Qt,Xt=wt("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:Et,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:zt,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function ne(e){var i=null;if(!te[e]&&t&&t.exports)try{i=Qt._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),re(i)}catch(t){}return te[e]}function re(t,e){var i;return t&&((i=o(e)?oe(t):se(t,e))?Qt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function se(t,e){if(null!==e){var i,n,r=Jt;if(e.abbr=t,null!=te[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])r=te[e.parentLocale]._config;else{if(null==(i=ne(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;r=i._config}return te[t]=new R(M(r,e)),ee[t]&&function(t){var e=t.forEach;return t===QP||t instanceof Array&&e===QP.forEach||XP.hasOwnProperty(lI(t))?ZP:e}(n=ee[t]).call(n,(function(t){se(t.name,t.config)})),re(t),te[t]}return delete te[t],null}function oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!r(t)){if(e=ne(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=ie(t[s]).split("-")).length,i=(i=ie(t[s+1]))?i.split("-"):null;e>0;){if(n=ne(F$(r).call(r,0,e).join("-")))return n;if(i&&i.length>=e&&k(r,i,!0)>=e-1)break;e--}s++}return Qt}(t)}function ae(t){var e,i=t._a;return i&&-2===f(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,f(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),f(t)._overflowWeeks&&-1===e&&(e=7),f(t)._overflowWeekday&&-1===e&&(e=8),f(t).overflow=e),t}function le(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e,i,r,s,o,a=[];if(!t._d){for(r=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=le(e.GG,t._a[0],Ft(xe(),1,4).year),n=le(e.W,1),((r=le(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var h=Ft(xe(),s,o);i=le(e.gg,t._a[0],h.year),n=le(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}n<1||n>Nt(i,s,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=$t(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=le(t._a[0],r[0]),(t._dayOfYear>mt(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),i=It(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:Lt).apply(null,a),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(f(t).weekdayMismatch=!0)}}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function me(t){var e,i,n,r,s,o,a=t._i,l=ce.exec(a)||ue.exec(a);if(l){for(f(t).iso=!0,e=0,i=fe.length;e<i;e++)if(fe[e][1].exec(l[1])){r=fe[e][0],n=!1!==fe[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(l[3])){s=(l[2]||" ")+pe[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!de.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),_e(t)}else t._isValid=!1}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ye(t){var e=u$(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function we(t){var e,i,n,r,s,o,a=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(a){var l=(e=a[3],i=a[2],n=a[5],r=a[6],s=a[7],o=[ye(a[4]),Y$(Et).call(Et,e),u$(i,10),u$(n,10),u$(r,10)],s&&o.push(u$(s,10)),o);if(!function(t,e,i){return!t||Y$(Ht).call(Ht,t)===new Date(e[0],e[1],e[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}(a[1],l,t))return;t._a=l,t._tzm=function(t,e,i){if(t)return be[t];if(e)return 0;var n=u$(i,10),r=n%100;return(n-r)/100*60+r}(a[8],a[9],a[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function _e(t){var e;if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],f(t).empty=!0;var i,r,s,o,a,l=""+t._i,h=l.length,c=0;for(s=U(t._f,t._locale).match(B)||[],i=0;i<s.length;i++)(r=(l.match(ct(o=s[i],t))||[])[0])&&((a=l.substr(0,Y$(l).call(l,r))).length>0&&f(t).unusedInput.push(a),l=F$(l).call(l,Y$(l).call(l,r)+r.length),c+=r.length),z[o]?(r?f(t).empty=!1:f(t).unusedTokens.push(o),gt(o,r,t)):t._strict&&!r&&f(t).unusedTokens.push(o);f(t).charsLeftOver=h-c,l.length>0&&f(t).unusedInput.push(l),t._a[3]<=12&&!0===f(t).bigHour&&t._a[3]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=F$(e=t._a).call(e,0),f(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),he(t),ae(t)}else we(t);else me(t)}function Se(t){var e=t._i,i=t._f;return t._locale=t._locale||oe(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(ae(e)):(l(e)?t._d=e:r(i)?function(t){var e,i,n,r,s;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],_e(e),p(e)&&(s+=f(e).charsLeftOver,s+=10*f(e).unusedTokens.length,f(e).score=s,(null==n||s<n)&&(n=s,i=e));u(t,i||e)}(t):i?_e(t):function(t){var e=t._i;o(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ge.exec(t._i);null===e?(me(t),!1===t._isValid&&(delete t._isValid,we(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=h(F$(e).call(e,0),(function(t){return u$(t,10)})),he(t)):s(e)?function(t){if(!t._d){var e=P(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&u$(t,10)})),he(t)}}(t):a(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function ke(t,e,i,n,o){var a,l={};return!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&function(t){if(kF)return 0===kF(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=i,l._i=t,l._f=e,l._strict=n,(a=new b(ae(Se(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xe(t,e,i,n){return ke(t,e,i,n,!1)}n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ce=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Ee=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}));function Te(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return xe();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=P(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===yt.call(Oe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Oe.length;++n)if(t[Oe[n]]){if(i)return!1;nF(t[Oe[n]])!==S(t[Oe[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=oe(),this._bubble()}function Me(t){return t instanceof Ae}function Re(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,e){W(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)}))}De("Z",":"),De("ZZ",""),ht("Z",ot),ht("ZZ",ot),ft(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Ie(ot,t)}));var Le=/([\+\-]|\d\d)/gi;function Ie(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Le)||["-",0,0],r=60*n[1]+S(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Pe(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(w(t)||l(t)?t.valueOf():xe(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):xe(t).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ne=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function je(t,e){var i,n,r,s,o,l,h=t,u=null;return Me(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(h={},e?h[e]=t:h.milliseconds=t):(u=Ne.exec(t))?(i="-"===u[1]?-1:1,h={y:0,d:S(u[2])*i,h:S(u[3])*i,m:S(u[4])*i,s:S(u[5])*i,ms:S(Re(1e3*u[6]))*i}):(u=Be.exec(t))?h={y:He(u[2],i="-"===u[1]?-1:1),M:He(u[3],i),w:He(u[4],i),d:He(u[5],i),h:He(u[6],i),m:He(u[7],i),s:He(u[8],i)}:null==h?h={}:"object"===J$(h)&&("from"in h||"to"in h)&&(s=xe(h.from),o=xe(h.to),r=s.isValid()&&o.isValid()?(o=Pe(o,s),s.isBefore(o)?l=ze(s,o):((l=ze(o,s)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(h={}).ms=r.milliseconds,h.M=r.months),n=new Ae(h),Me(t)&&c(t,"_locale")&&(n._locale=t._locale),n}function He(t,e){var i=t&&nF(t.replace(",","."));return(isNaN(i)?0:i)*e}function ze(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function We(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Ve(this,je(i="string"==typeof i?+i:i,n),t),this}}function Ve(t,e,i,r){var s=e._milliseconds,o=Re(e._days),a=Re(e._months);t.isValid()&&(r=null==r||r,a&&Ot(t,_t(t,"Month")+a*i),o&&St(t,"Date",_t(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),r&&n.updateOffset(t,o||a))}je.fn=Ae.prototype,je.invalid=function(){return je(NaN)};var Ue=We(1,"add"),Ye=We(-1,"subtract");function Ge(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=oe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ke=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ze(){return this._locale}var Qe=6e4,Xe=60*Qe,Je=3506328*Xe;function ti(t,e){return(t%e+e)%e}function ei(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-Je:new Date(t,e,i).valueOf()}function ii(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-Je:Date.UTC(t,e,i)}function ni(t,e){W(0,[t,t.length],0,e)}function ri(t,e,i,n,r){var s;return null==t?Ft(this,n,r).year:(e>(s=Nt(t,n,r))&&(e=s),si.call(this,t,e,i,n,r))}function si(t,e,i,n,r){var s=$t(t,e,i,n,r),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ni("gggg","weekYear"),ni("ggggg","weekYear"),ni("GGGG","isoWeekYear"),ni("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ht("G",rt),ht("g",rt),ht("GG",Q,G),ht("gg",Q,G),ht("GGGG",et,K),ht("gggg",et,K),ht("GGGGG",it,Z),ht("ggggg",it,Z),pt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=S(t)})),pt(["gg","GG"],(function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),L("quarter","Q"),F("quarter",7),ht("Q",Y),ft("Q",(function(t,e){e[1]=3*(S(t)-1)})),W("D",["DD",2],"Do","date"),L("date","D"),F("date",9),ht("D",Q),ht("DD",Q,G),ht("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),ft(["D","DD"],2),ft("Do",(function(t,e){e[2]=S(t.match(Q)[0])}));var oi=wt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("dayOfYear",4),ht("DDD",tt),ht("DDDD",q),ft(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=S(t)})),W("m",["mm",2],0,"minute"),L("minute","m"),F("minute",14),ht("m",Q),ht("mm",Q,G),ft(["m","mm"],4);var ai=wt("Minutes",!1);W("s",["ss",2],0,"second"),L("second","s"),F("second",15),ht("s",Q),ht("ss",Q,G),ft(["s","ss"],5);var li,hi=wt("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),L("millisecond","ms"),F("millisecond",16),ht("S",tt,Y),ht("SS",tt,G),ht("SSS",tt,q),li="SSSS";li.length<=9;li+="S")ht(li,nt);function ci(t,e){e[6]=S(1e3*("0."+t))}for(li="S";li.length<=9;li+="S")ft(li,ci);var ui=wt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var di=b.prototype;function fi(t){return t}di.add=Ue,di.calendar=function(t,e){var i=t||xe(),r=Pe(i,this).startOf("day"),s=n.calendarFormat(this,r)||"sameElse",o=e&&(A(e[s])?e[s].call(this,i):e[s]);return this.format(o||this.localeData().calendar(s,this,xe(i)))},di.clone=function(){return new b(this)},di.diff=function(t,e,i){var n,r,s;if(!this.isValid())return NaN;if(!(n=Pe(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=I(e)){case"year":s=Ge(this,n)/12;break;case"month":s=Ge(this,n);break;case"quarter":s=Ge(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:_(s)},di.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xe-ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe)-1;break;case"minute":e=this._d.valueOf(),e+=Qe-ti(e,Qe)-1;break;case"second":e=this._d.valueOf(),e+=1e3-ti(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},di.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},di.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||xe(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.fromNow=function(t){return this.from(xe(),t)},di.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||xe(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.toNow=function(t){return this.to(xe(),t)},di.get=function(t){return A(this[t=I(t)])?this[t]():this},di.invalidAt=function(){return f(this).overflow},di.isAfter=function(t,e){var i=w(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},di.isBefore=function(t,e){var i=w(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},di.isBetween=function(t,e,i,n){var r=w(t)?t:xe(t),s=w(e)?e:xe(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},di.isSame=function(t,e){var i,n=w(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},di.isValid=function(){return p(this)},di.lang=Ke,di.locale=qe,di.localeData=Ze,di.max=Ee,di.min=Ce,di.parsingFlags=function(){return u({},f(this))},di.set=function(t,e){if("object"===J$(t))for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:$[i]});return dF(e).call(e,(function(t,e){return t.priority-e.priority})),e}(t=P(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(A(this[t=I(t)]))return this[t](e);return this},di.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe);break;case"minute":e=this._d.valueOf(),e-=ti(e,Qe);break;case"second":e=this._d.valueOf(),e-=ti(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},di.subtract=Ye,di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},di.toDate=function(){return new Date(this.valueOf())},di.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?V(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(i,"Z")):V(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},di.toJSON=function(){return this.isValid()?this.toISOString():null},di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},di.unix=function(){return Math.floor(this.valueOf()/1e3)},di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},di.year=bt,di.isLeapYear=function(){return vt(this.year())},di.weekYear=function(t){return ri.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},di.isoWeekYear=function(t){return ri.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},di.quarter=di.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},di.month=At,di.daysInMonth=function(){return kt(this.year(),this.month())},di.week=di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},di.isoWeek=di.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},di.weeksInYear=function(){var t=this.localeData()._week;return Nt(this.year(),t.dow,t.doy)},di.isoWeeksInYear=function(){return Nt(this.year(),1,4)},di.date=oi,di.day=di.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:u$(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},di.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},di.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},di.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},di.hour=di.hours=Xt,di.minute=di.minutes=ai,di.second=di.seconds=hi,di.millisecond=di.milliseconds=ui,di.utcOffset=function(t,e,i){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ie(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=$e(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?Ve(this,je(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:$e(this)},di.utc=function(t){return this.utcOffset(0,t)},di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this},di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ie(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},di.isLocal=function(){return!!this.isValid()&&!this._isUTC},di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},di.isUtc=Fe,di.isUTC=Fe,di.zoneAbbr=function(){return this._isUTC?"UTC":""},di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},di.dates=C("dates accessor is deprecated. Use date instead.",oi),di.months=C("months accessor is deprecated. Use month instead",At),di.years=C("years accessor is deprecated. Use year instead",bt),di.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),di.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Se(t))._a){var e=t._isUTC?d(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var pi=R.prototype;function gi(t,e,i,n){var r=oe(),s=d().set(n,e);return r[i](s,t)}function mi(t,e,i){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return gi(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=gi(t,n,i,"month");return r}function vi(t,e,i,n){"boolean"==typeof t?(a(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,a(e)&&(i=e,e=void 0),e=e||"");var r,s=oe(),o=t?s._week.dow:0;if(null!=i)return gi(e,(i+o)%7,n,"day");var l=[];for(r=0;r<7;r++)l[r]=gi(e,(r+o)%7,n,"day");return l}pi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return A(n)?n.call(e,i):n},pi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,(function(t){return F$(t).call(t,1)})),this._longDateFormat[t])},pi.invalidDate=function(){return this._invalidDate},pi.ordinal=function(t){return this._ordinal.replace("%d",t)},pi.preparse=fi,pi.postformat=fi,pi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return A(r)?r(t,e,i,n):r.replace(/%d/i,t)},pi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return A(i)?i(e):i.replace(/%s/i,e)},pi.set=function(t){var e,i;for(i in t)A(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pi.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},pi.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pi.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return Tt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},pi.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Rt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pi.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pi.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},pi.firstDayOfYear=function(){return this._week.doy},pi.firstDayOfWeek=function(){return this._week.dow},pi.weekdays=function(t,e){var i=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Bt(i,this._week.dow):t?i[t.day()]:i},pi.weekdaysMin=function(t){return!0===t?Bt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},pi.weekdaysShort=function(t){return!0===t?Bt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},pi.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return Wt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},pi.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},re("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",re),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",oe);var yi=Math.abs;function bi(t,e,i,n){var r=je(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function wi(t){return t<0?Math.floor(t):Math.ceil(t)}function _i(t){return 4800*t/146097}function Si(t){return 146097*t/4800}function ki(t){return function(){return this.as(t)}}var xi=ki("ms"),Ci=ki("s"),Ei=ki("m"),Ti=ki("h"),Oi=ki("d"),Ai=ki("w"),Mi=ki("M"),Ri=ki("Q"),Di=ki("y");function Li(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ii=Li("milliseconds"),Pi=Li("seconds"),$i=Li("minutes"),Fi=Li("hours"),Ni=Li("days"),Bi=Li("months"),ji=Li("years"),Hi=Math.round,zi={ss:44,s:45,m:45,h:22,d:26,M:11};function Wi(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}var Vi=Math.abs;function Ui(t){return(t>0)-(t<0)||+t}function Yi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Vi(this._milliseconds)/1e3,n=Vi(this._days),r=Vi(this._months);t=_(i/60),e=_(t/60),i%=60,t%=60;var s=_(r/12),o=r%=12,a=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",f=Ui(this._months)!==Ui(u)?"-":"",p=Ui(this._days)!==Ui(u)?"-":"",g=Ui(this._milliseconds)!==Ui(u)?"-":"";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Gi=Ae.prototype;return Gi.isValid=function(){return this._isValid},Gi.abs=function(){var t=this._data;return this._milliseconds=yi(this._milliseconds),this._days=yi(this._days),this._months=yi(this._months),t.milliseconds=yi(t.milliseconds),t.seconds=yi(t.seconds),t.minutes=yi(t.minutes),t.hours=yi(t.hours),t.months=yi(t.months),t.years=yi(t.years),this},Gi.add=function(t,e){return bi(this,t,e,1)},Gi.subtract=function(t,e){return bi(this,t,e,-1)},Gi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+_i(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Si(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Gi.asMilliseconds=xi,Gi.asSeconds=Ci,Gi.asMinutes=Ei,Gi.asHours=Ti,Gi.asDays=Oi,Gi.asWeeks=Ai,Gi.asMonths=Mi,Gi.asQuarters=Ri,Gi.asYears=Di,Gi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Gi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*wi(Si(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=_(s/1e3),l.seconds=t%60,e=_(t/60),l.minutes=e%60,i=_(e/60),l.hours=i%24,o+=_(i/24),a+=r=_(_i(o)),o-=wi(Si(r)),n=_(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},Gi.clone=function(){return je(this)},Gi.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Gi.milliseconds=Ii,Gi.seconds=Pi,Gi.minutes=$i,Gi.hours=Fi,Gi.days=Ni,Gi.weeks=function(){return _(this.days()/7)},Gi.months=Bi,Gi.years=ji,Gi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=je(t).abs(),r=Hi(n.as("s")),s=Hi(n.as("m")),o=Hi(n.as("h")),a=Hi(n.as("d")),l=Hi(n.as("M")),h=Hi(n.as("y")),c=r<=zi.ss&&["s",r]||r<zi.s&&["ss",r]||s<=1&&["m"]||s<zi.m&&["mm",s]||o<=1&&["h"]||o<zi.h&&["hh",o]||a<=1&&["d"]||a<zi.d&&["dd",a]||l<=1&&["M"]||l<zi.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Wi.apply(null,c)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Gi.toISOString=Yi,Gi.toString=Yi,Gi.toJSON=Yi,Gi.locale=qe,Gi.localeData=Ze,Gi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yi),Gi.lang=Ke,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",rt),ht("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",(function(t,e,i){i._d=new Date(1e3*nF(t,10))})),ft("x",(function(t,e,i){i._d=new Date(S(t))})),n.version="2.24.0",e=xe,n.fn=di,n.min=function(){return Te("isBefore",F$([]).call(arguments,0))},n.max=function(){return Te("isAfter",F$([]).call(arguments,0))},n.now=function(){return rF?rF():+new Date},n.utc=d,n.unix=function(t){return xe(1e3*t)},n.months=function(t,e){return mi(t,e,"months")},n.isDate=l,n.locale=re,n.invalid=g,n.duration=je,n.isMoment=w,n.weekdays=function(t,e,i){return vi(t,e,i,"weekdays")},n.parseZone=function(){return xe.apply(null,arguments).parseZone()},n.localeData=oe,n.isDuration=Me,n.monthsShort=function(t,e){return mi(t,e,"monthsShort")},n.weekdaysMin=function(t,e,i){return vi(t,e,i,"weekdaysMin")},n.defineLocale=se,n.updateLocale=function(t,e){if(null!=e){var i,n,r=Jt;null!=(n=ne(t))&&(r=n._config),(i=new R(e=M(r,e))).parentLocale=te[t],te[t]=i,re(t)}else null!=te[t]&&(null!=te[t].parentLocale?te[t]=te[t].parentLocale:null!=te[t]&&delete te[t]);return te[t]},n.locales=function(){return E(te)},n.weekdaysShort=function(t,e,i){return vi(t,e,i,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(t){return void 0===t?Hi:"function"==typeof t&&(Hi=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==zi[t]&&(void 0===e?zi[t]:(zi[t]=e,"s"===t&&(zi.ss=e-1),!0))},n.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},n.prototype=di,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()})),CF=[],EF=0;EF<256;EF++)CF[EF]=(EF+256).toString(16).substr(1);for(var TF=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=new Array(16);return function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=t>>>((3&i)<<3)&255;return e}}(),OF=[],AF=0;AF<256;AF++)OF[AF]=(AF+256).toString(16).substr(1);TF();var MF=/^\/?Date\((-?\d+)/i;function RF(t){return t instanceof Number||"number"==typeof t}function DF(t){return t instanceof String||"string"==typeof t}function LF(t){return xF.isMoment(t)}function IF(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function PF(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===J$(e[r])&&null!==e[r]&&B$(e[r])===Object.prototype)void 0===t[r]?t[r]=PF({},e[r],i):"object"===J$(t[r])&&null!==t[r]&&B$(t[r])===Object.prototype?PF(t[r],e[r],i):IF(t,e,r,n);else if(G$(e[r])){var s;t[r]=F$(s=e[r]).call(s)}else IF(t,e,r,n);return t}function $F(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return DF(t)&&!isNaN(Date.parse(t))?xF(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(RF(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(LF(t))return new Date(t.valueOf());if(DF(t))return(i=MF.exec(t))?new Date(Number(i[1])):xF(new Date(t)).toDate();throw new Error("Cannot convert object of type "+FF(t)+" to type Date");case"Moment":if(RF(t))return xF(t);if(t instanceof Date)return xF(t.valueOf());if(LF(t))return xF(t);if(DF(t))return i=MF.exec(t),xF(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+FF(t)+" to type Date");case"ISODate":if(RF(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(LF(t))return t.toDate().toISOString();if(DF(t))return(i=MF.exec(t))?new Date(Number(i[1])).toISOString():xF(t).format();throw new Error("Cannot convert object of type "+FF(t)+" to type ISODate");case"ASPDate":if(RF(t))return"/Date("+t+")/";if(t instanceof Date||LF(t))return"/Date("+t.valueOf()+")/";if(DF(t))return"/Date("+((i=MF.exec(t))?new Date(Number(i[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+FF(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function FF(t){var e=J$(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":G$(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function NF(t){return"string"==typeof t||"number"==typeof t}var BF=Math.max,jF=Math.min;cT({target:"Array",proto:!0,forced:!hR("splice")},{splice:function(t,e){var i,n,r,s,o,a,l=aO(this),h=vT(l.length),c=wT(t,h),u=arguments.length;if(0===u?i=n=0:1===u?(i=0,n=h-c):(i=u-2,n=jF(BF(gT(e),0),h-c)),h+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=KO(l,n),s=0;s<n;s++)(o=c+s)in l&&$T(r,s,l[o]);if(r.length=n,i<n){for(s=c;s<h-n;s++)a=s+i,(o=s+n)in l?l[a]=l[o]:delete l[a];for(s=h;s>h-n+i;s--)delete l[s-1]}else if(i>n)for(s=h-n;s>c;s--)a=s+i-1,(o=s+n-1)in l?l[a]=l[o]:delete l[a];for(s=0;s<i;s++)l[s+c]=arguments[s+2];return l.length=h-n+i,r}});var HF=iA("Array").splice,zF=Array.prototype,WF=[].slice,VF=/MSIE .\./.test(nR),UF=function(t){return function(e,i){var n=arguments.length>2,r=n?WF.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};cT({global:!0,bind:!0,forced:VF},{setTimeout:UF(CE.setTimeout),setInterval:UF(CE.setInterval)});var YF=eT.setTimeout,GF=function(){function t(e){eD(this,t),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(e)}return nD(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=YF((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;oA(t=function(t){var e=t.splice;return t===zF||t instanceof Array&&e===zF.splice?HF:e}(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var o=i.replace[s];r.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:r},n}}]),t}(),qF=function(){function t(){eD(this,t),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=t.prototype.on,this.unsubscribe=t.prototype.off}return nD(t,[{key:"_trigger",value:function(t,e,i){var n,r;if("*"===t)throw new Error("Cannot trigger event *");oA(n=wR(r=[]).call(r,iR(this._subscribers[t]),iR(this._subscribers["*"]))).call(n,(function(n){n(t,e,null!=i?i:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var i;this._subscribers[t]=fR(i=this._subscribers[t]).call(i,(function(t){return t!==e}))}}]),t}(),KF=(UR("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),XR),eT.Set),ZF=uD,QF=function(t,e){return function(t){if(HM(t))return t}(t)||function(t,e){if(eR(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=kM(t);!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()},XF=function(){function t(e){eD(this,t),this._pairs=e}return nD(t,[{key:lM,value:iM.mark((function t(){var e,i,n,r,s,o,a,l;return iM.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=kM(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=QF(s.value,2),a=o[0],l=o[1],t.next=9,[a,l];case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:"entries",value:iM.mark((function t(){var e,i,n,r,s,o,a,l;return iM.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=kM(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=QF(s.value,2),a=o[0],l=o[1],t.next=9,[a,l];case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:"keys",value:iM.mark((function t(){var e,i,n,r,s,o,a;return iM.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=kM(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=QF(s.value,1),a=o[0],t.next=9,a;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:"values",value:iM.mark((function t(){var e,i,n,r,s,o,a;return iM.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,i=!1,n=void 0,t.prev=3,r=kM(this._pairs);case 5:if(e=(s=r.next()).done){t.next=12;break}return o=QF(s.value,2),a=o[1],t.next=9,a;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,n=t.t0;case 18:t.prev=18,t.prev=19,e||null==r.return||r.return();case 21:if(t.prev=21,!i){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,this,[[3,14,18,26],[19,,21,25]])}))},{key:"toIdArray",value:function(){var t;return MR(t=iR(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return MR(t=iR(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return iR(this._pairs)}},{key:"toObjectMap",value:function(){var t=ZF(null),e=!0,i=!1,n=void 0;try{for(var r,s=kM(this._pairs);!(e=(r=s.next()).done);e=!0){var o=QF(r.value,2);t[o[0]]=o[1]}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}return t}},{key:"toMap",value:function(){return new JR(this._pairs)}},{key:"toIdSet",value:function(){return new KF(this.toIdArray())}},{key:"toItemSet",value:function(){return new KF(this.toItemArray())}},{key:"cache",value:function(){return new t(iR(this._pairs))}},{key:"distinct",value:function(t){var e=new KF,i=!0,n=!1,r=void 0;try{for(var s,o=kM(this._pairs);!(i=(s=o.next()).done);i=!0){var a=QF(s.value,2);e.add(t(a[1],a[0]))}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"filter",value:function(e){var i=this._pairs;return new t(mM({},lM,iM.mark((function t(){var n,r,s,o,a,l,h,c;return iM.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,s=void 0,t.prev=3,o=kM(i);case 5:if(n=(a=o.next()).done){t.next=13;break}if(l=QF(a.value,2),!e(c=l[1],h=l[0])){t.next=10;break}return t.next=10,[h,c];case 10:n=!0,t.next=5;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),r=!0,s=t.t0;case 19:t.prev=19,t.prev=20,n||null==o.return||o.return();case 22:if(t.prev=22,!r){t.next=25;break}throw s;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}}),t,null,[[3,15,19,27],[20,,22,26]])}))))}},{key:"forEach",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=kM(this._pairs);!(e=(r=s.next()).done);e=!0){var o=QF(r.value,2);t(o[1],o[0])}}catch(t){i=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw n}}}},{key:"map",value:function(e){var i=this._pairs;return new t(mM({},lM,iM.mark((function t(){var n,r,s,o,a,l,h,c;return iM.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,s=void 0,t.prev=3,o=kM(i);case 5:if(n=(a=o.next()).done){t.next=12;break}return l=QF(a.value,2),h=l[0],c=l[1],t.next=9,[h,e(c,h)];case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,s=t.t0;case 18:t.prev=18,t.prev=19,n||null==o.return||o.return();case 21:if(t.prev=21,!r){t.next=24;break}throw s;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}}),t,null,[[3,14,18,26],[19,,21,25]])}))))}},{key:"max",value:function(t){var e=kM(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var s=QF(i.value,2),o=s[1],a=t(o,s[0]);a>r&&(r=a,n=o)}return n}},{key:"min",value:function(t){var e=kM(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],r=t(i.value[1],i.value[0]);!(i=e.next()).done;){var s=QF(i.value,2),o=s[1],a=t(o,s[0]);a<r&&(r=a,n=o)}return n}},{key:"reduce",value:function(t,e){var i=!0,n=!1,r=void 0;try{for(var s,o=kM(this._pairs);!(i=(s=o.next()).done);i=!0){var a=QF(s.value,2);e=t(e,a[1],a[0])}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"sort",value:function(e){var i=this;return new t(mM({},lM,(function(){var t;return kM(RM(t=iR(i._pairs)).call(t,(function(t,i){var n=QF(t,2),r=n[0],s=n[1],o=QF(i,2);return e(s,o[1],r,o[0])})))})))}}]),t}();function JF(t,e){var i=$R(t);if(YA){var n=YA(t);e&&(n=fR(n).call(n,(function(e){return hA(t,e).enumerable}))),i.push.apply(i,n)}return i}var tN=function(t){function e(t,i){var n;if(eD(this,e),n=sD(this,hD(e).call(this)),t&&!tD(t)&&(i=t,t=[]),n._options=i||{},n._data=new JR,n.length=0,n._idProp=n._options.fieldId||"id",n._type={},n._options.type)for(var r=$R(n._options.type),s=0,o=r.length;s<o;s++){var a=r[s],l=n._options.type[a];n._type[a]="Date"==l||"ISODate"==l||"ASPDate"==l?"Date":l}return t&&t.length&&n.add(t),n.setOptions(i),n}return pD(e,qF),nD(e,[{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=GF.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===IR(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=this,r=[];if(tD(t)){var s=MR(t).call(t,(function(t){return t[n._idProp]}));if(function(t){var e=t.some;return t===ER||t instanceof Array&&e===ER.some?CR:e}(s).call(s,(function(t){return n._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var o=0,a=t.length;o<a;o++)i=this._addItem(t[o]),r.push(i)}else{if(!t||"object"!==IR(t))throw new Error("Unknown dataType");i=this._addItem(t),r.push(i)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var i=this,n=[],r=[],s=[],o=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&i._data.has(e)){var l=t,h=kR({},i._data.get(e)),c=i._updateItem(l);r.push(c),o.push(l),s.push(h)}else{var u=i._addItem(t);n.push(u)}};if(tD(t))for(var h=0,c=t.length;h<c;h++)t[h]&&"object"===IR(t[h])?l(t[h]):console.warn("Ignoring input item, which is not an object at index "+h);else{if(!t||"object"!==IR(t))throw new Error("Unknown dataType");l(t)}return n.length&&this._trigger("add",{items:n},e),r.length&&this._trigger("update",{items:r,oldData:s,data:o},e),wR(n).call(n,r)}},{key:"updateOnly",value:function(t,e){var i,n=this;tD(t)||(t=[t]);var r=MR(i=MR(t).call(t,(function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(i,(function(t){var e=t.oldData,i=t.update,r=e[n._idProp],s=PF(PF({},e),i);return n._data.set(r,s),{id:r,oldData:e,updatedData:s}}));if(r.length){var s={items:MR(r).call(r,(function(t){return t.id})),oldData:MR(r).call(r,(function(t){return t.oldData})),data:MR(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",s,e),s.items}return[]}},{key:"get",value:function(t,e){var i=void 0,n=void 0,r=void 0;NF(t)?(i=t,r=e):tD(t)?(n=t,r=e):r=t;var s=r&&"Object"===r.returnType?"Object":"Array",o=r&&r.type||this._options.type,a=r&&fR(r),l=[],h=null,c=null;if(null!=i)(h=this._getItem(i,o))&&a&&!a(h)&&(h=null);else if(null!=n)for(var u=0,d=n.length;u<d;u++)null==(h=this._getItem(n[u],o))||a&&!a(h)||l.push(h);else for(var f,p=0,g=(c=iR(BM(f=this._data).call(f))).length;p<g;p++)null==(h=this._getItem(c[p],o))||a&&!a(h)||l.push(h);if(r&&r.order&&null==i&&this._sort(l,r.order),r&&r.fields){var m=r.fields;if(null!=i&&null!=h)h=this._filterFields(h,m);else for(var v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],m)}if("Object"==s){for(var b={},w=0,_=l.length;w<_;w++){var S=l[w];b[S[this._idProp]]=S}return b}return null!=i?h:l}},{key:"getIds",value:function(t){var e,i,n=this._data,r=t&&fR(t),s=t&&t.order,o=t&&t.type||this._options.type,a=iR(BM(n).call(n)),l=[];if(r)if(s){i=[];for(var h=0,c=a.length;h<c;h++)r(e=this._getItem(a[h],o))&&i.push(e);this._sort(i,s);for(var u=0,d=i.length;u<d;u++)l.push(i[u][this._idProp])}else for(var f=0,p=a.length;f<p;f++)r(e=this._getItem(a[f],o))&&l.push(e[this._idProp]);else if(s){i=[];for(var g=0,m=a.length;g<m;g++)i.push(n.get(a[g]));this._sort(i,s);for(var v=0,y=i.length;v<y;v++)l.push(i[v][this._idProp])}else for(var b=0,w=a.length;b<w;b++)e=n.get(a[b]),l.push(e[this._idProp]);return l}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&fR(e),n=e&&e.type||this._options.type,r=this._data,s=iR(BM(r).call(r));if(e&&e.order)for(var o=this.get(e),a=0,l=o.length;a<l;a++){var h=o[a];t(h,h[this._idProp])}else for(var c=0,u=s.length;c<u;c++){var d=s[c],f=this._getItem(d,n);i&&!i(f)||t(f,d)}}},{key:"map",value:function(t,e){for(var i=e&&fR(e),n=e&&e.type||this._options.type,r=[],s=this._data,o=iR(BM(s).call(s)),a=0,l=o.length;a<l;a++){var h=o[a],c=this._getItem(h,n);i&&!i(c)||r.push(t(c,h))}return e&&e.order&&this._sort(r,e.order),r}},{key:"_filterFields",value:function(t,e){var i;return t?function(t){var e=t.reduce;return t===PM||t instanceof Array&&e===PM.reduce?IM:e}(i=tD(e)?e:$R(e)).call(i,(function(e,i){return e[i]=t[i],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var i=e;RM(t).call(t,(function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");RM(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var i=[],n=[],r=tD(t)?t:[t],s=0,o=r.length;s<o;s++){var a=this._remove(r[s]);if(a){var l=a[this._idProp];null!=l&&(i.push(l),n.push(a))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}},{key:"_remove",value:function(t){var e;if(NF(t)?e=t:t&&"object"===IR(t)&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}},{key:"clear",value:function(t){for(var e,i=iR(BM(e=this._data).call(e)),n=[],r=0,s=i.length;r<s;r++)n.push(this._data.get(i[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}},{key:"max",value:function(t){var e=null,i=null,n=!0,r=!1,s=void 0;try{for(var o,a=kM(wM(l=this._data).call(l));!(n=(o=a.next()).done);n=!0){var l,h=o.value,c=h[t];"number"==typeof c&&(null==i||c>i)&&(e=h,i=c)}}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return e||null}},{key:"min",value:function(t){var e=null,i=null,n=!0,r=!1,s=void 0;try{for(var o,a=kM(wM(l=this._data).call(l));!(n=(o=a.next()).done);n=!0){var l,h=o.value,c=h[t];"number"==typeof c&&(null==i||c<i)&&(e=h,i=c)}}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return e||null}},{key:"distinct",value:function(t){for(var e=this._data,i=iR(BM(e).call(e)),n=[],r=this._options.type&&this._options.type[t]||null,s=0,o=0,a=i.length;o<a;o++){for(var l=e.get(i[o])[t],h=!1,c=0;c<s;c++)if(n[c]==l){h=!0;break}h||void 0===l||(n[s]=l,s++)}if(r)for(var u=0,d=n.length;u<d;u++)n[u]=$F(n[u],r);return n}},{key:"_addItem",value:function(t){var e=t[this._idProp];if(null!=e){if(this._data.has(e))throw new Error("Cannot add item: item with id "+e+" already exists")}else e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):void 0,t={});var r=t.random||(t.rng||vD)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[n+s]=r[s];return e||function(t,e){var i=0;return gD[t[i++]]+gD[t[i++]]+gD[t[i++]]+gD[t[i++]]+"-"+gD[t[i++]]+gD[t[i++]]+"-"+gD[t[i++]]+gD[t[i++]]+"-"+gD[t[i++]]+gD[t[i++]]+"-"+gD[t[i++]]+gD[t[i++]]+gD[t[i++]]+gD[t[i++]]+gD[t[i++]]+gD[t[i++]]}(r)}(),t[this._idProp]=e;for(var i={},n=$R(t),r=0,s=n.length;r<s;r++){var o=n[r];i[o]=$F(t[o],this._type[o])}return this._data.set(e,i),++this.length,e}},{key:"_getItem",value:function(t,e){var i,n=this._data.get(t);if(!n)return null;var r=$R(n);if(e){i={};for(var s=0,o=r.length;s<o;s++){var a=r[s];i[a]=$F(n[a],e[a])}}else i=function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)oA(i=JF(n,!0)).call(i,(function(e){mM(t,e,n[e])}));else if(jT)AT(t,jT(n));else{var r;oA(r=JF(n)).call(r,(function(e){dT(t,e,hA(n,e))}))}}return t}({},n);return null==i[this._idProp]&&(i[this._idProp]=n.id),i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+function(t,e,i){return eT.JSON.stringify.apply(null,arguments)}(t)+")");var i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=$R(t),r=0,s=n.length;r<s;r++){var o=n[r];i[o]=$F(t[o],this._type[o])}return e}},{key:"stream",value:function(t){if(t){var e=this._data;return new XF(mM({},lM,iM.mark((function i(){var n,r,s,o,a,l,h;return iM.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=!0,r=!1,s=void 0,i.prev=3,o=kM(t);case 5:if(n=(a=o.next()).done){i.next=14;break}if(null==(h=e.get(l=a.value))){i.next=11;break}return i.next=11,[l,h];case 11:n=!0,i.next=5;break;case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(3),r=!0,s=i.t0;case 20:i.prev=20,i.prev=21,n||null==o.return||o.return();case 23:if(i.prev=23,!r){i.next=26;break}throw s;case 26:return i.finish(23);case 27:return i.finish(20);case 28:case"end":return i.stop()}}),i,null,[[3,16,20,28],[21,,23,27]])}))))}var i;return new XF(mM({},lM,eM(i=function(t){var e=t.entries;return t===qA||t instanceof Array&&e===qA.entries||KA.hasOwnProperty(CO(t))?GA:e}(this._data)).call(i,this._data)))}}]),e}(),eN=function(t){function e(t,i){var n,r;return eD(this,e),(r=sD(this,hD(e).call(this))).length=0,r._ids=new KF,r._options=i||{},r._listener=eM(n=r._onEvent).call(n,rD(r)),r.setData(t),r}return pD(e,qF),nD(e,[{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:fR(this._options)}),i=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:fR(this._options)}),r=0,s=n.length;r<s;r++)this._ids.add(n[r]);this.length=n.length,this._trigger("add",{items:n})}else this._data=new tN;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:fR(this._options)}),e=iR(this._ids),i={},n=[],r=[],s=[],o=0,a=t.length;o<a;o++){var l=t[o];i[l]=!0,this._ids.has(l)||(n.push(l),this._ids.add(l))}for(var h=0,c=e.length;h<c;h++){var u=e[h],d=this._data.get(u);null==d?console.error("If you see this, report it please."):i[u]||(r.push(u),s.push(d),this._ids.delete(u))}this.length+=n.length-r.length,n.length&&this._trigger("add",{items:n}),r.length&&this._trigger("remove",{items:r,oldData:s})}},{key:"get",value:function(t,e){if(null==this._data)return null;var i,n=null;NF(t)||tD(t)?(n=t,i=e):i=t;var r=kR({},this._options,i),s=fR(this._options),o=i&&fR(i);return s&&o&&(r.filter=function(t){return s(t)&&o(t)}),null==n?this._data.get(r):this._data.get(n,r)}},{key:"getIds",value:function(t){if(this._data.length){var e=fR(this._options),i=null!=t?fR(t):null;return this._data.getIds({filter:i?e?function(t){return e(t)&&i(t)}:i:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var i,n,r=fR(this._options),s=e&&fR(e);n=s?r?function(t){return r(t)&&s(t)}:s:r,oA(i=this._data).call(i,t,{filter:n,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var i,n,r=fR(this._options),s=e&&fR(e);return n=s?r?function(t){return r(t)&&s(t)}:s:r,MR(i=this._data).call(i,t,{filter:n,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||mM({},lM,eM(e=BM(this._ids)).call(e,this._ids)))}},{key:"_onEvent",value:function(t,e,i){if(e&&e.items&&this._data){var n=e.items,r=[],s=[],o=[],a=[],l=[],h=[];switch(t){case"add":for(var c=0,u=n.length;c<u;c++){var d=n[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=n.length;f<p;f++){var g=n[f];this.get(g)?this._ids.has(g)?(s.push(g),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(g),r.push(g)):this._ids.has(g)&&(this._ids.delete(g),o.push(g),h.push(e.oldData[f]))}break;case"remove":for(var m=0,v=n.length;m<v;m++){var y=n[m];this._ids.has(y)&&(this._ids.delete(y),o.push(y),h.push(e.oldData[m]))}}this.length+=r.length-o.length,r.length&&this._trigger("add",{items:r},i),s.length&&this._trigger("update",{items:s,oldData:a,data:l},i),o.length&&this._trigger("remove",{items:o,oldData:h},i)}}}]),e}(),iN=Object.freeze({__proto__:null,default:{DataSet:tN,DataView:eN,Queue:GF},DataSet:tN,DataStream:XF,DataView:eN,Queue:GF}),nN=eE;xp({target:"Object",stat:!0,forced:!Hf,sham:!Hf},{defineProperties:eS});var rN=Ff((function(t){var e=gp.Object,i=t.exports=function(t,i){return e.defineProperties(t,i)};e.defineProperties.sham&&(i.sham=!0)})),sN=J_.concat("length","prototype"),oN={f:Object.getOwnPropertyNames||function(t){return X_(t,sN)}},aN={f:Object.getOwnPropertySymbols},lN=nS("Reflect","ownKeys")||function(t){var e=oN.f(yp(t)),i=aN.f;return i?e.concat(i(t)):e};xp({target:"Object",stat:!0,sham:!Hf},{getOwnPropertyDescriptors:function(t){for(var e,i,n=Qf(t),r=ap.f,s=lN(n),o={},a=0;s.length>a;)void 0!==(i=r(n,e=s[a++]))&&ZS(o,e,i);return o}});var hN=gp.Object.getOwnPropertyDescriptors,cN=ap.f,uN=jf((function(){cN(1)}));xp({target:"Object",stat:!0,forced:!Hf||uN,sham:!Hf},{getOwnPropertyDescriptor:function(t,e){return cN(Qf(t),e)}});var dN=Ff((function(t){var e=gp.Object,i=t.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};e.getOwnPropertyDescriptor.sham&&(i.sham=!0)})),fN=dN,pN=NS.filter;xp({target:"Array",proto:!0,forced:!nk("filter")},{filter:function(t){return pN(this,t,arguments.length>1?arguments[1]:void 0)}});var gN=Op("Array").filter,mN=Array.prototype,vN=function(t){var e=t.filter;return t===mN||t instanceof Array&&e===mN.filter?gN:e},yN=oN.f,bN={}.toString,wN="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_N={f:function(t){return wN&&"[object Window]"==bN.call(t)?function(t){try{return yN(t)}catch(t){return wN.slice()}}(t):yN(Qf(t))}},SN={f:N_},kN=wp.f,xN=function(t){var e=gp.Symbol||(gp.Symbol={});ep(e,t)||kN(e,t,{value:SN.f(t)})},CN=NS.forEach,EN=b_("hidden"),TN=N_("toPrimitive"),ON=A_.set,AN=A_.getterFor("Symbol"),MN=Object.prototype,RN=Bf.Symbol,DN=nS("JSON","stringify"),LN=ap.f,IN=wp.f,PN=_N.f,$N=Vf.f,FN=u_("symbols"),NN=u_("op-symbols"),BN=u_("string-to-symbol-registry"),jN=u_("symbol-to-string-registry"),HN=u_("wks"),zN=Bf.QObject,WN=!zN||!zN.prototype||!zN.prototype.findChild,VN=Hf&&jf((function(){return 7!=lS(IN({},"a",{get:function(){return IN(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=LN(MN,e);n&&delete MN[e],IN(t,e,i),n&&t!==MN&&IN(MN,e,n)}:IN,UN=function(t,e){var i=FN[t]=lS(RN.prototype);return ON(i,{type:"Symbol",tag:t,description:e}),Hf||(i.description=e),i},YN=P_&&"symbol"==typeof RN.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof RN},GN=function(t,e,i){t===MN&&GN(NN,e,i),yp(t);var n=Jf(e,!0);return yp(i),ep(FN,n)?(i.enumerable?(ep(t,EN)&&t[EN][n]&&(t[EN][n]=!1),i=lS(i,{enumerable:Uf(0,!1)})):(ep(t,EN)||IN(t,EN,Uf(1,{})),t[EN][n]=!0),VN(t,n,i)):IN(t,n,i)},qN=function(t,e){yp(t);var i=Qf(e),n=tS(i).concat(XN(i));return CN(n,(function(e){Hf&&!KN.call(i,e)||GN(t,e,i[e])})),t},KN=function(t){var e=Jf(t,!0),i=$N.call(this,e);return!(this===MN&&ep(FN,e)&&!ep(NN,e))&&(!(i||!ep(this,e)||!ep(FN,e)||ep(this,EN)&&this[EN][e])||i)},ZN=function(t,e){var i=Qf(t),n=Jf(e,!0);if(i!==MN||!ep(FN,n)||ep(NN,n)){var r=LN(i,n);return!r||!ep(FN,n)||ep(i,EN)&&i[EN][n]||(r.enumerable=!0),r}},QN=function(t){var e=PN(Qf(t)),i=[];return CN(e,(function(t){ep(FN,t)||ep(w_,t)||i.push(t)})),i},XN=function(t){var e=t===MN,i=PN(e?NN:Qf(t)),n=[];return CN(i,(function(t){!ep(FN,t)||e&&!ep(MN,t)||n.push(FN[t])})),n};if(P_||(_S((RN=function(){if(this instanceof RN)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=v_(t),i=function(t){this===MN&&i.call(NN,t),ep(this,EN)&&ep(this[EN],e)&&(this[EN][e]=!1),VN(this,e,Uf(1,t))};return Hf&&WN&&VN(MN,e,{configurable:!0,set:i}),UN(e,t)}).prototype,"toString",(function(){return AN(this).tag})),Vf.f=KN,wp.f=GN,ap.f=ZN,oN.f=_N.f=QN,aN.f=XN,Hf&&IN(RN.prototype,"description",{configurable:!0,get:function(){return AN(this).description}}),SN.f=function(t){return UN(N_(t),t)}),xp({global:!0,wrap:!0,forced:!P_,sham:!P_},{Symbol:RN}),CN(tS(HN),(function(t){xN(t)})),xp({target:"Symbol",stat:!0,forced:!P_},{for:function(t){var e=String(t);if(ep(BN,e))return BN[e];var i=RN(e);return BN[e]=i,jN[i]=e,i},keyFor:function(t){if(!YN(t))throw TypeError(t+" is not a symbol");if(ep(jN,t))return jN[t]},useSetter:function(){WN=!0},useSimple:function(){WN=!1}}),xp({target:"Object",stat:!0,forced:!P_,sham:!Hf},{create:function(t,e){return void 0===e?lS(t):qN(lS(t),e)},defineProperty:GN,defineProperties:qN,getOwnPropertyDescriptor:ZN}),xp({target:"Object",stat:!0,forced:!P_},{getOwnPropertyNames:QN,getOwnPropertySymbols:XN}),xp({target:"Object",stat:!0,forced:jf((function(){aN.f(1)}))},{getOwnPropertySymbols:function(t){return aN.f(M_(t))}}),DN){var JN=!P_||jf((function(){var t=RN();return"[null]"!=DN([t])||"{}"!=DN({a:t})||"{}"!=DN(Object(t))}));xp({target:"JSON",stat:!0,forced:JN},{stringify:function(t,e,i){for(var n,r=[t],s=1;arguments.length>s;)r.push(arguments[s++]);if(n=e,(Xf(e)||void 0!==t)&&!YN(t))return LS(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!YN(e))return e}),r[1]=e,DN.apply(null,r)}})}RN.prototype[TN]||_p(RN.prototype,TN,RN.prototype.valueOf),vS(RN,"Symbol"),w_[EN]=!0;var tB=gp.Object.getOwnPropertySymbols,eB=jf((function(){tS(1)}));xp({target:"Object",stat:!0,forced:eB},{keys:function(t){return tS(M_(t))}});var iB=gp.Object.keys,nB=function(t,e,i){return e in t?iE(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},rB="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",sB="["+rB+"]",oB=RegExp("^"+sB+sB+"*"),aB=RegExp(sB+sB+"*$"),lB=function(t){return function(e){var i=String(Zf(e));return 1&t&&(i=i.replace(oB,"")),2&t&&(i=i.replace(aB,"")),i}},hB={start:lB(1),end:lB(2),trim:lB(3)},cB=hB.trim,uB=Bf.parseFloat,dB=1/uB(rB+"-0")!=-1/0?function(t){var e=cB(String(t)),i=uB(e);return 0===i&&"-"==e.charAt(0)?-0:i}:uB;xp({global:!0,forced:parseFloat!=dB},{parseFloat:dB});var fB=gp.parseFloat,pB=hB.trim,gB=Bf.parseInt,mB=/^[+-]?0[Xx]/,vB=8!==gB(rB+"08")||22!==gB(rB+"0x16")?function(t,e){var i=pB(String(t));return gB(i,e>>>0||(mB.test(i)?16:10))}:gB;xp({global:!0,forced:parseInt!=vB},{parseInt:vB});var yB=gp.parseInt,bB=qS,wB=N_("iterator"),_B=function(t,e){return function(t){if(bB(t))return t}(t)||function(t,e){if(function(t){var e=Object(t);return void 0!==e[wB]||"@@iterator"in e||h_.hasOwnProperty(uS(e))}(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=yE(t);!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()};xN("iterator");var SB=SN.f("iterator"),kB=N_("isConcatSpreadable"),xB=ek>=51||!jf((function(){var t=[];return t[kB]=!1,t.concat()[0]!==t})),CB=nk("concat"),EB=function(t){if(!Xf(t))return!1;var e=t[kB];return void 0!==e?!!e:LS(t)};xp({target:"Array",proto:!0,forced:!xB||!CB},{concat:function(t){var e,i,n,r,s,o=M_(this),a=PS(o,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(EB(s=-1===e?o:arguments[e])){if(l+(r=U_(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,l++)i in s&&ZS(a,l,s[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ZS(a,l++,s)}return a.length=l,a}}),xN("asyncIterator"),xN("hasInstance"),xN("isConcatSpreadable"),xN("match"),xN("matchAll"),xN("replace"),xN("search"),xN("species"),xN("split"),xN("toPrimitive"),xN("toStringTag"),xN("unscopables"),vS(Math,"Math",!0),vS(Bf.JSON,"JSON",!0);var TB=gp.Symbol;xN("asyncDispose"),xN("dispose"),xN("observable"),xN("patternMatch"),xN("replaceAll");var OB=TB,AB=Ff((function(t){function e(t){return(e="function"==typeof OB&&"symbol"==typeof SB?function(t){return typeof t}:function(t){return t&&"function"==typeof OB&&t.constructor===OB&&t!==OB.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof OB&&"symbol"===e(SB)?function(t){return e(t)}:function(t){return t&&"function"==typeof OB&&t.constructor===OB&&t!==OB.prototype?"symbol":e(t)},i(n)}t.exports=i})),MB=function(){function t(){tE(this,t)}return rE(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],n=!0,r=n_(e,"chosen");if("boolean"==typeof r)n=r;else if("object"===AB(r)){if(-1===xk(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=n_(e,["chosen",t]);"boolean"!=typeof s&&"function"!=typeof s||(n=s)}return n}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var r=-i.angle;e={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else e=n}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}(),RB=N_("species"),DB=[].slice,LB=Math.max;xp({target:"Array",proto:!0,forced:!nk("slice")},{slice:function(t,e){var i,n,r,s=Qf(this),o=U_(s.length),a=q_(t,o),l=q_(void 0===e?o:e,o);if(LS(s)&&("function"!=typeof(i=s.constructor)||i!==Array&&!LS(i.prototype)?Xf(i)&&null===(i=i[RB])&&(i=void 0):i=void 0,i===Array||void 0===i))return DB.call(s,a,l);for(n=new(void 0===i?Array:i)(LB(l-a,0)),r=0;a<l;a++,r++)a in s&&ZS(n,r,s[a]);return n.length=r,n}});var IB=Op("Array").slice,PB=Array.prototype,$B=function(t){var e=t.slice;return t===PB||t instanceof Array&&e===PB.slice?IB:e},FB=Op("Array").values,NB=Array.prototype,BB={DOMTokenList:!0,NodeList:!0},jB=function(t){var e=t.values;return t===NB||t instanceof Array&&e===NB.values||BB.hasOwnProperty(uS(t))?FB:e},HB=Object.assign,zB=!HB||jf((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=HB({},t)[i]||"abcdefghijklmnopqrst"!=tS(HB({},e)).join("")}))?function(t,e){for(var i=M_(t),n=arguments.length,r=1,s=aN.f,o=Vf.f;n>r;)for(var a,l=Kf(arguments[r++]),h=s?tS(l).concat(s(l)):tS(l),c=h.length,u=0;c>u;)a=h[u++],Hf&&!o.call(l,a)||(i[a]=l[a]);return i}:HB;xp({target:"Object",stat:!0,forced:Object.assign!==zB},{assign:zB});var WB=gp.Object.assign,VB=function(){function t(e){tE(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return rE(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var r=this.measureText(n,i),s=WB({},jB(r));s.text=e,s.width=r.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var r=e.blocks[n];i<r.height&&(i=r.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};WB(n,i),n.blocks=[];for(var r=void 0,s=[],o=0;o<i.blocks.length;o++){var a=i.blocks[o];0!==a.width?s.push(a):void 0===r&&(r=a)}0===s.length&&void 0!==r&&s.push(r),n.blocks=s,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),UB={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},YB=function(){function t(e){tE(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return rE(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.prepareRegExp(t),n=_B(i,2),r=n[0],s=n[1],o=r.test(this.text.substr(this.position,s));return o&&e&&(this.position+=s-1),o}},{key:"parseEndTag",value:function(t,e,i){var n=this.mod()===t;return!(!(n="mono"===t?n&&this.mono:n&&!this.mono)||!this.match(e)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var n=UB[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}]),t}(),GB=function(){function t(e,i,n,r){var s=this;tE(this,t),this.ctx=e,this.parent=i,this.selected=n,this.hover=r,this.lines=new VB((function(t,i){if(void 0===t)return 0;var o=s.parent.getFormattingValues(e,n,r,i),a=0;return""!==t&&(a=s.ctx.measureText(t).width),{width:a,values:o}}))}return rE(t,[{key:"process",value:function(t){if(!MB.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var r=0;r<n;r++){var s=this.splitBlocks(i[r],e.multi);if(void 0!==s)if(0!==s.length){if(e.maxWdt>0)for(var o=0;o<s.length;o++)this.splitStringIntoLines(s[o].text,s[o].mod,!0);else for(var a=0;a<s.length;a++)this.lines.append(s[a].text,s[a].mod);this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var l=0;l<n;l++)this.splitStringIntoLines(i[l]);else for(var h=0;h<n;h++)this.lines.newLine(i[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new YB(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var n=e.text.charAt(e.position);e.parseWS(n)||/</.test(n)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(n)||e.add(n),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new YB(t),n=!0,r=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),n=!1)),!0)};i.position<i.text.length;){var s=i.text.charAt(i.position);i.parseWS(s)||r(s)||(n||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(s),n=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth($B(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var r=this.getLongestFit(n);if(0===r){var s=n[0],o=this.getLongestFitWord(s);this.lines.newLine($B(s).call(s,0,o),e),n[0]=$B(s).call(s,o)}else{var a=r;" "===n[r-1]?r--:" "===n[a]&&a++;var l=$B(n).call(n,0,r).join("");r==n.length&&i?this.lines.append(l,e):this.lines.newLine(l,e),n=$B(n).call(n,a)}}}}]),t}(),qB=["bold","ital","boldital","mono"],KB=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];tE(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return rE(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),MB.isValidLabel(t.label)?this.labelDirty=!0:t.label=void 0,null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===AB(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;xw(qB,(function(t){i.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:xw(e,(function(t,e){null!=t&&"object"!==AB(t)&&(i.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=n_(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===AB(i)){var n=n_(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var r=n_(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var s=n_(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===AB(s)){var o=n_(t,["heightConstraint","minimum"]);"number"==typeof o&&(e.minHgt=Number(o));var a=n_(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),pw(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=MB.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var r=e[n],s={};t.parseFontString(s,r)&&(r=s),xw(r,(function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(i[e]=-1!==xk(qB).call(qB,e)?{}:t))}))}return i}},{key:"getFontOption",value:function(e,i,n){for(var r,s=0;s<e.length;++s){var o=e[s];if(o.hasOwnProperty(i)){if(null==(r=o[i]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),r.hasOwnProperty(n))return r[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],r=0;r<n.length;++r){var s=n[r];i[s]=this.getFontOption(t,e,s)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(t){var n=qB[t],r=e.fontOptions[n];xw(e.getFontOptions(i,n),(function(t,e){r[e]=t})),r.size=Number(r.size),r.vadjust=Number(r.vadjust)},r=0;r<qB.length;++r)n(r)}},{key:"draw",value:function(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,r,e,i,s),this._drawBackground(t),this._drawText(t,e,this.size.yLine,s,o))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,s=this._setAlignment(t,e,i,n),o=_B(s,2);e=o[0],i=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var l=this.lines[a];if(l&&l.blocks){var h=0;this.isEdgeLabel||"center"===this.fontOptions.align?h+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(h+=this.size.width-l.width);for(var c=0;c<l.blocks.length;c++){var u=l.blocks[c];t.font=u.font;var d=this._getColor(u.color,r,u.strokeColor),f=_B(d,2),p=f[0],g=f[1];u.strokeWidth>0&&(t.lineWidth=u.strokeWidth,t.strokeStyle=g,t.lineJoin="round"),t.fillStyle=p,u.strokeWidth>0&&t.strokeText(u.text,e+h,i+u.vadjust),t.fillText(u.text,e+h,i+u.vadjust),h+=u.width}i+=l.height}}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=Pw(n,s),r=Pw(r,s)}return[n,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},s={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,e,i));var o="";return void 0!==s.mod&&""!==s.mod&&(o+=s.mod+" "),t.font=(o+=s.size+"px "+s.face).replace(/"/g,""),s.font=t.font,s.height=s.size,s}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new GB(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),ZB=function(t,e){return!e||"object"!==AB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e},QB=jf((function(){I_(1)}));xp({target:"Object",stat:!0,forced:QB,sham:!R_},{getPrototypeOf:function(t){return I_(M_(t))}});var XB=gp.Object.getPrototypeOf;xp({target:"Object",stat:!0},{setPrototypeOf:wS});var JB=gp.Object.setPrototypeOf,tj=Ff((function(t){function e(i){return t.exports=e=JB?XB:function(t){return t.__proto__||XB(t)},e(i)}t.exports=e})),ej=Ek,ij=Ff((function(t){function e(i,n){return t.exports=e=JB||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e})),nj=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ej(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ij(t,e)};xp({target:"Array",proto:!0},{fill:function(t){for(var e=M_(this),i=U_(e.length),n=arguments.length,r=q_(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,o=void 0===s?i:q_(s,i);o>r;)e[r++]=t;return e}});var rj=Op("Array").fill,sj=Array.prototype,oj=function(t){var e=t.fill;return t===sj||t instanceof Array&&e===sj.fill?rj:e},aj=function(){function t(e,i,n){tE(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return rE(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==AB(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),oj(t).call(t),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,r){void 0!==i&&this.resize(i,n,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),t}(),lj=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n)))._setMargins(n),r}return nj(e,aj),rE(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),Lp(t,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(),hj=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n))).labelOffset=0,r.selected=!1,r}return nj(e,aj),rE(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==AB(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),Dp(t,e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var n=this._getImagePadding();this.imageObj.drawImageAtPosition(t,i,this.left+n.left,this.top+n.top,this.width-n.left-n.right,this.height-n.top-n.bottom),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,r){var s,o=0;if(void 0!==this.height){o=.5*this.height;var a=this.labelModule.getTextSize(t,n,r);a.lineCount>=1&&(o+=a.height/2)}s=i+o,this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,s,n,r,"hanging")}}]),e}(),cj=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n)))._setMargins(n),r}return nj(e,hj),rE(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(),uj=function(t){function e(t,i,n,r,s){var o;return tE(this,e),(o=ZB(this,tj(e).call(this,t,i,n))).setImages(r,s),o}return nj(e,hj),rE(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),t.save(),t.clip(),this._drawImageAtPosition(t,s),t.restore(),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(),dj=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n)))._setMargins(n),r}return nj(e,aj),rE(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),Pp(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),fj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,aj),rE(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var r=2*n.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,r,s,o,a){var l;this.resize(t,s,o,a),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(l=e,Object.prototype.hasOwnProperty.call(Fp,l)?Fp[l]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[l].call(t,i)})(t,n,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,r)),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,s,o,n,r,"hanging"),this.labelModule.draw(t,n,r+.5*this.height+.5*this.labelModule.size.height,s,o,"hanging")),this.updateBoundingBox(n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(),pj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"diamond",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),gj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"circle",2,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(),mj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,aj),rE(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,s),Ip(t,this.left,this.top,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,e,i,n,r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,r=Math.sin(e)*i,s=Math.cos(e)*n;return i*n/Math.sqrt(r*r+s*s)}}]),e}(),vj=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n)))._setMargins(n),r}return nj(e,aj),rE(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,r,s),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,r,s){var o=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+o+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,s),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),yj=function(t){function e(t,i,n,r,s){var o;return tE(this,e),(o=ZB(this,tj(e).call(this,t,i,n))).setImages(r,s),o}return nj(e,hj),rE(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=Math.min(this.width,(n?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),oj(t).call(t),this.performStroke(t,s),t.closePath()),this._drawImageAtPosition(t,s),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),bj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"square",2,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),wj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"hexagon",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),_j=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"star",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Sj=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n)))._setMargins(n),r}return nj(e,aj),rE(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(t,s),this.updateBoundingBox(e,i,t,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),kj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"triangle",3,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),xj=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,fj),rE(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"triangleDown",3,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Cj=nS("JSON","stringify"),Ej=/[\uD800-\uDFFF]/g,Tj=/^[\uD800-\uDBFF]$/,Oj=/^[\uDC00-\uDFFF]$/,Aj=function(t,e,i){var n=i.charAt(e-1),r=i.charAt(e+1);return Tj.test(t)&&!Oj.test(r)||Oj.test(t)&&!Tj.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},Mj=jf((function(){return'"\\udf06\\ud834"'!==Cj("\udf06\ud834")||'"\\udead"'!==Cj("\udead")}));Cj&&xp({target:"JSON",stat:!0,forced:Mj},{stringify:function(t,e,i){var n=Cj.apply(null,arguments);return"string"==typeof n?n.replace(Ej,Aj):n}}),gp.JSON||(gp.JSON={stringify:JSON.stringify});var Rj,Dj=function(t,e,i){return gp.JSON.stringify.apply(null,arguments)},Lj=!1,Ij="background: #FFeeee; color: #dd0000",Pj=function(){function t(){tE(this,t)}return rE(t,null,[{key:"validate",value:function(e,i,n){Lj=!1,Rj=i;var r=i;return void 0!==n&&(r=i[n]),t.parse(e,r,[]),Lj}},{key:"parse",value:function(e,i,n){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,i,n)}},{key:"check",value:function(e,i,n,r){if(void 0!==n[e]||void 0!==n.__any__){var s=e,o=!0;void 0===n[e]&&void 0!==n.__any__&&(s="__any__",o="object"===t.getType(i[e]));var a=n[s];o&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,s,a,r)}else t.getSuggestion(e,n,r)}},{key:"checkFields",value:function(e,i,n,r,s,o){var a=function(i){console.log("%c"+i+t.printLocation(o,e),Ij)},l=t.getType(i[e]),h=s[l];void 0!==h?"array"===t.getType(h)&&-1===xk(h).call(h,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(h)+' not "'+i[e]+'". '),Lj=!0):"object"===l&&"__any__"!==r&&(o=vw(o,e),t.parse(i[e],n[r],o)):void 0===s.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(iB(s))+". Received ["+l+'] "'+i[e]+'"'),Lj=!0)}},{key:"getType",value:function(t){var e=AB(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":KS(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var r,s=t.findInOptions(e,i,n,!1),o=t.findInOptions(e,Rj,[],!0);r=void 0!==s.indexMatch?" in "+t.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':o.distance<=4&&s.distance>o.distance?" in "+t.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,e):". Did you mean one of these: "+t.print(iB(i))+t.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+r,Ij),Lj=!0}},{key:"findInOptions",value:function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,o="",a=[],l=e.toLowerCase(),h=void 0;for(var c in i){var u=void 0;if(void 0!==i[c].__type__&&!0===r){var d=t.findInOptions(e,i[c],vw(n,c));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,h=d.indexMatch)}else{var f;-1!==xk(f=c.toLowerCase()).call(f,l)&&(h=c),s>(u=t.levenshteinDistance(e,c))&&(o=c,a=yw(n),s=u)}}return{closestMatch:o,path:a,distance:s,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",r=0;r<t.length;r++){for(var s=0;s<r+1;s++)n+="  ";n+=t[r]+": {\n"}for(var o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return Dj(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(n=0;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)r[i][n]=e.charAt(i-1)==t.charAt(n-1)?r[i-1][n-1]:Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[e.length][t.length]}}]),t}();function $j(t,e){var i=iB(t);if(tB){var n=tB(t);e&&(n=vN(n).call(n,(function(e){return fN(t,e).enumerable}))),i.push.apply(i,n)}return i}var Fj=function(){function t(e,i,n,r,s,o){tE(this,t),this.options=Zw(s),this.globalOptions=s,this.defaultOptions=o,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new KB(this.body,this.options,!1),this.setOptions(e)}return rE(t,[{key:"attachEdge",value:function(t){var e;-1===xk(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,i,n=xk(e=this.edges).call(e,t);-1!=n&&lk(i=this.edges).call(i,n,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=yB(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=yB(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=fB(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=MB.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){null!=this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)US(i=$j(n,!0)).call(i,(function(e){nB(t,e,n[e])}));else if(hN)rN(t,hN(n));else{var r;US(r=$j(n)).call(r,(function(e){nN(t,e,fN(n,e))}))}}return t}({},e,{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,i,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new lj(this.options,this.body,this.labelModule);break;case"circle":this.shape=new cj(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new uj(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new dj(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new pj(this.options,this.body,this.labelModule);break;case"dot":this.shape=new gj(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new mj(this.options,this.body,this.labelModule);break;case"icon":this.shape=new vj(this.options,this.body,this.labelModule);break;case"image":this.shape=new yj(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new bj(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new wj(this.options,this.body,this.labelModule);break;case"star":this.shape=new _j(this.options,this.body,this.labelModule);break;case"text":this.shape=new Sj(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new kj(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new xj(this.options,this.body,this.labelModule);break;default:this.shape=new mj(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&MB.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),MB.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var r=i.get(n),s=["font"];void 0!==e&&void 0!==e.color&&null!=e.color&&s.push("color"),fw(s,t,r),t.color=Fw(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(fw(o,e,i,n),t.checkMass(i),Xw(e,i,"shadow",r),null!=i.color){var a=Fw(i.color);hw(e.color,a)}else!0===n&&null===i.color&&(e.color=Zw(r.color));null!=i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=Zw(r.font)),t.updateGroupOptions(e,i,s),void 0!==i.scaling&&Xw(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Ij),t.mass=1}}}]),t}(),Nj=function(){function t(e,i,n,r){var s,o=this;if(tE(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=Rp(s=this.create).call(s,this),this.nodesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items,e.data,e.oldData)},remove:function(t,e){o.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Zw(this.defaultOptions),this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("refreshNodes",Rp(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Rp(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){xw(i.nodesListeners,(function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)})),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(Fj.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof tN||t instanceof eN)this.body.data.nodes=t;else if(KS(t))this.body.data.nodes=new tN,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new tN}if(i&&xw(this.nodesListeners,(function(t,e){i.off(e,t)})),this.body.nodes={},this.body.data.nodes){var n=this;xw(this.nodesListeners,(function(t,e){n.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++){var s=this.body.data.nodes.get(e=t[r]),o=this.create(s);n.push(o),this.body.nodes[e]=o}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,r=!1,s=0;s<t.length;s++){var o=t[s],a=n[o],l=e[s];void 0!==a?a.setOptions(l)&&(r=!0):(r=!0,a=this.create(l),n[o]=a)}r||void 0===i||(r=function(t){var e=t.some;return t===_E||t instanceof Array&&e===_E.some?wE:e}(e).call(e,(function(t,e){var n=i[e];return n&&n.level!==t.level}))),this.body.emitter.emit(!0===r?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fj;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xw(this.body.nodes,(function(i,n){var r=t.body.data.nodes.get(n);void 0!==r&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===KS(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodes[this.body.nodeIndices[s]];e[this.body.nodeIndices[s]]={x:Math.round(o.x),y:Math.round(o.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet(),i=!0,n=!1,r=void 0;try{for(var s,o=yE(e.get());!(i=(s=o.next()).done);i=!0){var a=s.value,l=a.id,h=this.body.nodes[l],c=Math.round(h.x),u=Math.round(h.y);a.x===c&&a.y===u||t.push({id:l,x:c,y:u})}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],r={},s=0;s<n.edges.length;s++){var o=n.edges[s];"to"!==e&&o.toId==n.id?void 0===r[o.fromId]&&(i.push(o.fromId),r[o.fromId]=!0):"from"!==e&&o.fromId==n.id&&void 0===r[o.toId]&&(i.push(o.toId),r[o.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),uE((function(){n.body.emitter.emit("startSimulation")}),0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),Bj=dN;xp({target:"Reflect",stat:!0},{get:function t(e,i){var n,r,s=arguments.length<3?e:arguments[2];return yp(e)===s?e[i]:(n=ap.f(e,i))?ep(n,"value")?n.value:void 0===n.get?void 0:n.get.call(s):Xf(r=I_(e))?t(r,i,s):void 0}});var jj=gp.Reflect.get,Hj=Ff((function(t){function e(i,n,r){return t.exports=e="undefined"!=typeof Reflect&&jj?jj:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tj(t)););return t}(t,e);if(n){var r=Bj(n,e);return r.get?r.get.call(i):r.value}},e(i,n,r||i)}t.exports=e})),zj=Math.hypot,Wj=Math.abs,Vj=Math.sqrt,Uj=!!zj&&zj(1/0,NaN)!==1/0;xp({target:"Math",stat:!0,forced:Uj},{hypot:function(t,e){for(var i,n,r=0,s=0,o=arguments.length,a=0;s<o;)a<(i=Wj(arguments[s++]))?(r=r*(n=a/i)*n+1,a=i):r+=i>0?(n=i/a)*n:i;return a===1/0?1/0:a*Vj(r)}});var Yj=gp.Math.hypot,Gj=function(){function t(){tE(this,t)}return rE(t,null,[{key:"transform",value:function(t,e){KS(t)||(t=[t]);for(var i=e.point.x,n=e.point.y,r=e.angle,s=e.length,o=0;o<t.length;++o){var a=t[o],l=a.x*Math.cos(r)-a.y*Math.sin(r),h=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=i+s*l,a.y=n+s*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),qj=function(t){function e(){return tE(this,e),ZB(this,tj(e).apply(this,arguments))}return nj(e,Gj),rE(e,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var i=null!=e.imageWidth?e.imageWidth:e.image.width;e.image.drawImageAtPosition(t,1,-i/2,0,i,null!=e.imageHeight?e.imageHeight:e.image.height),t.restore()}return!1}}]),e}(),Kj=function(t){function e(){return tE(this,e),ZB(this,tj(e).apply(this,arguments))}return nj(e,Gj),rE(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),e}(),Zj=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),Qj=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};Gj.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle-n/2,s=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,s,!1),t.stroke(),!0}}]),t}(),Xj=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};Gj.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=e.angle+n/2,s=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,s,!1),t.stroke(),!0}}]),t}(),Jj=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),tH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),eH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};return Gj.transform(i,e),Dp(t,i.x,i.y,.4*e.length),!0}}]),t}(),iH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),nH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),rH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),sH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Gj.transform(i,e),Gj.drawPath(t,i),!0}}]),t}(),oH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return qj.draw(t,e);case"circle":return eH.draw(t,e);case"box":return nH.draw(t,e);case"crow":return Zj.draw(t,e);case"curve":return Qj.draw(t,e);case"diamond":return rH.draw(t,e);case"inv_curve":return Xj.draw(t,e);case"triangle":return Jj.draw(t,e);case"inv_triangle":return tH.draw(t,e);case"bar":return iH.draw(t,e);case"vee":return sH.draw(t,e);case"arrow":default:return Kj.draw(t,e)}}}]),t}();function aH(t,e){var i=iB(t);if(tB){var n=tB(t);e&&(n=vN(n).call(n,(function(e){return fN(t,e).enumerable}))),i.push.apply(i,n)}return i}var lH=function(){function t(e,i,n){tE(this,t),this._body=i,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return rE(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,i,n,r){if(this.from!=this.to)this._line(t,e,i,n,r);else{var s=this._getCircleData(t),o=_B(s,3);this._circle(t,e,o[0],o[1],o[2])}}},{key:"_drawDashedLine",value:function(t,e,i,n,r){t.lineCap="round";var s=KS(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var o=this._getCircleData(t),a=_B(o,3);this._circle(t,e,a[0],a[1],a[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)$p(t,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var l=this._getCircleData(t),h=_B(l,3);this._circle(t,e,h[0],h[1],h[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,i=$B(e=this._getCircleData(t)).call(e,0,2),n=_B(i,2),r=n[0],s=n[1];return{from:this._findBorderPositionCircle(this.from,t,{x:r,y:s,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:r,y:s,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e,i,n=this.from,r=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-r):(e=n.x+r,i=n.y-.5*n.shape.height),[e,i,r]}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var n,r=i.x,s=i.y,o=i.low,a=i.high,l=i.direction,h=this.options.selfReferenceSize,c=.5*(o+a),u=0;do{n=this._pointOnCircle(r,s,h,c=.5*(o+a));var d=Math.atan2(t.y-n.y,t.x-n.x),f=t.distanceToBorder(e,d)-Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));if(Math.abs(f)<.05)break;f>0?l>0?o=c:a=c:l>0?a=c:o=c,++u}while(o<=a&&u<10);return function(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)US(i=aH(n,!0)).call(i,(function(e){nB(t,e,n[e])}));else if(hN)rN(t,hN(n));else{var r;US(r=aH(n)).call(r,(function(e){nN(t,e,fN(n,e))}))}}return t}({},n,{t:c})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=Pw(this.from.options.color.border,e.opacity),r=Pw(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,r),i}return Pw("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return Pw(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,r){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,r,s){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,r,s);var o=this._getCircleData(void 0),a=_B(o,3),l=a[2],h=a[0]-r,c=a[1]-s;return Math.abs(Math.sqrt(h*h+c*c)-l)}},{key:"_getDistanceToLine",value:function(t,e,i,n,r,s){var o=i-t,a=n-e,l=((r-t)*o+(s-e)*a)/(o*o+a*a);l>1?l=1:l<0&&(l=0);var h=t+l*o-r,c=e+l*a-s;return Math.sqrt(h*h+c*c)}},{key:"getArrowData",value:function(t,e,i,n,r,s){var o,a,l,h,c,u,d,f=s.width;"from"===e?(l=this.from,h=this.to,c=s.fromArrowScale<0,u=Math.abs(s.fromArrowScale),d=s.fromArrowType):"to"===e?(l=this.to,h=this.from,c=s.toArrowScale<0,u=Math.abs(s.toArrowScale),d=s.toArrowType):(l=this.to,h=this.from,c=s.middleArrowScale<0,u=Math.abs(s.middleArrowScale),d=s.middleArrowType);var p=15*u+3*f;if(l!=h){var g=p/Yj(l.x-h.x,l.y-h.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var m=this._findBorderPosition(l,t,{via:i}),v=this.getPoint(m.t+g*("from"===e?1:-1),i);o=Math.atan2(m.y-v.y,m.x-v.x),a=m}else o=Math.atan2(l.y-h.y,l.x-h.x),a=this._findBorderPosition(l,t);else{var y=(c?-g:g)/2,b=this.getPoint(.5+y,i),w=this.getPoint(.5-y,i);o=Math.atan2(b.y-w.y,b.x-w.x),a=this.getPoint(.5,i)}}else{var _=this._getCircleData(t),S=_B(_,3),k=S[0],x=S[1],C=S[2];if("from"===e){var E=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:.25,high:.6,direction:-1});o=-2*E.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=E}else if("to"===e){var T=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:.6,high:1,direction:1});o=-2*T.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=T}else a=this._pointOnCircle(k,x,C,.175),o=3.9269908169872414}return{point:a,core:{x:a.x-.9*p*Math.cos(o),y:a.y-.9*p*Math.sin(o)},angle:o,length:p,type:d}}},{key:"drawArrowHead",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,oH.draw(t,r)&&(this.enableShadow(t,e),oj(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var i=KS(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function hH(t,e){var i=iB(t);if(tB){var n=tB(t);e&&(n=vN(n).call(n,(function(e){return fN(t,e).enumerable}))),i.push.apply(i,n)}return i}function cH(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)US(i=hH(n,!0)).call(i,(function(e){nB(t,e,n[e])}));else if(hN)rN(t,hN(n));else{var r;US(r=hH(n)).call(r,(function(e){nN(t,e,fN(n,e))}))}}return t}var uH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,lH),rE(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=10,o=.2,a=!1,l=1,h=0,c=this.to;t.id===this.from.id&&(c=this.from,a=!0);var u=0;do{i=this.getPoint(n=.5*(h+l),r);var d=Math.atan2(c.y-i.y,c.x-i.x),f=c.distanceToBorder(e,d),p=Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2)),g=f-p;if(Math.abs(g)<o)break;g<0?!1===a?h=n:l=n:!1===a?l=n:h=n,++u}while(h<=l&&u<s);return cH({},i,{t:n})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,s,o){var a,l,h,c,u,d=1e9,f=t,p=e;for(l=1;l<10;l++)h=.1*l,c=Math.pow(1-h,2)*t+2*h*(1-h)*o.x+Math.pow(h,2)*i,u=Math.pow(1-h,2)*e+2*h*(1-h)*o.y+Math.pow(h,2)*n,l>0&&(d=(a=this._getDistanceToLine(f,p,c,u,r,s))<d?a:d),f=c,p=u;return d}},{key:"_bezierCurve",value:function(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(),dH=function(t){function e(t,i,n){var r;return tE(this,e),(r=ZB(this,tj(e).call(this,t,i,n))).via=r.via,r._boundFunction=function(){r.positionBezierNode()},r._body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return nj(e,uH),rE(e,[{key:"setOptions",value:function(t){Hj(tj(e.prototype),"setOptions",this).call(this,t);var i=!1;this.options.physics!==t.physics&&(i=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===i&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var i=this._getCircleData(),n=_B(i,3),r=n[0],s=n[1],o=n[2],a=2*Math.PI*(1-t);return{x:r+o*Math.sin(a),y:s+o-o*(1-Math.cos(a))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){return this._getDistanceToBezierEdge(t,e,i,n,r,s,this.via)}}]),e}(),fH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,uH),rE(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var o,a;o=a=r<=s?i*s:i*r,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(a=-a);var l=this.from.x+o,h=this.from.y+a;return"discrete"===n&&(r<=s?l=r<i*s?this.from.x:l:h=s<i*r?this.from.y:h),{x:l,y:h}}if("straightCross"===n){var c=(1-i)*r,u=(1-i)*s;return r<=s?(c=0,this.from.y<this.to.y&&(u=-u)):(this.from.x<this.to.x&&(c=-c),u=0),{x:this.to.x+c,y:this.to.y+u}}if("horizontal"===n){var d=(1-i)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===n){var f=(1-i)*s;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===n){r=this.to.x-this.from.x,s=this.from.y-this.to.y;var p=Math.sqrt(r*r+s*s),g=Math.PI,m=(Math.atan2(s,r)+(.5*i+.5)*g)%(2*g);return{x:this.from.x+(.5*i+.5)*p*Math.sin(m),y:this.from.y+(.5*i+.5)*p*Math.cos(m)}}if("curvedCCW"===n){r=this.to.x-this.from.x,s=this.from.y-this.to.y;var v=Math.sqrt(r*r+s*s),y=Math.PI,b=(Math.atan2(s,r)+(.5*-i+.5)*y)%(2*y);return{x:this.from.x+(.5*i+.5)*v*Math.sin(b),y:this.from.y+(.5*i+.5)*v*Math.cos(b)}}t=e=r<=s?i*s:i*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var w=this.from.x+t,_=this.from.y+e;return r<=s?w=this.from.x<=this.to.x?this.to.x<w?this.to.x:w:this.to.x>w?this.to.x:w:_=this.from.y>=this.to.y?this.to.y>_?this.to.y:_:this.to.y<_?this.to.y:_,{x:w,y:_}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,r,s,o)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:r}}}]),e}(),pH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,uH),rE(e,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,n,r,s,o,a){for(var l=1e9,h=t,c=e,u=[0,0,0,0],d=1;d<10;d++){var f=.1*d;u[0]=Math.pow(1-f,3),u[1]=3*f*Math.pow(1-f,2),u[2]=3*Math.pow(f,2)*(1-f),u[3]=Math.pow(f,3);var p=u[0]*t+u[1]*o.x+u[2]*a.x+u[3]*i,g=u[0]*e+u[1]*o.y+u[2]*a.y+u[3]*n;if(d>0){var m=this._getDistanceToLine(h,c,p,g,r,s);l=m<l?m:l}h=p,c=g}return l}}]),e}(),gH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,pH),rE(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i[0],i[1])}},{key:"_getViaCoordinates",value:function(){var t,e,i,n,r=this.from.x-this.to.x,s=this.from.y-this.to.y,o=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(s)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,n=this.to.y,t=this.from.x-o*r,i=this.to.x+o*r):(e=this.from.y-o*s,n=this.to.y+o*s,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=_B(o,2),l=a[0],h=a[1];return this._getDistanceToBezierEdge2(t,e,i,n,r,s,l,h)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=_B(e,2),n=i[0],r=i[1],s=t,o=[Math.pow(1-s,3),3*s*Math.pow(1-s,2),3*Math.pow(s,2)*(1-s),Math.pow(s,3)],a=o[0]*this.fromPoint.x+o[1]*n.x+o[2]*r.x+o[3]*this.toPoint.x,l=o[0]*this.fromPoint.y+o[1]*n.y+o[2]*r.y+o[3]*this.toPoint.y;return{x:a,y:l}}}]),e}(),mH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,lH),rE(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var r=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,o=i.y-n.y,a=Math.sqrt(s*s+o*o),l=(a-t.distanceToBorder(e,r))/a;return{x:(1-l)*n.x+l*i.x,y:(1-l)*n.y+l*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){return this._getDistanceToLine(t,e,i,n,r,s)}}]),e}(),vH=function(){function t(e,i,n,r,s){if(tE(this,t),void 0===i)throw new Error("No body provided");this.options=Zw(r),this.globalOptions=r,this.defaultOptions=s,this.body=i,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new KB(this.body,this.options,!0),this.setOptions(e)}return rE(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;return t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=fB(e.value)),this.chooser=MB.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var i=this.options.selectionWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var n=this.options.hoverWidth;"function"==typeof n?e.width=n(e.width):"number"==typeof n&&(e.width+=n),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0)));else e.shadow=this.options.shadow.enabled,e.width=Math.max(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof dH&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof gH&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof fH&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof mH&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new dH(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new gH(this.options,this.body,this.labelModule):new fH(this.options,this.body,this.labelModule):this.edgeType=new mH(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save();var s=this._getRotation(t);0!=s.angle&&(t.translate(s.x,s.y),t.rotate(s.angle)),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover),t.restore()}else{var o,a;this.labelModule.pointToSelf=!0;var l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(o=i.x+.5*i.shape.width,a=i.y-l):(o=i.x+l,a=i.y-.5*i.shape.height),r=this._pointOnCircle(o,a,l,.125),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();MB.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.x-this.to.x,s=Math.atan2(this.from.y-this.to.y,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),n.angle=s,n}},{key:"_pointOnCircle",value:function(t,e,i,n){var r=2*n*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(dw(s,t,e,i),MB.isValidLabel(e.label)?t.label=e.label:MB.isValidLabel(t.label)||(t.label=void 0),Xw(t,e,"smooth",n),Xw(t,e,"shadow",n),Xw(t,e,"background",n),null!=e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Tk(n.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Xw(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=Tk(n.scaling)),null!=e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=xk(o).call(o,"to"),t.arrows.middle.enabled=-1!=xk(o).call(o,"middle"),t.arrows.from.enabled=-1!=xk(o).call(o,"from")}else{if("object"!==AB(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Dj(e.arrows));Xw(t.arrows,e.arrows,"to",n.arrows),Xw(t.arrows,e.arrows,"middle",n.arrows),Xw(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Tk(n.arrows));if(null!=e.color){var a=sw(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,l=t.color;if(r)pw(l,n.color,!1,i);else for(var h in l)l.hasOwnProperty(h)&&delete l[h];if(sw(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,void 0===a.opacity&&(l.opacity=1);else{var c=!1;void 0!==a.color&&(l.color=a.color,c=!0),void 0!==a.highlight&&(l.highlight=a.highlight,c=!0),void 0!==a.hover&&(l.hover=a.hover,c=!0),void 0!==a.inherit&&(l.inherit=a.inherit),void 0!==a.opacity&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),!0===c?l.inherit=!1:void 0===l.inherit&&(l.inherit="from")}}else!0===i&&null===e.color&&(t.color=Zw(n.color));!0===i&&null===e.font&&(t.font=Zw(n.font))}}]),t}(),yH=function(){function t(e,i,n){var r,s=this;tE(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=Rp(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items)},remove:function(t,e){s.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},pw(this.options,this.defaultOptions),this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var n=!1;for(var r in i.body.edges)if(i.body.edges.hasOwnProperty(r)){var s=i.body.edges[r],o=i.body.data.edges.get(r);if(void 0!==o){var a=o.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(s.setOptions(void 0===t?{smooth:!1}:{smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){i.reconnectEdges()})),this.body.emitter.on("refreshEdges",Rp(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Rp(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){xw(i.edgesListeners,(function(t,e){i.body.data.edges&&i.body.data.edges.off(e,t)})),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){vH.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(t instanceof tN||t instanceof eN)this.body.data.edges=t;else if(KS(t))this.body.data.edges=new tN,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new tN}if(n&&xw(this.edgesListeners,(function(t,e){n.off(e,t)})),this.body.edges={},this.body.data.edges){xw(this.edgesListeners,(function(t,i){e.body.data.edges.on(i,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<t.length;r++){var s=t[r],o=i[s];o&&o.disconnect();var a=n.get(s,{showInternalIds:!0});i[s]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<t.length;r++){var s=t[r],o=i.get(s),a=e[s];void 0!==a?(a.disconnect(),n=a.setOptions(o)||n,a.connect()):(this.body.edges[s]=this.create(o),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;xw(t,(function(t){var e=i[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;xw(this.body.edges,(function(e,i){var n=t.body.data.edges.get(i);void 0!==n&&e.setOptions(n)}))}},{key:"create",value:function(t){return new vH(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];xw(this.body.edges,(function(i,n){var r=t.body.nodes[i.toId],s=t.body.nodes[i.fromId];void 0!==r&&!0===r.isCluster||void 0!==s&&!0===s.isCluster||void 0!==r&&void 0!==s||e.push(n)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];US(t).call(t,(function(t,n){void 0===e[n]&&i.push(n)})),this.add(i,!0)}}}]),t}();xp({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var bH=gp.Date.now,wH=function(){function t(e,i,n){tE(this,t),this.body=e,this.physicsBody=i,this.setOptions(n),this.randomSeed=5}return rE(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(var s=0;s<n;s++)(t=e[i[s]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,n,r;t.childrenCount>0&&(i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,(r=Math.sqrt(i*i+n*n))*t.calcSize>this.thetaInversed?this._calculateForces(r,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,n,e,t))}},{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var s=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(t,3),o=i*s;this.physicsBody.forces[n.id].x+=e*s,this.physicsBody.forces[n.id].y+=o}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,n=e.length,r=t[e[0]].x,s=t[e[0]].y,o=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var h=t[e[l]],c=h.x,u=h.y;h.options.mass>0&&(c<r&&(r=c),c>o&&(o=c),u<s&&(s=u),u>a&&(a=u))}var d=Math.abs(o-r)-Math.abs(a-s);d>0?(s-=.5*d,a+=.5*d):(r+=.5*d,o-=.5*d);var f=Math.max(1e-5,Math.abs(o-r)),p=.5*f,g=.5*(r+o),m=.5*(s+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-p,maxX:g+p,minY:m-p,maxY:m+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<n;y++)(i=t[e[y]]).options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,r=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=n;var s=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n=t.children.NW.range;this._placeInRegion(t,e,n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,n,r,s,o=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+o,r=t.range.minY,s=t.range.minY+o;break;case"NE":i=t.range.minX+o,n=t.range.maxX,r=t.range.minY,s=t.range.minY+o;break;case"SW":i=t.range.minX,n=t.range.minX+o,r=t.range.minY+o,s=t.range.maxY;break;case"SE":i=t.range.minX+o,n=t.range.maxX,r=t.range.minY+o,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),_H=function(){function t(e,i,n){tE(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rE(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,s,o,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,u=this.options.nodeDistance,d=-2/3/u,f=0;f<h.length-1;f++){o=l[h[f]];for(var p=f+1;p<h.length;p++)t=(a=l[h[p]]).x-o.x,e=a.y-o.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*u&&(s=i<.5*u?1:d*i+4/3,n=t*(s/=i),r=e*s,c[o.id].x-=n,c[o.id].y-=r,c[a.id].x+=n,c[a.id].y+=r)}}}]),t}(),SH=function(t){throw new Error('"'+t+'" is read-only')},kH=function(){function t(e,i,n){tE(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rE(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var s=t[e[r]],o=r+1;o<e.length;o++){var a=t[e[o]];if(s.level===a.level){var l=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(a.shape.radius||0)/2),h=a.x-s.x,c=a.y-s.y,u=Math.sqrt(h*h+c*c),d=void 0;d=u<l?-Math.pow(.05*u,2)+Math.pow(.05*l,2):0,0===u?(SH("distance"),u=.01):d/=u;var f=h*d,p=c*d;i[s.id].x-=f,i[s.id].y-=p,i[a.id].x+=f,i[a.id].y+=p}}}}]),t}(),xH=function(){function t(e,i,n){tE(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rE(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.physicsBody.physicsEdgeIndices,s=this.body.edges,o=0;o<r.length;o++)!0===(e=s[r[o]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(n=e.from,this._calculateSpringForce(e.to,i=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(i,n,.5*t)):this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,r=t.y-e.y,s=Math.max(Math.sqrt(n*n+r*r),.01),o=this.options.springConstant*(i-s)/s,a=n*o,l=r*o;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}(),CH=function(){function t(e,i,n){tE(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rE(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,s,o,a,l,h,c=this.body.edges,u=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,p=0;p<d.length;p++){var g=d[p];f[g].springFx=0,f[g].springFy=0}for(var m=0;m<u.length;m++)!0===(e=c[u[m]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=0===(a=Math.sqrt(i*i+n*n))?.01:a,r=i*(o=this.options.springConstant*(t-a)/a),s=n*o,e.to.level!=e.from.level?(void 0!==f[e.toId]&&(f[e.toId].springFx-=r,f[e.toId].springFy-=s),void 0!==f[e.fromId]&&(f[e.fromId].springFx+=r,f[e.fromId].springFy+=s)):(void 0!==f[e.toId]&&(f[e.toId].x-=.5*r,f[e.toId].y-=.5*s),void 0!==f[e.fromId]&&(f[e.fromId].x+=.5*r,f[e.fromId].y+=.5*s)));o=1;for(var v=0;v<d.length;v++){var y=d[v];l=Math.min(o,Math.max(-o,f[y].springFx)),h=Math.min(o,Math.max(-o,f[y].springFy)),f[y].x+=l,f[y].y+=h}for(var b=0,w=0,_=0;_<d.length;_++){var S=d[_];b+=f[S].x,w+=f[S].y}for(var k=b/d.length,x=w/d.length,C=0;C<d.length;C++){var E=d[C];f[E].x-=k,f[E].y-=x}}}]),t}(),EH=function(){function t(e,i,n){tE(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return rE(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.body.nodes,s=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,a=0;a<s.length;a++)t=-(n=r[s[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,o,n)}},{key:"_calculateForces",value:function(t,e,i,n,r){var s=0===t?0:this.options.centralGravity/t;n[r.id].x=e*s,n[r.id].y=i*s}}]),t}(),TH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,wH),rE(e,[{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var s=this.options.gravitationalConstant*r.mass*n.options.mass*(n.edges.length+1)/Math.pow(t,2),o=i*s;this.physicsBody.forces[n.id].x+=e*s,this.physicsBody.forces[n.id].y+=o}}]),e}(),OH=function(t){function e(t,i,n){return tE(this,e),ZB(this,tj(e).call(this,t,i,n))}return nj(e,EH),rE(e,[{key:"_calculateForces",value:function(t,e,i,n,r){if(t>0){var s=this.options.centralGravity*(r.edges.length+1)*r.options.mass;n[r.id].x=e*s,n[r.id].y=i*s}}}]),e}(),AH=function(){function t(e){tE(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},cw(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,fw(["stabilization"],this.options,t),Xw(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new TH(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new xH(this.body,this.physicsBody,t),this.gravitySolver=new OH(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new _H(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new xH(this.body,this.physicsBody,t),this.gravitySolver=new EH(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new kH(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new CH(this.body,this.physicsBody,t),this.gravitySolver=new EH(this.body,this.physicsBody,t)):(this.nodesSolver=new wH(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new xH(this.body,this.physicsBody,t),this.gravitySolver=new EH(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Rp(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=bH();this.physicsTick(),(bH()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&uE((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var s=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var o in this.physicsBody.velocities)void 0===t[o]&&delete this.physicsBody.velocities[o]}},{key:"revert",value:function(){var t=iB(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var r=t[n];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e=this.body.nodes,i=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==e[n]&&(t=e[n].y-i[n].positions.y,Math.sqrt(Math.pow(e[n].x-i[n].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var r=this._performStep(t[n]);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,uE((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;i(),e()?uE(Rp(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],r=this.physicsBody.forces[i],s=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),o=Math.min(Math.max(5,s),15),a=3*o,l=Vw((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),h={x:n.x+20*r.x,y:n.y+20*r.y};t.lineWidth=o,t.strokeStyle=l,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(h.x,h.y),t.stroke();var c=Math.atan2(r.y,r.x);t.fillStyle=l,oH.draw(t,{type:"arrow",point:h,angle:c,length:a}),oj(t).call(t)}}}]),t}(),MH=[].reverse,RH=[1,2];xp({target:"Array",proto:!0,forced:String(RH)===String(RH.reverse())},{reverse:function(){return LS(this)&&(this.length=this.length),MH.call(this)}});var DH=Op("Array").reverse,LH=Array.prototype,IH=function(t){var e=t.reverse;return t===LH||t instanceof Array&&e===LH.reverse?DH:e},PH=function(){function t(){tE(this,t)}return rE(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,o=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).shape.boundingBox.left&&(s=e.shape.boundingBox.left),o<e.shape.boundingBox.right&&(o=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===o&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:r}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,o=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).x&&(s=e.x),o<e.x&&(o=e.x),n>e.y&&(n=e.y),r<e.y&&(r=e.y);return 1e9===s&&-1e9===o&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(pw(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):pw(i,t.options,!0),i}}]),t}(),$H=function(t){function e(t,i,n,r,s,o){var a;return tE(this,e),(a=ZB(this,tj(e).call(this,t,i,n,r,s,o))).isCluster=!0,a.containedNodes={},a.containedEdges={},a}return nj(e,Fj),rE(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],xw(i.edges,(function(t){delete e.containedEdges[t.id]})),xw(i.containedNodes,(function(t,i){e.containedNodes[i]=t})),i.containedNodes={},xw(i.containedEdges,(function(t,i){e.containedEdges[i]=t})),i.containedEdges={},xw(i.edges,(function(t){xw(e.edges,(function(i){var n,r,s=xk(n=i.clusteringEdgeReplacingIds).call(n,t.id);-1!==s&&(xw(t.clusteringEdgeReplacingIds,(function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id})),lk(r=i.clusteringEdgeReplacingIds).call(r,s,1))}))})),i.edges=[]}}]),e}(),FH=function(){function t(e){var i=this;tE(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},cw(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){i.clusteredNodes={},i.clusteredEdges={}}))}return rE(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===AB(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=t&&i.push(r.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},r={};xw(this.body.nodes,(function(i,s){i.options&&!0===e.joinCondition(i.options)&&(n[s]=i,xw(i.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(n,r,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,s,o,a=[],l={},h=function(n){var h={},c={},f=i.body.nodeIndices[n],p=i.body.nodes[f];if(void 0===l[f]){o=0,s=[];for(var g=0;g<p.edges.length;g++)void 0===i.clusteredEdges[(r=p.edges[g]).id]&&(r.toId!==r.fromId&&o++,s.push(r));if(o===t){u=function(t){if(null==e.joinCondition)return!0;var i=PH.cloneOptions(t);return e.joinCondition(i)};for(var m=!0,v=0;v<s.length;v++){var y=i._getConnectedId(r=s[v],f);if(!u(p)){m=!1;break}c[r.id]=r,h[f]=p,h[y]=i.body.nodes[y],l[f]=!0}if(iB(h).length>0&&iB(c).length>0&&!0===m)if(void 0!==(d=function(){for(var t=0;t<a.length;++t)for(var e in h)if(void 0!==a[t].nodes[e])return a[t]}())){for(var b in h)void 0===d.nodes[b]&&(d.nodes[b]=h[b]);for(var w in c)void 0===d.edges[w]&&(d.edges[w]=c[w])}else a.push({nodes:h,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var u,d;h(c)}for(var f=0;f<a.length;f++)this._cluster(a[f].nodes,a[f].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var s={},o={},a=r.id,l=PH.cloneOptions(r);s[a]=r;for(var h=0;h<r.edges.length;h++){var c=r.edges[h];if(void 0===this.clusteredEdges[c.id]){var u=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[u])if(u!==a)if(void 0===e.joinCondition)o[c.id]=c,s[u]=this.body.nodes[u];else{var d=PH.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(l,d)&&(o[c.id]=c,s[u]=this.body.nodes[u])}else o[c.id]=c}}var f=hx(i=iB(s)).call(i,(function(t){return s[t].id}));for(p in s)if(s.hasOwnProperty(p))for(var p=s[p],g=0;g<p.edges.length;g++){var m=p.edges[g];xk(f).call(f,this._getConnectedId(m,p.id))>-1&&(o[m.id]=m)}this._cluster(s,o,e,n)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var r,s,o,a,l,h,c=iB(t),u=[],d=0;d<c.length;d++){o=t[s=c[d]];for(var f=0;f<o.edges.length;f++)void 0===this.clusteredEdges[(r=o.edges[f]).id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(a=i.id,h=l=r.fromId):(l=i.id,h=a=r.toId),void 0===t[h]&&u.push({edge:r,fromId:l,toId:a}))}for(var p=[],g=function(t){for(var e=0;e<p.length;e++){var i=p[e];if(t.fromId===i.fromId&&t.toId===i.toId||t.fromId===i.toId&&t.toId===i.fromId)return i}return null},m=0;m<u.length;m++){var v=u[m],y=v.edge,b=g(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,n),p.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var o=0;o<r.length;++o)delete t[r[o]];if(0!=iB(t).length&&(1!=iB(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=pw({},i.clusterNodeProperties);if(void 0!==i.processProperties){var l=[];for(var h in t)if(t.hasOwnProperty(h)){var c=PH.cloneOptions(t[h]);l.push(c)}var u=[];for(var d in e)if(e.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var f=PH.cloneOptions(e[d],"edge");u.push(f)}if(!(a=i.processProperties(a,l,u)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+Zb());var p=a.id;void 0===a.label&&(a.label="cluster");var g=void 0;void 0===a.x&&(g=this._getClusterPosition(t),a.x=g.x),void 0===a.y&&(void 0===g&&(g=this._getClusterPosition(t)),a.y=g.y),a.id=p;var m=this.body.functions.createNode(a,$H);m.containedNodes=t,m.containedEdges=e,m.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=m,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=iB(t),n=t[i[0]].x,r=t[i[0]].x,s=t[i[0]].y,o=t[i[0]].y,a=1;a<i.length;a++)n=(e=t[i[a]]).x<n?e.x:n,r=e.x>r?e.x:r,s=e.y<s?e.y:s,o=e.y>o?e.y:o;return{x:.5*(n+r),y:.5*(s+o)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),s=xk(r).call(r,t)-1;if(s>=0){var o=r[s],a=this.body.nodes[o];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var l=n.containedNodes,h=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var c={},u={x:n.x,y:n.y};for(var d in l)if(l.hasOwnProperty(d)){var f=this.body.nodes[d];c[d]={x:f.x,y:f.y}}var p=e.releaseFunction(u,c);for(var g in l)if(l.hasOwnProperty(g)){var m=this.body.nodes[g];void 0!==p[g]&&(m.x=void 0===p[g].x?n.x:p[g].x,m.y=void 0===p[g].y?n.y:p[g].y)}}else xw(l,(function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)}));for(var v in l)if(l.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=n.vx,y.vy=n.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],w=0;w<n.edges.length;w++)b.push(n.edges[w]);for(var _=0;_<b.length;_++){for(var S=b[_],k=this._getConnectedId(S,t),x=this.clusteredNodes[k],C=0;C<S.clusteringEdgeReplacingIds.length;C++){var E=S.clusteringEdgeReplacingIds[C],T=this.body.edges[E];if(void 0!==T)if(void 0!==x){var O=this.body.nodes[x.clusterId];O.containedEdges[T.id]=T,delete h[T.id];var A=T.fromId,M=T.toId;T.toId==k?M=x.clusterId:A=x.clusterId,this._createClusteredEdge(A,M,T,O.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(T)}S.remove()}for(var R in h)h.hasOwnProperty(R)&&this._restoreEdge(h[R]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],n=0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),IH(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return IH(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],r=0;e.length>0&&r<100;){var s=e.pop();if(void 0!==s){var o=this.body.edges[s];if(void 0!==o){r++;var a=o.clusteringEdgeReplacingIds;if(void 0===a)n.push(s);else for(var l=0;l<a.length;++l){var h=a[l];-1===xk(e).call(e,a)&&-1===xk(i).call(i,a)&&e.push(h)}i.push(s)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];s.edges.length>n&&(n=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i;var o=(e/=i)-Math.pow(t,2),a=Math.sqrt(o),l=Math.floor(t+2*a);return l>n&&(l=n),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,r){var s=PH.cloneOptions(i,"edge");pw(s,n),s.from=t,s.to=e,s.id="clusterEdge:"+Zb(),void 0!==r&&pw(s,r);var o=this.body.functions.createEdge(s);return o.clusteringEdgeReplacingIds=[i.id],o.connect(),this.body.edges[o.id]=o,o}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof vH){var r={};r[e.id]=e,e=r}if(t instanceof Fj){var s={};s[t.id]=t,t=s}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var o in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(e.hasOwnProperty(o)&&void 0!==this.body.edges[o]){var a=this.body.edges[o];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var l in t)t.hasOwnProperty(l)&&(this.clusteredNodes[l]={clusterId:i.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return xw(t,(function(t){e(t)&&i.push(t)})),i}},{key:"_updateState",value:function(){var t,e=this,i=[],n={},r=function(t){xw(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(t)&&void 0===this.body.nodes[t]&&i.push(t);r((function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]}));for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];xw(this.clusteredEdges,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(n[t]=t)})),r((function(t){xw(t.containedEdges,(function(t,e){t.endPointsValid()||n[e]||(n[e]=e)}))})),xw(this.body.edges,(function(t,i){var r=!0,s=t.clusteringEdgeReplacingIds;if(void 0!==s){var o=0;xw(s,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(o+=1)})),r=o>0}t.endPointsValid()&&r||(n[i]=i)})),r((function(t){xw(n,(function(i){delete t.containedEdges[i],xw(t.edges,(function(r,s){r.id!==i?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!n[t]})):t.edges[s]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),xw(n,(function(t){delete e.clusteredEdges[t]})),xw(n,(function(t){delete e.body.edges[t]})),xw(iB(this.body.edges),(function(t){var i=e.body.edges[t],n=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(n!==e._isClusteredEdge(i.id))if(n){var r=e._getClusterNodeForNode(i.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[i.fromId],i,r);var s=e._getClusterNodeForNode(i.toId);void 0!==s&&e._clusterEdges(e.body.nodes[i.toId],i,s)}else delete e._clusterEdges[t],e._restoreEdge(i)}));for(var o=!1,a=!0,l=function(){var t=[];r((function(e){var i=iB(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)}));for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);a=t.length>0,o=o||a};a;)l();o&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),NH=function(){function t(e,i){var n;tE(this,t),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(t){t()}:n,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},cw(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=window.setTimeout((function(){var t;e.zooming=!1,Rp(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Rp(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&dw(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Rp(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var n in i)i.hasOwnProperty(n)&&((e=i[n]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,s=[],o=20,a=this.canvas.DOMtoCanvas({x:-o,y:-o}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+o,y:this.canvas.frame.canvas.clientHeight+o}),h={top:a.y,left:a.x,bottom:l.y,right:l.x},c=0;c<r.length;c++)(e=n[r[c]]).isSelected()?s.push(r[c]):!0===i||!0===e.isBoundingBoxOverlappingWith(h)?e.draw(t):e.updateBoundingBox(t,e.selected);for(var u=0;u<s.length;u++)(e=n[s[u]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e,i=this.body.edges,n=this.body.edgeIndices,r=0;r<n.length;r++)!0===(e=i[n[r]]).connected&&e.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=xk(t).call(t,"msie 9.0")||-1!=xk(t).call(t,"safari")&&xk(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}(),BH=gp.setInterval,jH=Ff((function(t,e){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}})),HH=function(){function t(e){var i;tE(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=Rp(i=this._onResize).call(i,this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},cw(this.options,this.defaultOptions),this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Rp(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e,i=this;void 0!==t&&dw(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=BH((function(){!0===i.setSize()&&i.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=Rp(e=this._onResize).call(e,this),Ow(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),Aw(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==xk(t).call(t,"%")||-1!==xk(t).call(t,"px"))return t;if(-1===xk(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new KC(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:KC.DIRECTION_ALL}),jH.onTouch(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new KC(this.frame),jH.onRelease(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(s),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===o&&this.frame.canvas.height===a||this._getCameraState(s),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),zH=Bf.isFinite;xp({target:"Number",stat:!0},{isFinite:Number.isFinite||function(t){return"number"==typeof t&&zH(t)}});var WH=gp.Number.isFinite,VH=function(){function t(e,i){var n,r,s=this;tE(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Rp(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",(function(){s.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Rp(r=this.releaseNode).call(r,this))}return rE(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==(i=WB({},i)).nodes&&0!==i.nodes.length||(i.nodes=this.body.nodeIndices),!0===n){var r=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var o=this.body.nodes[s];!0===o.predefinedPosition&&(r+=1)}if(r>.5*this.body.nodeIndices.length)return void this.fit(i,!1);t=PH.getRange(this.body.nodes,i.nodes);var a=this.body.nodeIndices.length;e=12.662/(a+7.4147)+.0964822;var l=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);e*=l}else{this.body.emitter.emit("_resizeNodes"),t=PH.getRange(this.body.nodes,i.nodes);var h=1.1*Math.abs(t.maxX-t.minX),c=1.1*Math.abs(t.maxY-t.minY),u=this.canvas.frame.canvas.clientWidth/h,d=this.canvas.frame.canvas.clientHeight/c;e=u<=d?u:d}(e>1||0===e)&&(e=1);var f=PH.findCenter(t),p={position:f,scale:e,animation:i.animation};this.moveTo(p)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!WH(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!WH(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!WH(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!WH(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,i,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(n.x-t.position.x)*this.targetScale+t.offset.x,y:this.sourceTranslation.y+(n.y-t.position.y)*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Rp(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Rp(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=this.body.view.translation;this.body.view.translation={x:n.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+(i.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,i=e_[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Rp(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}(),UH=function(){function t(e,i){var n=this;tE(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){n.activated=!0,n.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){n.activated=!1,n.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==n.keycharm&&n.keycharm.destroy()})),this.options={}}return rE(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r,s,o=new KC(this.navigationDOM[e[n]]);jH.onTouch(o,"_fit"===i[n]?Rp(r=this._fit).call(r,this):Rp(s=this.bindToRedraw).call(s,this,i[n])),this.navigationHammers.push(o)}var a=new KC(this.canvas.frame);jH.onRelease(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Rp(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,i,n,r,s,o,a,l,h,c,u,d,f,p,g,m,v,y,b,w,_,S,k,x=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=dx(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Rp(t=this.keycharm).call(t,"up",(function(){x.bindToRedraw("_moveUp")}),"keydown"),Rp(e=this.keycharm).call(e,"down",(function(){x.bindToRedraw("_moveDown")}),"keydown"),Rp(i=this.keycharm).call(i,"left",(function(){x.bindToRedraw("_moveLeft")}),"keydown"),Rp(n=this.keycharm).call(n,"right",(function(){x.bindToRedraw("_moveRight")}),"keydown"),Rp(r=this.keycharm).call(r,"=",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Rp(s=this.keycharm).call(s,"num+",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Rp(o=this.keycharm).call(o,"num-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Rp(a=this.keycharm).call(a,"-",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Rp(l=this.keycharm).call(l,"[",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Rp(h=this.keycharm).call(h,"]",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Rp(c=this.keycharm).call(c,"pageup",(function(){x.bindToRedraw("_zoomIn")}),"keydown"),Rp(u=this.keycharm).call(u,"pagedown",(function(){x.bindToRedraw("_zoomOut")}),"keydown"),Rp(d=this.keycharm).call(d,"up",(function(){x.unbindFromRedraw("_moveUp")}),"keyup"),Rp(f=this.keycharm).call(f,"down",(function(){x.unbindFromRedraw("_moveDown")}),"keyup"),Rp(p=this.keycharm).call(p,"left",(function(){x.unbindFromRedraw("_moveLeft")}),"keyup"),Rp(g=this.keycharm).call(g,"right",(function(){x.unbindFromRedraw("_moveRight")}),"keyup"),Rp(m=this.keycharm).call(m,"=",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Rp(v=this.keycharm).call(v,"num+",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Rp(y=this.keycharm).call(y,"num-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Rp(b=this.keycharm).call(b,"-",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Rp(w=this.keycharm).call(w,"[",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup"),Rp(_=this.keycharm).call(_,"]",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Rp(S=this.keycharm).call(S,"pageup",(function(){x.unbindFromRedraw("_zoomIn")}),"keyup"),Rp(k=this.keycharm).call(k,"pagedown",(function(){x.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}(),YH=function(){function t(e,i){tE(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return rE(t,[{key:"setPosition",value:function(t,e){this.x=yB(t),this.y=yB(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,s=0,o=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>r-this.padding&&(a=!0),s=a?this.x-i:this.x,o=l?this.y-e:this.y}else(o=this.y-e)+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding),(s=this.x)+i+this.padding>r&&(s=r-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),GH=function(){function t(e,i,n){var r,s,o,a,l,h,c,u,d,f,p,g,m;tE(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new UH(e,i),this.body.eventListeners.onTap=Rp(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Rp(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=Rp(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=Rp(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Rp(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Rp(h=this.onDrag).call(h,this),this.body.eventListeners.onDragEnd=Rp(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Rp(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=Rp(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=Rp(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=Rp(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Rp(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Rp(m=this.getPointer).call(m,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},cw(this.options,this.defaultOptions),this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(fw(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Xw(this.options,t,"keyboard"),t.tooltip&&(cw(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Fw(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-bw(this.canvas.frame.canvas),y:t.y-_w(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),r=!1;r=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var s=this.selectionHandler.getSelection(),o=this._determineDifference(n,s),a=this._determineDifference(s,n);o.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),r=!0),o.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),r=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];-1===xk(e).call(e,r)&&i.push(r)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=cw({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n],s={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var r=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;US(n).call(n,(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(US(e).call(e,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,s=t/i,o=(1-s)*e.x+r.x*s,a=(1-s)*e.y+r.y*s;if(this.body.view.scale=t,this.body.view.translation={x:o,y:a},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+.1*this.options.zoomSpeed*(t.deltaY<0?1:-1);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=uE((function(){return e._checkShowPopup(i)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,o="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,h=this.body.nodes,c=[],u=0;u<l.length;u++)!0===(a=h[l[u]]).isOverlappingWith(n)&&(s=!0,void 0!==a.getTitle()&&c.push(l[u]));c.length>0&&(this.popupObj=h[c[c.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var d,f=this.body.edgeIndices,p=this.body.edges,g=[],m=0;m<f.length;m++)!0===(d=p[f[m]]).isOverlappingWith(n)&&!0===d.connected&&void 0!==d.getTitle()&&g.push(f[m]);g.length>0&&(this.popupObj=p[g[g.length-1]],o="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new YH(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),qH=function(){function t(e,i){var n=this;tE(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},cw(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){n.updateSelection()}))}return rE(t,[{key:"setOptions",value:function(t){void 0!==t&&dw(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(e,i);if(!0===r)s.nodes=[],s.edges=[];else{var o=this.getSelection();s.nodes=o.nodes,s.edges=o.edges}void 0!==n&&(s.previousSelection=n),"click"==t&&(s.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(s.controlEdge=e.controlEdge),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof Fj&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];i[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,r=null,s=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var a=this.body.edgeIndices[o],l=s[a];if(l.connected){var h=l.from.x,c=l.from.y,u=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(h,c,u,d,i.x,i.y);f<n&&(r=a,n=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function(t){t instanceof Fj?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof Fj?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof Fj?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof Fj?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof Fj?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===i||i instanceof Fj&&i.id!=r||i instanceof vH)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var s in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(s)&&(!0===n?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof vH&&i.id!=s||i instanceof Fj&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(void 0!==i){var o=iB(this.hoverObj.edges).length,a=iB(this.hoverObj.nodes).length;(n||i instanceof vH&&0===o&&0===a||i instanceof Fj&&0===o&&0===a)&&(n=this.emitHoverEvent(t,e,i)),i instanceof Fj&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((n.unselectAll||void 0===n.unselectAll)&&this.unselectAll(),t.nodes)for(e=0;e<t.nodes.length;e++){var r=this.body.nodes[i=t.nodes[e]];if(!r)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(r,n.highlightEdges)}if(t.edges)for(e=0;e<t.edges.length;e++){var s=this.body.edges[i=t.edges[e]];if(!s)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,r=this.body.nodes,s=n.length-1;s>=0;s--){var o=r[n[s]].getItemsOnPoint(e);i.push.apply(i,o)}for(var a=this.body.edgeIndices,l=this.body.edges,h=a.length-1;h>=0;h--){var c=l[a[h]].getItemsOnPoint(e);i.push.apply(i,c)}return i}}]),t}(),KH=[],ZH=KH.sort,QH=jf((function(){KH.sort(void 0)})),XH=jf((function(){KH.sort(null)})),JH=BS("sort");xp({target:"Array",proto:!0,forced:QH||!XH||JH},{sort:function(t){return void 0===t?ZH.call(M_(this)):ZH.call(M_(this),mp(t))}});var tz,ez=Op("Array").sort,iz=Array.prototype,nz=function(t){var e=t.sort;return t===iz||t instanceof Array&&e===iz.sort?ez:e},rz=Ff((function(t,e){!function(t){t.__esModule=!0,t.sort=function(t,i,n,a){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");i?"function"!=typeof i&&(a=n,n=i,i=r):i=r,n||(n=0),a||(a=t.length);var l=a-n;if(!(l<2)){var c=0;if(l<e)return void o(t,n,a,n+(c=s(t,n,a,i)),i);var u=new h(t,i),d=function(t){for(var i=0;t>=e;)i|=1&t,t>>=1;return t+i}(l);do{if((c=s(t,n,a,i))<d){var f=l;f>d&&(f=d),o(t,n,n+f,n+c,i),c=f}u.pushRun(n,c),u.mergeRuns(),l-=c,n+=c}while(0!==l);u.forceMergeRuns()}};var e=32,i=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function n(t){return t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9}function r(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(0===t||0===e)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}var r=n(t),s=n(e),o=0;return r<s?(t*=i[s-r-1],e/=10,o=-1):r>s&&(e*=i[r-s-1],t/=10,o=1),t===e?o:t<e?-1:1}var a=String(t),l=String(e);return a===l?0:a<l?-1:1}function s(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;!function(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&n(t[r],t[r-1])>=0;)r++;return r-e}function o(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var s=t[n],o=e,a=n;o<a;){var l=o+a>>>1;r(s,t[l])<0?a=l:o=l+1}var h=n-o;switch(h){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;h>0;)t[o+h]=t[o+h-1],h--}t[o]=s}}function a(t,e,i,n,r,s){var o=0,a=0,l=1;if(s(t,e[i+r])>0){for(a=n-r;l<a&&s(t,e[i+r+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),o+=r,l+=r}else{for(a=r+1;l<a&&s(t,e[i+r-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var h=o;o=r-l,l=r-h}for(o++;o<l;){var c=o+(l-o>>>1);s(t,e[i+c])>0?o=c+1:l=c}return l}function l(t,e,i,n,r,s){var o=0,a=0,l=1;if(s(t,e[i+r])<0){for(a=r+1;l<a&&s(t,e[i+r-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var h=o;o=r-l,l=r-h}else{for(a=n-r;l<a&&s(t,e[i+r+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);s(t,e[i+c])<0?l=c:o=c+1}return l}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=e,this.compare=i,this.length=e.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return t.prototype.pushRun=function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;if(t>=1&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||t>=2&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;t>0&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var e=this.compare,i=this.array,n=this.runStart[t],r=this.runLength[t],s=this.runStart[t+1],o=this.runLength[t+1];this.runLength[t]=r+o,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var h=l(i[s],i,n,r,0,e);n+=h,0!=(r-=h)&&0!==(o=a(i[n+r-1],i,s,o,o-1,e))&&(r<=o?this.mergeLow(n,r,s,o):this.mergeHigh(n,r,s,o))},t.prototype.mergeLow=function(t,e,i,n){var r=this.compare,s=this.array,o=this.tmp,h=0;for(h=0;h<e;h++)o[h]=s[t+h];var c=0,u=i,d=t;if(s[d++]=s[u++],0!=--n)if(1!==e){for(var f=this.minGallop;;){var p=0,g=0,m=!1;do{if(r(s[u],o[c])<0){if(s[d++]=s[u++],g++,p=0,0==--n){m=!0;break}}else if(s[d++]=o[c++],p++,g=0,1==--e){m=!0;break}}while((p|g)<f);if(m)break;do{if(0!==(p=l(s[u],o,c,e,0,r))){for(h=0;h<p;h++)s[d+h]=o[c+h];if(d+=p,c+=p,(e-=p)<=1){m=!0;break}}if(s[d++]=s[u++],0==--n){m=!0;break}if(0!==(g=a(o[c],s,u,n,0,r))){for(h=0;h<g;h++)s[d+h]=s[u+h];if(d+=g,u+=g,0==(n-=g)){m=!0;break}}if(s[d++]=o[c++],1==--e){m=!0;break}f--}while(p>=7||g>=7);if(m)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===e){for(h=0;h<n;h++)s[d+h]=s[u+h];s[d+n]=o[c]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(h=0;h<e;h++)s[d+h]=o[c+h]}}else{for(h=0;h<n;h++)s[d+h]=s[u+h];s[d+n]=o[c]}else for(h=0;h<e;h++)s[d+h]=o[c+h]},t.prototype.mergeHigh=function(t,e,i,n){var r=this.compare,s=this.array,o=this.tmp,h=0;for(h=0;h<n;h++)o[h]=s[i+h];var c=t+e-1,u=n-1,d=i+n-1,f=0,p=0;if(s[d--]=s[c--],0!=--e)if(1!==n){for(var g=this.minGallop;;){var m=0,v=0,y=!1;do{if(r(o[u],s[c])<0){if(s[d--]=s[c--],m++,v=0,0==--e){y=!0;break}}else if(s[d--]=o[u--],v++,m=0,1==--n){y=!0;break}}while((m|v)<g);if(y)break;do{if(0!=(m=e-l(o[u],s,t,e,e-1,r))){for(e-=m,p=1+(d-=m),f=1+(c-=m),h=m-1;h>=0;h--)s[p+h]=s[f+h];if(0===e){y=!0;break}}if(s[d--]=o[u--],1==--n){y=!0;break}if(0!=(v=n-a(s[c],o,0,n,n-1,r))){for(n-=v,p=1+(d-=v),f=1+(u-=v),h=0;h<v;h++)s[p+h]=o[f+h];if(n<=1){y=!0;break}}if(s[d--]=s[c--],0==--e){y=!0;break}g--}while(m>=7||v>=7);if(y)break;g<0&&(g=0),g+=2}if(this.minGallop=g,g<1&&(this.minGallop=1),1===n){for(p=1+(d-=e),f=1+(c-=e),h=e-1;h>=0;h--)s[p+h]=s[f+h];s[d]=o[u]}else{if(0===n)throw new Error("mergeHigh preconditions were not respected");for(f=d-(n-1),h=0;h<n;h++)s[f+h]=o[h]}}else{for(p=1+(d-=e),f=1+(c-=e),h=e-1;h>=0;h--)s[p+h]=s[f+h];s[d]=o[u]}else for(f=d-(n-1),h=0;h<n;h++)s[f+h]=o[h]},t}()}(e)}));(tz=rz)&&tz.__esModule&&Object.prototype.hasOwnProperty.call(tz,"default");var sz=rz,oz=sz.sort,az=function(){function t(){tE(this,t)}return rE(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),lz=function(t){function e(t){var i;return tE(this,e),(i=ZB(this,tj(e).call(this))).layout=t,i}return nj(e,az),rE(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){oz(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),hz=function(t){function e(t){var i;return tE(this,e),(i=ZB(this,tj(e).call(this))).layout=t,i}return nj(e,az),rE(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){oz(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(),cz=NS.every;xp({target:"Array",proto:!0,forced:BS("every")},{every:function(t){return cz(this,t,arguments.length>1?arguments[1]:void 0)}});var uz=Op("Array").every,dz=Array.prototype,fz=function(t){var e=t.every;return t===dz||t instanceof Array&&e===dz.every?uz:e},pz=!jf((function(){return Object.isExtensible(Object.preventExtensions({}))})),gz=Ff((function(t){var e=wp.f,i=v_("meta"),n=0,r=Object.isExtensible||function(){return!0},s=function(t){e(t,i,{value:{objectID:"O"+ ++n,weakData:{}}})},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!Xf(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ep(t,i)){if(!r(t))return"F";if(!e)return"E";s(t)}return t[i].objectID},getWeakData:function(t,e){if(!ep(t,i)){if(!r(t))return!0;if(!e)return!1;s(t)}return t[i].weakData},onFreeze:function(t){return pz&&o.REQUIRED&&r(t)&&!ep(t,i)&&s(t),t}};w_[i]=!0})),mz=N_("iterator"),vz=Array.prototype,yz=function(t,e,i,n){try{return n?e(yp(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&yp(r.call(t)),e}},bz=Ff((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,n,r,s){var o,a,l,h,c,u,d,f,p=vp(i,n,r?2:1);if(s)o=t;else{if("function"!=typeof(a=vE(t)))throw TypeError("Target is not iterable");if(void 0!==(f=a)&&(h_.Array===f||vz[mz]===f)){for(l=0,h=U_(t.length);h>l;l++)if((c=r?p(yp(d=t[l])[0],d[1]):p(t[l]))&&c instanceof e)return c;return new e(!1)}o=a.call(t)}for(u=o.next;!(d=u.call(o)).done;)if("object"==typeof(c=yz(o,p,d.value,r))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),wz=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},_z=wp.f,Sz=NS.forEach,kz=A_.set,xz=A_.getterFor,Cz=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:_S(t,n,e[n],i);return t},Ez=N_("species"),Tz=wp.f,Oz=gz.fastKey,Az=A_.set,Mz=A_.getterFor,Rz=(function(t,e,i,n,r){var s,o=Bf.Set,a=o&&o.prototype,l={};if(Hf&&"function"==typeof o&&a.forEach&&!jf((function(){(new o).entries().next()}))){s=e((function(e,i){kz(wz(e,s,t),{type:t,collection:new o}),null!=i&&bz(i,e.add,e,n)}));var h=xz(t);Sz(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;t in a&&_p(s.prototype,t,(function(i,n){var r=h(this).collection[t](0===i?0:i,n);return e?this:r}))})),_z(s.prototype,"size",{get:function(){return h(this).collection.size}})}else s=i.getConstructor(e,t,n,"add"),gz.REQUIRED=!0;vS(s,t,!1,!0),l.Set=s,xp({global:!0,forced:!0},l),i.setStrong(s,t,n)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,i,n){var r=t((function(t,s){wz(t,r,e),Az(t,{type:e,index:lS(null),first:void 0,last:void 0,size:0}),Hf||(t.size=0),null!=s&&bz(s,t[n],t,i)})),s=Mz(e),o=function(t,e,i){var n,r,o=s(t),l=a(t,e);return l?l.value=i:(o.last=l={index:r=Oz(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=l),n&&(n.next=l),Hf?o.size++:t.size++,"F"!==r&&(o.index[r]=l)),t},a=function(t,e){var i,n=s(t),r=Oz(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return Cz(r.prototype,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,Hf?t.size=0:this.size=0},delete:function(t){var e=s(this),i=a(this,t);if(i){var n=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),e.first==i&&(e.first=n),e.last==i&&(e.last=r),Hf?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=s(this),n=vp(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),Cz(r.prototype,i?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),Hf&&Tz(r.prototype,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=Mz(e),s=Mz(n);ES(t,e,(function(t,e){Az(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),function(t){var e=nS(t);Hf&&e&&!e[Ez]&&(0,wp.f)(e,Ez,{configurable:!0,get:function(){return this}})}(e)}}),gp.Set);function Dz(t,e){var i=new Rz;return US(t).call(t,(function(t){var e;US(e=t.edges).call(e,(function(t){t.connected&&i.add(t)}))})),US(i).call(i,(function(t){var i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)})),e}function Lz(t,e,i,n,r){var s=n.length,o=i+"Id",a="to"===i?1:-1,l=!0,h=!1,c=void 0;try{for(var u,d=function(){var l=u.value;if(t(l))return"continue";r[l.id]=0;for(var h=[l],c=0,d=void 0,f=function(){var t,l,u=r[d.id]+a;if(US(t=vN(l=d.edges).call(l,(function(t){return t.connected&&t.to!==t.from&&t[i]!==d}))).call(t,(function(t){var n=t[o],s=r[n];(null==s||e(u,s))&&(r[n]=u,h.push(t[i]))})),c>s)return{v:{v:Dz(n,r)}};++c};d=h.pop();){var p=f();if("object"===AB(p))return p.v}},f=yE(n);!(l=(u=f.next()).done);l=!0){var p=d();switch(p){case"continue":continue;default:if("object"===AB(p))return p.v}}}catch(t){h=!0,c=t}finally{try{l||null==f.return||f.return()}finally{if(h)throw c}}return r}var Iz=function(){function t(){tE(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return rE(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var r=e.levels[n];if(e.childrenReference[n]){var s=e.childrenReference[n];if(s.length>0)for(var o=0;o<s.length;o++)r=Math.max(r,t(s[o]))}return i[n]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,r=1e9,s=-1e9;for(var o in this.trees)if(this.trees.hasOwnProperty(o)&&this.trees[o]===e){var a=t[o];i=Math.min(a.x,i),n=Math.max(a.x,n),r=Math.min(a.y,r),s=Math.max(a.y,s)}return{min_x:i,max_x:n,min_y:r,max_y:s}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var r=0;r<i.length;r++)for(var s=0;s<n.length;s++)if(i[r]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return iB(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var r in n)if(n[r]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),Pz=function(){function t(e){tE(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},cw(this.options,this.defaultOptions),this.bindEventListeners()}return rE(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(dw(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Xw(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),pw(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===AB(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],r=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(r)),void 0===n.y&&(n.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,r=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var o=t.length;t.length>r&&n<=10;){var a=t.length;if((n+=1)%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),a==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<t.length;l++){var h=this.body.nodes[t[l]];!1===h.predefinedPosition&&(h.x+=70*(.5-this.seededRandom()),h.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=PH.getRangeCore(this.body.nodes,this.body.nodeIndices),e=PH.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new Iz,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.hierarchical.ensureLevel(s);var o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var r in n)n.hasOwnProperty(r)&&n[r]===e&&t.direction.shift(r,i)},r=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var r=t.hierarchical.childrenReference[i.id];if(r.length>0)for(var s=0;s<r.length;s++)e(t.body.nodes[r[s]],n)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,s=1e9,o=-1e9;for(var a in e)if(e.hasOwnProperty(a)){var l=t.body.nodes[a],h=t.hierarchical.levels[l.id],c=t.direction.getPosition(l),u=t._getSpaceAroundNode(l,e),d=_B(u,2),f=d[0],p=d[1];n=Math.min(f,n),r=Math.min(p,r),h<=i&&(s=Math.min(c,s),o=Math.max(c,o))}return[s,o,n,r]},o=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(i.id);return Math.min(n,r)},a=function(e,i,n){for(var r=t.hierarchical,s=0;s<i.length;s++){var o=r.distributionOrdering[i[s]];if(o.length>1)for(var a=0;a<o.length-1;a++){var l=o[a],h=o[a+1];r.hasSameParent(l,h)&&r.inSameSubNetwork(l,h)&&e(l,h,n)}}},l=function(i,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t.direction.getPosition(i),h=t.direction.getPosition(n),c=Math.abs(h-l),u=t.options.hierarchical.nodeSpacing;if(c>u){var d={},f={};r(i,d),r(n,f);var p=o(i,n),g=s(d,p),m=s(f,p),v=g[1],y=m[0],b=m[2],w=Math.abs(v-y);if(w>u){var _=v-y+u;_<-b+u&&(_=-b+u),_<0&&(t._shiftBlock(n.id,_),e=!0,!0===a&&t._centerParent(n))}}},h=function(n,o){for(var a=o.id,l=o.edges,h=t.hierarchical.levels[o.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,u={},d=[],f=0;f<l.length;f++){var p=l[f];if(p.toId!=p.fromId){var g=p.toId==a?p.from:p.to;u[l[f].id]=g,t.hierarchical.levels[g.id]<h&&d.push(p)}}var m=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==u[i[r].id]){var s=t.direction.getPosition(u[i[r].id])-e;n+=s/Math.sqrt(s*s+c)}return n},v=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==u[i[r].id]){var s=t.direction.getPosition(u[i[r].id])-e;n-=c*Math.pow(s*s+c,-1.5)}return n},y=function(e,i){for(var n=t.direction.getPosition(o),r={},s=0;s<e;s++){var a=m(n,i),l=v(n,i);if(void 0!==r[n-=Math.max(-40,Math.min(40,Math.round(a/l)))])break;r[n]=s}return n},b=y(n,d);!function(n){var a=t.direction.getPosition(o);if(void 0===i[o.id]){var l={};r(o,l),i[o.id]=l}var h=s(i[o.id]),c=h[2],u=n-a,d=0;u>0?d=Math.min(u,h[3]-t.options.hierarchical.nodeSpacing):u<0&&(d=-Math.min(-u,c-t.options.hierarchical.nodeSpacing)),0!=d&&(t._shiftBlock(o.id,d),e=!0)}(b),function(i){var n=t.direction.getPosition(o),r=t._getSpaceAroundNode(o),s=_B(r,2),a=s[0],l=i-n,h=n;l>0?h=Math.min(n+(s[1]-t.options.hierarchical.nodeSpacing),i):l<0&&(h=Math.max(n-(a-t.options.hierarchical.nodeSpacing),i)),h!==n&&(t.direction.setPosition(o,h),e=!0)}(b=y(n,l))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=IH(n).call(n);for(var r=0;r<5&&(e=!1,a(l,n,!0),!0===e);r++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=IH(n).call(n);for(var r=0;r<20;r++){e=!1;for(var s=0;s<n.length;s++)for(var o=t.hierarchical.distributionOrdering[n[s]],a=0;a<o.length;a++)h(1e3,o[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=IH(e).call(e);for(var i=0;i<e.length;i++)for(var n=t.hierarchical.distributionOrdering[e[i]],r=0;r<n.length;r++)t._centerParent(n[r])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,r=0;r<e.length-1;r++)n(r+1,i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[t.id],s=this.direction.getPosition(t),o=this.hierarchical.distributionOrdering[n],a=1e9,l=1e9;if(0!==r){var h=o[r-1];(!0===i&&void 0===e[h.id]||!1===i)&&(a=s-this.direction.getPosition(h))}if(r!=o.length-1){var c=o[r+1];if(!0===i&&void 0===e[c.id]||!1===i){var u=this.direction.getPosition(c);l=Math.min(l,u-s)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],r=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var o=this._getCenterPosition(s),a=this.direction.getPosition(r),l=this._getSpaceAroundNode(r),h=_B(l,2),c=h[0],u=h[1],d=a-o;(d<0&&Math.abs(d)<u-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,o)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i,n=iB(t[e]);n=this._indexArrayToNodes(n),nz(i=this.direction).call(i,n);for(var r=0,s=0;s<n.length;s++){var o=n[s];if(void 0===this.positionedNodes[o.id]){var a=this.options.hierarchical.nodeSpacing,l=a*r;r>0&&(l=this.direction.getPosition(n[s-1])+a),this.direction.setPosition(o,l,e),this._validatePositionAndContinue(o,e,l),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i,n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var r=[],s=0;s<n.length;s++)r.push(this.body.nodes[n[s]]);nz(i=this.direction).call(i,r);for(var o=0;o<r.length;o++){var a=r[o],l=this.hierarchical.levels[a.id];if(!(l>e&&void 0===this.positionedNodes[a.id]))return;var h,c=this.options.hierarchical.nodeSpacing;h=0===o?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[o-1])+c,this.direction.setPosition(a,h,l),this._validatePositionAndContinue(a,l,h)}var u=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],u,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){var n=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e=this.body.nodes[t],n),void 0===i[n]&&(i[n]={}),i[n][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return xw(t.edges,(function(t){var n;-1!==xk(n=e.body.edgeIndices).call(n,t.id)&&i.push(t)})),i}},{key:"_getHubSizes",value:function(){var t=this,e={};xw(this.body.nodeIndices,(function(i){var n=t._getActiveEdges(t.body.nodes[i]).length;e[n]=!0}));var i=[];return xw(e,(function(t){i.push(Number(t))})),nz(sz).call(sz,i,(function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(n){var r=i[n];if(0===r)return"break";xw(t.body.nodeIndices,(function(i){r===t._getActiveEdges(t.body.nodes[i]).length&&t._crawlNetwork(e,i)}))},r=0;r<i.length&&"break"!==n(r);++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,i,n){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var s=(PH.cloneOptions(e,"node"),PH.cloneOptions(i,"node"),void PH.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=r+s})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,i=hx(t=this.body.nodeIndices).call(t,(function(t){return e.body.nodes[t]}));this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?function(t){return Lz((function(t){var e;return!fz(e=t.edges).call(e,(function(e){return e.from===t}))}),(function(t,e){return e<t}),"to",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tk(null))}(i,this.hierarchical.levels):function(t){return Lz((function(t){var e;return!fz(e=t.edges).call(e,(function(e){return e.to===t}))}),(function(t,e){return e>t}),"from",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tk(null))}(i,this.hierarchical.levels),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,n={},r=function i(r,s){if(void 0===n[r.id]){var o;t.hierarchical.setTreeIndex(r,s),n[r.id]=!0;for(var a=t._getActiveEdges(r),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&r.id!=(o=h.toId==r.id?h.from:h.to).id&&(e(r,o,h),i(o,s))}}};if(void 0===i)for(var s=0,o=0;o<this.body.nodeIndices.length;o++){var a=this.body.nodeIndices[o];if(void 0===n[a]){var l=this.body.nodes[a];r(l,s),s+=1}}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);r(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(r){if(!n[r]){n[r]=!0,i.direction.shift(r,e);var s=i.hierarchical.childrenReference[r];if(void 0!==s)for(var o=0;o<s.length;o++)t(s[o])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var s=0;s<r.length;s++){var o=r[s];e[o]=!0,t(e,o)}}(n,t),function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var s=0;s<r.length;s++){var o=r[s];if(void 0!==e[o])return{foundParent:o,withChild:n};var a=t(e,o);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new lz(this):new hz(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var r=this.direction.getPosition(void 0!==t[n].id?t[n]:this.body.nodes[t[n]]);e=Math.min(e,r),i=Math.max(i,r)}return.5*(e+i)}}]),t}(),$z=function(){function t(e,i,n,r){var s,o,a=this;tE(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},cw(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Rp(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Rp(o=this._restore).call(o,this))}return rE(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:i.locale,this.options.locales=void 0!==e.locales?e.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,pw(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler._getSelectedNodeCount(),n=this.selectionHandler._getSelectedEdgeCount(),r=i+n,s=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(s)),1===i&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(s)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(s)),0!==r&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===o&&this._createSeperator(4),this._createDeleteButton(s)),this._bindHammerToDiv(this.closeDiv,Rp(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Rp(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,Rp(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Rp(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=pw({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,i,n,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s,o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,Rp(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",Rp(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Rp(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Rp(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Rp(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",Rp(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==AB(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,Rp(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var i,n,r,s,o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Rp(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Rp(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Rp(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Rp(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=o.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===l.selected&&(l.x=e.to.x,l.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var h=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(h.from.id,h.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var s={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(s,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=pw({},this.options.controlNodeStyle);i.id="targetNode"+Zb(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},rw(this.editModeDiv);var e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,Rp(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(rw(this.editModeDiv),rw(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),rw(this.manipulationDiv),rw(this.editModeDiv),rw(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,i=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,Rp(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,i=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,Rp(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,i=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,Rp(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,i=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,Rp(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,i=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,Rp(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,i=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,Rp(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+Dj(iB(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new KC(t,{});jH.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,n=xk(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==n&&lk(i=this.body.edgeIndices).call(i,n,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var s;delete this.body.nodes[this.temporaryIds.nodes[r]];var o,a=xk(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[r]);-1!==a&&lk(o=this.body.nodeIndices).call(o,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=cw({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=i.isOverlappingWith(e),o=n.isOverlappingWith(e);!0===s?(this.selectedControlNode=i,r.edgeType.from=i):!0===o&&(this.selectedControlNode=n,r.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;o>=0;o--)if(r[o]!==this.selectedControlNode.id){s=this.body.nodes[r[o]];break}void 0!==s&&void 0!==this.selectedControlNode?!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id):(n.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=cw({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(e.x,e.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var n=this.body.functions.createEdge({id:"connectionEdge"+Zb(),from:e.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;o>=0;o--){var a;if(-1===xk(a=this.temporaryIds.nodes).call(a,r[o])){s=this.body.nodes[r[o]];break}}if(t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(e.x),l.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;o>=0;o--){var a;if(-1===xk(a=this.temporaryIds.nodes).call(a,r[o])){s=this.body.nodes[r[o]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(n,s.id)),t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:Zb(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,(function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===AB(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,(function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),Fz={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Nz=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;tE(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return rE(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return Fz[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===sw(t)){if(!0===Gw(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===qw(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===Yw(t)){var o=Iw(t);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Dj(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=cw({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",uE((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=cw({},t)),this.color=t;var i=Nw(t.r,t.g,t.b),n=2*Math.PI,r=this.r*i.s,s=this.centerCoordinates.x+r*Math.sin(n*i.h),o=this.centerCoordinates.y+r*Math.cos(n*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=Nw(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=Ww(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=Nw(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),oj(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=Rp(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=Rp(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=Rp(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=Rp(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new KC(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),jH.onTouch(this.hammer,(function(e){t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,i,n,r,s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,s,o),this.centerCoordinates={x:.5*s,y:.5*o},this.r=.49*s;var a,l=2*Math.PI/360,h=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(l*n),i=this.centerCoordinates.y+r*Math.cos(l*n),a=Ww(n*(1/360),r*h,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,s,o)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,r=t.center.x-e.left-n,s=t.center.y-e.top-i,o=Math.atan2(r,s),a=.98*Math.min(Math.sqrt(r*r+s*s),n),l=Math.cos(o)*a+i,h=Math.sin(o)*a+n;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var c=o/(2*Math.PI);c=c<0?c+1:c;var u=a/this.r,d=Nw(this.color.r,this.color.g,this.color.b);d.h=c,d.s=u;var f=Ww(d.h,d.s,d.v);f.a=this.color.a,this.color=f,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}(),Bz=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;tE(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},cw(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Nz(r),this.wrapper=void 0}return rE(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(t instanceof Array)this.options.filter=t.join();else if("object"===AB(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==vN(t)&&(this.options.filter=vN(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===vN(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=vN(this.options),e=0,i=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==t&&-1===xk(t).call(t,n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return US(n).call(n,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==xk(t).call(t,e)&&(r=xk(t).call(t,e));for(var s=0;s<t.length;s++){var o=document.createElement("option");o.value=t[s],s===r&&(o.selected="selected"),o.innerHTML=t[s],n.appendChild(o)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],r=t[1],s=t[2],o=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=s}catch(t){}a.step=o;var l="",h=0;void 0!==e?(e<0&&1.2*e<r?(a.min=Math.ceil(1.2*e),h=a.min,l="range increased"):e/1.2<r&&(a.min=Math.ceil(e/1.2),h=a.min,l="range increased"),1.2*e>s&&1!==s&&(a.max=Math.ceil(1.2*e),h=a.max,l="range increased"),a.value=e):a.value=n;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var u=this;a.onchange=function(){c.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};var d=this._makeLabel(i[i.length-1],i),f=this._makeItem(i,d,a,c);""!==l&&this.popupHistory[f]!==h&&(this.popupHistory[f]=h,this._setupPopup(l,f))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=uE((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=uE((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===AB(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var r=this;n.onchange=function(){r._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,r=t[1],s=document.createElement("div");"none"!==(e=void 0===e?r:e)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,s.onclick=function(){n._showColorPicker(e,s,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,s)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,n._update(r,i)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){n._showColorPicker(t,e,i)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=vN(this.options),s=!1;for(var o in t)if(t.hasOwnProperty(o)){n=!0;var a=t[o],l=vw(e,o);if("function"==typeof r&&!1===(n=r(o,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==n){s=!0;var h=this._getValue(l);if(a instanceof Array)this._handleArray(a,h,l);else if("string"==typeof a)this._makeTextInput(a,h,l);else if("boolean"==typeof a)this._makeCheckbox(a,h,l);else if(a instanceof Object){var c=!0;if(-1!==xk(e).call(e,"physics")&&this.moduleOptions.physics.solver!==o&&(c=!1),!0===c)if(void 0!==a.enabled){var u=vw(l,"enabled"),d=this._getValue(u);if(!0===d){var f=this._makeLabel(o,l,!0);this._makeItem(l,f),s=this._handleObject(a,l)||s}else this._makeCheckbox(a,d,l)}else{var p=this._makeLabel(o,l,!0);this._makeItem(l,p),s=this._handleObject(a,l)||s}}else console.error("dont know how to handle",a,o,l)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===n[e[r]]&&(n[e[r]]={}),r!==e.length-1?n=n[e[r]]:n[e[r]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Dj(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),jz="string",Hz="boolean",zz="number",Wz="object",Vz=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Uz={configure:{enabled:{boolean:Hz},filter:{boolean:Hz,string:jz,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:Hz},__type__:{object:Wz,boolean:Hz,string:jz,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:Hz},scaleFactor:{number:zz},type:{string:Vz},imageHeight:{number:zz},imageWidth:{number:zz},src:{string:jz},__type__:{object:Wz,boolean:Hz}},middle:{enabled:{boolean:Hz},scaleFactor:{number:zz},type:{string:Vz},imageWidth:{number:zz},imageHeight:{number:zz},src:{string:jz},__type__:{object:Wz,boolean:Hz}},from:{enabled:{boolean:Hz},scaleFactor:{number:zz},type:{string:Vz},imageWidth:{number:zz},imageHeight:{number:zz},src:{string:jz},__type__:{object:Wz,boolean:Hz}},__type__:{string:["from","to","middle"],object:Wz}},arrowStrikethrough:{boolean:Hz},background:{enabled:{boolean:Hz},color:{string:jz},size:{number:zz},dashes:{boolean:Hz,array:"array"},__type__:{object:Wz,boolean:Hz}},chosen:{label:{boolean:Hz,function:"function"},edge:{boolean:Hz,function:"function"},__type__:{object:Wz,boolean:Hz}},color:{color:{string:jz},highlight:{string:jz},hover:{string:jz},inherit:{string:["from","to","both"],boolean:Hz},opacity:{number:zz},__type__:{object:Wz,string:jz}},dashes:{boolean:Hz,array:"array"},font:{color:{string:jz},size:{number:zz},face:{string:jz},background:{string:jz},strokeWidth:{number:zz},strokeColor:{string:jz},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:zz},multi:{boolean:Hz,string:jz},bold:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},boldital:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},ital:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},mono:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},__type__:{object:Wz,string:jz}},hidden:{boolean:Hz},hoverWidth:{function:"function",number:zz},label:{string:jz,undefined:"undefined"},labelHighlightBold:{boolean:Hz},length:{number:zz,undefined:"undefined"},physics:{boolean:Hz},scaling:{min:{number:zz},max:{number:zz},label:{enabled:{boolean:Hz},min:{number:zz},max:{number:zz},maxVisible:{number:zz},drawThreshold:{number:zz},__type__:{object:Wz,boolean:Hz}},customScalingFunction:{function:"function"},__type__:{object:Wz}},selectionWidth:{function:"function",number:zz},selfReferenceSize:{number:zz},shadow:{enabled:{boolean:Hz},color:{string:jz},size:{number:zz},x:{number:zz},y:{number:zz},__type__:{object:Wz,boolean:Hz}},smooth:{enabled:{boolean:Hz},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:zz},forceDirection:{string:["horizontal","vertical","none"],boolean:Hz},__type__:{object:Wz,boolean:Hz}},title:{string:jz,undefined:"undefined"},width:{number:zz},widthConstraint:{maximum:{number:zz},__type__:{object:Wz,boolean:Hz,number:zz}},value:{number:zz,undefined:"undefined"},__type__:{object:Wz}},groups:{useDefaultGroups:{boolean:Hz},__any__:"get from nodes, will be overwritten below",__type__:{object:Wz}},interaction:{dragNodes:{boolean:Hz},dragView:{boolean:Hz},hideEdgesOnDrag:{boolean:Hz},hideEdgesOnZoom:{boolean:Hz},hideNodesOnDrag:{boolean:Hz},hover:{boolean:Hz},keyboard:{enabled:{boolean:Hz},speed:{x:{number:zz},y:{number:zz},zoom:{number:zz},__type__:{object:Wz}},bindToWindow:{boolean:Hz},__type__:{object:Wz,boolean:Hz}},multiselect:{boolean:Hz},navigationButtons:{boolean:Hz},selectable:{boolean:Hz},selectConnectedEdges:{boolean:Hz},hoverConnectedEdges:{boolean:Hz},tooltipDelay:{number:zz},zoomView:{boolean:Hz},zoomSpeed:{number:zz},__type__:{object:Wz}},layout:{randomSeed:{undefined:"undefined",number:zz},improvedLayout:{boolean:Hz},clusterThreshold:{number:zz},hierarchical:{enabled:{boolean:Hz},levelSeparation:{number:zz},nodeSpacing:{number:zz},treeSpacing:{number:zz},blockShifting:{boolean:Hz},edgeMinimization:{boolean:Hz},parentCentralization:{boolean:Hz},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Wz,boolean:Hz}},__type__:{object:Wz}},manipulation:{enabled:{boolean:Hz},initiallyActive:{boolean:Hz},addNode:{boolean:Hz,function:"function"},addEdge:{boolean:Hz,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Wz,boolean:Hz,function:"function"}},deleteNode:{boolean:Hz,function:"function"},deleteEdge:{boolean:Hz,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:Wz,boolean:Hz}},nodes:{borderWidth:{number:zz},borderWidthSelected:{number:zz,undefined:"undefined"},brokenImage:{string:jz,undefined:"undefined"},chosen:{label:{boolean:Hz,function:"function"},node:{boolean:Hz,function:"function"},__type__:{object:Wz,boolean:Hz}},color:{border:{string:jz},background:{string:jz},highlight:{border:{string:jz},background:{string:jz},__type__:{object:Wz,string:jz}},hover:{border:{string:jz},background:{string:jz},__type__:{object:Wz,string:jz}},__type__:{object:Wz,string:jz}},fixed:{x:{boolean:Hz},y:{boolean:Hz},__type__:{object:Wz,boolean:Hz}},font:{align:{string:jz},color:{string:jz},size:{number:zz},face:{string:jz},background:{string:jz},strokeWidth:{number:zz},strokeColor:{string:jz},vadjust:{number:zz},multi:{boolean:Hz,string:jz},bold:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},boldital:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},ital:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},mono:{color:{string:jz},size:{number:zz},face:{string:jz},mod:{string:jz},vadjust:{number:zz},__type__:{object:Wz,string:jz}},__type__:{object:Wz,string:jz}},group:{string:jz,number:zz,undefined:"undefined"},heightConstraint:{minimum:{number:zz},valign:{string:jz},__type__:{object:Wz,boolean:Hz,number:zz}},hidden:{boolean:Hz},icon:{face:{string:jz},code:{string:jz},size:{number:zz},color:{string:jz},weight:{string:jz,number:zz},__type__:{object:Wz}},id:{string:jz,number:zz},image:{selected:{string:jz,undefined:"undefined"},unselected:{string:jz,undefined:"undefined"},__type__:{object:Wz,string:jz}},imagePadding:{top:{number:zz},right:{number:zz},bottom:{number:zz},left:{number:zz},__type__:{object:Wz,number:zz}},label:{string:jz,undefined:"undefined"},labelHighlightBold:{boolean:Hz},level:{number:zz,undefined:"undefined"},margin:{top:{number:zz},right:{number:zz},bottom:{number:zz},left:{number:zz},__type__:{object:Wz,number:zz}},mass:{number:zz},physics:{boolean:Hz},scaling:{min:{number:zz},max:{number:zz},label:{enabled:{boolean:Hz},min:{number:zz},max:{number:zz},maxVisible:{number:zz},drawThreshold:{number:zz},__type__:{object:Wz,boolean:Hz}},customScalingFunction:{function:"function"},__type__:{object:Wz}},shadow:{enabled:{boolean:Hz},color:{string:jz},size:{number:zz},x:{number:zz},y:{number:zz},__type__:{object:Wz,boolean:Hz}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:Hz,array:"array"},borderRadius:{number:zz},interpolation:{boolean:Hz},useImageSize:{boolean:Hz},useBorderWithImage:{boolean:Hz},__type__:{object:Wz}},size:{number:zz},title:{string:jz,dom:"dom",undefined:"undefined"},value:{number:zz,undefined:"undefined"},widthConstraint:{minimum:{number:zz},maximum:{number:zz},__type__:{object:Wz,boolean:Hz,number:zz}},x:{number:zz},y:{number:zz},__type__:{object:Wz}},physics:{enabled:{boolean:Hz},barnesHut:{gravitationalConstant:{number:zz},centralGravity:{number:zz},springLength:{number:zz},springConstant:{number:zz},damping:{number:zz},avoidOverlap:{number:zz},__type__:{object:Wz}},forceAtlas2Based:{gravitationalConstant:{number:zz},centralGravity:{number:zz},springLength:{number:zz},springConstant:{number:zz},damping:{number:zz},avoidOverlap:{number:zz},__type__:{object:Wz}},repulsion:{centralGravity:{number:zz},springLength:{number:zz},springConstant:{number:zz},nodeDistance:{number:zz},damping:{number:zz},__type__:{object:Wz}},hierarchicalRepulsion:{centralGravity:{number:zz},springLength:{number:zz},springConstant:{number:zz},nodeDistance:{number:zz},damping:{number:zz},avoidOverlap:{number:zz},__type__:{object:Wz}},maxVelocity:{number:zz},minVelocity:{number:zz},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Hz},iterations:{number:zz},updateInterval:{number:zz},onlyDynamicEdges:{boolean:Hz},fit:{boolean:Hz},__type__:{object:Wz,boolean:Hz}},timestep:{number:zz},adaptiveTimestep:{boolean:Hz},__type__:{object:Wz,boolean:Hz}},autoResize:{boolean:Hz},clickToUse:{boolean:Hz},locale:{string:jz},locales:{__any__:{any:"any"},__type__:{object:Wz}},height:{string:jz},width:{string:jz},__type__:{object:Wz}};Uz.groups.__any__=Uz.nodes,Uz.manipulation.controlNodeStyle=Uz.nodes;var Yz={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}},Gz=Object.freeze({__proto__:null,allOptions:Uz,configureOptions:Yz}),qz=function(){function t(){tE(this,t)}return rE(t,[{key:"getDistances",value:function(t,e,i){for(var n={},r=t.edges,s=0;s<e.length;s++){var o={};n[e[s]]=o;for(var a=0;a<e.length;a++)o[e[a]]=s==a?0:1e9}for(var l=0;l<i.length;l++){var h=r[i[l]];!0===h.connected&&void 0!==n[h.fromId]&&void 0!==n[h.toId]&&(n[h.fromId][h.toId]=1,n[h.toId][h.fromId]=1)}for(var c=e.length,u=0;u<c;u++)for(var d=e[u],f=n[d],p=0;p<c-1;p++)for(var g=e[p],m=n[g],v=p+1;v<c;v++){var y=e[v],b=n[y],w=Math.min(m[y],m[d]+f[y]);m[y]=w,b[g]=w}return n}}]),t}(),Kz=function(){function t(e,i,n){tE(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new qz}return rE(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=.01,s=1,o=0,a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,h=1e9,c=0,u=0,d=0,f=0,p=0;h>r&&o<a;){o+=1;var g=this._getHighestEnergyNode(i),m=_B(g,4);for(c=m[0],u=m[2],d=m[3],f=h=m[1],p=0;f>s&&p<l;){p+=1,this._moveNode(c,u,d);var v=this._getEnergy(c),y=_B(v,3);f=y[0],u=y[1],d=y[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,r=e[0],s=0,o=0,a=0;a<e.length;a++){var l=e[a];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var h=this._getEnergy(l),c=_B(h,3),u=c[0];n<u&&(n=u,r=l,s=c[1],o=c[2])}}return[r,n,s,o]}},{key:"_getEnergy",value:function(t){var e=_B(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,r=this.body.nodes,s=0,o=0,a=0,l=r[t].x,h=r[t].y,c=this.K_matrix[t],u=this.L_matrix[t],d=0;d<n.length;d++){var f=n[d];if(f!==t){var p=r[f].x,g=r[f].y,m=c[f],v=u[f],y=1/Math.pow(Math.pow(l-p,2)+Math.pow(h-g,2),1.5);s+=m*(1-v*Math.pow(h-g,2)*y),o+=m*(v*(l-p)*(h-g)*y),a+=m*(1-v*Math.pow(l-p,2)*y)}}var b=(e/s+i/o)/(o/s-a/o);r[t].x+=-(o*b+e)/s,r[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[n]][e[r]]=i*t[e[n]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[n]][e[r]]=i*Math.pow(t[e[n]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var r=t[n],s=e[r].x,o=e[r].y,a=0,l=0,h=n;h<t.length;h++){var c=t[h];if(c!==r){var u=e[c].x,d=e[c].y,f=1/Math.sqrt(Math.pow(s-u,2)+Math.pow(o-d,2));this.E_matrix[r][h]=[this.K_matrix[r][c]*(s-u-this.L_matrix[r][c]*(s-u)*f),this.K_matrix[r][c]*(o-d-this.L_matrix[r][c]*(o-d)*f)],this.E_matrix[c][n]=this.E_matrix[r][h],a+=this.E_matrix[r][h][0],l+=this.E_matrix[r][h][1]}}this.E_sums[r]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],r=this.K_matrix[t],s=this.L_matrix[t],o=i[t].x,a=i[t].y,l=0,h=0,c=0;c<e.length;c++){var u=e[c];if(u!==t){var d=n[c],f=d[0],p=d[1],g=i[u].x,m=i[u].y,v=1/Math.sqrt(Math.pow(o-g,2)+Math.pow(a-m,2)),y=r[u]*(o-g-s[u]*(o-g)*v),b=r[u]*(a-m-s[u]*(a-m)*v);n[c]=[y,b],l+=y,h+=b;var w=this.E_sums[u];w[0]+=y-f,w[1]+=b-p}}this.E_sums[t]=[l,h]}}]),t}();function Zz(t,e,i){var n,r,s,o,a=this;if(!(this instanceof Zz))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:JC,clickToUse:!1},cw(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Rp(n=this.on).call(n,this),off:Rp(r=this.off).call(r,this),emit:Rp(s=this.emit).call(s,this),once:Rp(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new oE((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new aE,this.canvas=new HH(this.body),this.selectionHandler=new qH(this.body,this.canvas),this.interactionHandler=new GH(this.body,this.canvas,this.selectionHandler),this.view=new VH(this.body,this.canvas),this.renderer=new NH(this.body,this.canvas),this.physics=new AH(this.body),this.layoutEngine=new Pz(this.body),this.clustering=new FH(this.body),this.manipulation=new $z(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Nj(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new yH(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Kz(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}Np(Zz.prototype),Zz.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===Pj.validate(t,Uz)&&console.log("%cErrors have been found in the supplied options object.",Ij),dw(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Bz(this,this.body.container,Yz,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};pw(i.nodes,this.nodesHandler.options),pw(i.edges,this.edgesHandler.options),pw(i.layout,this.layoutEngine.options),pw(i.interaction,this.selectionHandler.options),pw(i.interaction,this.renderer.options),pw(i.interaction,this.interactionHandler.options),pw(i.manipulation,this.manipulation.options),pw(i.physics,this.physics.options),pw(i.global,this.canvas.options),pw(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new XC(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Zz.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],s=t[r.fromId],o=t[r.toId],a=void 0!==s&&void 0!==o;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&a&&!1===s.options.hidden&&!1===o.options.hidden&&this.body.edgeIndices.push(r.id)}},Zz.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},Zz.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=rx.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=cx(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Zz.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];rw(this.body.container)},Zz.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,r=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),n=void 0===n?s:Math.max(s,n),r+=s)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,r)},Zz.prototype.isActive=function(){return!this.activator||this.activator.active},Zz.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Zz.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Zz.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Zz.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Zz.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Zz.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Zz.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Zz.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Zz.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Zz.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Zz.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Zz.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Zz.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Zz.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Zz.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Zz.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Zz.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Zz.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Zz.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Zz.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Zz.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Zz.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Zz.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Zz.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Zz.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Zz.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Zz.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Zz.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Zz.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Zz.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Zz.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Zz.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},Zz.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},Zz.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},Zz.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},Zz.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Zz.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Zz.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},Zz.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Zz.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Zz.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Zz.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Zz.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Zz.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Zz.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Zz.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var Qz=Ff((function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var r;return e.hasOwnProperty(t)?e[t].redundant.length>0?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0!==n?i.insertBefore(r,n):i.appendChild(r)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(r,n):i.appendChild(r)),e[t].used.push(r),r},e.drawPoint=function(t,i,n,r,s,o){var a;if("circle"==n.style?((a=e.getSVGElement("circle",r,s)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):((a=e.getSVGElement("rect",r,s)).setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),o){var l=e.getSVGElement("text",r,s);o.xOffset&&(t+=o.xOffset),o.yOffset&&(i+=o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,r,s,o,a,l){if(0!=r){r<0&&(i-=r*=-1);var h=e.getSVGElement("rect",o,a);h.setAttributeNS(null,"x",t-.5*n),h.setAttributeNS(null,"y",i),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",r),h.setAttributeNS(null,"class",s),l&&h.setAttributeNS(null,"style",l)}}})),Xz=Object.freeze({__proto__:null,default:Qz,__moduleExports:Qz,prepareElements:Qz.prepareElements,cleanupElements:Qz.cleanupElements,resetElements:Qz.resetElements,getSVGElement:Qz.getSVGElement,getDOMElement:Qz.getDOMElement,drawPoint:Qz.drawPoint,drawBar:Qz.drawBar}),Jz=Ff((function(t,e){t.exports=function(){var e,i;function n(){return e.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)c(e,i)&&(t[i]=e[i]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return ke(t,e,i,n,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function g(t){var e=d(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var m=n.momentProperties=[];function v(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),m.length>0)for(i=0;i<m.length;i++)o(r=e[n=m[i]])||(t[n]=r);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=_(e)),i}function k(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&o++;return o+s}function x(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}x(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var E,T={};function O(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),T[t]||(x(e),T[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var i,n=u({},t);for(i in e)c(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)c(t,i)&&!c(e,i)&&s(t[i])&&(n[i]=u({},n[i]));return n}function R(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)c(t,e)&&i.push(e);return i};var D={};function L(t,e){var i=t.toLowerCase();D[i]=D[i+"s"]=D[e]=t}function I(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function P(t){var e,i,n={};for(i in t)c(t,i)&&(e=I(i))&&(n[e]=t[i]);return n}var $={};function F(t,e){$[t]=e}function N(t,e,i){var n=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},z={};function W(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(z[t]=r),e&&(z[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),i&&(z[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),H[e]=H[e]||function(t){var e,i,n,r=t.match(B);for(e=0,i=r.length;e<i;e++)r[e]=z[r[e]]?z[r[e]]:(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<i;n++)s+=A(r[n])?r[n].call(e,t):r[n];return s}}(e),H[e](t)):t.localeData().invalidDate()}function U(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;i>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,i-=1;return t}var Y=/\d/,G=/\d\d/,q=/\d{3}/,K=/\d{4}/,Z=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,it=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ht(t,e,i){lt[t]=A(e)?e:function(t,n){return t&&i?i:e}}function ct(t,e){return c(lt,t)?lt[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,r){return e||i||n||r}))))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ft(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),a(e)&&(n=function(t,i){i[e]=S(t)}),i=0;i<t.length;i++)dt[t[i]]=n}function pt(t,e){ft(t,(function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)}))}function gt(t,e,i){null!=e&&c(dt,t)&&dt[t](e,i._a,i,t)}function mt(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("year",1),ht("Y",rt),ht("YY",Q,G),ht("YYYY",et,K),ht("YYYYY",it,Z),ht("YYYYYY",it,Z),ft(["YYYYY","YYYYYY"],0),ft("YYYY",(function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):S(t)})),ft("YY",(function(t,e){e[0]=n.parseTwoDigitYear(t)})),ft("Y",(function(t,e){e[0]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var yt,bt=wt("FullYear",!0);function wt(t,e){return function(i){return null!=i?(St(this,t,i),n.updateOffset(this,e),this):_t(this,t)}}function _t(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function St(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&vt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?vt(t)?29:28:31-i%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),L("month","M"),F("month",8),ht("M",Q),ht("MM",Q,G),ht("MMM",(function(t,e){return e.monthsShortRegex(t)})),ht("MMMM",(function(t,e){return e.monthsRegex(t)})),ft(["M","MM"],(function(t,e){e[1]=S(t)-1})),ft(["MMM","MMMM"],(function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[1]=r:f(i).invalidMonth=t}));var xt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Tt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,o))||-1!==(r=yt.call(this._longMonthsParse,o))?r:null:-1!==(r=yt.call(this._longMonthsParse,o))||-1!==(r=yt.call(this._shortMonthsParse,o))?r:null}function Ot(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function At(t){return null!=t?(Ot(this,t),n.updateOffset(this,!0),this):_t(this,"Month")}var Mt=at,Rt=at;function Dt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)n[e]=ut(n[e]),r[e]=ut(r[e]);for(e=0;e<24;e++)s[e]=ut(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Lt(t,e,i,n,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}function It(t){var e;if(t<100&&t>=0){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Pt(t,e,i){var n=7+e-i;return-(7+It(t,0,n).getUTCDay()-e)%7+n-1}function $t(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+Pt(t,n,r);return a<=0?o=mt(s=t-1)+a:a>mt(t)?(s=t+1,o=a-mt(t)):(s=t,o=a),{year:s,dayOfYear:o}}function Ft(t,e,i){var n,r,s=Pt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Nt(r=t.year()-1,e,i):o>Nt(t.year(),e,i)?(n=o-Nt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Nt(t,e,i){var n=Pt(t,e,i),r=Pt(t+1,e,i);return(mt(t)-n+r)/7}function Bt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("week",5),F("isoWeek",5),ht("w",Q),ht("ww",Q,G),ht("W",Q),ht("WW",Q,G),pt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=S(t)})),W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ht("d",Q),ht("e",Q),ht("E",Q),ht("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ht("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ht("dddd",(function(t,e){return e.weekdaysRegex(t)})),pt(["dd","ddd","dddd"],(function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:f(i).invalidWeekday=t})),pt(["d","e","E"],(function(t,e,i,n){e[n]=S(t)}));var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._minWeekdaysParse,o))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,o))||-1!==(r=yt.call(this._weekdaysParse,o))||-1!==(r=yt.call(this._shortWeekdaysParse,o))?r:null}var Vt=at,Ut=at,Yt=at;function Gt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),l.push(s),h.push(n),h.push(r),h.push(s);for(o.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=ut(a[e]),l[e]=ut(l[e]),h[e]=ut(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function qt(){return this.hours()%12||12}function Kt(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Zt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,qt),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+qt.apply(this)+N(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+qt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Kt("a",!0),Kt("A",!1),L("hour","h"),F("hour",13),ht("a",Zt),ht("A",Zt),ht("H",Q),ht("h",Q),ht("k",Q),ht("HH",Q,G),ht("hh",Q,G),ht("kk",Q,G),ht("hmm",X),ht("hmmss",J),ht("Hmm",X),ht("Hmmss",J),ft(["H","HH"],3),ft(["k","kk"],(function(t,e,i){var n=S(t);e[3]=24===n?0:n})),ft(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),ft(["h","hh"],(function(t,e,i){e[3]=S(t),f(i).bigHour=!0})),ft("hmm",(function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n)),f(i).bigHour=!0})),ft("hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r)),f(i).bigHour=!0})),ft("Hmm",(function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n))})),ft("Hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r))}));var Qt,Xt=wt("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:Et,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:zt,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function ne(e){var i=null;if(!te[e]&&t&&t.exports)try{i=Qt._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),re(i)}catch(t){}return te[e]}function re(t,e){var i;return t&&((i=o(e)?oe(t):se(t,e))?Qt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function se(t,e){if(null!==e){var i,n=Jt;if(e.abbr=t,null!=te[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])n=te[e.parentLocale]._config;else{if(null==(i=ne(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;n=i._config}return te[t]=new R(M(n,e)),ee[t]&&ee[t].forEach((function(t){se(t.name,t.config)})),re(t),te[t]}return delete te[t],null}function oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!r(t)){if(e=ne(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=ie(t[s]).split("-")).length,i=(i=ie(t[s+1]))?i.split("-"):null;e>0;){if(n=ne(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(r,i,!0)>=e-1)break;e--}s++}return Qt}(t)}function ae(t){var e,i=t._a;return i&&-2===f(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,f(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),f(t)._overflowWeeks&&-1===e&&(e=7),f(t)._overflowWeekday&&-1===e&&(e=8),f(t).overflow=e),t}function le(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e,i,r,s,o,a=[];if(!t._d){for(r=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=le(e.GG,t._a[0],Ft(xe(),1,4).year),n=le(e.W,1),((r=le(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var h=Ft(xe(),s,o);i=le(e.gg,t._a[0],h.year),n=le(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}n<1||n>Nt(i,s,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=$t(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=le(t._a[0],r[0]),(t._dayOfYear>mt(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),i=It(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:Lt).apply(null,a),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(f(t).weekdayMismatch=!0)}}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function me(t){var e,i,n,r,s,o,a=t._i,l=ce.exec(a)||ue.exec(a);if(l){for(f(t).iso=!0,e=0,i=fe.length;e<i;e++)if(fe[e][1].exec(l[1])){r=fe[e][0],n=!1!==fe[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(l[3])){s=(l[2]||" ")+pe[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!de.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),_e(t)}else t._isValid=!1}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ye(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function we(t){var e,i,n,r,s,o,a=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(a){var l=(e=a[3],i=a[2],n=a[5],r=a[6],s=a[7],o=[ye(a[4]),Et.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)],s&&o.push(parseInt(s,10)),o);if(!function(t,e,i){return!t||Ht.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}(a[1],l,t))return;t._a=l,t._tzm=function(t,e,i){if(t)return be[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(a[8],a[9],a[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function _e(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],f(t).empty=!0;var e,i,r,s,o,a=""+t._i,l=a.length,h=0;for(r=U(t._f,t._locale).match(B)||[],e=0;e<r.length;e++)(i=(a.match(ct(s=r[e],t))||[])[0])&&((o=a.substr(0,a.indexOf(i))).length>0&&f(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),h+=i.length),z[s]?(i?f(t).empty=!1:f(t).unusedTokens.push(s),gt(s,i,t)):t._strict&&!i&&f(t).unusedTokens.push(s);f(t).charsLeftOver=l-h,a.length>0&&f(t).unusedInput.push(a),t._a[3]<=12&&!0===f(t).bigHour&&t._a[3]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),he(t),ae(t)}else we(t);else me(t)}function Se(t){var e=t._i,i=t._f;return t._locale=t._locale||oe(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(ae(e)):(l(e)?t._d=e:r(i)?function(t){var e,i,n,r,s;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],_e(e),p(e)&&(s+=f(e).charsLeftOver,s+=10*f(e).unusedTokens.length,f(e).score=s,(null==n||s<n)&&(n=s,i=e));u(t,i||e)}(t):i?_e(t):function(t){var e=t._i;o(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ge.exec(t._i);null===e?(me(t),!1===t._isValid&&(delete t._isValid,we(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),he(t)):s(e)?function(t){if(!t._d){var e=P(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),he(t)}}(t):a(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function ke(t,e,i,n,o){var a,l={};return!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=i,l._i=t,l._f=e,l._strict=n,(a=new b(ae(Se(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xe(t,e,i,n){return ke(t,e,i,n,!1)}n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ce=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Ee=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}));function Te(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return xe();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=P(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===yt.call(Oe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Oe.length;++n)if(t[Oe[n]]){if(i)return!1;parseFloat(t[Oe[n]])!==S(t[Oe[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=oe(),this._bubble()}function Me(t){return t instanceof Ae}function Re(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,e){W(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)}))}De("Z",":"),De("ZZ",""),ht("Z",ot),ht("ZZ",ot),ft(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Ie(ot,t)}));var Le=/([\+\-]|\d\d)/gi;function Ie(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Le)||["-",0,0],r=60*n[1]+S(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Pe(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(w(t)||l(t)?t.valueOf():xe(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):xe(t).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ne=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function je(t,e){var i,n,r,s,o,l,h=t,u=null;return Me(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(h={},e?h[e]=t:h.milliseconds=t):(u=Ne.exec(t))?(i="-"===u[1]?-1:1,h={y:0,d:S(u[2])*i,h:S(u[3])*i,m:S(u[4])*i,s:S(u[5])*i,ms:S(Re(1e3*u[6]))*i}):(u=Be.exec(t))?h={y:He(u[2],i="-"===u[1]?-1:1),M:He(u[3],i),w:He(u[4],i),d:He(u[5],i),h:He(u[6],i),m:He(u[7],i),s:He(u[8],i)}:null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(s=xe(h.from),o=xe(h.to),r=s.isValid()&&o.isValid()?(o=Pe(o,s),s.isBefore(o)?l=ze(s,o):((l=ze(o,s)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(h={}).ms=r.milliseconds,h.M=r.months),n=new Ae(h),Me(t)&&c(t,"_locale")&&(n._locale=t._locale),n}function He(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ze(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function We(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Ve(this,je(i="string"==typeof i?+i:i,n),t),this}}function Ve(t,e,i,r){var s=e._milliseconds,o=Re(e._days),a=Re(e._months);t.isValid()&&(r=null==r||r,a&&Ot(t,_t(t,"Month")+a*i),o&&St(t,"Date",_t(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),r&&n.updateOffset(t,o||a))}je.fn=Ae.prototype,je.invalid=function(){return je(NaN)};var Ue=We(1,"add"),Ye=We(-1,"subtract");function Ge(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=oe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ke=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ze(){return this._locale}var Qe=6e4,Xe=60*Qe,Je=3506328*Xe;function ti(t,e){return(t%e+e)%e}function ei(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-Je:new Date(t,e,i).valueOf()}function ii(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-Je:Date.UTC(t,e,i)}function ni(t,e){W(0,[t,t.length],0,e)}function ri(t,e,i,n,r){var s;return null==t?Ft(this,n,r).year:(e>(s=Nt(t,n,r))&&(e=s),si.call(this,t,e,i,n,r))}function si(t,e,i,n,r){var s=$t(t,e,i,n,r),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ni("gggg","weekYear"),ni("ggggg","weekYear"),ni("GGGG","isoWeekYear"),ni("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ht("G",rt),ht("g",rt),ht("GG",Q,G),ht("gg",Q,G),ht("GGGG",et,K),ht("gggg",et,K),ht("GGGGG",it,Z),ht("ggggg",it,Z),pt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=S(t)})),pt(["gg","GG"],(function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),L("quarter","Q"),F("quarter",7),ht("Q",Y),ft("Q",(function(t,e){e[1]=3*(S(t)-1)})),W("D",["DD",2],"Do","date"),L("date","D"),F("date",9),ht("D",Q),ht("DD",Q,G),ht("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),ft(["D","DD"],2),ft("Do",(function(t,e){e[2]=S(t.match(Q)[0])}));var oi=wt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("dayOfYear",4),ht("DDD",tt),ht("DDDD",q),ft(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=S(t)})),W("m",["mm",2],0,"minute"),L("minute","m"),F("minute",14),ht("m",Q),ht("mm",Q,G),ft(["m","mm"],4);var ai=wt("Minutes",!1);W("s",["ss",2],0,"second"),L("second","s"),F("second",15),ht("s",Q),ht("ss",Q,G),ft(["s","ss"],5);var li,hi=wt("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),L("millisecond","ms"),F("millisecond",16),ht("S",tt,Y),ht("SS",tt,G),ht("SSS",tt,q),li="SSSS";li.length<=9;li+="S")ht(li,nt);function ci(t,e){e[6]=S(1e3*("0."+t))}for(li="S";li.length<=9;li+="S")ft(li,ci);var ui=wt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var di=b.prototype;function fi(t){return t}di.add=Ue,di.calendar=function(t,e){var i=t||xe(),r=Pe(i,this).startOf("day"),s=n.calendarFormat(this,r)||"sameElse",o=e&&(A(e[s])?e[s].call(this,i):e[s]);return this.format(o||this.localeData().calendar(s,this,xe(i)))},di.clone=function(){return new b(this)},di.diff=function(t,e,i){var n,r,s;if(!this.isValid())return NaN;if(!(n=Pe(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=I(e)){case"year":s=Ge(this,n)/12;break;case"month":s=Ge(this,n);break;case"quarter":s=Ge(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:_(s)},di.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xe-ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe)-1;break;case"minute":e=this._d.valueOf(),e+=Qe-ti(e,Qe)-1;break;case"second":e=this._d.valueOf(),e+=1e3-ti(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},di.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},di.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||xe(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.fromNow=function(t){return this.from(xe(),t)},di.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||xe(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.toNow=function(t){return this.to(xe(),t)},di.get=function(t){return A(this[t=I(t)])?this[t]():this},di.invalidAt=function(){return f(this).overflow},di.isAfter=function(t,e){var i=w(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},di.isBefore=function(t,e){var i=w(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},di.isBetween=function(t,e,i,n){var r=w(t)?t:xe(t),s=w(e)?e:xe(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},di.isSame=function(t,e){var i,n=w(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},di.isValid=function(){return p(this)},di.lang=Ke,di.locale=qe,di.localeData=Ze,di.max=Ee,di.min=Ce,di.parsingFlags=function(){return u({},f(this))},di.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:$[i]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=P(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(A(this[t=I(t)]))return this[t](e);return this},di.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ii:ei;switch(t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ti(e+(this._isUTC?0:this.utcOffset()*Qe),Xe);break;case"minute":e=this._d.valueOf(),e-=ti(e,Qe);break;case"second":e=this._d.valueOf(),e-=ti(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},di.subtract=Ye,di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},di.toDate=function(){return new Date(this.valueOf())},di.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?V(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(i,"Z")):V(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},di.toJSON=function(){return this.isValid()?this.toISOString():null},di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},di.unix=function(){return Math.floor(this.valueOf()/1e3)},di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},di.year=bt,di.isLeapYear=function(){return vt(this.year())},di.weekYear=function(t){return ri.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},di.isoWeekYear=function(t){return ri.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},di.quarter=di.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},di.month=At,di.daysInMonth=function(){return kt(this.year(),this.month())},di.week=di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},di.isoWeek=di.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},di.weeksInYear=function(){var t=this.localeData()._week;return Nt(this.year(),t.dow,t.doy)},di.isoWeeksInYear=function(){return Nt(this.year(),1,4)},di.date=oi,di.day=di.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},di.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},di.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},di.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},di.hour=di.hours=Xt,di.minute=di.minutes=ai,di.second=di.seconds=hi,di.millisecond=di.milliseconds=ui,di.utcOffset=function(t,e,i){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ie(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=$e(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?Ve(this,je(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:$e(this)},di.utc=function(t){return this.utcOffset(0,t)},di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this},di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ie(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},di.isLocal=function(){return!!this.isValid()&&!this._isUTC},di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},di.isUtc=Fe,di.isUTC=Fe,di.zoneAbbr=function(){return this._isUTC?"UTC":""},di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},di.dates=C("dates accessor is deprecated. Use date instead.",oi),di.months=C("months accessor is deprecated. Use month instead",At),di.years=C("years accessor is deprecated. Use year instead",bt),di.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),di.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Se(t))._a){var e=t._isUTC?d(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var pi=R.prototype;function gi(t,e,i,n){var r=oe(),s=d().set(n,e);return r[i](s,t)}function mi(t,e,i){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return gi(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=gi(t,n,i,"month");return r}function vi(t,e,i,n){"boolean"==typeof t?(a(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,a(e)&&(i=e,e=void 0),e=e||"");var r,s=oe(),o=t?s._week.dow:0;if(null!=i)return gi(e,(i+o)%7,n,"day");var l=[];for(r=0;r<7;r++)l[r]=gi(e,(r+o)%7,n,"day");return l}pi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return A(n)?n.call(e,i):n},pi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},pi.invalidDate=function(){return this._invalidDate},pi.ordinal=function(t){return this._ordinal.replace("%d",t)},pi.preparse=fi,pi.postformat=fi,pi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return A(r)?r(t,e,i,n):r.replace(/%d/i,t)},pi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return A(i)?i(e):i.replace(/%s/i,e)},pi.set=function(t){var e,i;for(i in t)A(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pi.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},pi.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pi.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return Tt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},pi.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Rt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pi.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pi.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},pi.firstDayOfYear=function(){return this._week.doy},pi.firstDayOfWeek=function(){return this._week.dow},pi.weekdays=function(t,e){var i=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Bt(i,this._week.dow):t?i[t.day()]:i},pi.weekdaysMin=function(t){return!0===t?Bt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},pi.weekdaysShort=function(t){return!0===t?Bt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},pi.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return Wt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},pi.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},re("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",re),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",oe);var yi=Math.abs;function bi(t,e,i,n){var r=je(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function wi(t){return t<0?Math.floor(t):Math.ceil(t)}function _i(t){return 4800*t/146097}function Si(t){return 146097*t/4800}function ki(t){return function(){return this.as(t)}}var xi=ki("ms"),Ci=ki("s"),Ei=ki("m"),Ti=ki("h"),Oi=ki("d"),Ai=ki("w"),Mi=ki("M"),Ri=ki("Q"),Di=ki("y");function Li(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ii=Li("milliseconds"),Pi=Li("seconds"),$i=Li("minutes"),Fi=Li("hours"),Ni=Li("days"),Bi=Li("months"),ji=Li("years"),Hi=Math.round,zi={ss:44,s:45,m:45,h:22,d:26,M:11};function Wi(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}var Vi=Math.abs;function Ui(t){return(t>0)-(t<0)||+t}function Yi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Vi(this._milliseconds)/1e3,n=Vi(this._days),r=Vi(this._months);t=_(i/60),e=_(t/60),i%=60,t%=60;var s=_(r/12),o=r%=12,a=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",f=Ui(this._months)!==Ui(u)?"-":"",p=Ui(this._days)!==Ui(u)?"-":"",g=Ui(this._milliseconds)!==Ui(u)?"-":"";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Gi=Ae.prototype;return Gi.isValid=function(){return this._isValid},Gi.abs=function(){var t=this._data;return this._milliseconds=yi(this._milliseconds),this._days=yi(this._days),this._months=yi(this._months),t.milliseconds=yi(t.milliseconds),t.seconds=yi(t.seconds),t.minutes=yi(t.minutes),t.hours=yi(t.hours),t.months=yi(t.months),t.years=yi(t.years),this},Gi.add=function(t,e){return bi(this,t,e,1)},Gi.subtract=function(t,e){return bi(this,t,e,-1)},Gi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+_i(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Si(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Gi.asMilliseconds=xi,Gi.asSeconds=Ci,Gi.asMinutes=Ei,Gi.asHours=Ti,Gi.asDays=Oi,Gi.asWeeks=Ai,Gi.asMonths=Mi,Gi.asQuarters=Ri,Gi.asYears=Di,Gi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Gi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*wi(Si(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=_(s/1e3),l.seconds=t%60,e=_(t/60),l.minutes=e%60,i=_(e/60),l.hours=i%24,o+=_(i/24),a+=r=_(_i(o)),o-=wi(Si(r)),n=_(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},Gi.clone=function(){return je(this)},Gi.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Gi.milliseconds=Ii,Gi.seconds=Pi,Gi.minutes=$i,Gi.hours=Fi,Gi.days=Ni,Gi.weeks=function(){return _(this.days()/7)},Gi.months=Bi,Gi.years=ji,Gi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=je(t).abs(),r=Hi(n.as("s")),s=Hi(n.as("m")),o=Hi(n.as("h")),a=Hi(n.as("d")),l=Hi(n.as("M")),h=Hi(n.as("y")),c=r<=zi.ss&&["s",r]||r<zi.s&&["ss",r]||s<=1&&["m"]||s<zi.m&&["mm",s]||o<=1&&["h"]||o<zi.h&&["hh",o]||a<=1&&["d"]||a<zi.d&&["dd",a]||l<=1&&["M"]||l<zi.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Wi.apply(null,c)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Gi.toISOString=Yi,Gi.toString=Yi,Gi.toJSON=Yi,Gi.locale=qe,Gi.localeData=Ze,Gi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yi),Gi.lang=Ke,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",rt),ht("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))})),ft("x",(function(t,e,i){i._d=new Date(S(t))})),n.version="2.24.0",e=xe,n.fn=di,n.min=function(){return Te("isBefore",[].slice.call(arguments,0))},n.max=function(){return Te("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(t){return xe(1e3*t)},n.months=function(t,e){return mi(t,e,"months")},n.isDate=l,n.locale=re,n.invalid=g,n.duration=je,n.isMoment=w,n.weekdays=function(t,e,i){return vi(t,e,i,"weekdays")},n.parseZone=function(){return xe.apply(null,arguments).parseZone()},n.localeData=oe,n.isDuration=Me,n.monthsShort=function(t,e){return mi(t,e,"monthsShort")},n.weekdaysMin=function(t,e,i){return vi(t,e,i,"weekdaysMin")},n.defineLocale=se,n.updateLocale=function(t,e){if(null!=e){var i,n,r=Jt;null!=(n=ne(t))&&(r=n._config),(i=new R(e=M(r,e))).parentLocale=te[t],te[t]=i,re(t)}else null!=te[t]&&(null!=te[t].parentLocale?te[t]=te[t].parentLocale:null!=te[t]&&delete te[t]);return te[t]},n.locales=function(){return E(te)},n.weekdaysShort=function(t,e,i){return vi(t,e,i,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(t){return void 0===t?Hi:"function"==typeof t&&(Hi=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==zi[t]&&(void 0===e?zi[t]:(zi[t]=e,"s"===t&&(zi.ss=e-1),!0))},n.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},n.prototype=di,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()})),tW="undefined"!=typeof window&&window.moment||Jz,eW=Object.freeze({__proto__:null,default:tW,__moduleExports:tW});Object.freeze({__proto__:null,network:{Images:oE,dotparser:sx,gephiParser:ux,allOptions:Gz,convertDot:nx,convertGephi:cx},DOMutil:Xz,util:l_,data:iN,moment:eW,Hammer:ZC,keycharm:fx,DataSet:tN,DataView:eN,Queue:GF,Network:Zz}),Pf.define("ace/mode/progLin_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(t,e,i){const n=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"keyword",regex:"max"},{token:"keyword",regex:"min"},{token:"keyword",regex:"sujeito a:"},{token:"keyword",regex:"st:"},{token:"constant.numeric",regex:/\d+/},{token:"keyword.operator",regex:/>=|==|<=|=|\+|\-|\*|\//},{token:"variable",regex:/\w+/}]},this.normalizeRules()};n.inherits(s,r),e.ProgLinHighlightRules=s})),Pf.define("ace/mode/progLin",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/progLin_highlight_rules"],(function(t,e,i){const n=t("../lib/oop"),r=t("./text").Mode,s=t("./progLin_highlight_rules").ProgLinHighlightRules,o=function(){this.HighlightRules=s,this.$behaviour=this.$defaultBehaviour};n.inherits(o,r),e.Mode=o})),i("xJsF");var iW=i("NlPq");function nW(t,e){return new n.a(e?i=>e.schedule(rW,0,{error:t,subscriber:i}):e=>e.error(t))}function rW({error:t,subscriber:e}){e.error(t)}var sW=i("mguw");function oW(t){return console.error(t),nW("The code reached an unexpected path")}const aW=BigInt(1);function lW(t){return new sW.Fraction(BigInt(t.numerator),BigInt(t.denominator))}function hW(t,e){const i=document.createElement("div");i.style.display="grid",i.style.gridTemplateColumns="";for(let n=0;n<e.length;n++){const{numerator:r,denominator:s}=t[n],o=document.createElement("div");o.style.marginLeft="1em",o.style.marginRight=".5em",o.innerText=e[n]+":";const a=document.createElement("div");if("1"===s)a.innerText=r;else{const t=document.createElement("div");t.innerText=r;const e=document.createElement("div");e.style.borderTop="1px solid",e.innerText=s,a.appendChild(t),a.appendChild(e)}i.append(o),i.appendChild(a),i.style.gridTemplateColumns+=" auto auto"}return i}let cW=0;function uW(t){let e;do{e="g_"+cW++}while(-1!==t.indexOf(e));return e}function dW(t,e){return{numerator:t,denominator:e}}const fW=dW("0","1"),pW=dW("1","1"),gW=dW("-1","1");function mW(t){return null!=t&&"false"!==`${t}`}function vW(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function yW(t){return Array.isArray(t)?t:[t]}function bW(t){return null==t?"":"string"==typeof t?t:`${t}px`}function wW(t){return t instanceof Co?t.nativeElement:t}function _W(t,e,i,r){return Object(Wc.a)(i)&&(r=i,i=void 0),r?_W(t,e,i).pipe(C(t=>Object(tc.a)(t)?r(...t):r(t))):new n.a(n=>{!function t(e,i,n,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(i,n,s),o=()=>t.removeEventListener(i,n,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(i,n),o=()=>t.off(i,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(i,n),o=()=>t.removeListener(i,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],i,n,r,s)}r.add(o)}(t,e,(function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),n,i)})}void 0===typeof BigInt&&(BigInt=t=>parseInt(t,10));class SW extends s.a{constructor(t,e){super()}schedule(t,e=0){return this}}class kW extends SW{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,n=void 0;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let xW=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class CW extends xW{constructor(t,e=xW.now){super(t,()=>CW.delegate&&CW.delegate!==this?CW.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return CW.delegate&&CW.delegate!==this?CW.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}class EW{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new TW(t,this.compare,this.keySelector))}}class TW extends r.a{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:t}=this;i=t(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}const OW=new CW(kW);class AW{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new MW(t,this.durationSelector))}}class MW extends x{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:e}=this;i=e(t)}catch(e){return this.destination.error(e)}const n=k(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function RW(t){return!Object(tc.a)(t)&&t-parseFloat(t)+1>=0}function DW(t=0,e,i){let r=-1;return RW(e)?r=Number(e)<1?1:Number(e):d(e)&&(i=e),d(i)||(i=OW),new n.a(e=>{const n=RW(t)?t:+t-i.now();return i.schedule(LW,n,{index:0,period:r,subscriber:e})})}function LW(t){const{index:e,period:i,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===i)return n.complete();t.index=e+1,this.schedule(t,i)}}function IW(t,e=OW){return i=()=>DW(t,e),function(t){return t.lift(new AW(i))};var i}function PW(t){return e=>e.lift(new $W(t))}class $W{constructor(t){this.notifier=t}call(t,e){const i=new FW(t),n=k(i,this.notifier);return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}class FW extends x{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,i,n,r){this.seenValue=!0,this.complete()}notifyComplete(){}}class NW extends kW{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}}class BW extends CW{}const jW=new BW(NW);let HW,zW=(()=>{class t{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Qh(this.value);case"E":return nW(this.error);case"C":return sc()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class WW extends r.a{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(WW.dispatch,this.delay,new VW(t,this.destination)))}_next(t){this.scheduleMessage(zW.createNext(t))}_error(t){this.scheduleMessage(zW.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(zW.createComplete()),this.unsubscribe()}}class VW{constructor(t,e){this.notification=t,this.destination=e}}class UW extends c{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new YW(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,r=i.length;let l;if(this.closed)throw new o;if(this.isStopped||this.hasError?l=s.a.EMPTY:(this.observers.push(t),l=new a(this,t)),n&&t.add(t=new WW(t,n)),e)for(let s=0;s<r&&!t.closed;s++)t.next(i[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l}_getNow(){return(this.scheduler||jW).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,r=n.length;let s=0;for(;s<r&&!(t-n[s].time<i);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&n.splice(0,s),n}}class YW{constructor(t,e){this.time=t,this.value=e}}function GW(t,e,i){let n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:i},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let r,s,o=0,a=!1,l=!1;return function(h){o++,r&&!a||(a=!1,r=new UW(t,e,n),s=h.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,s=void 0,r.complete()}}));const c=r.subscribe(this);this.add(()=>{o--,c.unsubscribe(),s&&!l&&i&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(n))}try{HW="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(V_){HW=!1}let qW,KW=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!HW)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Ft(Ga,8))},t.\u0275prov=J({factory:function(){return new t(Ft(Ga,8))},token:t,providedIn:"root"}),t})(),ZW=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)}}),t})();function QW(t){return function(){if(null==qW&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qW=!0}))}finally{qW=qW||!1}return qW}()?t:!!t.capture}const XW=new Tt("cdk-dir-doc",{providedIn:"root",factory:function(){return Nt(Hl)}});let JW=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new ba,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ft(XW,8))},t.\u0275prov=J({factory:function(){return new t(Ft(XW,8))},token:t,providedIn:"root"}),t})(),tV=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)}}),t})(),eV=(()=>{class t{constructor(t,e,i){this._ngZone=t,this._platform=e,this._scrolled=new c,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new n.a(e=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(IW(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(lc(t=>!t||i.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,t)&&e.push(n)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let i=e.nativeElement,n=t.getElementRef().nativeElement;do{if(i==n)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_W(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Ft(hl),Ft(KW),Ft(Hl,8))},t.\u0275prov=J({factory:function(){return new t(Ft(hl),Ft(KW),Ft(Hl,8))},token:t,providedIn:"root"}),t})(),iV=(()=>{class t{constructor(t,e,i){this._platform=t,this._document=i,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?$(_W(e,"resize"),_W(e,"orientationchange")):Qh(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),i=t.documentElement,n=i.getBoundingClientRect();return{top:-n.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-n.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IW(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Ft(KW),Ft(hl),Ft(Hl,8))},t.\u0275prov=J({factory:function(){return new t(Ft(KW),Ft(hl),Ft(Hl,8))},token:t,providedIn:"root"}),t})(),nV=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},imports:[[tV,ZW],tV]}),t})();function rV(){throw Error("Host already has a portal attached")}class sV{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&rV(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class oV extends sV{constructor(t,e,i,n){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n}}class aV extends sV{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class lV extends sV{constructor(t){super(),this.element=t instanceof Co?t.nativeElement:t}}class hV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&rV(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof oV?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof aV?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof lV?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class cV extends hV{constructor(t,e,i,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=e.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(i);-1!==t&&e.remove(t)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let uV=(()=>{class t extends aV{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(ks(Ko),ks(Qo))},t.\u0275dir=le({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ro]}),t})(),dV=(()=>{class t extends hV{constructor(t,e,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new ba,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const i=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(i,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(ks(xo),ks(Qo),ks(Hl))},t.\u0275dir=le({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ro]}),t})(),fV=(()=>{class t extends dV{}return t.\u0275fac=function(e){return pV(e||t)},t.\u0275dir=le({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[_o([{provide:dV,useExisting:t}]),ro]}),t})();const pV=Vi(fV);let gV=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)}}),t})();function mV(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class vV{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=bW(-this._previousScrollPosition.left),t.style.top=bW(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,i=this._document.body.style,n=e.scrollBehavior||"",r=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=n,i.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function yV(){return Error("Scroll strategy has already been attached.")}class bV{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw yV();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wV{enable(){}disable(){}attach(){}}function _V(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function SV(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class kV{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw yV();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();_V(t,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xV=(()=>{class t{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this.noop=()=>new wV,this.close=t=>new bV(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new vV(this._viewportRuler,this._document),this.reposition=t=>new kV(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=n}}return t.\u0275fac=function(e){return new(e||t)(Ft(eV),Ft(iV),Ft(hl),Ft(Hl))},t.\u0275prov=J({factory:function(){return new t(Ft(eV),Ft(iV),Ft(hl),Ft(Hl))},token:t,providedIn:"root"}),t})();class CV{constructor(t){if(this.scrollStrategy=new wV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class EV{constructor(t,e,i,n,r){this.offsetX=i,this.offsetY=n,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class TV{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function OV(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function AV(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let MV=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let i=e.length-1;i>-1;i--)if(e[i]._keydownEventSubscriptions>0){e[i]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl))},t.\u0275prov=J({factory:function(){return new t(Ft(Hl))},token:t,providedIn:"root"}),t})();const RV=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let DV=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||RV){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),RV?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl),Ft(KW))},t.\u0275prov=J({factory:function(){return new t(Ft(Hl),Ft(KW))},token:t,providedIn:"root"}),t})();class LV{constructor(t,e,i,r,o,a,l,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=h,this._backdropElement=null,this._backdropClick=new c,this._attachments=new c,this._detachments=new c,this._locationChanges=s.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new n.a(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new c,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ec(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=bW(this._config.width),t.height=bW(this._config.height),t.minWidth=bW(this._config.minWidth),t.minHeight=bW(this._config.minHeight),t.maxWidth=bW(this._config.maxWidth),t.maxHeight=bW(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const n=t.classList;yW(e).forEach(t=>{t&&(i?n.add(t):n.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(PW($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const IV=/([A-Za-z%]+)$/;class PV{constructor(t,e,i,n,r){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new c,this._resizeSubscription=s.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,i)?n.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(n.length){let t=null,e=-1;for(const i of n){const n=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);n>e&&(e=n,t=i)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$V(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,n;if("center"==e.originX)i=t.left+t.width/2;else{const n=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;i="start"==e.originX?n:r}return n="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:n}}_getOverlayPoint(t,e,i){let n,r;return n="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+n,y:t.y+r}}_getOverlayFit(t,e,i,n){let{x:r,y:s}=t,o=this._getOffset(n,"x"),a=this._getOffset(n,"y");o&&(r+=o),a&&(s+=a);let l=0-s,h=s+e.height-i.height,c=this._subtractOverflows(e.width,0-r,r+e.width-i.width),u=this._subtractOverflows(e.height,l,h),d=c*u;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:u===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const n=i.bottom-e.y,r=i.right-e.x,s=FV(this._overlayRef.getConfig().minHeight),o=FV(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=n)&&a}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=this._viewportRect,r=Math.max(t.x+e.width-n.right,0),s=Math.max(t.y+e.height-n.bottom,0),o=Math.max(n.top-i.top-t.y,0),a=Math.max(n.left-i.left-t.x,0);let l=0,h=0;return l=e.width<=n.width?a||-r:t.x<this._viewportMargin?n.left-i.left-t.x:0,h=e.height<=n.height?o||-s:t.y<this._viewportMargin?n.top-i.top-t.y:0,this._previousPushAmount={x:l,y:h},{x:t.x+l,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new TV(t,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,n=this._isRtl();let r,s,o,a,l,h;if("top"===e.overlayY)s=t.y,r=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=i.height-t.y+2*this._viewportMargin,r=i.height-o+this._viewportMargin;else{const e=Math.min(i.bottom-t.y+i.top,t.y),n=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>n&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-n/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)h=i.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)l=t.x,a=i.right-t.x;else{const e=Math.min(i.right-t.x+i.left,t.x),n=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>n&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-n/2)}return{top:s,left:l,bottom:o,right:h,width:a,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;n.height=bW(i.height),n.top=bW(i.top),n.bottom=bW(i.bottom),n.width=bW(i.width),n.left=bW(i.left),n.right=bW(i.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(n.maxHeight=bW(t)),r&&(n.maxWidth=bW(r))}this._lastBoundingBoxSize=i,$V(this._boundingBox.style,n)}_resetBoundingBoxStyles(){$V(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$V(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},n=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){const n=this._viewportRuler.getViewportScrollPosition();$V(i,this._getExactOverlayY(e,t,n)),$V(i,this._getExactOverlayX(e,t,n))}else i.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),i.transform=o.trim(),s.maxHeight&&(n?i.maxHeight=bW(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=bW(s.maxWidth):r&&(i.maxWidth="")),$V(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?n.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:n.top=bW(r.y),n}_getExactOverlayX(t,e,i){let n,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),n=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===n?r.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:r.left=bW(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:SV(t,i),isOriginOutsideView:_V(t,i),isOverlayClipped:SV(e,i),isOverlayOutsideView:_V(e,i)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{AV("originX",t.originX),OV("originY",t.originY),AV("overlayX",t.overlayX),OV("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&yW(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Co)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function $V(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function FV(t){if("number"!=typeof t&&null!=t){const[e,i]=t.split(IV);return i&&"px"!==i?null:parseFloat(e)}return t||null}class NV{constructor(t,e,i,n,r,s,o){this._preferredPositions=[],this._positionStrategy=new PV(i,n,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,n){const r=new EV(t,e,i,n);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class BV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:r,maxWidth:s,maxHeight:o}=i,a=!("100%"!==n&&"100vw"!==n||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jV=(()=>{class t{constructor(t,e,i,n){this._viewportRuler=t,this._document=e,this._platform=i,this._overlayContainer=n}global(){return new BV}connectedTo(t,e,i){return new NV(e,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new PV(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Ft(iV),Ft(Hl),Ft(KW),Ft(DV))},t.\u0275prov=J({factory:function(){return new t(Ft(iV),Ft(Hl),Ft(KW),Ft(DV))},token:t,providedIn:"root"}),t})(),HV=0,zV=(()=>{class t{constructor(t,e,i,n,r,s,o,a,l,h){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=i,this._positionBuilder=n,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=h}create(t){const e=this._createHostElement(),i=this._createPaneElement(e),n=this._createPortalOutlet(i),r=new CV(t);return r.direction=r.direction||this._directionality.value,new LV(n,e,i,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${HV++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Al)),new cV(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Ft(xV),Ft(DV),Ft(xo),Ft(jV),Ft(MV),Ft(ss),Ft(hl),Ft(Hl),Ft(JW),Ft(ih,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const WV={provide:new Tt("cdk-connected-overlay-scroll-strategy"),deps:[zV],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let VV=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},providers:[zV,WV],imports:[[tV,gV,nV],nV]}),t})();function UV(t,e=OW){return i=>i.lift(new YV(t,e))}class YV{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new GV(t,this.dueTime,this.scheduler))}}class GV extends r.a{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qV,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function qV(t){t.debouncedNext()}let KV=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ZV=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=wW(t);return new n.a(t=>{const i=this._observeElement(e).subscribe(t);return()=>{i.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new c,i=this._mutationObserverFactory.create(t=>e.next(t));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:i}=this._observedElements.get(t);e&&e.disconnect(),i.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Ft(KV))},t.\u0275prov=J({factory:function(){return new t(Ft(KV))},token:t,providedIn:"root"}),t})(),QV=(()=>{class t{constructor(t,e,i){this._contentObserver=t,this._elementRef=e,this._ngZone=i,this.event=new ba,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mW(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=vW(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(UV(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ks(ZV),ks(Co),ks(hl))},t.\u0275dir=le({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),XV=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},providers:[KV]}),t})();class JV extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new c,this._typeaheadSubscription=s.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new c,this.change=new c,t instanceof _a&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Vc(t=>this._pressedLetters.push(t)),UV(t),lc(()=>this._pressedLetters.length>0),C(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let i=1;i<e.length+1;i++){const n=(this._activeItemIndex+i)%e.length,r=e[n];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(n);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||mV(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),n=e[i];this._activeItem=null==n?null:n,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const n=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof _a?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let tU=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(V_){return null}}((i=t).ownerDocument&&i.ownerDocument.defaultView||window);var i;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===iU(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let n=t.nodeName.toLowerCase(),r=iU(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===n)return!1;if("audio"===n){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===n){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==n||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),i="input"===e&&t.type;return"text"===i||"password"===i||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||eU(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(Ft(KW))},t.\u0275prov=J({factory:function(){return new t(Ft(KW))},token:t,providedIn:"root"}),t})();function eU(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function iU(t){if(!eU(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class nU{constructor(t,e,i,n,r=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Qi()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let t=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Ec(1)).subscribe(t)}}let rU=(()=>{class t{constructor(t,e,i){this._checker=t,this._ngZone=e,this._document=i}create(t,e=!1){return new nU(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(Ft(tU),Ft(hl),Ft(Hl))},t.\u0275prov=J({factory:function(){return new t(Ft(tU),Ft(hl),Ft(Hl))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const sU=new Tt("cdk-focus-monitor-default-options"),oU=QW({passive:!0,capture:!0});let aU=(()=>{class t{constructor(t,e,i,n){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._document=i,this._detectionMode=(null==n?void 0:n.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Qh(null);const i=wW(t);if(this._elementInfo.has(i)){let t=this._elementInfo.get(i);return t.checkChildren=e,t.subject.asObservable()}let n={unlisten:()=>{},checkChildren:e,subject:new c};this._elementInfo.set(i,n),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,i),s=t=>this._onBlur(t,i);return this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",r,!0),i.addEventListener("blur",s,!0)}),n.unlisten=()=>{i.removeEventListener("focus",r,!0),i.removeEventListener("blur",s,!0)},n.subject.asObservable()}stopMonitoring(t){const e=wW(t),i=this._elementInfo.get(e);i&&(i.unlisten(),i.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,i){const n=wW(t);this._setOriginForCurrentEventQueue(e),"function"==typeof n.focus&&n.focus(i)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,i){i?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const i=this._elementInfo.get(e);if(!i||!i.checkChildren&&e!==t.target)return;let n=this._origin;n||(n=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,n),this._emitOrigin(i.subject,n),this._lastFocusOrigin=n}_onBlur(t,e){const i=this._elementInfo.get(e);!i||i.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(i.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,oU),t.addEventListener("mousedown",this._documentMousedownListener,oU),t.addEventListener("touchstart",this._documentTouchstartListener,oU),e.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,oU),t.removeEventListener("mousedown",this._documentMousedownListener,oU),t.removeEventListener("touchstart",this._documentTouchstartListener,oU),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(Ft(hl),Ft(KW),Ft(Hl,8),Ft(sU,8))},t.\u0275prov=J({factory:function(){return new t(Ft(hl),Ft(KW),Ft(Hl,8),Ft(sU,8))},token:t,providedIn:"root"}),t})(),lU=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new ba,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(aU))},t.\u0275dir=le({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),hU=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Ft(KW),Ft(Hl))},t.\u0275prov=J({factory:function(){return new t(Ft(KW),Ft(Hl))},token:t,providedIn:"root"}),t})(),cU=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)(Ft(hU))},imports:[[ZW,XV]]}),t})();const uU=new Do("9.2.0");class dU{}function fU(t,e){return{type:7,name:t,definitions:e,options:{}}}function pU(t,e=null){return{type:4,styles:e,timings:t}}function gU(t,e=null){return{type:2,steps:t,options:e}}function mU(t){return{type:6,styles:t,offset:null}}function vU(t,e,i){return{type:0,name:t,styles:e,options:i}}function yU(t,e,i=null){return{type:1,expr:t,animation:e,options:i}}function bU(t){Promise.resolve(null).then(t)}class wU{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _U{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,n=0;const r=this.players.length;0==r?bU(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++i==r&&this._onDestroy()}),t.onStart(()=>{++n==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const i=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(i)})}getPosition(){let t=0;return this.players.forEach(e=>{const i=e.getPosition();t=Math.min(i,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function SU(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kU(t){switch(t.length){case 0:return new wU;case 1:return t[0];default:return new _U(t)}}function xU(t,e,i,n,r={},s={}){const o=[],a=[];let l=-1,h=null;if(n.forEach(t=>{const i=t.offset,n=i==l,c=n&&h||{};Object.keys(t).forEach(i=>{let n=i,a=t[i];if("offset"!==i)switch(n=e.normalizePropertyName(n,o),a){case"!":a=r[i];break;case"*":a=s[i];break;default:a=e.normalizeStyleValue(i,n,a,o)}c[n]=a}),n||a.push(c),h=c,l=i}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function CU(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&EU(i,"start",t)));break;case"done":t.onDone(()=>n(i&&EU(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&EU(i,"destroy",t)))}}function EU(t,e,i){const n=i.totalTime,r=TU(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==n?t.totalTime:n,!!i.disabled),s=t._data;return null!=s&&(r._data=s),r}function TU(t,e,i,n,r="",s=0,o){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function OU(t,e,i){let n;return t instanceof Map?(n=t.get(e),n||t.set(e,n=i)):(n=t[e],n||(n=t[e]=i)),n}function AU(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let MU=(t,e)=>!1,RU=(t,e)=>!1,DU=(t,e,i)=>[];const LU=SU();(LU||"undefined"!=typeof Element)&&(MU=(t,e)=>t.contains(e),RU=(()=>{if(LU||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):RU}})(),DU=(t,e,i)=>{let n=[];if(i)n.push(...t.querySelectorAll(e));else{const i=t.querySelector(e);i&&n.push(i)}return n});let IU=null,PU=!1;function $U(t){IU||(IU=("undefined"!=typeof document?document.body:null)||{},PU=!!IU.style&&"WebkitAppearance"in IU.style);let e=!0;return IU.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in IU.style,!e&&PU)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in IU.style),e}const FU=RU,NU=MU,BU=DU;function jU(t){const e={};return Object.keys(t).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=t[i]}),e}let HU=(()=>{class t{validateStyleProperty(t){return $U(t)}matchesElement(t,e){return FU(t,e)}containsElement(t,e){return NU(t,e)}query(t,e,i){return BU(t,e,i)}computeStyle(t,e,i){return i||""}animate(t,e,i,n,r,s=[],o){return new wU(i,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),zU=(()=>{class t{}return t.NOOP=new HU,t})();function WU(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:VU(parseFloat(e[1]),e[2])}function VU(t,e){switch(e){case"s":return 1e3*t;default:return t}}function UU(t,e,i){return t.hasOwnProperty("duration")?t:function(t,e,i){let n,r=0,s="";if("string"==typeof t){const i=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};n=VU(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(r=VU(parseFloat(o),i[4]));const a=i[5];a&&(s=a)}else n=t;if(!i){let i=!1,s=e.length;n<0&&(e.push("Duration values below 0 are not allowed for this animation step."),i=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:n,delay:r,easing:s}}(t,e,i)}function YU(t,e={}){return Object.keys(t).forEach(i=>{e[i]=t[i]}),e}function GU(t,e,i={}){if(e)for(let n in t)i[n]=t[n];else YU(t,i);return i}function qU(t,e,i){return i?e+":"+i+";":""}function KU(t){let e="";for(let i=0;i<t.style.length;i++){const n=t.style.item(i);e+=qU(0,n,t.style.getPropertyValue(n))}for(const i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=qU(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function ZU(t,e,i){t.style&&(Object.keys(e).forEach(n=>{const r=rY(n);i&&!i.hasOwnProperty(n)&&(i[n]=t.style[r]),t.style[r]=e[n]}),SU()&&KU(t))}function QU(t,e){t.style&&(Object.keys(e).forEach(e=>{const i=rY(e);t.style[i]=""}),SU()&&KU(t))}function XU(t){return Array.isArray(t)?1==t.length?t[0]:gU(t):t}const JU=new RegExp("{{\\s*(.+?)\\s*}}","g");function tY(t){let e=[];if("string"==typeof t){let i;for(;i=JU.exec(t);)e.push(i[1]);JU.lastIndex=0}return e}function eY(t,e,i){const n=t.toString(),r=n.replace(JU,(t,n)=>{let r=e[n];return e.hasOwnProperty(n)||(i.push(`Please provide a value for the animation param ${n}`),r=""),r.toString()});return r==n?t:r}function iY(t){const e=[];let i=t.next();for(;!i.done;)e.push(i.value),i=t.next();return e}const nY=/-+([a-z0-9])/g;function rY(t){return t.replace(nY,(...t)=>t[1].toUpperCase())}function sY(t,e){return 0===t||0===e}function oY(t,e,i){const n=Object.keys(i);if(n.length&&e.length){let s=e[0],o=[];if(n.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=i[t]}),o.length)for(var r=1;r<e.length;r++){let i=e[r];o.forEach((function(e){i[e]=lY(t,e)}))}}return e}function aY(t,e,i){switch(e.type){case 7:return t.visitTrigger(e,i);case 0:return t.visitState(e,i);case 1:return t.visitTransition(e,i);case 2:return t.visitSequence(e,i);case 3:return t.visitGroup(e,i);case 4:return t.visitAnimate(e,i);case 5:return t.visitKeyframes(e,i);case 6:return t.visitStyle(e,i);case 8:return t.visitReference(e,i);case 9:return t.visitAnimateChild(e,i);case 10:return t.visitAnimateRef(e,i);case 11:return t.visitQuery(e,i);case 12:return t.visitStagger(e,i);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function lY(t,e){return window.getComputedStyle(t)[e]}function hY(t,e){const i=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,i){if(":"==t[0]){const n=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,i);if("function"==typeof n)return void e.push(n);t=n}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${t}" is not supported`),e;const r=n[1],s=n[2],o=n[3];e.push(dY(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(dY(o,r))}(t,i,e)):i.push(t),i}const cY=new Set(["true","1"]),uY=new Set(["false","0"]);function dY(t,e){const i=cY.has(t)||uY.has(t),n=cY.has(e)||uY.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&i&&"boolean"==typeof r&&(o=r?cY.has(t):uY.has(t)),!a&&n&&"boolean"==typeof s&&(a=s?cY.has(e):uY.has(e)),o&&a}}const fY=new RegExp("s*:selfs*,?","g");function pY(t,e,i){return new gY(t).build(e,i)}class gY{constructor(t){this._driver=t}build(t,e){const i=new mY(e);return this._resetContextStyleTimingState(i),aY(this,XU(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const i=t,n=i.name;n.toString().split(/\s*,\s*/).forEach(t=>{i.name=t,r.push(this.visitState(i,e))}),i.name=n}else if(1==t.type){const r=this.visitTransition(t,e);i+=r.queryCount,n+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,s=n||{};if(i.styles.forEach(t=>{if(vY(t)){const e=t;Object.keys(e).forEach(t=>{tY(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const i=iY(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=aY(this,XU(t.animation),e);return{type:1,matchers:hY(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:yY(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>aY(this,t,e)),options:yY(t.options)}}visitGroup(t,e){const i=e.currentTime;let n=0;const r=t.steps.map(t=>{e.currentTime=i;const r=aY(this,t,e);return n=Math.max(n,e.currentTime),r});return e.currentTime=n,{type:3,steps:r,options:yY(t.options)}}visitAnimate(t,e){const i=function(t,e){let i=null;if(t.hasOwnProperty("duration"))i=t;else if("number"==typeof t)return bY(UU(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=bY(0,0,"");return t.dynamic=!0,t.strValue=n,t}return i=i||UU(n,e),bY(i.duration,i.delay,i.easing)}(t.timings,e.errors);let n;e.currentAnimateTimings=i;let r=t.styles?t.styles:mU({});if(5==r.type)n=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};i.easing&&(t.easing=i.easing),r=mU(t)}e.currentTime+=i.duration+i.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,n=o}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?i.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):i.push(t)}):i.push(t.styles);let n=!1,r=null;return i.forEach(t=>{if(vY(t)){const e=t,i=e.easing;if(i&&(r=i,delete e.easing),!n)for(let t in e)if(e[t].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let n=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void e.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[i];let a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(e.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${n}ms"`),a=!1),r=o.startTime),a&&(s[i]={startTime:r,endTime:n}),e.options&&function(t,e,i){const n=e.params||{},r=tY(t);r.length&&r.forEach(t=>{n.hasOwnProperty(t)||i.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[i],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const i=this._makeStyleAst(t,e);let l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(vY(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(vY(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}return e}(i.styles),h=0;return null!=l&&(n++,h=i.offset=l),o=o||h<0||h>1,s=s||h<a,a=h,r.push(h),i});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const h=t.steps.length;let c=0;n>0&&n<h?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(c=1/(h-1));const u=h-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,n)=>{const s=c>0?n==u?1:c*n:r[n],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,i.styles.push(t)}),i}visitReference(t,e){return{type:8,animation:aY(this,XU(t.animation),e),options:yY(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yY(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yY(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(fY,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,OU(e.collectedStyles,e.currentQuerySelector,{});const o=aY(this,XU(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:yY(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:UU(t.timings,e.errors,!0);return{type:12,animation:aY(this,XU(t.animation),e),timings:i,options:null}}}class mY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vY(t){return!Array.isArray(t)&&"object"==typeof t}function yY(t){var e;return t?(t=YU(t)).params&&(t.params=(e=t.params)?YU(e):null):t={},t}function bY(t,e,i){return{duration:t,delay:e,easing:i}}function wY(t,e,i,n,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class _Y{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const SY=new RegExp(":enter","g"),kY=new RegExp(":leave","g");function xY(t,e,i,n,r,s={},o={},a,l,h=[]){return(new CY).buildKeyframes(t,e,i,n,r,s,o,a,l,h)}class CY{buildKeyframes(t,e,i,n,r,s,o,a,l,h=[]){l=l||new _Y;const c=new TY(t,e,l,n,r,h,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),aY(this,i,c);const u=c.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[wY(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const n=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let n=e.currentTimeline.currentTime;const r=null!=i.duration?WU(i.duration):null,s=null!=i.delay?WU(i.delay):null;return 0!==r&&t.forEach(t=>{const i=e.appendInstructionToTimeline(t,r,s);n=Math.max(n,i.duration+i.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),aY(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let n=e;const r=t.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=EY);const t=WU(r.delay);n.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>aY(this,t,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let n=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?WU(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),aY(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return UU(e.params?eY(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,n=e.currentTimeline.duration,r=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,n=t.options||{},r=n.delay?WU(n.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=EY);let s=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((i,n)=>{e.currentQueryIndex=n;const o=e.createSubContext(t.options,i);r&&o.delayNextStep(r),i===e.element&&(a=o.currentTimeline),aY(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,n=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const h=l.currentTime;aY(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-h+(n.startTime-i.currentTimeline.startTime)}}const EY={};class TY{constructor(t,e,i,n,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EY,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new OY(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let n=this.options;null!=i.duration&&(n.duration=WU(i.duration)),null!=i.delay&&(n.delay=WU(i.delay));const r=i.params;if(r){let t=n.params;t||(t=this.options.params={}),Object.keys(r).forEach(i=>{e&&t.hasOwnProperty(i)||(t[i]=eY(r[i],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(t=>{i[t]=e[t]})}}return t}createSubContext(t=null,e,i){const n=e||this.element,r=new TY(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=EY,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new AY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,r,s){let o=[];if(n&&o.push(this.element),t.length>0){t=(t=t.replace(SY,"."+this._enterClassName)).replace(kY,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=i);0!==i&&(e=i<0?e.slice(e.length+i,e.length):e.slice(0,i)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class OY{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new OY(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&(this._previousKeyframe.easing=e);const r=n&&n.params||{},s=function(t,e){const i={};let n;return t.forEach(t=>{"*"===t?(n=n||Object.keys(e),n.forEach(t=>{i[t]="*"})):GU(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=eY(s[t],r,i);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],n=t._styleSummary[e];(!i||n.time>i.time)&&this._updateStyle(e,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((r,s)=>{const o=GU(r,!0);Object.keys(o).forEach(i=>{const n=o[i];"!"==n?t.add(i):"*"==n&&e.add(i)}),i||(o.offset=s/this.duration),n.push(o)});const r=t.size?iY(t.values()):[],s=e.size?iY(e.values()):[];if(i){const t=n[0],e=YU(t);t.offset=0,e.offset=1,n=[t,e]}return wY(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}}class AY extends OY{constructor(t,e,i,n,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=i+e,o=e/s,a=GU(t[0],!1);a.offset=0,r.push(a);const l=GU(t[0],!1);l.offset=MY(o),r.push(l);const h=t.length-1;for(let n=1;n<=h;n++){let o=GU(t[n],!1);o.offset=MY((e+o.offset*i)/s),r.push(o)}i=s,e=0,n="",t=r}return wY(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}}function MY(t,e=3){const i=Math.pow(10,e-1);return Math.round(t*i)/i}class RY{}class DY extends RY{normalizePropertyName(t,e){return rY(t)}normalizeStyleValue(t,e,i,n){let r="";const s=i.toString().trim();if(LY[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(`Please provide a CSS unit value for ${t}:${i}`)}return s+r}}const LY=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function IY(t,e,i,n,r,s,o,a,l,h,c,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:u,errors:d}}const PY={};class $Y{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return function(t,e,i,n,r){return t.some(t=>t(e,i,n,r))}(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){const n=this._stateStyles["*"],r=this._stateStyles[t],s=n?n.buildStyles(e,i):{};return r?r.buildStyles(e,i):s}build(t,e,i,n,r,s,o,a,l,h){const c=[],u=this.ast.options&&this.ast.options.params||PY,d=this.buildStyles(i,o&&o.params||PY,c),f=a&&a.params||PY,p=this.buildStyles(n,f,c),g=new Set,m=new Map,v=new Map,y="void"===n,b={params:Object.assign(Object.assign({},u),f)},w=h?[]:xY(t,e,this.ast.animation,r,s,d,p,b,l,c);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),c.length)return IY(e,this._triggerName,i,n,y,d,p,[],[],m,v,_,c);w.forEach(t=>{const i=t.element,n=OU(m,i,{});t.preStyleProps.forEach(t=>n[t]=!0);const r=OU(v,i,{});t.postStyleProps.forEach(t=>r[t]=!0),i!==e&&g.add(i)});const S=iY(g.values());return IY(e,this._triggerName,i,n,y,d,p,w,S,m,v,_)}}class FY{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const i={},n=YU(this.defaultParams);return Object.keys(t).forEach(e=>{const i=t[e];null!=i&&(n[e]=i)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=eY(s,n,e)),i[t]=s})}}),i}}class NY{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new FY(t.style,t.options&&t.options.params||{})}),BY(this.states,"true","1"),BY(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $Y(t,e,this.states))}),this.fallbackTransition=new $Y(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(r=>r.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function BY(t,e,i){t.hasOwnProperty(e)?t.hasOwnProperty(i)||(t[i]=t[e]):t.hasOwnProperty(i)&&(t[e]=t[i])}const jY=new _Y;class HY{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],n=pY(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=n}_buildPlayer(t,e,i){const n=t.element,r=xU(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const n=[],r=this._animations[t];let s;const o=new Map;if(r?(s=xY(this._driver,e,r,"ng-enter","ng-leave",{},{},i,jY,n),s.forEach(t=>{const e=OU(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),s=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(i=>{t[i]=this._driver.computeStyle(e,i,"*")})});const a=kU(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,n){const r=TU(e,"","","");return CU(this._getPlayer(t),i,r,n),()=>{}}command(t,e,i,n){if("register"==i)return void this.register(t,n[0]);if("create"==i)return void this.create(t,e,n[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const zY=[],WY={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class UY{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const e=YU(t);delete e.value,this.options=e}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(i=>{null==t[i]&&(t[i]=e[i])})}}}const YY=new UY("void");class GY{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,tG(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=i)&&"done"!=r)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var r;const s=OU(this._elementListeners,t,[]),o={name:e,phase:i,callback:n};s.push(o);const a=OU(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(tG(t,"ng-trigger"),tG(t,"ng-trigger-"+e),a[e]=YY),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,n=!0){const r=this._getTrigger(e),s=new KY(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(tG(t,"ng-trigger"),tG(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new UY(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=YY),"void"!==l.value&&a.value===l.value){if(!function(t,e){const i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){const n=i[r];if(!e.hasOwnProperty(n)||t[n]!==e[n])return!1}return!0}(a.params,l.params)){const e=[],i=r.matchStyles(a.value,a.params,e),n=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{QU(t,i),ZU(t,n)})}return}const h=OU(this._engine.playersByElement,t,[]);h.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),u=!1;if(!c){if(!n)return;c=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(tG(t,"ng-animate-queued"),s.onStart(()=>{eG(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const i=this._engine.playersByElement.get(t);if(i){let t=i.indexOf(s);t>=0&&i.splice(t,1)}}),this.players.push(s),h.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(t=>{if(t.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(t);i.size?i.forEach(i=>i.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,i,n){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const i=this.trigger(t,e,"void",n);i&&s.push(i)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&kU(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const i=new Set;e.forEach(e=>{const n=e.name;if(i.has(n))return;i.add(n);const r=this._triggers[n].fallbackTransition,s=this._engine.statesByElement.get(t)[n]||YY,o=new UY("void"),a=new KY(this.id,n,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){const e=i.players.length?i.playersByQueriedElement.get(t):[];if(e&&e.length)n=!0;else{let e=t;for(;e=e.parentNode;)if(i.statesByElement.get(e)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{const n=t.__ng_removed;n&&n!==WY||(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){tG(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const r=i.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==i.triggerName){const n=TU(r,i.triggerName,i.fromState.value,i.toState.value);n._data=t,CU(i.player,e.phase,n,e.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((t,e)=>{const i=t.transition.ast.depCount,n=e.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qY{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const i=new GY(t,e,this);return e.parentNode?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(i);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const t=Object.keys(i);for(let n=0;n<t.length;n++){const r=i[t[n]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,i,n){if(ZY(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!ZY(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const n=this._fetchNamespace(t);n&&n.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),tG(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),eG(t,"ng-animate-disabled"))}removeNode(t,e,i,n){if(ZY(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),i){const i=this.namespacesByHostElement.get(e);i&&i.id!==t&&i.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,i,n){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,n,r){return ZY(e)?this._fetchNamespace(t).listen(e,i,n,r):()=>{}}_buildInstruction(t,e,i,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kU(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=WY,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tG(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let t=0;t<i.length;t++)i[t]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?kU(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new _Y,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let i=0;i<e.length;i++)h.add(e[i])});const c=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=JY(u,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const i="ng-enter"+p++;f.set(e,i),t.forEach(t=>tG(t,i))});const g=[],m=new Set,v=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){const t=this.collectedLeaveElements[M],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):v.add(t))}const y=new Map,b=JY(u,Array.from(m));b.forEach((t,e)=>{const i="ng-leave"+p++;y.set(e,i),t.forEach(t=>tG(t,i))}),t.push(()=>{d.forEach((t,e)=>{const i=f.get(e);t.forEach(t=>eG(t,i))}),b.forEach((t,e)=>{const i=y.get(e);t.forEach(t=>eG(t,i))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(w.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const h=!c||!this.driver.containsElement(c,r),u=y.get(r),d=f.get(r),p=this._buildInstruction(t,i,d,u,h);if(!p.errors||!p.errors.length)return h||t.isFallbackTransition?(e.onStart(()=>QU(r,p.fromStyles)),e.onDestroy(()=>ZU(r,p.toStyles)),void n.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),i.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>OU(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const i=Object.keys(t);if(i.length){let t=a.get(e);t||a.set(e,t=new Set),i.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const i=Object.keys(t);let n=l.get(e);n||l.set(e,n=new Set),i.forEach(t=>n.add(t))}));_.push(p)});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,k=new Map;s.forEach(t=>{const e=t.element;i.has(e)&&(k.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),n.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{OU(S,e,[]).push(t),t.destroy()})});const x=g.filter(t=>nG(t,a,l)),C=new Map;XY(C,this.driver,v,l,"*").forEach(t=>{nG(t,a,l)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{XY(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=C.get(t),i=E.get(t);C.set(t,Object.assign(Object.assign({},e),i))});const T=[],O=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(i.has(e)){if(h.has(e))return s.onDestroy(()=>ZU(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let t=A;if(k.size>1){let i=e;const n=[];for(;i=i.parentNode;){const e=k.get(i);if(e){t=e;break}n.push(i)}n.forEach(e=>k.set(e,t))}const i=this._buildAnimation(s.namespaceId,o,S,r,E,C);if(s.setRealPlayer(i),t===A)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=kU(e)),n.push(s)}}else QU(e,o.fromStyles),s.onDestroy(()=>ZU(e,o.toStyles)),O.push(s),h.has(e)&&n.push(s)}),O.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const i=kU(e);t.setRealPlayer(i)}}),n.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let M=0;M<g.length;M++){const t=g[M],e=t.__ng_removed;if(eG(t,"ng-leave"),e&&e.hasAnimation)continue;let i=[];if(o.size){let e=o.get(t);e&&e.length&&i.push(...e);let n=this.driver.query(t,".ng-animating",!0);for(let t=0;t<n.length;t++){let e=o.get(n[t]);e&&e.length&&i.push(...e)}}const n=i.filter(t=>!t.destroyed);n.length?iG(this,t,n):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let i=!1;const n=e.__ng_removed;return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==n)&&s.push(e)})}}return(i||n)&&(s=s.filter(t=>!(i&&i!=t.namespaceId||n&&n!=t.triggerName))),s}_beforeAnimationBuild(t,e,i){const n=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==n,l=OU(i,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}QU(n,e.fromStyles)}_buildAnimation(t,e,i,n,r,s){const o=e.triggerName,a=e.element,l=[],h=new Set,c=new Set,u=e.timelines.map(e=>{const u=e.element;h.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new wU(e.duration,e.delay);const f=u!==a,p=function(t){const e=[];return function t(e,i){for(let n=0;n<e.length;n++){const r=e[n];r instanceof _U?t(r.players,i):i.push(r)}}(t,e),e}((i.get(u)||zY).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),g=r.get(u),m=s.get(u),v=xU(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,v,p);if(e.subTimeline&&n&&c.add(u),f){const e=new KY(t,o,u);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{OU(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,i){let n;if(t instanceof Map){if(n=t.get(e),n){if(n.length){const t=n.indexOf(i);n.splice(t,1)}0==n.length&&t.delete(e)}}else if(n=t[e],n){if(n.length){const t=n.indexOf(i);n.splice(t,1)}0==n.length&&delete t[e]}return n}(this.playersByQueriedElement,t.element,t))}),h.forEach(t=>tG(t,"ng-animating"));const d=kU(u);return d.onDestroy(()=>{h.forEach(t=>eG(t,"ng-animating")),ZU(a,e.toStyles)}),c.forEach(t=>{OU(n,t,[]).push(d)}),d}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new wU(t.duration,t.delay)}}class KY{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new wU,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>CU(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){OU(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ZY(t){return t&&1===t.nodeType}function QY(t,e){const i=t.style.display;return t.style.display=null!=e?e:"none",i}function XY(t,e,i,n,r){const s=[];i.forEach(t=>s.push(QY(t)));const o=[];n.forEach((i,n)=>{const s={};i.forEach(t=>{const i=s[t]=e.computeStyle(n,t,r);i&&0!=i.length||(n.__ng_removed=VY,o.push(n))}),t.set(n,s)});let a=0;return i.forEach(t=>QY(t,s[a++])),o}function JY(t,e){const i=new Map;if(t.forEach(t=>i.set(t,[])),0==e.length)return i;const n=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=i.has(o)?o:n.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&i.get(e).push(t)}),i}function tG(t,e){if(t.classList)t.classList.add(e);else{let i=t.$$classes;i||(i=t.$$classes={}),i[e]=!0}}function eG(t,e){if(t.classList)t.classList.remove(e);else{let i=t.$$classes;i&&delete i[e]}}function iG(t,e,i){kU(i).onDone(()=>t.processLeaveNode(e))}function nG(t,e,i){const n=i.get(t);if(!n)return!1;let r=e.get(t);return r?n.forEach(t=>r.add(t)):e.set(t,n),i.delete(t),!0}class rG{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qY(t,e,i),this._timelineEngine=new HY(t,e,i),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,i,n,r){const s=t+"-"+n;let o=this._triggerCache[s];if(!o){const t=[],e=pY(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new NY(t,e)}(n,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,n,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i,n){this._transitionEngine.removeNode(t,e,n||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if("@"==i.charAt(0)){const[t,r]=AU(i);this._timelineEngine.command(t,e,r,n)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,r){if("@"==i.charAt(0)){const[t,n]=AU(i);return this._timelineEngine.listen(t,e,n,r)}return this._transitionEngine.listen(t,e,i,n,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function sG(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=aG(e[0]),e.length>1&&(n=aG(e[e.length-1]))):e&&(i=aG(e)),i||n?new oG(t,i,n):null}let oG=(()=>{class t{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ZU(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ZU(this._element,this._initialStyles),this._endStyles&&(ZU(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(QU(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(QU(this._element,this._endStyles),this._endStyles=null),ZU(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function aG(t){let e=null;const i=Object.keys(t);for(let n=0;n<i.length;n++){const r=i[n];lG(r)&&(e=e||{},e[r]=t[r])}return e}function lG(t){return"display"===t||"position"===t}class hG{constructor(t,e,i,n,r,s,o){this._element=t,this._name=e,this._duration=i,this._delay=n,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const i=gG(t,"").trim();i.length&&(function(t,e){let i=0;for(let n=0;n<t.length;n++)","===t.charAt(n)&&i++}(i),e=`${i}, ${e}`),pG(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fG(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cG(this._element,this._name,"paused")}resume(){cG(this._element,this._name,"running")}setPosition(t){const e=uG(this._element,this._name);this._position=t*this._duration,pG(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fG(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const i=gG(t,"").split(","),n=dG(i,e);n>=0&&(i.splice(n,1),pG(t,"",i.join(",")))}(this._element,this._name))}}function cG(t,e,i){pG(t,"PlayState",i,uG(t,e))}function uG(t,e){const i=gG(t,"");return i.indexOf(",")>0?dG(i.split(","),e):dG([i],e)}function dG(t,e){for(let i=0;i<t.length;i++)if(t[i].indexOf(e)>=0)return i;return-1}function fG(t,e,i){i?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function pG(t,e,i,n){const r="animation"+e;if(null!=n){const e=t.style[r];if(e.length){const t=e.split(",");t[n]=i,i=t.join(",")}}t.style[r]=i}function gG(t,e){return t.style["animation"+e]}class mG{constructor(t,e,i,n,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=i,this._duration=n,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=n+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hG(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:lY(this.element,i))})}this.currentSnapshot=t}}class vG extends wU{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=jU(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class yG{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return $U(t)}matchesElement(t,e){return FU(t,e)}containsElement(t,e){return NU(t,e)}query(t,e,i){return BU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(t=>jU(t));let n=`@keyframes ${e} {\n`,r="";i.forEach(t=>{r=" ";const e=parseFloat(t.offset);n+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const i=t[e];switch(e){case"offset":return;case"easing":return void(i&&(n+=`${r}animation-timing-function: ${i};\n`));default:return void(n+=`${r}${e}: ${i};\n`)}}),n+=`${r}}\n`}),n+="}\n";const s=document.createElement("style");return s.innerHTML=n,s}animate(t,e,i,n,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof mG),l={};sY(i,n)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(i=>{"offset"!=i&&"easing"!=i&&(e[i]=t[i])})}),e}(e=oY(t,e,l));if(0==i)return new vG(t,h);const c=`gen_css_kf_${this._count++}`,u=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(u);const d=sG(t,e),f=new mG(t,e,c,i,n,r,h,d);return f.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class bG{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:lY(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class wG{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_G().toString()),this._cssKeyframesDriver=new yG}validateStyleProperty(t){return $U(t)}matchesElement(t,e){return FU(t,e)}containsElement(t,e){return NU(t,e)}query(t,e,i){return BU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,n,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,n,r,s);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(a.easing=r);const l={},h=s.filter(t=>t instanceof bG);sY(i,n)&&h.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=sG(t,e=oY(t,e=e.map(t=>GU(t,!1)),l));return new bG(t,e,a,c)}}function _G(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let SG=(()=>{class t extends dU{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Xt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?gU(t):t;return CG(this._renderer,null,e,"register",[i]),new kG(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Ft(To),Ft(Hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class kG extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xG(this._id,t,e||{},this._renderer)}}class xG{constructor(t,e,i,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return CG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function CG(t,e,i,n,r){return t.setProperty(e,`@@${i}:${n}`,r)}let EG=(()=>{class t{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(i);return t||(t=new TG("",i,this.engine),this._rendererCache.set(i,t)),t}const n=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(n,r,t,e.name,e)};return e.data.animation.forEach(s),new OG(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){t>=0&&t<this._microtaskId?this._zone.run(()=>e(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,i]=t;e(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Ft(To),Ft(rG),Ft(hl))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class TG{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class OG extends TG{constructor(t,e,i,n){super(e,i,n),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const n=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,i,t)})}return this.delegate.listen(t,e,i)}}let AG=(()=>{class t extends rG{constructor(t,e,i){super(t.body,e,i)}}return t.\u0275fac=function(e){return new(e||t)(Ft(Hl),Ft(zU),Ft(RY))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const MG=new Tt("AnimationModuleType"),RG=[{provide:zU,useFactory:function(){return"function"==typeof _G()?new wG:new yG}},{provide:MG,useValue:"BrowserAnimations"},{provide:dU,useClass:SG},{provide:RY,useFactory:function(){return new DY}},{provide:rG,useClass:AG},{provide:To,useFactory:function(t,e,i){return new EG(t,e,i)},deps:[Nh,rG,hl]}];let DG=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},providers:RG,imports:[Zh]}),t})();const LG=new Do("9.2.0"),IG=new Tt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let PG,$G=(()=>{class t{constructor(t,e,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Qi()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const i=e.createElement("div");i.classList.add("mat-theme-loaded-marker"),e.body.appendChild(i);const n=getComputedStyle(i);n&&"none"!==n.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(i)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&LG.full!==uU.full&&console.warn("The Angular Material version ("+LG.full+") does not match the Angular CDK version ("+uU.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)(Ft(hU),Ft(IG,8),Ft(Hl,8))},imports:[[tV],tV]}),t})();function FG(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=mW(t)}}}function NG(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const i=t||e;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function BG(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mW(t)}}}try{PG="undefined"!=typeof Intl}catch(V_){PG=!1}class jG{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HG={enterDuration:450,exitDuration:400},zG=QW({passive:!0});class WG{constructor(t,e,i,n){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||i||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))},n.isBrowser&&(this._containerElement=wW(i),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},HG),i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);const s=i.radius||function(t,e,i){const n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}(t,e,n),o=t-n.left,a=e-n.top,l=r.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${o-s}px`,h.style.top=`${a-s}px`,h.style.height=`${2*s}px`,h.style.width=`${2*s}px`,null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const c=new jG(this,h,i);return c.state=0,this._activeRipples.add(c),i.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,i.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,n=Object.assign(Object.assign({},HG),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},n.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=wW(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,i)=>{e.addEventListener(i,t,zG)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,zG)})}}const VG=new Tt("mat-ripple-global-options");let UG=(()=>{class t{constructor(t,e,i,n,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=n||{},this._rippleRenderer=new WG(this,e,t,i),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(hl),ks(KW),ks(VG,8),ks(MG,8))},t.\u0275dir=le({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Gs("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),YG=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},imports:[[$G,ZW],$G]}),t})();function GG(t,e){}class qG{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const KG={dialogContainer:fU("dialogContainer",[vU("void, exit",mU({opacity:0,transform:"scale(0.7)"})),vU("enter",mU({transform:"none"})),yU("* => enter",pU("150ms cubic-bezier(0, 0, 0.2, 1)",mU({transform:"none",opacity:1}))),yU("* => void, * => exit",pU("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",mU({opacity:0})))])};function ZG(){throw Error("Attempting to attach dialog content after content is already attached")}let QG=(()=>{class t extends hV{constructor(t,e,i,n,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=i,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new ba,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&ZG(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=n}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&ZG(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&ZG(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(rU),ks(Wr),ks(Hl,8),ks(qG))},t.\u0275cmp=ie({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var i;1&t&&Ra(dV,!0),2&t&&Ma(i=$a())&&(e._portalOutlet=i.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&$s("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(ws("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),io("@dialogContainer",e._state))},features:[ro],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&_s(0,GG,0,0,"ng-template",0)},directives:[dV],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[KG.dialogContainer]}}),t})(),XG=0;class JG{constructor(t,e,i=`mat-dialog-${XG++}`){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new c,this._afterClosed=new c,this._beforeClosed=new c,this._state=0,e._id=i,e._animationStateChanged.pipe(lc(t=>"done"===t.phaseName&&"enter"===t.toState),Ec(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(lc(t=>"done"===t.phaseName&&"exit"===t.toState),Ec(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(lc(t=>27===t.keyCode&&!this.disableClose&&!mV(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(lc(t=>"start"===t.phaseName),Ec(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const tq=new Tt("MatDialogData"),eq=new Tt("mat-dialog-default-options"),iq=new Tt("mat-dialog-scroll-strategy"),nq={provide:iq,deps:[zV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let rq=(()=>{class t{constructor(t,e,i,n,r,s,o){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new c,this._afterOpenedAtThisLevel=new c,this._ariaHiddenElements=new Map,this.afterAllClosed=oc(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe($c(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new qG)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const i=this._createOverlay(e),n=this._attachDialogContainer(i,e),r=this._attachDialogContent(t,n,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new CV({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const i=ss.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:qG,useValue:e}]}),n=new oV(QG,e.viewContainerRef,i,e.componentFactoryResolver);return t.attach(n).instance}_attachDialogContent(t,e,i,n){const r=new JG(i,e,n.id);if(n.hasBackdrop&&i.backdropClick().subscribe(()=>{r.disableClose||r.close()}),t instanceof Ko)e.attachTemplatePortal(new aV(t,null,{$implicit:n.data,dialogRef:r}));else{const i=this._createInjector(n,r,e),s=e.attachComponentPortal(new oV(t,n.viewContainerRef,i));r.componentInstance=s.instance}return r.updateSize(n.width,n.height).updatePosition(n.position),r}_createInjector(t,e,i){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:QG,useValue:i},{provide:tq,useValue:t.data},{provide:JG,useValue:e}];return!t.direction||n&&n.get(JW,null)||r.push({provide:JW,useValue:{value:t.direction,change:Qh()}}),ss.create({parent:n||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let n=e[i];n===t||"SCRIPT"===n.nodeName||"STYLE"===n.nodeName||n.hasAttribute("aria-live")||(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Ft(zV),Ft(ss),Ft(ih,8),Ft(eq,8),Ft(iq),Ft(t,12),Ft(DV))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),sq=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},providers:[rq,nq],imports:[[VV,gV,$G],$G]}),t})();function oq(t,e){1&t&&Ws(0)}const aq=["*"];function lq(t,e){}const hq=function(t){return{animationDuration:t}},cq=function(t,e){return{value:t,params:e}},uq=["tabBodyWrapper"],dq=["tabHeader"];function fq(t,e){}function pq(t,e){1&t&&_s(0,fq,0,0,"ng-template",9),2&t&&Cs("cdkPortalOutlet",js().$implicit.templateLabel)}function gq(t,e){1&t&&Xs(0),2&t&&Js(js().$implicit.textLabel)}function mq(t,e){if(1&t){const t=Ds();Ts(0,"div",6),Ps("click",(function(){Ne(t);const i=e.$implicit,n=e.index,r=js(),s=Ss(1);return r._handleClick(i,s,n)})),Ts(1,"div",7),_s(2,pq,1,1,"ng-template",8),_s(3,gq,1,1,"ng-template",8),Os(),Os()}if(2&t){const t=e.$implicit,i=e.index,n=js();Gs("mat-tab-label-active",n.selectedIndex==i),Cs("id",n._getTabLabelId(i))("disabled",t.disabled)("matRippleDisabled",t.disabled||n.disableRipple),ws("tabIndex",n._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),pn(2),Cs("ngIf",t.templateLabel),pn(1),Cs("ngIf",!t.templateLabel)}}function vq(t,e){if(1&t){const t=Ds();Ts(0,"mat-tab-body",10),Ps("_onCentered",(function(){return Ne(t),js()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return Ne(t),js()._setTabBodyWrapperHeight(e)})),Os()}if(2&t){const t=e.$implicit,i=e.index,n=js();Gs("mat-tab-body-active",n.selectedIndex==i),Cs("id",n._getTabContentId(i))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",n.animationDuration),ws("aria-labelledby",n._getTabLabelId(i))}}const yq=["tabListContainer"],bq=["tabList"],wq=["nextPaginator"],_q=["previousPaginator"],Sq=new Tt("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let kq=(()=>{class t{constructor(t,e,i,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=i,this._animationMode=n}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=e.left,i.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(hl),ks(Sq),ks(MG,8))},t.\u0275dir=le({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&Gs("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})(),xq=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(ks(Ko))},t.\u0275dir=le({type:t,selectors:[["","matTabContent",""]]}),t})(),Cq=(()=>{class t extends uV{}return t.\u0275fac=function(e){return Eq(e||t)},t.\u0275dir=le({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ro]}),t})();const Eq=Vi(Cq);class Tq{}const Oq=FG(Tq),Aq=new Tt("MAT_TAB_GROUP");let Mq=(()=>{class t extends Oq{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new c,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){t&&(this._templateLabel=t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new aV(this._explicitContent||this._implicitContent,this._viewContainerRef)}}return t.\u0275fac=function(e){return new(e||t)(ks(Qo),ks(Aq,8))},t.\u0275cmp=ie({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,i){var n,r,s,o;1&t&&(Ia(i,Cq,!0),r=i,s=xq,!0,o=Ko,Pa(Fe(),$e(),s,!0,o,!0,Be(),r)),2&t&&(Ma(n=$a())&&(e.templateLabel=n.first),Ma(n=$a())&&(e._explicitContent=n.first))},viewQuery:function(t,e){var i;1&t&&Ra(Ko,!0),2&t&&Ma(i=$a())&&(e._implicitContent=i.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[ro,co],ngContentSelectors:aq,decls:1,vars:0,template:function(t,e){1&t&&(zs(),_s(0,oq,1,0,"ng-template"))},encapsulation:2}),t})();const Rq={translateTab:fU("translateTab",[vU("center, void, left-origin-center, right-origin-center",mU({transform:"none"})),vU("left",mU({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),vU("right",mU({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),yU("* => left, * => right, left => center, right => center",pU("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),yU("void => left-origin-center",[mU({transform:"translate3d(-100%, 0, 0)"}),pU("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),yU("void => right-origin-center",[mU({transform:"translate3d(100%, 0, 0)"}),pU("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Dq=(()=>{class t extends dV{constructor(t,e,i,n){super(t,e,n),this._host=i,this._centeringSub=s.a.EMPTY,this._leavingSub=s.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe($c(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ks(xo),ks(Qo),ks(dt(()=>Iq)),ks(Hl))},t.\u0275dir=le({type:t,selectors:[["","matTabBodyHost",""]],features:[ro]}),t})(),Lq=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._dir=e,this._dirChangeSubscription=s.a.EMPTY,this._translateTabComplete=new c,this._onCentering=new ba,this._beforeCentering=new ba,this._afterLeavingCenter=new ba,this._onCentered=new ba(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),i.markForCheck()})),this._translateTabComplete.pipe(function(t,e){return e=>e.lift(new EW(t,void 0))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(JW,8),ks(Wr))},t.\u0275dir=le({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),Iq=(()=>{class t extends Lq{constructor(t,e,i){super(t,e,i)}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(JW,8),ks(Wr))},t.\u0275cmp=ie({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var i;1&t&&Da(fV,!0),2&t&&Ma(i=$a())&&(e._portalHost=i.first)},hostAttrs:[1,"mat-tab-body"],features:[ro],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){var i,n;1&t&&(Ts(0,"div",0,1),Ps("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),_s(2,lq,0,0,"ng-template",2),Os()),2&t&&Cs("@translateTab",function(t,e,i,n,r){return function(t,e,i,n,r,s,o){const a=e+i;return bs(t,a,r,s)?vs(t,a+2,o?n.call(o,r,s):n(r,s)):ga(t,a+2)}($e(),Ue(),t,e,i,n,r)}(3,cq,e._position,(1,i=hq,n=e.animationDuration,ma($e(),Ue(),1,i,n,void 0))))},directives:[Dq],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Rq.translateTab]}}),t})();const Pq=new Tt("MAT_TABS_CONFIG");let $q=0;class Fq{}class Nq{constructor(t){this._elementRef=t}}const Bq=NG(BG(Nq),"primary");let jq=(()=>{class t extends Bq{constructor(t,e,i,n){super(t),this._changeDetectorRef=e,this._animationMode=n,this._tabs=new _a,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=s.a.EMPTY,this._tabLabelSubscription=s.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new ba,this.focusChange=new ba,this.animationDone=new ba,this.selectedTabChange=new ba(!0),this._groupId=$q++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=mW(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=vW(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,i)=>e.isActive=i===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,i)=>{e.position=i-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe($c(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new Fq;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,i){t.disabled||(this.selectedIndex=e.focusIndex=i)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(Wr),ks(Pq,8),ks(MG,8))},t.\u0275dir=le({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[ro]}),t})(),Hq=(()=>{class t extends jq{constructor(t,e,i,n){super(t,e,i,n)}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(Wr),ks(Pq,8),ks(MG,8))},t.\u0275cmp=ie({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,i){var n;1&t&&Ia(i,Mq,!0),2&t&&Ma(n=$a())&&(e._allTabs=n)},viewQuery:function(t,e){var i;1&t&&(Da(uq,!0),Da(dq,!0)),2&t&&(Ma(i=$a())&&(e._tabBodyWrapper=i.first),Ma(i=$a())&&(e._tabHeader=i.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&Gs("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[_o([{provide:Aq,useExisting:t}]),ro],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(Ts(0,"mat-tab-header",0,1),Ps("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),_s(2,mq,4,14,"div",2),Os(),Ts(3,"div",3,4),_s(5,vq,1,8,"mat-tab-body",5),Os()),2&t&&(Cs("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),pn(2),Cs("ngForOf",e._tabs),pn(1),Gs("_mat-animation-noopable","NoopAnimations"===e._animationMode),pn(2),Cs("ngForOf",e._tabs))},directives:function(){return[qq,hh,Vq,UG,lU,uh,dV,Iq]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class zq{}const Wq=FG(zq);let Vq=(()=>{class t extends Wq{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(ks(Co))},t.\u0275dir=le({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(ws("aria-disabled",!!e.disabled),Gs("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[ro]}),t})();const Uq=QW({passive:!0});let Yq=(()=>{class t{constructor(t,e,i,n,r,s,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=i,this._dir=n,this._ngZone=r,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new c,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new c,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ba,this.indexFocused=new ba,r.runOutsideAngular(()=>{_W(t.nativeElement,"mouseleave").pipe(PW(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=vW(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){_W(this._previousPaginator.nativeElement,"touchstart",Uq).pipe(PW(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),_W(this._nextPaginator.nativeElement,"touchstart",Uq).pipe(PW(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Qh(null),e=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new JV(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),$(t,e,this._items.changes).pipe(PW(this._destroyed)).subscribe(()=>{i(),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(PW(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!mV(t))switch(t.keyCode){case 36:this._keyManager.setFirstItemActive(),t.preventDefault();break;case 35:this._keyManager.setLastItemActive(),t.preventDefault();break;case 13:case 32:this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t);break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,i=this._getLayoutDirection();e.scrollLeft="ltr"==i?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=n,o=s+r):(o=this._tabList.nativeElement.offsetWidth-n,s=o-r);const a=this.scrollDistance,l=this.scrollDistance+i;s<a?this.scrollDistance-=a-s+60:o>l&&(this.scrollDistance+=o-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),DW(650,100).pipe(PW($(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:i}=this._scrollHeader(t);(0===i||i>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(Wr),ks(iV),ks(JW,8),ks(hl),ks(KW),ks(MG,8))},t.\u0275dir=le({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),Gq=(()=>{class t extends Yq{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mW(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(Wr),ks(iV),ks(JW,8),ks(hl),ks(KW),ks(MG,8))},t.\u0275dir=le({type:t,inputs:{disableRipple:"disableRipple"},features:[ro]}),t})(),qq=(()=>{class t extends Gq{constructor(t,e,i,n,r,s,o){super(t,e,i,n,r,s,o)}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(Wr),ks(iV),ks(JW,8),ks(hl),ks(KW),ks(MG,8))},t.\u0275cmp=ie({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,i){var n;1&t&&Ia(i,Vq,!1),2&t&&Ma(n=$a())&&(e._items=n)},viewQuery:function(t,e){var i;1&t&&(Ra(kq,!0),Ra(yq,!0),Ra(bq,!0),Da(wq,!0),Da(_q,!0)),2&t&&(Ma(i=$a())&&(e._inkBar=i.first),Ma(i=$a())&&(e._tabListContainer=i.first),Ma(i=$a())&&(e._tabList=i.first),Ma(i=$a())&&(e._nextPaginator=i.first),Ma(i=$a())&&(e._previousPaginator=i.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&Gs("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ro],ngContentSelectors:aq,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(zs(),Ts(0,"div",0,1),Ps("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),As(2,"div",2),Os(),Ts(3,"div",3,4),Ps("keydown",(function(t){return e._handleKeydown(t)})),Ts(5,"div",5,6),Ps("cdkObserveContent",(function(){return e._onContentChanges()})),Ts(7,"div",7),Ws(8),Os(),As(9,"mat-ink-bar"),Os(),Os(),Ts(10,"div",8,9),Ps("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),As(12,"div",2),Os()),2&t&&(Gs("mat-tab-header-pagination-disabled",e._disableScrollBefore),Cs("matRippleDisabled",e._disableScrollBefore||e.disableRipple),pn(5),Gs("_mat-animation-noopable","NoopAnimations"===e._animationMode),pn(5),Gs("mat-tab-header-pagination-disabled",e._disableScrollAfter),Cs("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[UG,QV,kq],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),Kq=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},imports:[[wh,$G,gV,YG,XV,cU],$G]}),t})();function Zq(t,e){1&t&&(Ms(0),Xs(1," 0\n"),Rs())}function Qq(t,e){if(1&t&&(Ms(0),Xs(1),Rs()),2&t){const t=js(2);pn(1),to(" ",null==t.value?null:t.value.numerator," ")}}function Xq(t,e){if(1&t&&_s(0,Qq,2,1,"ng-container",0),2&t){const t=js(),e=Ss(4);Cs("ngIf","1"==(null==t.value?null:t.value.denominator))("ngIfElse",e)}}function Jq(t,e){if(1&t&&Xs(0),2&t){const t=js();eo(" ",null==t.value?null:t.value.numerator,"/",null==t.value?null:t.value.denominator,"\n")}}let tK=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ie({type:t,selectors:[["app-fraction"]],inputs:{value:"value"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["valutemp",""],["realfrac",""]],template:function(t,e){if(1&t&&(_s(0,Zq,2,0,"ng-container",0),_s(1,Xq,1,2,"ng-template",null,1,ja),_s(3,Jq,1,2,"ng-template",null,2,ja)),2&t){const t=Ss(2);Cs("ngIf","0"==(null==e.value?null:e.value.numerator))("ngIfElse",t)}},directives:[uh],styles:["[_nghost-%COMP%]{display:inline-grid;justify-content:center}"]}),t})();function eK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",10),Rs()),2&t){const t=e.$implicit;pn(1),Cs("value",t)}}function iK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",10),Rs()),2&t){const t=e.$implicit;pn(1),Cs("value",t)}}function nK(t,e){if(1&t&&(Ms(0),_s(1,iK,2,1,"ng-container",2),Rs()),2&t){const t=e.$implicit;pn(1),Cs("ngForOf",t)}}function rK(t,e){if(1&t&&(Ts(0,"span"),Xs(1),Os()),2&t){const t=e.$implicit;pn(1),to(" ",t," ")}}function sK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",10),Rs()),2&t){const t=e.$implicit;pn(1),Cs("value",t)}}function oK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",9),Rs()),2&t){const t=e.$implicit,i=e.last;pn(1),Gs("br",i),Cs("value",t)}}function aK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",9),Rs()),2&t){const t=e.$implicit,i=e.last;pn(1),Gs("br",i),Cs("value",t)}}function lK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",10),Rs()),2&t){const t=e.$implicit,i=e.last;pn(1),Gs("br",i),Cs("value",t)}}function hK(t,e){if(1&t&&(Ms(0),As(1,"app-fraction",10),Rs()),2&t){const t=e.$implicit,i=e.last;pn(1),Gs("br",i),Cs("value",t)}}function cK(t,e){if(1&t&&(Ms(0),_s(1,lK,2,3,"ng-container",2),_s(2,hK,2,3,"ng-container",2),Ms(3),As(4,"app-fraction",10),Rs(),Rs()),2&t){const t=e.$implicit,i=e.index,n=js();pn(1),Cs("ngForOf",t),pn(1),Cs("ngForOf",n.res.state.A[i]),pn(2),Cs("value",n.res.state.B[i])}}let uK=(()=>{class t{constructor({mat:t,res:e}){this.mat=t,this.res=e,console.log(t,e),this.columns$=Qh({"grid-template-columns":`repeat(${t.C.length}, auto)`}).pipe(GW(1)),this.tabloidStyle$=Qh({"grid-template-columns":`repeat(${e.state.C.length+e.state.certificate.length+1}, auto)`}).pipe(GW(1))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ks(tq))},t.\u0275cmp=ie({type:t,selectors:[["app-view-pl"]],decls:27,vars:17,consts:[["label","Subproblem"],[1,"C",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"restrictions"],[1,"A",3,"ngStyle"],[1,"X"],[1,"B"],["label","Results"],[1,"tabloid",3,"ngStyle"],[1,"bb",3,"value"],[3,"value"]],template:function(t,e){1&t&&(Ts(0,"mat-tab-group"),Ts(1,"mat-tab",0),Xs(2," max ("),Ts(3,"span",1),va(4,"async"),_s(5,eK,2,1,"ng-container",2),Os(),Xs(6,") X "),Ts(7,"div",3),Ts(8,"span"),Xs(9,"st:"),Os(),Ts(10,"div",4),va(11,"async"),_s(12,nK,2,1,"ng-container",2),Os(),Ts(13,"div",5),_s(14,rK,2,1,"span",2),Os(),Ts(15,"span"),Xs(16,"="),Os(),Ts(17,"div",6),_s(18,sK,2,1,"ng-container",2),Os(),Os(),Os(),Ts(19,"mat-tab",7),Ts(20,"div",8),va(21,"async"),_s(22,oK,2,3,"ng-container",2),_s(23,aK,2,3,"ng-container",2),Ms(24),As(25,"app-fraction",9),Rs(),_s(26,cK,5,3,"ng-container",2),Os(),Os(),Os()),2&t&&(pn(3),Cs("ngStyle",ya(4,11,e.columns$)),pn(2),Cs("ngForOf",e.mat.C),pn(5),Cs("ngStyle",ya(11,13,e.columns$)),pn(2),Cs("ngForOf",e.mat.A),pn(2),Cs("ngForOf",e.mat.vars),pn(4),Cs("ngForOf",e.mat.B),pn(2),Cs("ngStyle",ya(21,15,e.tabloidStyle$)),pn(2),Cs("ngForOf",e.res.state.certificate),pn(1),Cs("ngForOf",e.res.state.C),pn(2),Cs("value",e.res.state.v),pn(1),Cs("ngForOf",e.res.state.certificateMatrix))},directives:[Hq,Mq,ph,hh,tK],pipes:[bh],styles:[".A[_ngcontent-%COMP%], .B[_ngcontent-%COMP%], .X[_ngcontent-%COMP%]{border:1px solid #fff;border-top:none;border-bottom:none;border-radius:10px;margin:.5em;padding:.5em;text-align:center}.A[_ngcontent-%COMP%], .B[_ngcontent-%COMP%], .C[_ngcontent-%COMP%], .X[_ngcontent-%COMP%]{display:inline-grid;-moz-column-gap:.5em;column-gap:.5em}.restrictions[_ngcontent-%COMP%]{display:flex}.restrictions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.tabloid[_ngcontent-%COMP%]{display:grid}.bb[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.br[_ngcontent-%COMP%]{border-right:1px solid #fff}"]}),t})();const dK=["mat-button",""],fK=["*"],pK=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class gK{constructor(t){this._elementRef=t}}const mK=NG(FG(BG(gK)));let vK=(()=>{class t extends mK{constructor(t,e,i){super(t),this._focusMonitor=e,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const n of pK)this._hasHostAttributes(n)&&this._getHostElement().classList.add(n);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(ks(Co),ks(aU),ks(MG,8))},t.\u0275cmp=ie({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var i;1&t&&Da(UG,!0),2&t&&Ma(i=$a())&&(e.ripple=i.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(ws("disabled",e.disabled||null),Gs("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ro],attrs:dK,ngContentSelectors:fK,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(zs(),Ts(0,"span",0),Ws(1),Os(),As(2,"div",1),As(3,"div",2)),2&t&&(pn(2),Gs("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Cs("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[UG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),yK=(()=>{class t{}return t.\u0275mod=oe({type:t}),t.\u0275inj=tt({factory:function(e){return new(e||t)},imports:[[YG,$G],$G]}),t})();const bK=["editor"],wK=["graphDiv"];function _K(t,e){if(1&t&&(Ts(0,"div",12),Xs(1),Os()),2&t){const t=e.ngIf;pn(1),Js(t)}}function SK(t,e){if(1&t&&(Ms(0),Xs(1),Rs()),2&t){const t=js();pn(1),to(" (",t.optimal,") ")}}let kK=(()=>{class t{constructor(t){this.matDialog=t,this.nodes=new tN,this.edges=new tN,this.error=new Xh(""),this.results=new Map,this.subproblems=new Map,this.error$=this.error.asObservable(),this.optimalId=null,this.optimal=null}ngOnInit(){const t=this.inputEditor=Object(Pf.edit)(this.editor.nativeElement);t.setTheme("ace/theme/monokai"),t.getSession().setMode("ace/mode/progLin");const e=new Xh("");t.addEventListener("change",()=>{e.next(t.getValue())}),t.setValue("max (4a - b)\n    st:\n    7a - 2b <= 14\n    b <= 3\n    3a - 2b <= 3\n    a >= 0\n    b >= 0\n    "),t.clearSelection(),this.network=new Zz(this.graphDiv.nativeElement,{},{physics:!0,edges:{smooth:{enabled:!0,type:"continuous",forceDirection:"horizontal",roundness:.6},arrows:{to:!0},font:{color:"white",strokeColor:"black"}},nodes:{image:"assets/spinner.svg",shape:"circularImage",color:{background:"white"},font:{size:16}},layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed"}},interaction:{hover:!0}}),this.network.on("click",t=>{const e=t.nodes;if(1===e.length){const t=e[0],i=this.subproblems.get(t),n=this.results.get(t);this.matDialog.open(uK,{data:{mat:i,res:n}})}}),e.pipe(Dc(t=>function(t){try{const e=Object(sW.parse)(t),i=e.toFPI(),n=e.objective.getVars(),r=Object(iW.b)(i),s={node:"",value:Number.NEGATIVE_INFINITY};return Object(iW.a)(r).pipe(Dc(t=>function t(e,i,n,r,s,o){switch(s.type){case"ILIMITED":case"INFEASIBLE":return Qh({type:"subresult",id:o,res:s,fracIdx:-1,value:"max"===i?lW(s.value):lW(s.value).multiply(sW.NEG)});case"LIMITED":const a=s.solution.findIndex((t,e)=>r.has(s.vars[e])&&!function(t){return lW(t).denominator===aW}(t)),l=Number(s.value.numerator)/Number(s.value.denominator),h={type:"subresult",id:o,res:s,fracIdx:a,value:"max"===i?lW(s.value):lW(s.value).multiply(sW.NEG)};return-1!==a&&l>e.value?function(e,i,n,r,s,o,a){let l=BigInt(s.solution[a].numerator)/BigInt(s.solution[a].denominator);return"number"==typeof l&&(l=Math.floor(l)),$((()=>{const h=o+".1",c=s.vars[a]+" <= "+l,u=[...s.state.A.map(t=>[...t,fW]),[...s.state.C.map((t,e)=>e===a?pW:fW),pW]],d=[...s.state.B,dW(""+l,"1")],f=n.C.slice();for(;f.length<=s.state.C.length;)f.push(fW);const p={A:u,B:d,C:f,vars:[...s.vars,uW(s.vars)]};return Object(iW.a)(p).pipe(Dc(s=>t(e,i,n,r,s,h)),$c({type:"subproblem",id:h,mat:p,parentId:o,edgeLabel:c}))})(),(()=>{const h=o+".2",c=s.vars[a]+" >= "+(l+BigInt(1)),u=[...s.state.A.map(t=>[...t,fW]),[...s.state.C.map((t,e)=>e===a?pW:fW),gW]],d=[...s.state.B,dW(""+(l+BigInt(1)),"1")],f=n.C.slice();for(;f.length<=s.state.C.length;)f.push(fW);const p={A:u,B:d,C:f,vars:[...s.vars,uW(s.vars)]};return Object(iW.a)(p).pipe(Dc(s=>t(e,i,n,r,s,h)),$c({type:"subproblem",id:h,mat:p,parentId:o,edgeLabel:c}))})())}(e,i,n,r,s,o,a).pipe($c(h)):l>e.value?(e.node=o,e.value=l,Qh({type:"optimal",value:h.value,id:h.id},h)):Qh(h);default:return oW(s.type)}}(s,e.type,r,n,t,"1")),$c({type:"subproblem",id:"1",mat:r,parentId:void 0,edgeLabel:void 0}),$c({type:"start"}))}catch(e){return Qh(e instanceof sW.SyntaxError?{type:"parserError",annotations:[{column:e.location.start.column-1,row:e.location.start.line-1,text:e.message,type:"error"}]}:{type:"error",message:e.message})}}(t))).subscribe(e=>{switch(e.type){case"parserError":t.getSession().setAnnotations(e.annotations),this.error.next("");break;case"error":t.getSession().clearAnnotations(),this.error.next(e.message);break;case"start":this.optimal=null,this.optimalId=null,this.results=new Map,this.subproblems=new Map,t.getSession().clearAnnotations(),this.error.next(""),this.nodes=new tN,this.edges=new tN,this.network.setData({nodes:this.nodes,edges:this.edges}),setTimeout(()=>{const t=this.network.body.container.getBoundingClientRect();this.network.focus("1",{scale:1,locked:!0,offset:{x:0,y:83-t.height/2}})});break;case"subproblem":this.subproblems.set(e.id,e.mat),this.nodes.add({id:e.id,label:"Subproblem #"+e.id}),e.parentId&&this.edges.add({from:e.parentId,label:e.edgeLabel,to:e.id});break;case"subresult":this.results.set(e.id,e.res),this.nodes.update("ILIMITED"===e.res.type||"INFEASIBLE"===e.res.type?{id:e.id,label:"Subproblem #"+e.id+"\n"+e.res.type,shape:"circle"}:{id:e.id,label:"Subproblem #"+e.id+"\n"+(-1!==e.fracIdx?"fractional":"integer")+"\nvalue: "+e.value,shape:"circle",title:hW(e.res.solution,e.res.vars)});break;case"optimal":this.optimal=e.value,this.optimalId=e.id;break;default:oW(e)}})}ngOnDestroy(){this.network.destroy(),this.inputEditor.destroy(),this.branchAndBoundSubscription.unsubscribe()}fit(){this.network.fit()}focusOptimal(){this.optimalId&&this.network.focus(this.optimalId)}}return t.\u0275fac=function(e){return new(e||t)(ks(rq))},t.\u0275cmp=ie({type:t,selectors:[["app-root"]],viewQuery:function(t,e){var i;1&t&&(Ra(bK,!0),Ra(wK,!0)),2&t&&(Ma(i=$a())&&(e.editor=i.first),Ma(i=$a())&&(e.graphDiv=i.first))},decls:31,vars:5,consts:[["id","instructions"],["href","https://jeronimonunes.github.io/simplex-web/"],["id","fade-out"],["id","editor",1,"mat-elevation-z12"],["editor",""],["class","error",4,"ngIf"],["id","graph"],[2,"grid-area","graph"],["graphDiv",""],["mat-button","","mat-raised-button","","color","primary",3,"click"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"error"]],template:function(t,e){1&t&&(Ts(0,"header"),Ts(1,"h1"),Xs(2,"Branch and Bound"),Os(),Os(),Ts(3,"div",0),Ts(4,"p"),Xs(5,"This page aims to provide an easy to understand visualization of Branch and Bound algorithm"),Os(),Ts(6,"p"),Xs(7,"The linear programming will be calculated using the "),Ts(8,"a",1),Xs(9,"Simplex"),Os(),Xs(10," and then new restrictions are going to be added to make the result integer"),Os(),Ts(11,"p"),Xs(12,"All the calculations are done within your browser page, so, if you close the app while the calculations are running, you will loose the progress."),Os(),Ts(13,"p"),Xs(14,"Down below you may write your Linear Program, use the example as a basis to understand the sintax. Simple mathematical expressions like *, +, -, /, are going to be interpreted before running simplex. "),Os(),As(15,"div",2),Os(),Ts(16,"div",3),Ts(17,"h2"),Xs(18,"Input:"),Os(),As(19,"div",null,4),Os(),_s(21,_K,2,1,"div",5),va(22,"async"),Ts(23,"div",6),As(24,"div",7,8),Ts(26,"button",9),Ps("click",(function(){return e.fit()})),Xs(27,"Fit"),Os(),Ts(28,"button",10),Ps("click",(function(){return e.focusOptimal()})),Xs(29," Focus optimal "),_s(30,SK,2,1,"ng-container",11),Os(),Os()),2&t&&(pn(21),Cs("ngIf",ya(22,3,e.error$)),pn(7),Cs("disabled",!e.optimalId),pn(2),Cs("ngIf",e.optimal))},directives:[uh,vK],pipes:[bh],styles:['[_nghost-%COMP%]{display:grid;width:100vw;height:100vh;grid-template-columns:1fr 1fr;grid-template-rows:auto auto 1fr auto;grid-template-areas:"header        header" "instructions  graph" "editor        graph" "error         graph"}.error[_ngcontent-%COMP%]{grid-area:error;color:#d80418;background-color:#ffd1d6;position:relative;padding:.75rem 1.25rem;margin:1em 1em 1rem;border:3px solid #6f2121;border-radius:.4rem}#instructions[_ngcontent-%COMP%]{position:relative;grid-area:instructions;overflow:auto;padding:1em 1em 0}#editor[_ngcontent-%COMP%]{grid-area:editor;display:grid;grid-template-rows:auto 1fr}#editor[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-left:.5em;margin-bottom:0}#graph[_ngcontent-%COMP%]{grid-area:graph;display:grid;grid-template-areas:"graph graph" "button button";grid-template-rows:1fr auto;-moz-column-gap:1em;column-gap:1em}button[_ngcontent-%COMP%]{margin:calc(-1em - 36px) 1em 1em}header[_ngcontent-%COMP%]{grid-area:header;background-color:#3f51b5;display:flex;padding:1em}header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:0}@media (max-width:700px){#fade-out[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,transparent,#000);left:0;right:0;height:10vh;position:-webkit-sticky;position:sticky;margin:-1em;bottom:-2px}[_nghost-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto 20vh 1fr auto 2fr;grid-template-areas:"header" "instructions" "editor" "error" "graph"}}']}),t})(),xK=(()=>{class t{}return t.\u0275mod=oe({type:t,bootstrap:[kK]}),t.\u0275inj=tt({factory:function(e){return new(e||t)},providers:[],imports:[[Zh,yK,sq,Kq,If,DG]]}),t})();(function(){if(Zi)throw new Error("Cannot enable prod mode after platform setup.");Ki=!1})(),qh().bootstrapModule(xK).catch(t=>console.error(t))},zn8P:function(t,e){function i(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="zn8P"},zwtD:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i("LhP/"),r=i("K6c1"),s=i("V9eS"),o=i("MUAA"),a=i("82Dv");e.Smaller=class extends n.Restriction{constructor(t,e){super(),this.left=t,this.right=e}canonify(){let t=this.left.canonify();t instanceof r.Fraction?t=new s.CanonicalAddition(t,[]):t instanceof o.Variable&&(t=new s.CanonicalAddition(r.ZERO,[t]));let e=this.right.canonify();return e instanceof r.Fraction?e=new s.CanonicalAddition(e,[]):e instanceof o.Variable&&(e=new s.CanonicalAddition(r.ZERO,[e])),e.independent=e.independent.sub(t.independent),t.independent=r.ZERO,t.terms.push(...e.terms.map(t=>t.multiply(r.NEG))),e.terms=[],new a.CanonicalSmaller(t.terms.filter(t=>!t.factor.isZero()),e.independent)}getVars(t=new Set){return this.left.getVars(t),this.right.getVars(t),t}}}},[[0,0]]]);